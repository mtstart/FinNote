"use strict";(self.webpackChunkFinNote=self.webpackChunkFinNote||[]).push([[179],{9283:(gt,Se,B)=>{var a=B(5879);let j=null;function O(){return j}class le{}const re=new a.OlP("DocumentToken");let Ce=(()=>{var n;class e{historyGo(t){throw new Error("Not implemented")}}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(be)},providedIn:"platform"}),e})();const Re=new a.OlP("Location Initialized");let be=(()=>{var n;class e extends Ce{constructor(){super(),this._doc=(0,a.f3M)(re),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,s){this._history.pushState(t,r,s)}replaceState(t,r,s){this._history.replaceState(t,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),e})();function z(n,e){if(0==n.length)return e;if(0==e.length)return n;let i=0;return n.endsWith("/")&&i++,e.startsWith("/")&&i++,2==i?n+e.substring(1):1==i?n+e:n+"/"+e}function W(n){const e=n.match(/#|\?|$/),i=e&&e.index||n.length;return n.slice(0,i-("/"===n[i-1]?1:0))+n.slice(i)}function se(n){return n&&"?"!==n[0]?"?"+n:n}let Be=(()=>{var n;class e{historyGo(t){throw new Error("Not implemented")}}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(et)},providedIn:"root"}),e})();const Me=new a.OlP("appBaseHref");let et=(()=>{var n;class e extends Be{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return z(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+se(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,c){const h=this.prepareExternalUrl(s+se(c));this._platformLocation.pushState(t,r,h)}replaceState(t,r,s,c){const h=this.prepareExternalUrl(s+se(c));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(Ce),a.LFG(Me,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),Oe=(()=>{var n;class e extends Be{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=z(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,c){let h=this.prepareExternalUrl(s+se(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,s,c){let h=this.prepareExternalUrl(s+se(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(Ce),a.LFG(Me,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),e})(),Ke=(()=>{var n;class e{constructor(t){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function ie(n){if(new RegExp("^(https?:)?//").test(n)){const[,i]=n.split(/\/\/[^\/]+/);return i}return n}(W(ht(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+se(r))}normalize(t){return e.stripTrailingSlash(function vt(n,e){if(!n||!e.startsWith(n))return e;const i=e.substring(n.length);return""===i||["/",";","?","#"].includes(i[0])?i:e}(this._basePath,ht(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._locationStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+se(r)),s)}replaceState(t,r="",s=null){this._locationStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+se(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}}return(n=e).normalizeQueryParams=se,n.joinWithSlash=z,n.stripTrailingSlash=W,n.\u0275fac=function(t){return new(t||n)(a.LFG(Be))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Le(){return new Ke((0,a.LFG)(Be))}()},providedIn:"root"}),e})();function ht(n){return n.replace(/\/index.html$/,"")}var Ve=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Ve||{}),oe=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(oe||{}),ft=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(ft||{}),wt=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(wt||{});function _e(n,e){return fn((0,a.cg1)(n)[a.wAp.DateFormat],e)}function Ee(n,e){return fn((0,a.cg1)(n)[a.wAp.TimeFormat],e)}function he(n,e){return fn((0,a.cg1)(n)[a.wAp.DateTimeFormat],e)}function Te(n,e){const i=(0,a.cg1)(n),t=i[a.wAp.NumberSymbols][e];if(typeof t>"u"){if(e===wt.CurrencyDecimal)return i[a.wAp.NumberSymbols][wt.Decimal];if(e===wt.CurrencyGroup)return i[a.wAp.NumberSymbols][wt.Group]}return t}function Vt(n){if(!n[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function fn(n,e){for(let i=e;i>-1;i--)if(typeof n[i]<"u")return n[i];throw new Error("Locale data API: locale data undefined")}function ri(n){const[e,i]=n.split(":");return{hours:+e,minutes:+i}}const Wn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,rr={},Is=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var yt=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(yt||{}),Ut=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Ut||{}),Ft=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ft||{});function Qt(n,e,i,t){let r=function $(n){if(V(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,c=1]=n.split("-").map(h=>+h);return si(r,s-1,c)}const i=parseFloat(n);if(!isNaN(n-i))return new Date(i);let t;if(t=n.match(Wn))return function F(n){const e=new Date(0);let i=0,t=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(i=Number(n[9]+n[10]),t=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-i,h=Number(n[5]||0)-t,p=Number(n[6]||0),y=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,c,h,p,y),e}(t)}const e=new Date(n);if(!V(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=mr(i,e)||e;let h,c=[];for(;e;){if(h=Is.exec(e),!h){c.push(e);break}{c=c.concat(h.slice(1));const x=c.pop();if(!x)break;e=x}}let p=r.getTimezoneOffset();t&&(p=Pi(t,p),r=function q(n,e,i){const t=i?-1:1,r=n.getTimezoneOffset();return function Rr(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,t*(Pi(e,r)-r))}(r,t,!0));let y="";return c.forEach(x=>{const S=function ns(n){if(Fn[n])return Fn[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ht(Ft.Eras,oe.Abbreviated);break;case"GGGG":e=Ht(Ft.Eras,oe.Wide);break;case"GGGGG":e=Ht(Ft.Eras,oe.Narrow);break;case"y":e=hn(Ut.FullYear,1,0,!1,!0);break;case"yy":e=hn(Ut.FullYear,2,0,!0,!0);break;case"yyy":e=hn(Ut.FullYear,3,0,!1,!0);break;case"yyyy":e=hn(Ut.FullYear,4,0,!1,!0);break;case"Y":e=Gi(1);break;case"YY":e=Gi(2,!0);break;case"YYY":e=Gi(3);break;case"YYYY":e=Gi(4);break;case"M":case"L":e=hn(Ut.Month,1,1);break;case"MM":case"LL":e=hn(Ut.Month,2,1);break;case"MMM":e=Ht(Ft.Months,oe.Abbreviated);break;case"MMMM":e=Ht(Ft.Months,oe.Wide);break;case"MMMMM":e=Ht(Ft.Months,oe.Narrow);break;case"LLL":e=Ht(Ft.Months,oe.Abbreviated,Ve.Standalone);break;case"LLLL":e=Ht(Ft.Months,oe.Wide,Ve.Standalone);break;case"LLLLL":e=Ht(Ft.Months,oe.Narrow,Ve.Standalone);break;case"w":e=li(1);break;case"ww":e=li(2);break;case"W":e=li(1,!0);break;case"d":e=hn(Ut.Date,1);break;case"dd":e=hn(Ut.Date,2);break;case"c":case"cc":e=hn(Ut.Day,1);break;case"ccc":e=Ht(Ft.Days,oe.Abbreviated,Ve.Standalone);break;case"cccc":e=Ht(Ft.Days,oe.Wide,Ve.Standalone);break;case"ccccc":e=Ht(Ft.Days,oe.Narrow,Ve.Standalone);break;case"cccccc":e=Ht(Ft.Days,oe.Short,Ve.Standalone);break;case"E":case"EE":case"EEE":e=Ht(Ft.Days,oe.Abbreviated);break;case"EEEE":e=Ht(Ft.Days,oe.Wide);break;case"EEEEE":e=Ht(Ft.Days,oe.Narrow);break;case"EEEEEE":e=Ht(Ft.Days,oe.Short);break;case"a":case"aa":case"aaa":e=Ht(Ft.DayPeriods,oe.Abbreviated);break;case"aaaa":e=Ht(Ft.DayPeriods,oe.Wide);break;case"aaaaa":e=Ht(Ft.DayPeriods,oe.Narrow);break;case"b":case"bb":case"bbb":e=Ht(Ft.DayPeriods,oe.Abbreviated,Ve.Standalone,!0);break;case"bbbb":e=Ht(Ft.DayPeriods,oe.Wide,Ve.Standalone,!0);break;case"bbbbb":e=Ht(Ft.DayPeriods,oe.Narrow,Ve.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ht(Ft.DayPeriods,oe.Abbreviated,Ve.Format,!0);break;case"BBBB":e=Ht(Ft.DayPeriods,oe.Wide,Ve.Format,!0);break;case"BBBBB":e=Ht(Ft.DayPeriods,oe.Narrow,Ve.Format,!0);break;case"h":e=hn(Ut.Hours,1,-12);break;case"hh":e=hn(Ut.Hours,2,-12);break;case"H":e=hn(Ut.Hours,1);break;case"HH":e=hn(Ut.Hours,2);break;case"m":e=hn(Ut.Minutes,1);break;case"mm":e=hn(Ut.Minutes,2);break;case"s":e=hn(Ut.Seconds,1);break;case"ss":e=hn(Ut.Seconds,2);break;case"S":e=hn(Ut.FractionalSeconds,1);break;case"SS":e=hn(Ut.FractionalSeconds,2);break;case"SSS":e=hn(Ut.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=es(yt.Short);break;case"ZZZZZ":e=es(yt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=es(yt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=es(yt.Long);break;default:return null}return Fn[n]=e,e}(x);y+=S?S(r,i,p):"''"===x?"'":x.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),y}function si(n,e,i){const t=new Date(0);return t.setFullYear(n,e,i),t.setHours(0,0,0),t}function mr(n,e){const i=function mi(n){return(0,a.cg1)(n)[a.wAp.LocaleId]}(n);if(rr[i]=rr[i]||{},rr[i][e])return rr[i][e];let t="";switch(e){case"shortDate":t=_e(n,ft.Short);break;case"mediumDate":t=_e(n,ft.Medium);break;case"longDate":t=_e(n,ft.Long);break;case"fullDate":t=_e(n,ft.Full);break;case"shortTime":t=Ee(n,ft.Short);break;case"mediumTime":t=Ee(n,ft.Medium);break;case"longTime":t=Ee(n,ft.Long);break;case"fullTime":t=Ee(n,ft.Full);break;case"short":const r=mr(n,"shortTime"),s=mr(n,"shortDate");t=Wt(he(n,ft.Short),[r,s]);break;case"medium":const c=mr(n,"mediumTime"),h=mr(n,"mediumDate");t=Wt(he(n,ft.Medium),[c,h]);break;case"long":const p=mr(n,"longTime"),y=mr(n,"longDate");t=Wt(he(n,ft.Long),[p,y]);break;case"full":const x=mr(n,"fullTime"),S=mr(n,"fullDate");t=Wt(he(n,ft.Full),[x,S])}return t&&(rr[i][e]=t),t}function Wt(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(i,t){return null!=e&&t in e?e[t]:i})),n}function Jn(n,e,i="-",t,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=i));let c=String(n);for(;c.length<e;)c="0"+c;return t&&(c=c.slice(c.length-e)),s+c}function hn(n,e,i=0,t=!1,r=!1){return function(s,c){let h=function gr(n,e){switch(n){case Ut.FullYear:return e.getFullYear();case Ut.Month:return e.getMonth();case Ut.Date:return e.getDate();case Ut.Hours:return e.getHours();case Ut.Minutes:return e.getMinutes();case Ut.Seconds:return e.getSeconds();case Ut.FractionalSeconds:return e.getMilliseconds();case Ut.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((i>0||h>-i)&&(h+=i),n===Ut.Hours)0===h&&-12===i&&(h=12);else if(n===Ut.FractionalSeconds)return function Ss(n,e){return Jn(n,3).substring(0,e)}(h,e);const p=Te(c,wt.MinusSign);return Jn(h,e,p,t,r)}}function Ht(n,e,i=Ve.Format,t=!1){return function(r,s){return function Zn(n,e,i,t,r,s){switch(i){case Ft.Months:return function On(n,e,i){const t=(0,a.cg1)(n),s=fn([t[a.wAp.MonthsFormat],t[a.wAp.MonthsStandalone]],e);return fn(s,i)}(e,r,t)[n.getMonth()];case Ft.Days:return function Ds(n,e,i){const t=(0,a.cg1)(n),s=fn([t[a.wAp.DaysFormat],t[a.wAp.DaysStandalone]],e);return fn(s,i)}(e,r,t)[n.getDay()];case Ft.DayPeriods:const c=n.getHours(),h=n.getMinutes();if(s){const y=function mn(n){const e=(0,a.cg1)(n);return Vt(e),(e[a.wAp.ExtraData][2]||[]).map(t=>"string"==typeof t?ri(t):[ri(t[0]),ri(t[1])])}(e),x=function qn(n,e,i){const t=(0,a.cg1)(n);Vt(t);const s=fn([t[a.wAp.ExtraData][0],t[a.wAp.ExtraData][1]],e)||[];return fn(s,i)||[]}(e,r,t),S=y.findIndex(N=>{if(Array.isArray(N)){const[H,G]=N,Q=c>=H.hours&&h>=H.minutes,ee=c<G.hours||c===G.hours&&h<G.minutes;if(H.hours<G.hours){if(Q&&ee)return!0}else if(Q||ee)return!0}else if(N.hours===c&&N.minutes===h)return!0;return!1});if(-1!==S)return x[S]}return function ir(n,e,i){const t=(0,a.cg1)(n),s=fn([t[a.wAp.DayPeriodsFormat],t[a.wAp.DayPeriodsStandalone]],e);return fn(s,i)}(e,r,t)[c<12?0:1];case Ft.Eras:return function jr(n,e){return fn((0,a.cg1)(n)[a.wAp.Eras],e)}(e,t)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${i}`)}}(r,s,n,e,i,t)}}function es(n){return function(e,i,t){const r=-1*t,s=Te(i,wt.MinusSign),c=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case yt.Short:return(r>=0?"+":"")+Jn(c,2,s)+Jn(Math.abs(r%60),2,s);case yt.ShortGMT:return"GMT"+(r>=0?"+":"")+Jn(c,1,s);case yt.Long:return"GMT"+(r>=0?"+":"")+Jn(c,2,s)+":"+Jn(Math.abs(r%60),2,s);case yt.Extended:return 0===t?"Z":(r>=0?"+":"")+Jn(c,2,s)+":"+Jn(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const ts=0,$i=4;function ai(n){return si(n.getFullYear(),n.getMonth(),n.getDate()+($i-n.getDay()))}function li(n,e=!1){return function(i,t){let r;if(e){const s=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,c=i.getDate();r=1+Math.floor((c+s)/7)}else{const s=ai(i),c=function oi(n){const e=si(n,ts,1).getDay();return si(n,0,1+(e<=$i?$i:$i+7)-e)}(s.getFullYear()),h=s.getTime()-c.getTime();r=1+Math.round(h/6048e5)}return Jn(r,n,Te(t,wt.MinusSign))}}function Gi(n,e=!1){return function(i,t){return Jn(ai(i).getFullYear(),n,Te(t,wt.MinusSign),e)}}const Fn={};function Pi(n,e){n=n.replace(/:/g,"");const i=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(i)?e:i}function V(n){return n instanceof Date&&!isNaN(n.valueOf())}const Sa=/\s+/,Xc=[];let wo=(()=>{var n;class e{constructor(t,r,s,c){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=s,this._renderer=c,this.initialClasses=Xc,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Sa):Xc}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Sa):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const s=this.stateMap.get(t);void 0!==s?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],s=t[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Sa).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class sl{constructor(e,i,t,r){this.$implicit=e,this.ngForOf=i,this.index=t,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zr=(()=>{var n;class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,c,h)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new sl(s.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===c?void 0:c);else if(null!==c){const p=r.get(c);r.move(p,h),Kn(p,s)}});for(let s=0,c=r.length;s<c;s++){const p=r.get(s).context;p.index=s,p.count=c,p.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{Kn(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function Kn(n,e){n.context.$implicit=e.item}let Vn=(()=>{var n;class e{constructor(t,r){this._viewContainer=t,this._context=new eg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Td("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Td("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class eg{constructor(){this.$implicit=null,this.ngIf=null}}function Td(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(e)}'.`)}class _r{constructor(e,i){this._viewContainerRef=e,this._templateRef=i,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ys=(()=>{var n;class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const r of this._defaultViews)r.enforceState(t)}}}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),e})(),Co=(()=>{var n;class e{constructor(t,r,s){this.ngSwitch=s,s._addCase(),this._view=new _r(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Ys,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),e})(),Ad=(()=>{var n;class e{constructor(t,r,s){s._addDefault(new _r(t,r))}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Ys,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),e})();function yr(n,e){return new a.vHH(2100,!1)}class zl{createSubscription(e,i){return(0,a.rg0)(()=>e.subscribe({next:i,error:t=>{throw t}}))}dispose(e){(0,a.rg0)(()=>e.unsubscribe())}}class Wi{createSubscription(e,i){return e.then(i,t=>{throw t})}dispose(e){}}const $l=new Wi,tu=new zl;let Eo=(()=>{var n;class e{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,a.QGY)(t))return $l;if((0,a.F4k)(t))return tu;throw yr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO,16))},n.\u0275pipe=a.Yjl({name:"async",type:n,pure:!1,standalone:!0}),e})();const _i=new a.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Fi=new a.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Ks=(()=>{var n;class e{constructor(t,r,s){this.locale=t,this.defaultTimezone=r,this.defaultOptions=s}transform(t,r,s,c){if(null==t||""===t||t!=t)return null;try{return Qt(t,r??this.defaultOptions?.dateFormat??"mediumDate",c||this.locale,s??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(h){throw yr()}}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.soG,16),a.Y36(_i,24),a.Y36(Fi,24))},n.\u0275pipe=a.Yjl({name:"date",type:n,pure:!0,standalone:!0}),e})(),_n=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),e})();const Xs="browser";function Pr(n){return"server"===n}let or=(()=>{var n;class e{}return(n=e).\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new Io((0,a.LFG)(re),window)}),e})();class Io{constructor(e,i){this.document=e,this.window=i,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const i=function Wl(n,e){const i=n.getElementById(e)||n.getElementsByName(e)[0];if(i)return i;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const t=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=t.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(c)return c}r=t.nextNode()}}return null}(this.document,e);i&&(this.scrollToElement(i),i.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const i=e.getBoundingClientRect(),t=i.left+this.window.pageXOffset,r=i.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(t-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class nc extends le{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ic extends nc{static makeCurrent(){!function te(n){j||(j=n)}(new ic)}onAndCancel(e,i,t){return e.addEventListener(i,t),()=>{e.removeEventListener(i,t)}}dispatchEvent(e,i){e.dispatchEvent(i)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,i){return(i=i||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,i){return"window"===i?window:"document"===i?e:"body"===i?e.body:null}getBaseHref(e){const i=function gu(){return La=La||document.querySelector("base"),La?La.getAttribute("href"):null}();return null==i?null:function no(n){_u=_u||document.createElement("a"),_u.setAttribute("href",n);const e=_u.pathname;return"/"===e.charAt(0)?e:`/${e}`}(i)}resetBaseElement(){La=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ws(n,e){e=encodeURIComponent(e);for(const i of n.split(";")){const t=i.indexOf("="),[r,s]=-1==t?[i,""]:[i.slice(0,t),i.slice(t+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let _u,La=null,yu=(()=>{var n;class e{build(){return new XMLHttpRequest}}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),e})();const Dn=new a.OlP("EventManagerPlugins");let vu=(()=>{var n;class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(c=>c.supports(t)),!r)throw new a.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(Dn),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),e})();class rc{constructor(e){this._doc=e}}const Ui="ng-app-id";let bu=(()=>{var n;class e{constructor(t,r,s,c={}){this.doc=t,this.appId=r,this.nonce=s,this.platformId=c,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Pr(c),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(s=>s.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Ui}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(s=>{null!=s.textContent&&r.set(s.textContent,s)}),r}return null}changeUsageCount(t,r){const s=this.styleRef;if(s.has(t)){const c=s.get(t);return c.usage+=r,c.usage}return s.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const s=this.styleNodesInDOM,c=s?.get(r);if(c?.parentNode===t)return s.delete(r),c.removeAttribute(Ui),c;{const h=this.doc.createElement("style");return this.nonce&&h.setAttribute("nonce",this.nonce),h.textContent=r,this.platformIsServer&&h.setAttribute(Ui,this.appId),h}}addStyleToHost(t,r){const s=this.getStyleElement(t,r);t.appendChild(s);const c=this.styleRef,h=c.get(r)?.elements;h?h.push(s):c.set(r,{elements:[s],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(re),a.LFG(a.AFp),a.LFG(a.Ojb,8),a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),e})();const Ba={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ki=/%COMP%/g,Jo=new a.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function dl(n,e){return e.map(i=>i.replace(Ki,n))}let To=(()=>{var n;class e{constructor(t,r,s,c,h,p,y,x=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=c,this.doc=h,this.platformId=p,this.ngZone=y,this.nonce=x,this.rendererByCompId=new Map,this.platformIsServer=Pr(p),this.defaultRenderer=new hl(t,h,y,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===a.ifc.ShadowDom&&(r={...r,encapsulation:a.ifc.Emulated});const s=this.getOrCreateRenderer(t,r);return s instanceof xu?s.applyToHost(t):s instanceof oc&&s.applyStyles(),s}getOrCreateRenderer(t,r){const s=this.rendererByCompId;let c=s.get(r.id);if(!c){const h=this.doc,p=this.ngZone,y=this.eventManager,x=this.sharedStylesHost,S=this.removeStylesOnCompDestroy,N=this.platformIsServer;switch(r.encapsulation){case a.ifc.Emulated:c=new xu(y,x,r,this.appId,S,h,p,N);break;case a.ifc.ShadowDom:return new rg(y,x,t,r,h,p,this.nonce,N);default:c=new oc(y,x,r,S,h,p,N)}s.set(r.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(vu),a.LFG(bu),a.LFG(a.AFp),a.LFG(Jo),a.LFG(re),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(a.Ojb))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),e})();class hl{constructor(e,i,t,r){this.eventManager=e,this.doc=i,this.ngZone=t,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,i){return i?this.doc.createElementNS(Ba[i]||i,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,i){(Eu(e)?e.content:e).appendChild(i)}insertBefore(e,i,t){e&&(Eu(e)?e.content:e).insertBefore(i,t)}removeChild(e,i){e&&e.removeChild(i)}selectRootElement(e,i){let t="string"==typeof e?this.doc.querySelector(e):e;if(!t)throw new a.vHH(-5104,!1);return i||(t.textContent=""),t}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,i,t,r){if(r){i=r+":"+i;const s=Ba[r];s?e.setAttributeNS(s,i,t):e.setAttribute(i,t)}else e.setAttribute(i,t)}removeAttribute(e,i,t){if(t){const r=Ba[t];r?e.removeAttributeNS(r,i):e.removeAttribute(`${t}:${i}`)}else e.removeAttribute(i)}addClass(e,i){e.classList.add(i)}removeClass(e,i){e.classList.remove(i)}setStyle(e,i,t,r){r&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(i,t,r&a.JOm.Important?"important":""):e.style[i]=t}removeStyle(e,i,t){t&a.JOm.DashCase?e.style.removeProperty(i):e.style[i]=""}setProperty(e,i,t){e[i]=t}setValue(e,i){e.nodeValue=i}listen(e,i,t){if("string"==typeof e&&!(e=O().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${i}`);return this.eventManager.addEventListener(e,i,this.decoratePreventDefault(t))}decoratePreventDefault(e){return i=>{if("__ngUnwrap__"===i)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(i)):e(i))&&i.preventDefault()}}}function Eu(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class rg extends hl{constructor(e,i,t,r,s,c,h,p){super(e,s,c,p),this.sharedStylesHost=i,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const y=dl(r.id,r.styles);for(const x of y){const S=document.createElement("style");h&&S.setAttribute("nonce",h),S.textContent=x,this.shadowRoot.appendChild(S)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,i){return super.appendChild(this.nodeOrShadowRoot(e),i)}insertBefore(e,i,t){return super.insertBefore(this.nodeOrShadowRoot(e),i,t)}removeChild(e,i){return super.removeChild(this.nodeOrShadowRoot(e),i)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class oc extends hl{constructor(e,i,t,r,s,c,h,p){super(e,s,c,h),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=p?dl(p,t.styles):t.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class xu extends oc{constructor(e,i,t,r,s,c,h,p){const y=r+"-"+t.id;super(e,i,t,s,c,h,p,y),this.contentAttr=function sc(n){return"_ngcontent-%COMP%".replace(Ki,n)}(y),this.hostAttr=function Gf(n){return"_nghost-%COMP%".replace(Ki,n)}(y)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,i){const t=super.createElement(e,i);return super.setAttribute(t,this.contentAttr,""),t}}let $d=(()=>{var n;class e extends rc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),e})();const ac=["alt","control","meta","shift"],Ao={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sg={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let og=(()=>{var n;class e extends rc{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,s){const c=e.parseEventName(r),h=e.eventCallback(c.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,c.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const c=e._normalizeKey(r.pop());let h="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),h="code."),ac.forEach(x=>{const S=r.indexOf(x);S>-1&&(r.splice(S,1),h+=x+".")}),h+=c,0!=r.length||0===c.length)return null;const y={};return y.domEventName=s,y.fullKey=h,y}static matchEventFullKeyCode(t,r){let s=Ao[t.key]||t.key,c="";return r.indexOf("code.")>-1&&(s=t.code,c="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),ac.forEach(h=>{h!==s&&(0,sg[h])(t)&&(c+=h+".")}),c+=s,c===r)}static eventCallback(t,r,s){return c=>{e.matchEventFullKeyCode(c,t)&&s.runGuarded(()=>r(c))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),e})();const cc=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:Xs},{provide:a.g9A,useValue:function en(){ic.makeCurrent()},multi:!0},{provide:re,useFactory:function lc(){return(0,a.RDi)(document),document},deps:[]}]),Hn=new a.OlP(""),os=[{provide:a.rWj,useClass:class jd{addToWindow(e){a.dqk.getAngularTestability=(t,r=!0)=>{const s=e.findTestabilityInTree(t,r);if(null==s)throw new a.vHH(5103,!1);return s},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(t=>{const r=a.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const h=function(p){c=c||p,s--,0==s&&t(c)};r.forEach(p=>{p.whenStable(h)})})}findTestabilityInTree(e,i,t){return null==i?null:e.getTestability(i)??(t?O().isShadowRoot(i)?this.findTestabilityInTree(e,i.host,!0):this.findTestabilityInTree(e,i.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],ti=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function Gd(){return new a.qLn},deps:[]},{provide:Dn,useClass:$d,multi:!0,deps:[re,a.R0b,a.Lbi]},{provide:Dn,useClass:og,multi:!0,deps:[re]},To,bu,vu,{provide:a.FYo,useExisting:To},{provide:class rs{},useClass:yu,deps:[]},[]];let pl=(()=>{var n;class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:a.AFp,useValue:t.appId}]}}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(Hn,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[...ti,...os],imports:[_n,a.hGG]}),e})(),as=(()=>{var n;class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Hi(){return new as((0,a.LFG)(re))}(),r},providedIn:"root"}),e})();typeof window<"u"&&window;let Ua=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):a.LFG(hc),r},providedIn:"root"}),e})(),hc=(()=>{var n;class e extends Ua{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case a.q3G.NONE:return r;case a.q3G.HTML:return(0,a.qzn)(r,"HTML")?(0,a.z3N)(r):(0,a.EiD)(this._doc,String(r)).toString();case a.q3G.STYLE:return(0,a.qzn)(r,"Style")?(0,a.z3N)(r):r;case a.q3G.SCRIPT:if((0,a.qzn)(r,"Script"))return(0,a.z3N)(r);throw new a.vHH(5200,!1);case a.q3G.URL:return(0,a.qzn)(r,"URL")?(0,a.z3N)(r):(0,a.mCW)(String(r));case a.q3G.RESOURCE_URL:if((0,a.qzn)(r,"ResourceURL"))return(0,a.z3N)(r);throw new a.vHH(5201,!1);default:throw new a.vHH(5202,!1)}}bypassSecurityTrustHtml(t){return(0,a.JVY)(t)}bypassSecurityTrustStyle(t){return(0,a.L6k)(t)}bypassSecurityTrustScript(t){return(0,a.eBb)(t)}bypassSecurityTrustUrl(t){return(0,a.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,a.pB0)(t)}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function dc(n){return new hc(n.get(re))}(a.LFG(a.zs3)),r},providedIn:"root"}),e})();function ta(n){return(ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ue(n,e,i){return(e=function pc(n){var e=function fc(n,e){if("object"!==ta(n)||null===n)return n;var i=n[Symbol.toPrimitive];if(void 0!==i){var t=i.call(n,e||"default");if("object"!==ta(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===ta(e)?e:String(e)}(e))in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}var An=B(5592),Cr=B(4674),wn=B(2459),ut=B(2096),lr=B(5619);const{isArray:Ha}=Array,{getPrototypeOf:eh,prototype:io,keys:Ro}=Object;function cr(n){if(1===n.length){const e=n[0];if(Ha(e))return{args:e,keys:null};if(function th(n){return n&&"object"==typeof n&&eh(n)===io}(e)){const i=Ro(e);return{args:i.map(t=>e[t]),keys:i}}}return{args:n,keys:null}}var mc=B(2737),dt=B(7398);const{isArray:nh}=Array;function Gr(n){return(0,dt.U)(e=>function ih(n,e){return nh(e)?n(...e):n(e)}(n,e))}var Oo=B(9940);function cg(n,e){return n.reduce((i,t,r)=>(i[t]=e[r],i),{})}var Qn=B(8251),_l=B(7103);function yl(...n){const e=(0,Oo.yG)(n),i=(0,Oo.jO)(n),{args:t,keys:r}=cr(n);if(0===t.length)return(0,wn.D)([],e);const s=new An.y(function na(n,e,i=mc.y){return t=>{gc(e,()=>{const{length:r}=n,s=new Array(r);let c=r,h=r;for(let p=0;p<r;p++)gc(e,()=>{const y=(0,wn.D)(n[p],e);let x=!1;y.subscribe((0,Qn.x)(t,S=>{s[p]=S,x||(x=!0,h--),h||t.next(i(s.slice()))},()=>{--c||t.complete()}))},t)},t)}}(t,e,r?c=>cg(r,c):mc.y));return i?s.pipe(Gr(i)):s}function gc(n,e,i){n?(0,_l.f)(i,n,e):e()}const rh=(0,B(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var vl=B(7537);function za(...n){return function ja(){return(0,vl.J)(1)}()((0,wn.D)(n,(0,Oo.yG)(n)))}var Xi=B(4829);function _c(n){return new An.y(e=>{(0,Xi.Xf)(n()).subscribe(e)})}var yc=B(8407);function ro(n,e){const i=(0,Cr.m)(n)?n:()=>n,t=r=>r.error(i());return new An.y(e?r=>e.schedule(t,0,r):t)}var Ms=B(6232),Ln=B(7394),ui=B(9360);function bl(){return(0,ui.e)((n,e)=>{let i=null;n._refCount++;const t=(0,Qn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(i=null);const r=n._connection,s=i;i=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(t),t.closed||(i=n.connect())})}class ku extends An.y{constructor(e,i){super(),this.source=e,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,(0,ui.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ln.w0;const i=this.getSubject();e.add(this.source.subscribe((0,Qn.x)(i,void 0,()=>{this._teardown(),i.complete()},t=>{this._teardown(),i.error(t)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ln.w0.EMPTY)}return e}refCount(){return bl()(this)}}var Xe=B(8645),Pn=B(4664);function Cn(n){return n<=0?()=>Ms.E:(0,ui.e)((e,i)=>{let t=0;e.subscribe((0,Qn.x)(i,r=>{++t<=n&&(i.next(r),n<=t&&i.complete())}))})}function ni(...n){const e=(0,Oo.yG)(n);return(0,ui.e)((i,t)=>{(e?za(n,i,e):za(n,i)).subscribe(t)})}function tn(n,e){return(0,ui.e)((i,t)=>{let r=0;i.subscribe((0,Qn.x)(t,s=>n.call(e,s,r++)&&t.next(s)))})}var zn=B(1631);function ia(n){return(0,ui.e)((e,i)=>{let t=!1;e.subscribe((0,Qn.x)(i,r=>{t=!0,i.next(r)},()=>{t||i.next(n),i.complete()}))})}function wl(n=Cl){return(0,ui.e)((e,i)=>{let t=!1;e.subscribe((0,Qn.x)(i,r=>{t=!0,i.next(r)},()=>t?i.complete():i.error(n())))})}function Cl(){return new rh}function Er(n,e){const i=arguments.length>=2;return t=>t.pipe(n?tn((r,s)=>n(r,s,t)):mc.y,Cn(1),i?ia(e):wl(()=>new rh))}function Po(n,e){return(0,Cr.m)(e)?(0,zn.z)(n,e,1):(0,zn.z)(n,1)}var nn=B(9397);function ls(n){return(0,ui.e)((e,i)=>{let s,t=null,r=!1;t=e.subscribe((0,Qn.x)(i,void 0,void 0,c=>{s=(0,Xi.Xf)(n(c,ls(n)(e))),t?(t.unsubscribe(),t=null,s.subscribe(i)):r=!0})),r&&(t.unsubscribe(),t=null,s.subscribe(i))})}function so(n,e){return(0,ui.e)(function El(n,e,i,t,r){return(s,c)=>{let h=i,p=e,y=0;s.subscribe((0,Qn.x)(c,x=>{const S=y++;p=h?n(p,x,S):(h=!0,x),t&&c.next(p)},r&&(()=>{h&&c.next(p),c.complete()})))}}(n,e,arguments.length>=2,!0))}function xl(n){return n<=0?()=>Ms.E:(0,ui.e)((e,i)=>{let t=[];e.subscribe((0,Qn.x)(i,r=>{t.push(r),n<t.length&&t.shift()},()=>{for(const r of t)i.next(r);i.complete()},void 0,()=>{t=null}))})}function ks(n){return(0,dt.U)(()=>n)}function No(n){return(0,ui.e)((e,i)=>{try{e.subscribe(i)}finally{i.add(n)}})}const Lt="primary",oo=Symbol("RouteTitle");class vc{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const i=this.params[e];return Array.isArray(i)?i[0]:i}return null}getAll(e){if(this.has(e)){const i=this.params[e];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function Fo(n){return new vc(n)}function cs(n,e,i){const t=i.path.split("/");if(t.length>n.length||"full"===i.pathMatch&&(e.hasChildren()||t.length<n.length))return null;const r={};for(let s=0;s<t.length;s++){const c=t[s],h=n[s];if(c.startsWith(":"))r[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,t.length),posParams:r}}function Rs(n,e){const i=n?Object.keys(n):void 0,t=e?Object.keys(e):void 0;if(!i||!t||i.length!=t.length)return!1;let r;for(let s=0;s<i.length;s++)if(r=i[s],!bc(n[r],e[r]))return!1;return!0}function bc(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const i=[...n].sort(),t=[...e].sort();return i.every((r,s)=>t[s]===r)}return n===e}function ra(n){return n.length>0?n[n.length-1]:null}function sa(n){return function ko(n){return!!n&&(n instanceof An.y||(0,Cr.m)(n.lift)&&(0,Cr.m)(n.subscribe))}(n)?n:(0,a.QGY)(n)?(0,wn.D)(Promise.resolve(n)):(0,ut.of)(n)}const $a={exact:function oh(n,e,i){if(!fe(n.segments,e.segments)||!I(n.segments,e.segments,i)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const t in e.children)if(!n.children[t]||!oh(n.children[t],e.children[t],i))return!1;return!0},subset:Xn},ug={exact:function oa(n,e){return Rs(n,e)},subset:function Wf(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(i=>bc(n[i],e[i]))},ignored:()=>!0};function dg(n,e,i){return $a[i.paths](n.root,e.root,i.matrixParams)&&ug[i.queryParams](n.queryParams,e.queryParams)&&!("exact"===i.fragment&&n.fragment!==e.fragment)}function Xn(n,e,i){return C(n,e,e.segments,i)}function C(n,e,i,t){if(n.segments.length>i.length){const r=n.segments.slice(0,i.length);return!(!fe(r,i)||e.hasChildren()||!I(r,i,t))}if(n.segments.length===i.length){if(!fe(n.segments,i)||!I(n.segments,i,t))return!1;for(const r in e.children)if(!n.children[r]||!Xn(n.children[r],e.children[r],t))return!1;return!0}{const r=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!(fe(n.segments,r)&&I(n.segments,r,t)&&n.children[Lt])&&C(n.children[Lt],e,s,t)}}function I(n,e,i){return e.every((t,r)=>ug[i](n[r].parameters,t.parameters))}class A{constructor(e=new L([],{}),i={},t=null){this.root=e,this.queryParams=i,this.fragment=t}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fo(this.queryParams)),this._queryParamMap}toString(){return Bt.serialize(this)}}class L{constructor(e,i){this.segments=e,this.children=i,this.parent=null,Object.values(i).forEach(t=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mt(this)}}class Z{constructor(e,i){this.path=e,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=Fo(this.parameters)),this._parameterMap}toString(){return Ru(this)}}function fe(n,e){return n.length===e.length&&n.every((i,t)=>i.path===e[t].path)}let qe=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new pt},providedIn:"root"}),e})();class pt{parse(e){const i=new pg(e);return new A(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(e){const i=`/${yn(e.root,!0)}`,t=function Zf(n){const e=Object.keys(n).map(i=>{const t=n[i];return Array.isArray(t)?t.map(r=>`${xr(i)}=${xr(r)}`).join("&"):`${xr(i)}=${xr(t)}`}).filter(i=>!!i);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${i}${t}${"string"==typeof e.fragment?`#${function ah(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Bt=new pt;function Mt(n){return n.segments.map(e=>Ru(e)).join("/")}function yn(n,e){if(!n.hasChildren())return Mt(n);if(e){const i=n.children[Lt]?yn(n.children[Lt],!1):"",t=[];return Object.entries(n.children).forEach(([r,s])=>{r!==Lt&&t.push(`${r}:${yn(s,!1)}`)}),t.length>0?`${i}(${t.join("//")})`:i}{const i=function Je(n,e){let i=[];return Object.entries(n.children).forEach(([t,r])=>{t===Lt&&(i=i.concat(e(r,t)))}),Object.entries(n.children).forEach(([t,r])=>{t!==Lt&&(i=i.concat(e(r,t)))}),i}(n,(t,r)=>r===Lt?[yn(n.children[Lt],!1)]:[`${r}:${yn(t,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Lt]?`${Mt(n)}/${i[0]}`:`${Mt(n)}/(${i.join("//")})`}}function di(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xr(n){return di(n).replace(/%3B/gi,";")}function ao(n){return di(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dr(n){return decodeURIComponent(n)}function us(n){return Dr(n.replace(/\+/g,"%20"))}function Ru(n){return`${ao(n.path)}${function _C(n){return Object.keys(n).map(e=>`;${ao(e)}=${ao(n[e])}`).join("")}(n.parameters)}`}const hg=/^[^\/()?;#]+/;function Ga(n){const e=n.match(hg);return e?e[0]:""}const Ou=/^[^\/()?;=#]+/,lh=/^[^=?&#]+/,ch=/^[^&#]+/;class pg{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new L([],{}):new L([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(e.length>0||Object.keys(i).length>0)&&(t[Lt]=new L(e,i)),t}parseSegment(){const e=Ga(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(e),new Z(Dr(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const i=function fg(n){const e=n.match(Ou);return e?e[0]:""}(this.remaining);if(!i)return;this.capture(i);let t="";if(this.consumeOptional("=")){const r=Ga(this.remaining);r&&(t=r,this.capture(t))}e[Dr(i)]=Dr(t)}parseQueryParam(e){const i=function ov(n){const e=n.match(lh);return e?e[0]:""}(this.remaining);if(!i)return;this.capture(i);let t="";if(this.consumeOptional("=")){const c=function av(n){const e=n.match(ch);return e?e[0]:""}(this.remaining);c&&(t=c,this.capture(t))}const r=us(i),s=us(t);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(s)}else e[r]=s}parseParens(e){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const t=Ga(this.remaining),r=this.remaining[t.length];if("/"!==r&&")"!==r&&";"!==r)throw new a.vHH(4010,!1);let s;t.indexOf(":")>-1?(s=t.slice(0,t.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Lt);const c=this.parseChildren();i[s]=1===Object.keys(c).length?c[Lt]:new L([],c),this.consumeOptional("//")}return i}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new a.vHH(4011,!1)}}function Pu(n){return n.segments.length>0?new L([],{[Lt]:n}):n}function Nu(n){const e={};for(const t of Object.keys(n.children)){const s=Nu(n.children[t]);if(t===Lt&&0===s.segments.length&&s.hasChildren())for(const[c,h]of Object.entries(s.children))e[c]=h;else(s.segments.length>0||s.hasChildren())&&(e[t]=s)}return function mg(n){if(1===n.numberOfChildren&&n.children[Lt]){const e=n.children[Lt];return new L(n.segments.concat(e.segments),e.children)}return n}(new L(n.segments,e))}function w(n){return n instanceof A}function _(n){let e;const r=Pu(function i(s){const c={};for(const p of s.children){const y=i(p);c[p.outlet]=y}const h=new L(s.url,c);return s===n&&(e=h),h}(n.root));return e??r}function E(n,e,i,t){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return K(r,r,r,i,t);const s=function rt(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new We(!0,0,n);let e=0,i=!1;const t=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Object.entries(s.outlets).forEach(([p,y])=>{h[p]="string"==typeof y?y.split("/"):y}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?i=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new We(i,e,t)}(e);if(s.toRoot())return K(r,r,new L([],{}),i,t);const c=function on(n,e,i){if(n.isAbsolute)return new _t(e,!0,0);if(!i)return new _t(e,!1,NaN);if(null===i.parent)return new _t(i,!0,0);const t=M(n.commands[0])?0:1;return function ur(n,e,i){let t=n,r=e,s=i;for(;s>r;){if(s-=r,t=t.parent,!t)throw new a.vHH(4005,!1);r=t.segments.length}return new _t(t,!1,r-s)}(i,i.segments.length-1+t,n.numberOfDoubleDots)}(s,r,n),h=c.processChildren?Il(c.segmentGroup,c.index,s.commands):Fu(c.segmentGroup,c.index,s.commands);return K(r,c.segmentGroup,h,i,t)}function M(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function P(n){return"object"==typeof n&&null!=n&&n.outlets}function K(n,e,i,t,r){let c,s={};t&&Object.entries(t).forEach(([p,y])=>{s[p]=Array.isArray(y)?y.map(x=>`${x}`):`${y}`}),c=n===e?i:me(n,e,i);const h=Pu(Nu(c));return new A(h,s,r)}function me(n,e,i){const t={};return Object.entries(n.children).forEach(([r,s])=>{t[r]=s===e?i:me(s,e,i)}),new L(n.segments,t)}class We{constructor(e,i,t){if(this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=t,e&&t.length>0&&M(t[0]))throw new a.vHH(4003,!1);const r=t.find(P);if(r&&r!==ra(t))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _t{constructor(e,i,t){this.segmentGroup=e,this.processChildren=i,this.index=t}}function Fu(n,e,i){if(n||(n=new L([],{})),0===n.segments.length&&n.hasChildren())return Il(n,e,i);const t=function gg(n,e,i){let t=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(t>=i.length)return s;const c=n.segments[r],h=i[t];if(P(h))break;const p=`${h}`,y=t<i.length-1?i[t+1]:null;if(r>0&&void 0===p)break;if(p&&y&&"object"==typeof y&&void 0===y.outlets){if(!Yf(p,y,c))return s;t+=2}else{if(!Yf(p,{},c))return s;t++}r++}return{match:!0,pathIndex:r,commandIndex:t}}(n,e,i),r=i.slice(t.commandIndex);if(t.match&&t.pathIndex<n.segments.length){const s=new L(n.segments.slice(0,t.pathIndex),{});return s.children[Lt]=new L(n.segments.slice(t.pathIndex),n.children),Il(s,0,r)}return t.match&&0===r.length?new L(n.segments,{}):t.match&&!n.hasChildren()?Lu(n,e,i):t.match?Il(n,0,r):Lu(n,e,i)}function Il(n,e,i){if(0===i.length)return new L(n.segments,{});{const t=function aa(n){return P(n[0])?n[0].outlets:{[Lt]:n}}(i),r={};if(Object.keys(t).some(s=>s!==Lt)&&n.children[Lt]&&1===n.numberOfChildren&&0===n.children[Lt].segments.length){const s=Il(n.children[Lt],e,i);return new L(n.segments,s.children)}return Object.entries(t).forEach(([s,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(r[s]=Fu(n.children[s],e,c))}),Object.entries(n.children).forEach(([s,c])=>{void 0===t[s]&&(r[s]=c)}),new L(n.segments,r)}}function Lu(n,e,i){const t=n.segments.slice(0,e);let r=0;for(;r<i.length;){const s=i[r];if(P(s)){const p=lv(s.outlets);return new L(t,p)}if(0===r&&M(i[0])){t.push(new Z(n.segments[e].path,uh(i[0]))),r++;continue}const c=P(s)?s.outlets[Lt]:`${s}`,h=r<i.length-1?i[r+1]:null;c&&h&&M(h)?(t.push(new Z(c,uh(h))),r+=2):(t.push(new Z(c,{})),r++)}return new L(t,{})}function lv(n){const e={};return Object.entries(n).forEach(([i,t])=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Lu(new L([],{}),0,t))}),e}function uh(n){const e={};return Object.entries(n).forEach(([i,t])=>e[i]=`${t}`),e}function Yf(n,e,i){return n==i.path&&Rs(e,i.parameters)}const qa="imperative";class lo{constructor(e,i){this.id=e,this.url=i}}class Kf extends lo{constructor(e,i,t="imperative",r=null){super(e,i),this.type=0,this.navigationTrigger=t,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class la extends lo{constructor(e,i,t){super(e,i),this.urlAfterRedirects=t,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Bu extends lo{constructor(e,i,t,r){super(e,i),this.reason=t,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dh extends lo{constructor(e,i,t,r){super(e,i),this.reason=t,this.code=r,this.type=16}}class yC extends lo{constructor(e,i,t,r){super(e,i),this.error=t,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cF extends lo{constructor(e,i,t,r){super(e,i),this.urlAfterRedirects=t,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uF extends lo{constructor(e,i,t,r){super(e,i),this.urlAfterRedirects=t,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fT extends lo{constructor(e,i,t,r,s){super(e,i),this.urlAfterRedirects=t,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _g extends lo{constructor(e,i,t,r){super(e,i),this.urlAfterRedirects=t,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yg extends lo{constructor(e,i,t,r){super(e,i),this.urlAfterRedirects=t,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vC{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bC{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wC{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hh{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CC{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EC{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qf{constructor(e,i,t){this.routerEvent=e,this.position=i,this.anchor=t,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class vg{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Xf,this.attachRef=null}}let Xf=(()=>{var n;class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const s=this.getOrCreateContext(t);s.outlet=r,this.contexts.set(t,s)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new vg,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();class xC{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const i=this.pathFromRoot(e);return i.length>1?i[i.length-2]:null}children(e){const i=uv(e,this._root);return i?i.children.map(t=>t.value):[]}firstChild(e){const i=uv(e,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(e){const i=bg(e,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return bg(e,this._root).map(i=>i.value)}}function uv(n,e){if(n===e.value)return e;for(const i of e.children){const t=uv(n,i);if(t)return t}return null}function bg(n,e){if(n===e.value)return[e];for(const i of e.children){const t=bg(n,i);if(t.length)return t.unshift(e),t}return[]}class ca{constructor(e,i){this.value=e,this.children=i}toString(){return`TreeNode(${this.value})`}}function fh(n){const e={};return n&&n.children.forEach(i=>e[i.value.outlet]=i),e}class DC extends xC{constructor(e,i){super(e),this.snapshot=i,Jf(this,e)}toString(){return this.snapshot.toString()}}function IC(n,e){const i=function SC(n,e){const c=new ph([],{},{},"",{},Lt,e,null,{});return new dv("",new ca(c,[]))}(0,e),t=new lr.X([new Z("",{})]),r=new lr.X({}),s=new lr.X({}),c=new lr.X({}),h=new lr.X(""),p=new wc(t,r,c,h,s,Lt,e,i.root);return p.snapshot=i.root,new DC(new ca(p,[]),i)}class wc{constructor(e,i,t,r,s,c,h,p){this.urlSubject=e,this.paramsSubject=i,this.queryParamsSubject=t,this.fragmentSubject=r,this.dataSubject=s,this.outlet=c,this.component=h,this._futureSnapshot=p,this.title=this.dataSubject?.pipe((0,dt.U)(y=>y[oo]))??(0,ut.of)(void 0),this.url=e,this.params=i,this.queryParams=t,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,dt.U)(e=>Fo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,dt.U)(e=>Fo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function TC(n,e="emptyOnly"){const i=n.pathFromRoot;let t=0;if("always"!==e)for(t=i.length-1;t>=1;){const r=i[t],s=i[t-1];if(r.routeConfig&&""===r.routeConfig.path)t--;else{if(s.component)break;t--}}return function Os(n){return n.reduce((e,i)=>({params:{...e.params,...i.params},data:{...e.data,...i.data},resolve:{...i.data,...e.resolve,...i.routeConfig?.data,...i._resolvedData}}),{params:{},data:{},resolve:{}})}(i.slice(t))}class ph{get title(){return this.data?.[oo]}constructor(e,i,t,r,s,c,h,p,y){this.url=e,this.params=i,this.queryParams=t,this.fragment=r,this.data=s,this.outlet=c,this.component=h,this.routeConfig=p,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class dv extends xC{constructor(e,i){super(i),this.url=e,Jf(this,i)}toString(){return Vr(this._root)}}function Jf(n,e){e.value._routerState=n,e.children.forEach(i=>Jf(n,i))}function Vr(n){const e=n.children.length>0?` { ${n.children.map(Vr).join(", ")} } `:"";return`${n.value}${e}`}function Vu(n){if(n.snapshot){const e=n.snapshot,i=n._futureSnapshot;n.snapshot=i,Rs(e.queryParams,i.queryParams)||n.queryParamsSubject.next(i.queryParams),e.fragment!==i.fragment&&n.fragmentSubject.next(i.fragment),Rs(e.params,i.params)||n.paramsSubject.next(i.params),function sh(n,e){if(n.length!==e.length)return!1;for(let i=0;i<n.length;++i)if(!Rs(n[i],e[i]))return!1;return!0}(e.url,i.url)||n.urlSubject.next(i.url),Rs(e.data,i.data)||n.dataSubject.next(i.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function wg(n,e){const i=Rs(n.params,e.params)&&function J(n,e){return fe(n,e)&&n.every((i,t)=>Rs(i.parameters,e[t].parameters))}(n.url,e.url);return i&&!(!n.parent!=!e.parent)&&(!n.parent||wg(n.parent,e.parent))}let ep=(()=>{var n;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Lt,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(Xf),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb),this.inputBinder=(0,a.f3M)(tp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:s}=t.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new a.vHH(4013,!1);this._activatedRoute=t;const s=this.location,h=t.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,y=new pT(t,p,s.injector);this.activated=s.createComponent(h,{index:s.length,injector:y,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]}),e})();class pT{constructor(e,i,t){this.route=e,this.childContexts=i,this.parent=t}get(e,i){return e===wc?this.route:e===Xf?this.childContexts:this.parent.get(e,i)}}const tp=new a.OlP("");let AC=(()=>{var n;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,s=yl([r.queryParams,r.params,r.data]).pipe((0,Pn.w)(([c,h,p],y)=>(p={...c,...h,...p},0===y?(0,ut.of)(p):Promise.resolve(p)))).subscribe(c=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const h=(0,a.qFp)(r.component);if(h)for(const{templateName:p}of h.inputs)t.activatedComponentRef.setInput(p,c[p]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,s)}}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),e})();function np(n,e,i){if(i&&n.shouldReuseRoute(e.value,i.value.snapshot)){const t=i.value;t._futureSnapshot=e.value;const r=function kC(n,e,i){return e.children.map(t=>{for(const r of i.children)if(n.shouldReuseRoute(t.value,r.value.snapshot))return np(n,t,r);return np(n,t)})}(n,e,i);return new ca(t,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(h=>np(n,h)),c}}const t=function mT(n){return new wc(new lr.X(n.url),new lr.X(n.params),new lr.X(n.queryParams),new lr.X(n.fragment),new lr.X(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>np(n,s));return new ca(t,r)}}const hv="ngNavigationCancelingError";function Cg(n,e){const{redirectTo:i,navigationBehaviorOptions:t}=w(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Eg(!1,0,e);return r.url=i,r.navigationBehaviorOptions=t,r}function Eg(n,e,i){const t=new Error("NavigationCancelingError: "+(n||""));return t[hv]=!0,t.cancellationCode=e,i&&(t.url=i),t}function RC(n){return mh(n)&&w(n.url)}function mh(n){return n&&n[hv]}let OC=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(t,r){1&t&&a._UZ(0,"router-outlet")},dependencies:[ep],encapsulation:2}),e})();function pv(n){const e=n.children&&n.children.map(pv),i=e?{...n,children:e}:{...n};return!i.component&&!i.loadComponent&&(e||i.loadChildren)&&i.outlet&&i.outlet!==Lt&&(i.component=OC),i}function ua(n){return n.outlet||Lt}function rp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const i=e.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}class PC{constructor(e,i,t,r,s){this.routeReuseStrategy=e,this.futureState=i,this.currState=t,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){const i=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,t,e),Vu(this.futureState.root),this.activateChildRoutes(i,t,e)}deactivateChildRoutes(e,i,t){const r=fh(i);e.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],t),delete r[c]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,t)})}deactivateRoutes(e,i,t){const r=e.value,s=i?i.value:null;if(r===s)if(r.component){const c=t.getContext(r.outlet);c&&this.deactivateChildRoutes(e,i,c.children)}else this.deactivateChildRoutes(e,i,t);else s&&this.deactivateRouteAndItsChildren(i,t)}deactivateRouteAndItsChildren(e,i){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,i):this.deactivateRouteAndOutlet(e,i)}detachAndStoreRouteSubtree(e,i){const t=i.getContext(e.value.outlet),r=t&&e.value.component?t.children:i,s=fh(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(t&&t.outlet){const c=t.outlet.detach(),h=t.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:h})}}deactivateRouteAndOutlet(e,i){const t=i.getContext(e.value.outlet),r=t&&e.value.component?t.children:i,s=fh(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);t&&(t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated()),t.attachRef=null,t.route=null)}activateChildRoutes(e,i,t){const r=fh(i);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],t),this.forwardEvent(new EC(s.value.snapshot))}),e.children.length&&this.forwardEvent(new hh(e.value.snapshot))}activateRoutes(e,i,t){const r=e.value,s=i?i.value:null;if(Vu(r),r===s)if(r.component){const c=t.getOrCreateContext(r.outlet);this.activateChildRoutes(e,i,c.children)}else this.activateChildRoutes(e,i,t);else if(r.component){const c=t.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),Vu(h.route.value),this.activateChildRoutes(e,null,c.children)}else{const h=rp(r.snapshot);c.attachRef=null,c.route=r,c.injector=h,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,t)}}class sp{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class gh{constructor(e,i){this.component=e,this.route=i}}function mv(n,e,i){const t=n._root;return Uu(t,e?e._root:null,i,[t.value])}function _h(n,e){const i=Symbol(),t=e.get(n,i);return t===i?"function"!=typeof n||(0,a.Z0I)(n)?e.get(n):n:t}function Uu(n,e,i,t,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=fh(e);return n.children.forEach(c=>{(function NC(n,e,i,t,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=e?e.value:null,h=i?i.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const p=function Hu(n,e,i){if("function"==typeof i)return i(n,e);switch(i){case"pathParamsChange":return!fe(n.url,e.url);case"pathParamsOrQueryParamsChange":return!fe(n.url,e.url)||!Rs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wg(n,e)||!Rs(n.queryParams,e.queryParams);default:return!wg(n,e)}}(c,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new sp(t)):(s.data=c.data,s._resolvedData=c._resolvedData),Uu(n,e,s.component?h?h.children:null:i,t,r),p&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new gh(h.outlet.component,c))}else c&&yh(e,h,r),r.canActivateChecks.push(new sp(t)),Uu(n,null,s.component?h?h.children:null:i,t,r)})(c,s[c.value.outlet],i,t.concat([c.value]),r),delete s[c.value.outlet]}),Object.entries(s).forEach(([c,h])=>yh(h,i.getContext(c),r)),r}function yh(n,e,i){const t=fh(n),r=n.value;Object.entries(t).forEach(([s,c])=>{yh(c,r.component?e?e.children.getContext(s):null:e,i)}),i.canDeactivateChecks.push(new gh(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function vh(n){return"function"==typeof n}function _v(n){return n instanceof rh||"EmptyError"===n?.name}const ju=Symbol("INITIAL_VALUE");function Wa(){return(0,Pn.w)(n=>yl(n.map(e=>e.pipe(Cn(1),ni(ju)))).pipe((0,dt.U)(e=>{for(const i of e)if(!0!==i){if(i===ju)return ju;if(!1===i||i instanceof A)return i}return!0}),tn(e=>e!==ju),Cn(1)))}function HC(n){return(0,yc.z)((0,nn.b)(e=>{if(w(e))throw Cg(0,e)}),(0,dt.U)(e=>!0===e))}class ap{constructor(e){this.segmentGroup=e||null}}class bv{constructor(e){this.urlTree=e}}function Sl(n){return ro(new ap(n))}function Tg(n){return ro(new bv(n))}class kT{constructor(e,i){this.urlSerializer=e,this.urlTree=i}noMatchError(e){return new a.vHH(4002,!1)}lineralizeSegments(e,i){let t=[],r=i.root;for(;;){if(t=t.concat(r.segments),0===r.numberOfChildren)return(0,ut.of)(t);if(r.numberOfChildren>1||!r.children[Lt])return ro(new a.vHH(4e3,!1));r=r.children[Lt]}}applyRedirectCommands(e,i,t){return this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),e,t)}applyRedirectCreateUrlTree(e,i,t,r){const s=this.createSegmentGroup(e,i.root,t,r);return new A(s,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(e,i){const t={};return Object.entries(e).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const h=s.substring(1);t[r]=i[h]}else t[r]=s}),t}createSegmentGroup(e,i,t,r){const s=this.createSegments(e,i.segments,t,r);let c={};return Object.entries(i.children).forEach(([h,p])=>{c[h]=this.createSegmentGroup(e,p,t,r)}),new L(s,c)}createSegments(e,i,t,r){return i.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,t))}findPosParam(e,i,t){const r=t[i.path.substring(1)];if(!r)throw new a.vHH(4001,!1);return r}findOrReturn(e,i){let t=0;for(const r of i){if(r.path===e.path)return i.splice(t),r;t++}return e}}const jC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function RT(n,e,i,t,r){const s=lp(n,e,i);return s.matched?(t=function gT(n,e){return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,t),function AT(n,e,i,t){const r=e.canMatch;if(!r||0===r.length)return(0,ut.of)(!0);const s=r.map(c=>{const h=_h(c,n);return sa(function LC(n){return n&&vh(n.canMatch)}(h)?h.canMatch(e,i):n.runInContext(()=>h(e,i)))});return(0,ut.of)(s).pipe(Wa(),HC())}(t,e,i).pipe((0,dt.U)(c=>!0===c?s:{...jC}))):(0,ut.of)(s)}function lp(n,e,i){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||i.length>0)?{...jC}:{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};const r=(e.matcher||cs)(i,n,e);if(!r)return{...jC};const s={};Object.entries(r.posParams??{}).forEach(([h,p])=>{s[h]=p.path});const c=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function zC(n,e,i,t){return i.length>0&&function wv(n,e,i){return i.some(t=>cp(n,e,t)&&ua(t)!==Lt)}(n,i,t)?{segmentGroup:new L(e,Ag(t,new L(i,n.children))),slicedSegments:[]}:0===i.length&&function $C(n,e,i){return i.some(t=>cp(n,e,t))}(n,i,t)?{segmentGroup:new L(n.segments,wh(n,0,i,t,n.children)),slicedSegments:i}:{segmentGroup:new L(n.segments,n.children),slicedSegments:i}}function wh(n,e,i,t,r){const s={};for(const c of t)if(cp(n,i,c)&&!r[ua(c)]){const h=new L([],{});s[ua(c)]=h}return{...r,...s}}function Ag(n,e){const i={};i[Lt]=e;for(const t of n)if(""===t.path&&ua(t)!==Lt){const r=new L([],{});i[ua(t)]=r}return i}function cp(n,e,i){return(!(n.hasChildren()||e.length>0)||"full"!==i.pathMatch)&&""===i.path}class PT{constructor(e,i,t,r,s,c,h){this.injector=e,this.configLoader=i,this.rootComponentType=t,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=c,this.urlSerializer=h,this.allowRedirects=!0,this.applyRedirects=new kT(this.urlSerializer,this.urlTree)}noMatchError(e){return new a.vHH(4002,!1)}recognize(){const e=zC(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Lt).pipe(ls(i=>{if(i instanceof bv)return this.allowRedirects=!1,this.urlTree=i.urlTree,this.match(i.urlTree);throw i instanceof ap?this.noMatchError(i):i}),(0,dt.U)(i=>{const t=new ph([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Lt,this.rootComponentType,null,{}),r=new ca(t,i),s=new dv("",r),c=function g(n,e,i=null,t=null){return E(_(n),e,i,t)}(t,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(s._root),{state:s,tree:c}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Lt).pipe(ls(t=>{throw t instanceof ap?this.noMatchError(t):t}))}inheritParamsAndData(e){const i=e.value,t=TC(i,this.paramsInheritanceStrategy);i.params=Object.freeze(t.params),i.data=Object.freeze(t.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,i,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,i,t):this.processSegment(e,i,t,t.segments,r,!0)}processChildren(e,i,t){const r=[];for(const s of Object.keys(t.children))"primary"===s?r.unshift(s):r.push(s);return(0,wn.D)(r).pipe(Po(s=>{const c=t.children[s],h=function wT(n,e){const i=n.filter(t=>ua(t)===e);return i.push(...n.filter(t=>ua(t)!==e)),i}(i,s);return this.processSegmentGroup(e,h,c,s)}),so((s,c)=>(s.push(...c),s)),ia(null),function Dl(n,e){const i=arguments.length>=2;return t=>t.pipe(n?tn((r,s)=>n(r,s,t)):mc.y,xl(1),i?ia(e):wl(()=>new rh))}(),(0,zn.z)(s=>{if(null===s)return Sl(t);const c=qC(s);return function NT(n){n.sort((e,i)=>e.value.outlet===Lt?-1:i.value.outlet===Lt?1:e.value.outlet.localeCompare(i.value.outlet))}(c),(0,ut.of)(c)}))}processSegment(e,i,t,r,s,c){return(0,wn.D)(i).pipe(Po(h=>this.processSegmentAgainstRoute(h._injector??e,i,h,t,r,s,c).pipe(ls(p=>{if(p instanceof ap)return(0,ut.of)(null);throw p}))),Er(h=>!!h),ls(h=>{if(_v(h))return function zu(n,e,i){return 0===e.length&&!n.children[i]}(t,r,s)?(0,ut.of)([]):Sl(t);throw h}))}processSegmentAgainstRoute(e,i,t,r,s,c,h){return function GC(n,e,i,t){return!!(ua(n)===t||t!==Lt&&cp(e,i,n))&&("**"===n.path||lp(e,n,i).matched)}(t,r,s,c)?void 0===t.redirectTo?this.matchSegmentAgainstRoute(e,r,t,s,c,h):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,i,t,s,c):Sl(r):Sl(r)}expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,i,t,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,t,r){const s=this.applyRedirects.applyRedirectCommands([],t.redirectTo,{});return t.redirectTo.startsWith("/")?Tg(s):this.applyRedirects.lineralizeSegments(t,s).pipe((0,zn.z)(c=>{const h=new L(c,{});return this.processSegment(e,i,h,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,i,t,r,s,c){const{matched:h,consumedSegments:p,remainingSegments:y,positionalParamSegments:x}=lp(i,r,s);if(!h)return Sl(i);const S=this.applyRedirects.applyRedirectCommands(p,r.redirectTo,x);return r.redirectTo.startsWith("/")?Tg(S):this.applyRedirects.lineralizeSegments(r,S).pipe((0,zn.z)(N=>this.processSegment(e,t,i,N.concat(y),c,!1)))}matchSegmentAgainstRoute(e,i,t,r,s,c){let h;if("**"===t.path){const p=r.length>0?ra(r).parameters:{},y=new ph(r,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$u(t),ua(t),t.component??t._loadedComponent??null,t,WC(t));h=(0,ut.of)({snapshot:y,consumedSegments:[],remainingSegments:[]}),i.children={}}else h=RT(i,t,r,e).pipe((0,dt.U)(({matched:p,consumedSegments:y,remainingSegments:x,parameters:S})=>p?{snapshot:new ph(y,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$u(t),ua(t),t.component??t._loadedComponent??null,t,WC(t)),consumedSegments:y,remainingSegments:x}:null));return h.pipe((0,Pn.w)(p=>null===p?Sl(i):this.getChildConfig(e=t._injector??e,t,r).pipe((0,Pn.w)(({routes:y})=>{const x=t._loadedInjector??e,{snapshot:S,consumedSegments:N,remainingSegments:H}=p,{segmentGroup:G,slicedSegments:Q}=zC(i,N,H,y);if(0===Q.length&&G.hasChildren())return this.processChildren(x,y,G).pipe((0,dt.U)(ke=>null===ke?null:[new ca(S,ke)]));if(0===y.length&&0===Q.length)return(0,ut.of)([new ca(S,[])]);const ee=ua(t)===s;return this.processSegment(x,y,G,Q,ee?Lt:s,!0).pipe((0,dt.U)(ke=>[new ca(S,ke)]))}))))}getChildConfig(e,i,t){return i.children?(0,ut.of)({routes:i.children,injector:e}):i.loadChildren?void 0!==i._loadedRoutes?(0,ut.of)({routes:i._loadedRoutes,injector:i._loadedInjector}):function TT(n,e,i,t){const r=e.canLoad;if(void 0===r||0===r.length)return(0,ut.of)(!0);const s=r.map(c=>{const h=_h(c,n);return sa(function hF(n){return n&&vh(n.canLoad)}(h)?h.canLoad(e,i):n.runInContext(()=>h(e,i)))});return(0,ut.of)(s).pipe(Wa(),HC())}(e,i,t).pipe((0,zn.z)(r=>r?this.configLoader.loadChildren(e,i).pipe((0,nn.b)(s=>{i._loadedRoutes=s.routes,i._loadedInjector=s.injector})):function MT(n){return ro(Eg(!1,3))}())):(0,ut.of)({routes:[],injector:e})}}function FT(n){const e=n.value.routeConfig;return e&&""===e.path}function qC(n){const e=[],i=new Set;for(const t of n){if(!FT(t)){e.push(t);continue}const r=e.find(s=>t.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...t.children),i.add(r)):e.push(t)}for(const t of i){const r=qC(t.children);e.push(new ca(t.value,r))}return e.filter(t=>!i.has(t))}function $u(n){return n.data||{}}function WC(n){return n.resolve||{}}function YC(n){return"string"==typeof n.title||null===n.title}function Cv(n){return(0,Pn.w)(e=>{const i=n(e);return i?(0,wn.D)(i).pipe((0,dt.U)(()=>e)):(0,ut.of)(e)})}const Ch=new a.OlP("ROUTES");let Ev=(()=>{var n;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.f3M)(a.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,ut.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=sa(t.loadComponent()).pipe((0,dt.U)(Za),(0,nn.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=c}),No(()=>{this.componentLoaders.delete(t)})),s=new ku(r,()=>new Xe.x).pipe(bl());return this.componentLoaders.set(t,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,ut.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const c=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,dt.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,x;return Array.isArray(p)?x=p:(y=p.create(t).injector,x=y.get(Ch,[],a.XFs.Self|a.XFs.Optional).flat()),{routes:x.map(pv),injector:y}}),No(()=>{this.childrenLoaders.delete(r)})),h=new ku(c,()=>new Xe.x).pipe(bl());return this.childrenLoaders.set(r,h),h}loadModuleFactoryOrRoutes(t){return sa(t()).pipe((0,dt.U)(Za),(0,zn.z)(r=>r instanceof a.YKP||Array.isArray(r)?(0,ut.of)(r):(0,wn.D)(this.compiler.compileModuleAsync(r))))}}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function Za(n){return function Mg(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Ec=(()=>{var n;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Xe.x,this.configLoader=(0,a.f3M)(Ev),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(qe),this.rootContexts=(0,a.f3M)(Xf),this.inputBindingEnabled=null!==(0,a.f3M)(tp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ut.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new bC(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new vC(s))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new lr.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:qa,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(tn(r=>0!==r.id),(0,dt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),(0,Pn.w)(r=>{let s=!1,c=!1;return(0,ut.of)(r).pipe((0,nn.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Pn.w)(h=>{const p=t.browserUrlTree.toString(),y=!t.navigated||h.extractedUrl.toString()!==p||p!==t.currentUrlTree.toString();if(!y&&"reload"!==(h.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const S="";return this.events.next(new dh(h.id,t.serializeUrl(r.rawUrl),S,0)),t.rawUrlTree=h.rawUrl,h.resolve(null),Ms.E}if(t.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return xv(h.source)&&(t.browserUrlTree=h.extractedUrl),(0,ut.of)(h).pipe((0,Pn.w)(S=>{const N=this.transitions?.getValue();return this.events.next(new Kf(S.id,this.urlSerializer.serialize(S.extractedUrl),S.source,S.restoredState)),N!==this.transitions?.getValue()?Ms.E:Promise.resolve(S)}),function LT(n,e,i,t,r,s){return(0,zn.z)(c=>function OT(n,e,i,t,r,s,c="emptyOnly"){return new PT(n,e,i,t,r,c,s).recognize()}(n,e,i,t,c.extractedUrl,r,s).pipe((0,dt.U)(({state:h,tree:p})=>({...c,targetSnapshot:h,urlAfterRedirects:p}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,nn.b)(S=>{if(r.targetSnapshot=S.targetSnapshot,r.urlAfterRedirects=S.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!S.extras.skipLocationChange){const H=t.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);t.setBrowserUrl(H,S)}t.browserUrlTree=S.urlAfterRedirects}const N=new cF(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(N)}));if(y&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:S,extractedUrl:N,source:H,restoredState:G,extras:Q}=h,ee=new Kf(S,this.urlSerializer.serialize(N),H,G);this.events.next(ee);const ke=IC(0,this.rootComponentType).snapshot;return r={...h,targetSnapshot:ke,urlAfterRedirects:N,extras:{...Q,skipLocationChange:!1,replaceUrl:!1}},(0,ut.of)(r)}{const S="";return this.events.next(new dh(h.id,t.serializeUrl(r.extractedUrl),S,1)),t.rawUrlTree=h.rawUrl,h.resolve(null),Ms.E}}),(0,nn.b)(h=>{const p=new uF(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),(0,dt.U)(h=>r={...h,guards:mv(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function BC(n,e){return(0,zn.z)(i=>{const{targetSnapshot:t,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=i;return 0===c.length&&0===s.length?(0,ut.of)({...i,guardsResult:!0}):function yv(n,e,i,t){return(0,wn.D)(n).pipe((0,zn.z)(r=>function UC(n,e,i,t,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,ut.of)(!0);const c=s.map(h=>{const p=rp(e)??r,y=_h(h,p);return sa(function FC(n){return n&&vh(n.canDeactivate)}(y)?y.canDeactivate(n,e,i,t):p.runInContext(()=>y(n,e,i,t))).pipe(Er())});return(0,ut.of)(c).pipe(Wa())}(r.component,r.route,i,e,t)),Er(r=>!0!==r,!0))}(c,t,r,n).pipe((0,zn.z)(h=>h&&function xT(n){return"boolean"==typeof n}(h)?function Sg(n,e,i,t){return(0,wn.D)(e).pipe(Po(r=>za(function vv(n,e){return null!==n&&e&&e(new wC(n)),(0,ut.of)(!0)}(r.route.parent,t),function VC(n,e){return null!==n&&e&&e(new CC(n)),(0,ut.of)(!0)}(r.route,t),function ST(n,e,i){const t=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(c=>function ET(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>_c(()=>{const h=c.guards.map(p=>{const y=rp(c.node)??i,x=_h(p,y);return sa(function DT(n){return n&&vh(n.canActivateChild)}(x)?x.canActivateChild(t,n):y.runInContext(()=>x(t,n))).pipe(Er())});return(0,ut.of)(h).pipe(Wa())}));return(0,ut.of)(s).pipe(Wa())}(n,r.path,i),function op(n,e,i){const t=e.routeConfig?e.routeConfig.canActivate:null;if(!t||0===t.length)return(0,ut.of)(!0);const r=t.map(s=>_c(()=>{const c=rp(e)??i,h=_h(s,c);return sa(function Ig(n){return n&&vh(n.canActivate)}(h)?h.canActivate(e,n):c.runInContext(()=>h(e,n))).pipe(Er())}));return(0,ut.of)(r).pipe(Wa())}(n,r.route,i))),Er(r=>!0!==r,!0))}(t,s,n,e):(0,ut.of)(h)),(0,dt.U)(h=>({...i,guardsResult:h})))})}(this.environmentInjector,h=>this.events.next(h)),(0,nn.b)(h=>{if(r.guardsResult=h.guardsResult,w(h.guardsResult))throw Cg(0,h.guardsResult);const p=new fT(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.events.next(p)}),tn(h=>!!h.guardsResult||(t.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),Cv(h=>{if(h.guards.canActivateChecks.length)return(0,ut.of)(h).pipe((0,nn.b)(p=>{const y=new _g(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}),(0,Pn.w)(p=>{let y=!1;return(0,ut.of)(p).pipe(function BT(n,e){return(0,zn.z)(i=>{const{targetSnapshot:t,guards:{canActivateChecks:r}}=i;if(!r.length)return(0,ut.of)(i);let s=0;return(0,wn.D)(r).pipe(Po(c=>function VT(n,e,i,t){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!YC(r)&&(s[oo]=r.title),function UT(n,e,i,t){const r=function HT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,ut.of)({});const s={};return(0,wn.D)(r).pipe((0,zn.z)(c=>function ZC(n,e,i,t){const r=rp(e)??t,s=_h(n,r);return sa(s.resolve?s.resolve(e,i):r.runInContext(()=>s(e,i)))}(n[c],e,i,t).pipe(Er(),(0,nn.b)(h=>{s[c]=h}))),xl(1),ks(s),ls(c=>_v(c)?Ms.E:ro(c)))}(s,n,e,t).pipe((0,dt.U)(c=>(n._resolvedData=c,n.data=TC(n,i).resolve,r&&YC(r)&&(n.data[oo]=r.title),null)))}(c.route,t,n,e)),(0,nn.b)(()=>s++),xl(1),(0,zn.z)(c=>s===r.length?(0,ut.of)(i):Ms.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,nn.b)({next:()=>y=!0,complete:()=>{y||(t.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),(0,nn.b)(p=>{const y=new yg(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}))}),Cv(h=>{const p=y=>{const x=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(y.routeConfig).pipe((0,nn.b)(S=>{y.component=S}),(0,dt.U)(()=>{})));for(const S of y.children)x.push(...p(S));return x};return yl(p(h.targetSnapshot.root)).pipe(ia(),Cn(1))}),Cv(()=>this.afterPreactivation()),(0,dt.U)(h=>{const p=function MC(n,e,i){const t=np(n,e._root,i?i._root:void 0);return new DC(t,e)}(t.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return r={...h,targetRouterState:p}}),(0,nn.b)(h=>{t.currentUrlTree=h.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),t.routerState=h.targetRouterState,"deferred"===t.urlUpdateStrategy&&(h.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,h),t.browserUrlTree=h.urlAfterRedirects)}),((n,e,i,t)=>(0,dt.U)(r=>(new PC(e,r.targetRouterState,r.currentRouterState,i,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,h=>this.events.next(h),this.inputBindingEnabled),Cn(1),(0,nn.b)({next:h=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new la(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(h.targetRouterState.snapshot),h.resolve(!0)},complete:()=>{s=!0}}),No(()=>{s||c||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ls(h=>{if(c=!0,mh(h)){RC(h)||(t.navigated=!0,t.restoreHistory(r,!0));const p=new Bu(r.id,this.urlSerializer.serialize(r.extractedUrl),h.message,h.cancellationCode);if(this.events.next(p),RC(h)){const y=t.urlHandlingStrategy.merge(h.url,t.rawUrlTree),x={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||xv(r.source)};t.scheduleNavigation(y,qa,null,x,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const p=new yC(r.id,this.urlSerializer.serialize(r.extractedUrl),h,r.targetSnapshot??void 0);this.events.next(p);try{r.resolve(t.errorHandler(h))}catch(y){r.reject(y)}}return Ms.E}))}))}cancelNavigationTransition(t,r,s){const c=new Bu(t.id,this.urlSerializer.serialize(t.extractedUrl),r,s);this.events.next(c),t.resolve(!1)}}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function xv(n){return n!==qa}let Dv=(()=>{var n;class e{buildTitle(t){let r,s=t.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(c=>c.outlet===Lt);return r}getResolvedTitleForRoute(t){return t.data[oo]}}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(KC)},providedIn:"root"}),e})(),KC=(()=>{var n;class e extends Dv{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(as))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),fF=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(mF)},providedIn:"root"}),e})();class pF{shouldDetach(e){return!1}store(e,i){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}}let mF=(()=>{var n;class e extends pF{}return(n=e).\u0275fac=function(){let i;return function(r){return(i||(i=a.n5z(n)))(r||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const Eh=new a.OlP("",{providedIn:"root",factory:()=>({})});let Iv=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(gF)},providedIn:"root"}),e})(),gF=(()=>{var n;class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();var kg=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(kg||{});function Sv(n,e){n.events.pipe(tn(i=>i instanceof la||i instanceof Bu||i instanceof yC||i instanceof dh),(0,dt.U)(i=>i instanceof la||i instanceof dh?kg.COMPLETE:i instanceof Bu&&(0===i.code||1===i.code)?kg.REDIRECTING:kg.FAILED),tn(i=>i!==kg.REDIRECTING),Cn(1)).subscribe(()=>{e()})}function jT(n){throw n}function zT(n,e,i){return e.parse("/")}const $T={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},GT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qr=(()=>{var n;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this.options=(0,a.f3M)(Eh,{optional:!0})||{},this.pendingTasks=(0,a.f3M)(a.HDt),this.errorHandler=this.options.errorHandler||jT,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||zT,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(Iv),this.routeReuseStrategy=(0,a.f3M)(fF),this.titleStrategy=(0,a.f3M)(Dv),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,a.f3M)(Ch,{optional:!0})?.flat()??[],this.navigationTransitions=(0,a.f3M)(Ec),this.urlSerializer=(0,a.f3M)(qe),this.location=(0,a.f3M)(Ke),this.componentInputBindingEnabled=!!(0,a.f3M)(tp,{optional:!0}),this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new A,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=IC(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),qa,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,s){const c={replaceUrl:!0},h=s?.navigationId?s:null;if(s){const y={...s};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(c.state=y)}const p=this.parseUrl(t);this.scheduleNavigation(p,r,h,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(pv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:s,queryParams:c,fragment:h,queryParamsHandling:p,preserveFragment:y}=r,x=y?this.currentUrlTree.fragment:h;let N,S=null;switch(p){case"merge":S={...this.currentUrlTree.queryParams,...c};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=c||null}null!==S&&(S=this.removeEmptyProps(S));try{N=_(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),N=this.currentUrlTree.root}return E(N,t,S,x??null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=w(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(c,qa,null,r)}navigate(t,r={skipLocationChange:!1}){return function Rg(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new a.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?{...$T}:!1===r?{...GT}:r,w(t))return dg(this.currentUrlTree,t,s);const c=this.parseUrl(t);return dg(this.currentUrlTree,c,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const c=t[s];return null!=c&&(r[s]=c),r},{})}scheduleNavigation(t,r,s,c,h){if(this.disposed)return Promise.resolve(!1);let p,y,x;h?(p=h.resolve,y=h.reject,x=h.promise):x=new Promise((N,H)=>{p=N,y=H});const S=this.pendingTasks.add();return Sv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(S))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:c,resolve:p,reject:y,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(N=>Promise.reject(N))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){const h={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(s,"",h)}else{const c={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(s,"",c)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-(this.browserPageId??this.currentPageId);0!==c?this.location.historyGo(c):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();class xc{}let Av=(()=>{var n;class e{constructor(t,r,s,c,h){this.router=t,this.injector=s,this.preloadingStrategy=c,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(tn(t=>t instanceof la),Po(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const c of r){c.providers&&!c._injector&&(c._injector=(0,a.MMx)(c.providers,t,`Route: ${c.path}`));const h=c._injector??t,p=c._loadedInjector??h;(c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent)&&s.push(this.preloadConfig(h,c)),(c.children||c._loadedRoutes)&&s.push(this.processRoutes(p,c.children??c._loadedRoutes))}return(0,wn.D)(s).pipe((0,vl.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,ut.of)(null);const c=s.pipe((0,zn.z)(h=>null===h?(0,ut.of)(void 0):(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,this.processRoutes(h.injector??t,h.routes))));if(r.loadComponent&&!r._loadedComponent){const h=this.loader.loadComponent(r);return(0,wn.D)([c,h]).pipe((0,vl.J)())}return c})}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(qr),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(xc),a.LFG(Ev))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const Pg=new a.OlP("");let QC=(()=>{var n;class e{constructor(t,r,s,c,h={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=s,this.zone=c,this.options=h,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},h.scrollPositionRestoration=h.scrollPositionRestoration||"disabled",h.anchorScrolling=h.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Kf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof la?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof dh&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Qf&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Qf(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(n=e).\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),e})();function Tl(n,e){return{\u0275kind:n,\u0275providers:e}}function In(){const n=(0,a.f3M)(a.zs3);return e=>{const i=n.get(a.z2F);if(e!==i.components[0])return;const t=n.get(qr),r=n.get(xh);1===n.get(Fg)&&t.initialNavigation(),n.get(tE,null,a.XFs.Optional)?.setUpPreloading(),n.get(Pg,null,a.XFs.Optional)?.init(),t.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const xh=new a.OlP("",{factory:()=>new Xe.x}),Fg=new a.OlP("",{providedIn:"root",factory:()=>1}),tE=new a.OlP("");function nE(n){return Tl(0,[{provide:tE,useExisting:Av},{provide:xc,useExisting:n}])}const Lg=new a.OlP("ROUTER_FORROOT_GUARD"),iE=[Ke,{provide:qe,useClass:pt},qr,Xf,{provide:wc,useFactory:function XC(n){return n.routerState.root},deps:[qr]},Ev,[]];function rE(){return new a.PXZ("Router",qr)}let Dc=(()=>{var n;class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[iE,[],{provide:Ch,multi:!0,useValue:t},{provide:Lg,useFactory:KT,deps:[[qr,new a.FiY,new a.tp0]]},{provide:Eh,useValue:r||{}},r?.useHash?{provide:Be,useClass:Oe}:{provide:Be,useClass:et},{provide:Pg,useFactory:()=>{const n=(0,a.f3M)(or),e=(0,a.f3M)(a.R0b),i=(0,a.f3M)(Eh),t=(0,a.f3M)(Ec),r=(0,a.f3M)(qe);return i.scrollOffset&&n.setOffset(i.scrollOffset),new QC(r,t,n,e,i)}},r?.preloadingStrategy?nE(r.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:rE},r?.initialNavigation?Pv(r):[],r?.bindToComponentInputs?Tl(8,[AC,{provide:tp,useExisting:AC}]).\u0275providers:[],[{provide:up,useFactory:In},{provide:a.tb,multi:!0,useExisting:up}]]}}static forChild(t){return{ngModule:e,providers:[{provide:Ch,multi:!0,useValue:t}]}}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(Lg,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),e})();function KT(n){return"guarded"}function Pv(n){return["disabled"===n.initialNavigation?Tl(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const e=(0,a.f3M)(qr);return()=>{e.setUpLocationChangeListener()}}},{provide:Fg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Tl(2,[{provide:Fg,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:e=>{const i=e.get(Re,Promise.resolve());return()=>i.then(()=>new Promise(t=>{const r=e.get(qr),s=e.get(xh);Sv(r,()=>{t(!0)}),e.get(Ec).afterPreactivation=()=>(t(!0),s.closed?(0,ut.of)(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const up=new a.OlP("");function oE(...n){const e=(0,Oo.jO)(n),{args:i,keys:t}=cr(n),r=new An.y(s=>{const{length:c}=i;if(!c)return void s.complete();const h=new Array(c);let p=c,y=c;for(let x=0;x<c;x++){let S=!1;(0,Xi.Xf)(i[x]).subscribe((0,Qn.x)(s,N=>{S||(S=!0,y--),h[x]=N},()=>p--,void 0,()=>{(!p||!S)&&(y||s.next(t?cg(t,h):h),s.complete())}))}});return e?r.pipe(Gr(e)):r}let aE=(()=>{var n;class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),e})(),Gu=(()=>{var n;class e extends aE{}return(n=e).\u0275fac=function(){let i;return function(r){return(i||(i=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),e})();const ds=new a.OlP("NgValueAccessor"),uE={provide:ds,useExisting:(0,a.Gpc)(()=>Ic),multi:!0},EF=new a.OlP("CompositionEventMode");let Ic=(()=>{var n;class e extends aE{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Fv(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(EF,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&a.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[a._Bn([uE]),a.qOj]}),e})();function Sc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function dE(n){return null!=n&&"number"==typeof n.length}const hs=new a.OlP("NgValidators"),qu=new a.OlP("NgAsyncValidators"),Vg=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ps{static min(e){return function Ug(n){return e=>{if(Sc(e.value)||Sc(n))return null;const i=parseFloat(e.value);return!isNaN(i)&&i<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Hg(n){return e=>{if(Sc(e.value)||Sc(n))return null;const i=parseFloat(e.value);return!isNaN(i)&&i>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return Wu(e)}static requiredTrue(e){return function jg(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function zg(n){return Sc(n.value)||Vg.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Dh(n){return e=>Sc(e.value)||!dE(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function hp(n){return e=>dE(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return Ih(e)}static nullValidator(e){return null}static compose(e){return Lv(e)}static composeAsync(e){return fE(e)}}function Wu(n){return Sc(n.value)?{required:!0}:null}function Ih(n){if(!n)return fp;let e,i;return"string"==typeof n?(i="","^"!==n.charAt(0)&&(i+="^"),i+=n,"$"!==n.charAt(n.length-1)&&(i+="$"),e=new RegExp(i)):(i=n.toString(),e=n),t=>{if(Sc(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:i,actualValue:r}}}}function fp(n){return null}function $g(n){return null!=n}function pp(n){return(0,a.QGY)(n)?(0,wn.D)(n):n}function XT(n){let e={};return n.forEach(i=>{e=null!=i?{...e,...i}:e}),0===Object.keys(e).length?null:e}function Gg(n,e){return e.map(i=>i(n))}function hE(n){return n.map(e=>function mp(n){return!n.validate}(e)?e:i=>e.validate(i))}function Lv(n){if(!n)return null;const e=n.filter($g);return 0==e.length?null:function(i){return XT(Gg(i,e))}}function Bv(n){return null!=n?Lv(hE(n)):null}function fE(n){if(!n)return null;const e=n.filter($g);return 0==e.length?null:function(i){return oE(Gg(i,e).map(pp)).pipe((0,dt.U)(XT))}}function gp(n){return null!=n?fE(hE(n)):null}function Vv(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function pE(n){return n._rawValidators}function mE(n){return n._rawAsyncValidators}function gE(n){return n?Array.isArray(n)?n:[n]:[]}function qg(n,e){return Array.isArray(n)?n.includes(e):n===e}function _p(n,e){const i=gE(e);return gE(n).forEach(r=>{qg(i,r)||i.push(r)}),i}function Wg(n,e){return gE(e).filter(i=>!qg(n,i))}class _E{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Bv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=gp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,i){return!!this.control&&this.control.hasError(e,i)}getError(e,i){return this.control?this.control.getError(e,i):null}}class Wr extends _E{get formDirective(){return null}get path(){return null}}class co extends _E{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yp{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Sh=(()=>{var n;class e extends yp{constructor(t){super(t)}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(co,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[a.qOj]}),e})(),Th=(()=>{var n;class e extends yp{constructor(t){super(t)}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(Wr,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[a.qOj]}),e})();const bp="VALID",Qg="INVALID",Zu="PENDING",wp="DISABLED";function Xg(n){return(Cp(n)?n.validators:n)||null}function Hv(n,e){return(Cp(e)?e.asyncValidators:n)||null}function Cp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function jv(n,e,i){const t=n.controls;if(!(e?Object.keys(t):t).length)throw new a.vHH(1e3,"");if(!t[i])throw new a.vHH(1001,"")}function Lo(n,e,i){n._forEachChild((t,r)=>{if(void 0===i[r])throw new a.vHH(1002,"")})}class Mh{constructor(e,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===bp}get invalid(){return this.status===Qg}get pending(){return this.status==Zu}get disabled(){return this.status===wp}get enabled(){return this.status!==wp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(_p(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_p(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Wg(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Wg(e,this._rawAsyncValidators))}hasValidator(e){return qg(this._rawValidators,e)}hasAsyncValidator(e){return qg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Zu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const i=this._parentMarkedDirty(e.onlySelf);this.status=wp,this.errors=null,this._forEachChild(t=>{t.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:i}),this._onDisabledChange.forEach(t=>t(!0))}enable(e={}){const i=this._parentMarkedDirty(e.onlySelf);this.status=bp,this._forEachChild(t=>{t.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:i}),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bp||this.status===Zu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wp:bp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Zu,this._hasOwnPendingAsyncValidator=!0;const i=pp(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,i={}){this.errors=e,this._updateControlsErrors(!1!==i.emitEvent)}get(e){let i=e;return null==i||(Array.isArray(i)||(i=i.split(".")),0===i.length)?null:i.reduce((t,r)=>t&&t._find(r),this)}getError(e,i){const t=i?this.get(i):this;return t&&t.errors?t.errors[e]:null}hasError(e,i){return!!this.getError(e,i)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?wp:this.errors?Qg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zu)?Zu:this._anyControlsHaveStatus(Qg)?Qg:bp}_anyControlsHaveStatus(e){return this._anyControls(i=>i.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Cp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function iA(n){return Array.isArray(n)?Bv(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function AF(n){return Array.isArray(n)?gp(n):n||null}(this._rawAsyncValidators)}}class kh extends Mh{constructor(e,i,t){super(Xg(i),Hv(t,i)),this.controls=e,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,i){return this.controls[e]?this.controls[e]:(this.controls[e]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(e,i,t={}){this.registerControl(e,i),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(e,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(e,i,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],i&&this.registerControl(e,i),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,i={}){Lo(this,0,e),Object.keys(e).forEach(t=>{jv(this,!0,t),this.controls[t].setValue(e[t],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(e,i={}){null!=e&&(Object.keys(e).forEach(t=>{const r=this.controls[t];r&&r.patchValue(e[t],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(e={},i={}){this._forEachChild((t,r)=>{t.reset(e[r],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(e,i,t)=>(e[t]=i.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(i,t)=>!!t._syncPendingControls()||i);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(i=>{const t=this.controls[i];t&&e(t,i)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[i,t]of Object.entries(this.controls))if(this.contains(i)&&e(t))return!0;return!1}_reduceValue(){return this._reduceChildren({},(i,t,r)=>((t.enabled||this.disabled)&&(i[r]=t.value),i))}_reduceChildren(e,i){let t=e;return this._forEachChild((r,s)=>{t=i(t,r,s)}),t}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class zv extends kh{}const Bo=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>uo}),uo="always";function Al(n,e){return[...e.path,n]}function Ep(n,e,i=uo){Yu(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===i)&&e.valueAccessor.setDisabledState?.(n.disabled),function kF(n,e){e.valueAccessor.registerOnChange(i=>{n._pendingValue=i,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Ku(n,e)})}(n,e),function e_(n,e){const i=(t,r)=>{e.valueAccessor.writeValue(t),r&&e.viewToModelUpdate(t)};n.registerOnChange(i),e._registerOnDestroy(()=>{n._unregisterOnChange(i)})}(n,e),function Gv(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Ku(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function $v(n,e){if(e.valueAccessor.setDisabledState){const i=t=>{e.valueAccessor.setDisabledState(t)};n.registerOnDisabledChange(i),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(i)})}}(n,e)}function Jg(n,e,i=!0){const t=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(t),e.valueAccessor.registerOnTouched(t)),Dp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function xp(n,e){n.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(e)})}function Yu(n,e){const i=pE(n);null!==e.validator?n.setValidators(Vv(i,e.validator)):"function"==typeof i&&n.setValidators([i]);const t=mE(n);null!==e.asyncValidator?n.setAsyncValidators(Vv(t,e.asyncValidator)):"function"==typeof t&&n.setAsyncValidators([t]);const r=()=>n.updateValueAndValidity();xp(e._rawValidators,r),xp(e._rawAsyncValidators,r)}function Dp(n,e){let i=!1;if(null!==n){if(null!==e.validator){const r=pE(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.validator);s.length!==r.length&&(i=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=mE(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.asyncValidator);s.length!==r.length&&(i=!0,n.setAsyncValidators(s))}}}const t=()=>{};return xp(e._rawValidators,t),xp(e._rawAsyncValidators,t),i}function Ku(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function qv(n,e){Yu(n,e)}function CE(n,e){if(!n.hasOwnProperty("model"))return!1;const i=n.model;return!!i.isFirstChange()||!Object.is(e,i.currentValue)}function lA(n,e){n._syncPendingControls(),e.forEach(i=>{const t=i.control;"submit"===t.updateOn&&t._pendingChange&&(i.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function EE(n,e){if(!e)return null;let i,t,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Ic?i=s:function aA(n){return Object.getPrototypeOf(n.constructor)===Gu}(s)?t=s:r=s}),r||t||i||null}const PF={provide:Wr,useExisting:(0,a.Gpc)(()=>Vo)},Rh=(()=>Promise.resolve())();let Vo=(()=>{var n;class e extends Wr{constructor(t,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new kh({},Bv(t),gp(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Rh.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Ep(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Rh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Rh.then(()=>{const r=this._findContainer(t.path),s=new kh({});qv(s,t),r.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Rh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Rh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,lA(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(hs,10),a.Y36(qu,10),a.Y36(Bo,8))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&a.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([PF]),a.qOj]}),e})();function Zv(n,e){const i=n.indexOf(e);i>-1&&n.splice(i,1)}function Yv(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ml=class extends Mh{constructor(e=null,i,t){super(Xg(i),Hv(t,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Cp(i)&&(i.nonNullable||i.initialValueIsDefault)&&(this.defaultValue=Yv(e)?e.value:e)}setValue(e,i={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(e,i={}){this.setValue(e,i)}reset(e=this.defaultValue,i={}){this._applyFormState(e),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Zv(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Zv(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Yv(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Pt=Ml,Sp={provide:co,useExisting:(0,a.Gpc)(()=>Tp)},Xv=(()=>Promise.resolve())();let Tp=(()=>{var n;class e extends co{constructor(t,r,s,c,h,p){super(),this._changeDetectorRef=h,this.callSetDisabledState=p,this.control=new Ml,this._registered=!1,this.name="",this.update=new a.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=EE(0,c)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),CE(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ep(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Xv.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,s=0!==r&&(0,a.VuI)(r);Xv.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Al(t,this._parent):[t]}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(Wr,9),a.Y36(hs,10),a.Y36(qu,10),a.Y36(ds,10),a.Y36(a.sBO,8),a.Y36(Bo,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([Sp]),a.qOj,a.TTD]}),e})(),Qu=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),IE=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),e})();const ib=new a.OlP("NgModelWithFormControlWarning"),fA={provide:co,useExisting:(0,a.Gpc)(()=>Ph)};let Ph=(()=>{var n;class e extends co{set isDisabled(t){}constructor(t,r,s,c,h){super(),this._ngModelWarningConfig=c,this.callSetDisabledState=h,this.update=new a.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=EE(0,s)}ngOnChanges(t){if(this._isControlChanged(t)){const r=t.form.previousValue;r&&Jg(r,this,!1),Ep(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}CE(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Jg(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return(n=e)._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(a.Y36(hs,10),a.Y36(qu,10),a.Y36(ds,10),a.Y36(ib,8),a.Y36(Bo,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[a._Bn([fA]),a.qOj,a.TTD]}),e})();const TE={provide:Wr,useExisting:(0,a.Gpc)(()=>Xu)};let Xu=(()=>{var n;class e extends Wr{constructor(t,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Dp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Ep(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Jg(t.control||null,t,!1),function xE(n,e){const i=n.indexOf(e);i>-1&&n.splice(i,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,lA(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,s=this.form.get(t.path);r!==s&&(Jg(r||null,t),(n=>n instanceof Ml)(s)&&(Ep(s,t,this.callSetDisabledState),t.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);qv(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function wE(n,e){return Dp(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Yu(this.form,this),this._oldForm&&Dp(this._oldForm,this)}_checkFormPresent(){}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(hs,10),a.Y36(qu,10),a.Y36(Bo,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&a.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([TE]),a.qOj,a.TTD]}),e})();const sb={provide:co,useExisting:(0,a.Gpc)(()=>n_)};let n_=(()=>{var n;class e extends co{set isDisabled(t){}constructor(t,r,s,c,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.name=null,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=EE(0,c)}ngOnChanges(t){this._added||this._setUpControl(),CE(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Al(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(n=e)._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(a.Y36(Wr,13),a.Y36(hs,10),a.Y36(qu,10),a.Y36(ds,10),a.Y36(ib,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([sb]),a.qOj,a.TTD]}),e})(),kl=(()=>{var n;class e{constructor(){this._validator=fp}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):fp,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),e})();const kE={provide:hs,useExisting:(0,a.Gpc)(()=>Ju),multi:!0};let Ju=(()=>{var n;class e extends kl{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.VuI,this.createValidator=t=>Wu}enabled(t){return t}}return(n=e).\u0275fac=function(){let i;return function(r){return(i||(i=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&a.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([kE]),a.qOj]}),e})();const IA={provide:hs,useExisting:(0,a.Gpc)(()=>hb),multi:!0};let hb=(()=>{var n;class e extends kl{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>Ih(t)}}return(n=e).\u0275fac=function(){let i;return function(r){return(i||(i=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&a.uIk("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[a._Bn([IA]),a.qOj]}),e})(),NE=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[IE]}),e})();class Ap extends Mh{constructor(e,i,t){super(Xg(i),Hv(t,i)),this.controls=e,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,i={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(e,i,t={}){this.controls.splice(e,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:t.emitEvent})}removeAt(e,i={}){let t=this._adjustIndex(e);t<0&&(t=0),this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(e,i,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),i&&(this.controls.splice(r,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,i={}){Lo(this,0,e),e.forEach((t,r)=>{jv(this,!1,r),this.at(r).setValue(t,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(e,i={}){null!=e&&(e.forEach((t,r)=>{this.at(r)&&this.at(r).patchValue(t,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(e=[],i={}){this._forEachChild((t,r)=>{t.reset(e[r],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((i,t)=>!!t._syncPendingControls()||i,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((i,t)=>{e(i,t)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(i=>i.enabled&&e(i))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function TA(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let a_,AA=(()=>{var n;class e{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new e;return t.useNonNullable=!0,t}group(t,r=null){const s=this._reduceControls(t);let c={};return TA(r)?c=r:null!==r&&(c.validators=r.validator,c.asyncValidators=r.asyncValidator),new kh(s,c)}record(t,r=null){const s=this._reduceControls(t);return new zv(s,r)}control(t,r,s){let c={};return this.useNonNullable?(TA(r)?c=r:(c.validators=r,c.asyncValidators=s),new Ml(t,{...c,nonNullable:!0})):new Ml(t,r,s)}array(t,r,s){const c=t.map(h=>this._createControl(h));return new Ap(c,r,s)}_reduceControls(t){const r={};return Object.keys(t).forEach(s=>{r[s]=this._createControl(t[s])}),r}_createControl(t){return t instanceof Ml||t instanceof Mh?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),RA=(()=>{var n;class e{static withConfig(t){return{ngModule:e,providers:[{provide:Bo,useValue:t.callSetDisabledState??uo}]}}}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[NE]}),e})(),FE=(()=>{var n;class e{static withConfig(t){return{ngModule:e,providers:[{provide:ib,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Bo,useValue:t.callSetDisabledState??uo}]}}}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[NE]}),e})();try{a_=typeof Intl<"u"&&Intl.v8BreakIterator}catch{a_=!1}let ed,wi=(()=>{var n;class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function kd(n){return n===Xs}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!a_)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const pb=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function LE(){if(ed)return ed;if("object"!=typeof document||!document)return ed=new Set(pb),ed;let n=document.createElement("input");return ed=new Set(pb.filter(e=>(n.setAttribute("type",e),n.type===e))),ed}let Mp,l_,td,mb;function Rl(n){return function kp(){if(null==Mp&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Mp=!0}))}finally{Mp=Mp||!1}return Mp}()?n:!!n.capture}function BE(){if(null==td){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return td=!1,td;if("scrollBehavior"in document.documentElement.style)td=!0;else{const n=Element.prototype.scrollTo;td=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return td}function Rp(){if("object"!=typeof document||!document)return 0;if(null==l_){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const i=document.createElement("div"),t=i.style;t.width="2px",t.height="1px",n.appendChild(i),document.body.appendChild(n),l_=0,0===n.scrollLeft&&(n.scrollLeft=1,l_=0===n.scrollLeft?1:2),n.remove()}return l_}function c_(n){if(function OA(){if(null==mb){const n=typeof document<"u"?document.head:null;mb=!(!n||!n.createShadowRoot&&!n.attachShadow)}return mb}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function u_(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Ns(n){return n.composedPath?n.composedPath()[0]:n.target}function gb(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Uo(n,...e){return e.length?e.some(i=>n[i]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var id=B(6321);function zp(n,e=id.z){return(0,ui.e)((i,t)=>{let r=null,s=null,c=null;const h=()=>{if(r){r.unsubscribe(),r=null;const y=s;s=null,t.next(y)}};function p(){const y=c+n,x=e.now();if(x<y)return r=this.schedule(void 0,y-x),void t.add(r);h()}i.subscribe((0,Qn.x)(t,y=>{s=y,c=e.now(),r||(r=e.schedule(p,n),t.add(r))},()=>{h(),t.complete()},void 0,()=>{s=r=null}))})}function Tb(n){return tn((e,i)=>n<=i)}var $p=B(3997),Ab=B(2420);function En(n){return(0,ui.e)((e,i)=>{(0,Xi.Xf)(n).subscribe((0,Qn.x)(i,()=>i.complete(),Ab.Z)),!i.closed&&e.subscribe(i)})}function Tt(n){return null!=n&&"false"!=`${n}`}function Fs(n,e=0){return function Tc(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Gp(n){return Array.isArray(n)?n:[n]}function Ji(n){return null==n?"":"string"==typeof n?n:`${n}px`}function hi(n){return n instanceof a.SBq?n.nativeElement:n}let w_=(()=>{var n;class e{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),dM=(()=>{var n;class e{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=hi(t);return new An.y(s=>{const h=this._observeElement(r).subscribe(s);return()=>{h.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Xe.x,s=this._mutationObserverFactory.create(c=>r.next(c));s&&s.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:s,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:s}=this._observedElements.get(t);r&&r.disconnect(),s.complete(),this._observedElements.delete(t)}}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(w_))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),Mb=(()=>{var n;class e{get disabled(){return this._disabled}set disabled(t){this._disabled=Tt(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Fs(t),this._subscribe()}constructor(t,r,s){this._contentObserver=t,this._elementRef=r,this._ngZone=s,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(zp(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(dM),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),e})(),hM=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[w_]}),e})();const nx=new Set;let rd,ix=(()=>{var n;class e{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):dr}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function fM(n,e){if(!nx.has(n))try{rd||(rd=document.createElement("style"),e&&(rd.nonce=e),rd.setAttribute("type","text/css"),document.head.appendChild(rd)),rd.sheet&&(rd.sheet.insertRule(`@media ${n} {body{ }}`,0),nx.add(n))}catch(i){console.error(i)}}(t,this._nonce),this._matchMedia(t)}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(wi),a.LFG(a.Ojb,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function dr(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let C_=(()=>{var n;class e{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Xe.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return rx(Gp(t)).some(s=>this._registerQuery(s).mql.matches)}observe(t){let c=yl(rx(Gp(t)).map(h=>this._registerQuery(h).observable));return c=za(c.pipe(Cn(1)),c.pipe(Tb(1),zp(0))),c.pipe((0,dt.U)(h=>{const p={matches:!1,breakpoints:{}};return h.forEach(({matches:y,query:x})=>{p.matches=p.matches||y,p.breakpoints[x]=y}),p}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),c={observable:new An.y(h=>{const p=y=>this._zone.run(()=>h.next(y));return r.addListener(p),()=>{r.removeListener(p)}}).pipe(ni(r),(0,dt.U)(({matches:h})=>({query:t,matches:h})),En(this._destroySubject)),mql:r};return this._queries.set(t,c),c}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(ix),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function rx(n){return n.map(e=>e.split(",")).reduce((e,i)=>e.concat(i)).map(e=>e.trim())}function Rb(n,e,i){const r=Ob(n,e).filter(s=>s!=i.trim());r.length?n.setAttribute(e,r.join(" ")):n.removeAttribute(e)}function Ob(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}class E_{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Xe.x,this._typeaheadSubscription=Ln.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=i=>i.disabled,this._pressedLetters=[],this.tabOut=new Xe.x,this.change=new Xe.x,e instanceof a.n_E&&(this._itemChangesSubscription=e.changes.subscribe(i=>{if(this._activeItem){const r=i.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,nn.b)(i=>this._pressedLetters.push(i)),zp(e),tn(()=>this._pressedLetters.length>0),(0,dt.U)(()=>this._pressedLetters.join(""))).subscribe(i=>{const t=this._getItemsArray();for(let r=1;r<t.length+1;r++){const s=(this._activeItemIndex+r)%t.length,c=t[s];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(i)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,i=10){return this._pageUpAndDown={enabled:e,delta:i},this}setActiveItem(e){const i=this._activeItem;this.updateActiveItem(e),this._activeItem!==i&&this.change.next(this._activeItemIndex)}onKeydown(e){const i=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(i){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,c=this._getItemsArray().length;this._setActiveItemByIndex(s<c?s:c-1,-1);break}return;default:return void((r||Uo(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(i>=65&&i<=90||i>=48&&i<=57)&&this._letterKeyStream.next(String.fromCharCode(i))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const i=this._getItemsArray(),t="number"==typeof e?e:i.indexOf(e);this._activeItem=i[t]??null,this._activeItemIndex=t}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const i=this._getItemsArray();for(let t=1;t<=i.length;t++){const r=(this._activeItemIndex+e*t+i.length)%i.length;if(!this._skipPredicateFn(i[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,i){const t=this._getItemsArray();if(t[e]){for(;this._skipPredicateFn(t[e]);)if(!t[e+=i])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof a.n_E?this._items.toArray():this._items}}class Pb extends E_{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class fa extends E_{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let Bh=(()=>{var n;class e{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function pa(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function Qa(n){try{return n.frameElement}catch{return null}}(function bM(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===cx(r)||!this.isVisible(r)))return!1;let s=t.nodeName.toLowerCase(),c=cx(t);return t.hasAttribute("contenteditable")?-1!==c:!("iframe"===s||"object"===s||this._platform.WEBKIT&&this._platform.IOS&&!function Nb(n){let e=n.nodeName.toLowerCase(),i="input"===e&&n.type;return"text"===i||"password"===i||"select"===e||"textarea"===e}(t))&&("audio"===s?!!t.hasAttribute("controls")&&-1!==c:"video"===s?-1!==c&&(null!==c||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function Wp(n){return!function ox(n){return function yM(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function ma(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function ax(n){return function vM(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||lx(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(wi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function lx(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function cx(n){if(!lx(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class ux{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,i,t,r,s=!1){this._element=e,this._checker=i,this._ngZone=t,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const e=this._startAnchor,i=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),i&&(i.removeEventListener("focus",this.endAnchorListener),i.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const i=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(!this._checker.isFocusable(i)){const t=this._getFirstTabbableElement(i);return t?.focus(e),!!t}return i.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const i=this._getRegionBoundary("start");return i&&i.focus(e),!!i}focusLastTabbableElement(e){const i=this._getRegionBoundary("end");return i&&i.focus(e),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const i=e.children;for(let t=0;t<i.length;t++){const r=i[t].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[t]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const i=e.children;for(let t=i.length-1;t>=0;t--){const r=i[t].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[t]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,i){e?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Cn(1)).subscribe(e)}}let x_=(()=>{var n;class e{constructor(t,r,s){this._checker=t,this._ngZone=r,this._document=s}create(t,r=!1){return new ux(t,this._checker,this._ngZone,this._document,r)}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(Bh),a.LFG(a.R0b),a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function Zp(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Yp(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const xM=new a.OlP("cdk-input-modality-detector-options"),DM={ignoreKeys:[18,17,224,91,16]},Pl=Rl({passive:!0,capture:!0});let Lb=(()=>{var n;class e{get mostRecentModality(){return this._modality.value}constructor(t,r,s,c){this._platform=t,this._mostRecentTarget=null,this._modality=new lr.X(null),this._lastTouchMs=0,this._onKeydown=h=>{this._options?.ignoreKeys?.some(p=>p===h.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ns(h))},this._onMousedown=h=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Zp(h)?"keyboard":"mouse"),this._mostRecentTarget=Ns(h))},this._onTouchstart=h=>{Yp(h)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ns(h))},this._options={...DM,...c},this.modalityDetected=this._modality.pipe(Tb(1)),this.modalityChanged=this.modalityDetected.pipe((0,$p.x)()),t.isBrowser&&r.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,Pl),s.addEventListener("mousedown",this._onMousedown,Pl),s.addEventListener("touchstart",this._onTouchstart,Pl)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Pl),document.removeEventListener("mousedown",this._onMousedown,Pl),document.removeEventListener("touchstart",this._onTouchstart,Pl))}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(wi),a.LFG(a.R0b),a.LFG(re),a.LFG(xM,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const dx=new a.OlP("liveAnnouncerElement",{providedIn:"root",factory:function hx(){return null}}),fx=new a.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let px=0,I_=(()=>{var n;class e{constructor(t,r,s,c){this._ngZone=r,this._defaultOptions=c,this._document=s,this._liveElement=t||this._createLiveElement()}announce(t,...r){const s=this._defaultOptions;let c,h;return 1===r.length&&"number"==typeof r[0]?h=r[0]:[c,h]=r,this.clear(),clearTimeout(this._previousTimeout),c||(c=s&&s.politeness?s.politeness:"polite"),null==h&&s&&(h=s.duration),this._liveElement.setAttribute("aria-live",c),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(p=>this._currentResolve=p)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof h&&(this._previousTimeout=setTimeout(()=>this.clear(),h)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),s=this._document.createElement("div");for(let c=0;c<r.length;c++)r[c].remove();return s.classList.add(t),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),s.id="cdk-live-announcer-"+px++,this._document.body.appendChild(s),s}_exposeAnnouncerToModals(t){const r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let s=0;s<r.length;s++){const c=r[s],h=c.getAttribute("aria-owns");h?-1===h.indexOf(t)&&c.setAttribute("aria-owns",h+" "+t):c.setAttribute("aria-owns",t)}}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(dx,8),a.LFG(a.R0b),a.LFG(re),a.LFG(fx,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const mx=new a.OlP("cdk-focus-monitor-default-options"),Kp=Rl({passive:!0,capture:!0});let Xa=(()=>{var n;class e{constructor(t,r,s,c,h){this._ngZone=t,this._platform=r,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Xe.x,this._rootNodeFocusAndBlurListener=p=>{for(let x=Ns(p);x;x=x.parentElement)"focus"===p.type?this._onFocus(p,x):this._onBlur(p,x)},this._document=c,this._detectionMode=h?.detectionMode||0}monitor(t,r=!1){const s=hi(t);if(!this._platform.isBrowser||1!==s.nodeType)return(0,ut.of)();const c=c_(s)||this._getDocument(),h=this._elementInfo.get(s);if(h)return r&&(h.checkChildren=!0),h.subject;const p={checkChildren:r,subject:new Xe.x,rootNode:c};return this._elementInfo.set(s,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(t){const r=hi(t),s=this._elementInfo.get(r);s&&(s.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(s))}focusVia(t,r,s){const c=hi(t);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([p,y])=>this._originChanged(p,r,y)):(this._setOrigin(r),"function"==typeof c.focus&&c.focus(s))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const s=this._elementInfo.get(r),c=Ns(t);!s||!s.checkChildren&&r!==c||this._originChanged(r,this._getFocusOrigin(c),s)}_onBlur(t,r){const s=this._elementInfo.get(r);!s||s.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(s,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,s=this._rootNodeFocusListenerCount.get(r)||0;s||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Kp),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Kp)}),this._rootNodeFocusListenerCount.set(r,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(En(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const s=this._rootNodeFocusListenerCount.get(r);s>1?this._rootNodeFocusListenerCount.set(r,s-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Kp),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Kp),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,s){this._setClasses(t,r),this._emitOrigin(s,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((s,c)=>{(c===t||s.checkChildren&&c.contains(t))&&r.push([c,s])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:s}=this._inputModalityDetector;if("mouse"!==s||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const c=t.labels;if(c)for(let h=0;h<c.length;h++)if(c[h].contains(r))return!0;return!1}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b),a.LFG(wi),a.LFG(Lb),a.LFG(re,8),a.LFG(mx,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const gx="cdk-high-contrast-black-on-white",_x="cdk-high-contrast-white-on-black",Bb="cdk-high-contrast-active";let yx=(()=>{var n;class e{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,a.f3M)(C_).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,s=r&&r.getComputedStyle?r.getComputedStyle(t):null,c=(s&&s.backgroundColor||"").replace(/ /g,"");switch(t.remove(),c){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Bb,gx,_x),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(Bb,gx):2===r&&t.add(Bb,_x)}}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(wi),a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),SM=(()=>{var n;class e{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(yx))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[hM]}),e})();var TM=B(4266);const AM=["addListener","removeListener"],MM=["addEventListener","removeEventListener"],kM=["on","off"];function Vh(n,e,i,t){if((0,Cr.m)(i)&&(t=i,i=void 0),t)return Vh(n,e,i).pipe(Gr(t));const[r,s]=function PM(n){return(0,Cr.m)(n.addEventListener)&&(0,Cr.m)(n.removeEventListener)}(n)?MM.map(c=>h=>n[c](e,h,i)):function RM(n){return(0,Cr.m)(n.addListener)&&(0,Cr.m)(n.removeListener)}(n)?AM.map(vx(n,e)):function OM(n){return(0,Cr.m)(n.on)&&(0,Cr.m)(n.off)}(n)?kM.map(vx(n,e)):[];if(!r&&(0,TM.z)(n))return(0,zn.z)(c=>Vh(c,e,i))((0,Xi.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new An.y(c=>{const h=(...p)=>c.next(1<p.length?p:p[0]);return r(h),()=>s(h)})}function vx(n,e){return i=>t=>n[i](e,t)}var bx=B(1954);const Uh={schedule(n){let e=requestAnimationFrame,i=cancelAnimationFrame;const{delegate:t}=Uh;t&&(e=t.requestAnimationFrame,i=t.cancelAnimationFrame);const r=e(s=>{i=void 0,n(s)});return new Ln.w0(()=>i?.(r))},requestAnimationFrame(...n){const{delegate:e}=Uh;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Uh;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var Vb=B(2631);const Ub=new class Cx extends Vb.v{flush(e){this._active=!0;const i=this._scheduled;this._scheduled=void 0;const{actions:t}=this;let r;e=e||t.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=t[0])&&e.id===i&&t.shift());if(this._active=!1,r){for(;(e=t[0])&&e.id===i&&t.shift();)e.unsubscribe();throw r}}}(class wx extends bx.o{constructor(e,i){super(e,i),this.scheduler=e,this.work=i}requestAsyncId(e,i,t=0){return null!==t&&t>0?super.requestAsyncId(e,i,t):(e.actions.push(this),e._scheduled||(e._scheduled=Uh.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,i,t=0){if(null!=t&&t>0||null==t&&this.delay>0)return super.recycleAsyncId(e,i,t);e.actions.some(r=>r.id===i)||(Uh.cancelAnimationFrame(i),e._scheduled=void 0)}});let S_,Ex=1;const Qp={};function T_(n){return n in Qp&&(delete Qp[n],!0)}const Hb={setImmediate(n){const e=Ex++;return Qp[e]=!0,S_||(S_=Promise.resolve()),S_.then(()=>T_(e)&&n()),e},clearImmediate(n){T_(n)}},{setImmediate:FM,clearImmediate:LM}=Hb,Nl={setImmediate(...n){const{delegate:e}=Nl;return(e?.setImmediate||FM)(...n)},clearImmediate(n){const{delegate:e}=Nl;return(e?.clearImmediate||LM)(n)},delegate:void 0},xx=new class jb extends Vb.v{flush(e){this._active=!0;const i=this._scheduled;this._scheduled=void 0;const{actions:t}=this;let r;e=e||t.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=t[0])&&e.id===i&&t.shift());if(this._active=!1,r){for(;(e=t[0])&&e.id===i&&t.shift();)e.unsubscribe();throw r}}}(class CL extends bx.o{constructor(e,i){super(e,i),this.scheduler=e,this.work=i}requestAsyncId(e,i,t=0){return null!==t&&t>0?super.requestAsyncId(e,i,t):(e.actions.push(this),e._scheduled||(e._scheduled=Nl.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,i,t=0){if(null!=t&&t>0||null==t&&this.delay>0)return super.recycleAsyncId(e,i,t);e.actions.some(r=>r.id===i)||(Nl.clearImmediate(i),e._scheduled=void 0)}});var EL=B(671);function zb(n=0,e,i=id.P){let t=-1;return null!=e&&((0,EL.K)(e)?i=e:t=e),new An.y(r=>{let s=function jh(n){return n instanceof Date&&!isNaN(n)}(n)?+n-i.now():n;s<0&&(s=0);let c=0;return i.schedule(function(){r.closed||(r.next(c++),0<=t?this.schedule(void 0,t):r.complete())},s)})}function Ix(n,e=id.z){return function Dx(n){return(0,ui.e)((e,i)=>{let t=!1,r=null,s=null,c=!1;const h=()=>{if(s?.unsubscribe(),s=null,t){t=!1;const y=r;r=null,i.next(y)}c&&i.complete()},p=()=>{s=null,c&&i.complete()};e.subscribe((0,Qn.x)(i,y=>{t=!0,r=y,s||(0,Xi.Xf)(n(y)).subscribe(s=(0,Qn.x)(i,h,p))},()=>{c=!0,(!t||!s||s.closed)&&i.complete()}))})}(()=>zb(n,e))}const VM=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function zh(){return(0,a.f3M)(re)}}),UM=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ms=(()=>{var n;class e{constructor(t){this.value="ltr",this.change=new a.vpe,t&&(this.value=function A_(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?UM.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(VM,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),M_=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),e})(),Xp=(()=>{var n;class e{constructor(t,r,s){this._ngZone=t,this._platform=r,this._scrolled=new Xe.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new An.y(r=>{this._globalSubscription||this._addGlobalListener();const s=t>0?this._scrolled.pipe(Ix(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,ut.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const s=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(tn(c=>!c||s.indexOf(c)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((s,c)=>{this._scrollableContainsElement(c,t)&&r.push(c)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let s=hi(r),c=t.getElementRef().nativeElement;do{if(s==c)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Vh(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b),a.LFG(wi),a.LFG(re,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),Jp=(()=>{var n;class e{constructor(t,r,s,c){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=s,this.dir=c,this._destroyed=new Xe.x,this._elementScrolled=new An.y(h=>this.ngZone.runOutsideAngular(()=>Vh(this.elementRef.nativeElement,"scroll").pipe(En(this._destroyed)).subscribe(h)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,s=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=s?t.end:t.start),null==t.right&&(t.right=s?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),s&&0!=Rp()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==Rp()?t.left=t.right:1==Rp()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;BE()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",s="right",c=this.elementRef.nativeElement;if("top"==t)return c.scrollTop;if("bottom"==t)return c.scrollHeight-c.clientHeight-c.scrollTop;const h=this.dir&&"rtl"==this.dir.value;return"start"==t?t=h?s:r:"end"==t&&(t=h?r:s),h&&2==Rp()?t==r?c.scrollWidth-c.clientWidth-c.scrollLeft:c.scrollLeft:h&&1==Rp()?t==r?c.scrollLeft+c.scrollWidth-c.clientWidth:-c.scrollLeft:t==r?c.scrollLeft:c.scrollWidth-c.clientWidth-c.scrollLeft}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(Xp),a.Y36(a.R0b),a.Y36(ms,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),e})(),Ja=(()=>{var n;class e{constructor(t,r,s){this._platform=t,this._change=new Xe.x,this._changeListener=c=>{this._change.next(c)},this._document=s,r.runOutsideAngular(()=>{if(t.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:s}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+s,right:t.left+r,height:s,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),s=t.documentElement,c=s.getBoundingClientRect();return{top:-c.top||t.body.scrollTop||r.scrollY||s.scrollTop||0,left:-c.left||t.body.scrollLeft||r.scrollX||s.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Ix(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(wi),a.LFG(a.R0b),a.LFG(re,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),ga=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),e})(),Tx=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[M_,ga,M_,ga]}),e})();class Gb{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class em extends Gb{constructor(e,i,t,r,s){super(),this.component=e,this.viewContainerRef=i,this.injector=t,this.componentFactoryResolver=r,this.projectableNodes=s}}class R_ extends Gb{constructor(e,i,t,r){super(),this.templateRef=e,this.viewContainerRef=i,this.context=t,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,i=this.context){return this.context=i,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class kL extends Gb{constructor(e){super(),this.element=e instanceof a.SBq?e.nativeElement:e}}class qb{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof em?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof R_?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof kL?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Ax extends qb{constructor(e,i,t,r,s){super(),this.outletElement=e,this._componentFactoryResolver=i,this._appRef=t,this._defaultInjector=r,this.attachDomPortal=c=>{const h=c.element,p=this._document.createComment("dom-portal");h.parentNode.insertBefore(p,h),this.outletElement.appendChild(h),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=s}attachComponentPortal(e){const t=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(t,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=t.create(e.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let i=e.viewContainerRef,t=i.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return t.rootNodes.forEach(r=>this.outletElement.appendChild(r)),t.detectChanges(),this.setDisposeFn(()=>{let r=i.indexOf(t);-1!==r&&i.remove(r)}),this._attachedPortal=e,t}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let $h=(()=>{var n;class e extends qb{constructor(t,r,s){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=c=>{const h=c.element,p=this._document.createComment("dom-portal");c.setAttachedHost(this),h.parentNode.insertBefore(p,h),this._getRootNode().appendChild(h),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=s}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,c=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),h=r.createComponent(c,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(h.hostView.rootNodes[0]),super.setDisposeFn(()=>h.destroy()),this._attachedPortal=t,this._attachedRef=h,this.attached.emit(h),h}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(re))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),e})(),tm=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),e})();var Ir=B(3019);const Mx=BE();class NL{constructor(e,i){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ji(-this._previousScrollPosition.left),e.style.top=Ji(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,t=e.style,r=this._document.body.style,s=t.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Mx&&(t.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Mx&&(t.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const i=this._document.body,t=this._viewportRuler.getViewportSize();return i.scrollHeight>t.height||i.scrollWidth>t.width}}class kx{constructor(e,i,t,r){this._scrollDispatcher=e,this._ngZone=i,this._viewportRuler=t,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(tn(i=>!i||!this._overlayRef.overlayElement.contains(i.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Rx{enable(){}disable(){}attach(){}}function Zb(n,e){return e.some(i=>n.bottom<i.top||n.top>i.bottom||n.right<i.left||n.left>i.right)}function Gh(n,e){return e.some(i=>n.top<i.top||n.bottom>i.bottom||n.left<i.left||n.right>i.right)}class tk{constructor(e,i,t,r){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=t,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:r}=this._viewportRuler.getViewportSize();Zb(i,[{width:t,height:r,bottom:r,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ox=(()=>{var n;class e{constructor(t,r,s,c){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=s,this.noop=()=>new Rx,this.close=h=>new kx(this._scrollDispatcher,this._ngZone,this._viewportRuler,h),this.block=()=>new NL(this._viewportRuler,this._document),this.reposition=h=>new tk(this._scrollDispatcher,this._viewportRuler,this._ngZone,h),this._document=c}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(Xp),a.LFG(Ja),a.LFG(a.R0b),a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();class nm{constructor(e){if(this.scrollStrategy=new Rx,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const i=Object.keys(e);for(const t of i)void 0!==e[t]&&(this[t]=e[t])}}}class Px{constructor(e,i){this.connectionPair=e,this.scrollableViewProperties=i}}let Fx=(()=>{var n;class e{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),Lx=(()=>{var n;class e extends Fx{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=s=>{const c=this._attachedOverlays;for(let h=c.length-1;h>-1;h--)if(c[h]._keydownEvents.observers.length>0){const p=c[h]._keydownEvents;this._ngZone?this._ngZone.run(()=>p.next(s)):p.next(s);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(re),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),Bx=(()=>{var n;class e extends Fx{constructor(t,r,s){super(t),this._platform=r,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=c=>{this._pointerDownEventTarget=Ns(c)},this._clickListener=c=>{const h=Ns(c),p="click"===c.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:h;this._pointerDownEventTarget=null;const y=this._attachedOverlays.slice();for(let x=y.length-1;x>-1;x--){const S=y[x];if(S._outsidePointerEvents.observers.length<1||!S.hasAttached())continue;if(S.overlayElement.contains(h)||S.overlayElement.contains(p))break;const N=S._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>N.next(c)):N.next(c)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(re),a.LFG(wi),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),P_=(()=>{var n;class e{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||gb()){const s=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let c=0;c<s.length;c++)s[c].remove()}const r=this._document.createElement("div");r.classList.add(t),gb()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(re),a.LFG(wi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();class im{constructor(e,i,t,r,s,c,h,p,y,x=!1){this._portalOutlet=e,this._host=i,this._pane=t,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=h,this._location=p,this._outsideClickDispatcher=y,this._animationsDisabled=x,this._backdropElement=null,this._backdropClick=new Xe.x,this._attachments=new Xe.x,this._detachments=new Xe.x,this._locationChanges=Ln.w0.EMPTY,this._backdropClickHandler=S=>this._backdropClick.next(S),this._backdropTransitionendHandler=S=>{this._disposeBackdrop(S.target)},this._keydownEvents=new Xe.x,this._outsidePointerEvents=new Xe.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const i=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Cn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof i?.onDestroy&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Ji(this._config.width),e.height=Ji(this._config.height),e.minWidth=Ji(this._config.minWidth),e.minHeight=Ji(this._config.minHeight),e.maxWidth=Ji(this._config.maxWidth),e.maxHeight=Ji(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,i,t){const r=Gp(i||[]).filter(s=>!!s);r.length&&(t?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(En((0,Ir.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Vx="cdk-overlay-connected-position-bounding-box",Yb=/([A-Za-z%]+)$/;class ik{get positions(){return this._preferredPositions}constructor(e,i,t,r,s){this._viewportRuler=i,this._document=t,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Xe.x,this._resizeSubscription=Ln.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(Vx),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,i=this._overlayRect,t=this._viewportRect,r=this._containerRect,s=[];let c;for(let h of this._preferredPositions){let p=this._getOriginPoint(e,r,h),y=this._getOverlayPoint(p,i,h),x=this._getOverlayFit(y,i,t,h);if(x.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,p);this._canFitWithFlexibleDimensions(x,y,t)?s.push({position:h,origin:p,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(p,h)}):(!c||c.overlayFit.visibleArea<x.visibleArea)&&(c={overlayFit:x,overlayPoint:y,originPoint:p,position:h,overlayRect:i})}if(s.length){let h=null,p=-1;for(const y of s){const x=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);x>p&&(p=x,h=y)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ac(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Vx),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const i=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,i)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,i,t){let r,s;if("center"==t.originX)r=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;r="start"==t.originX?c:h}return i.left<0&&(r-=i.left),s="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,i.top<0&&(s-=i.top),{x:r,y:s}}_getOverlayPoint(e,i,t){let r,s;return r="center"==t.overlayX?-i.width/2:"start"===t.overlayX?this._isRtl()?-i.width:0:this._isRtl()?0:-i.width,s="center"==t.overlayY?-i.height/2:"top"==t.overlayY?0:-i.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,i,t,r){const s=Hx(i);let{x:c,y:h}=e,p=this._getOffset(r,"x"),y=this._getOffset(r,"y");p&&(c+=p),y&&(h+=y);let N=0-h,H=h+s.height-t.height,G=this._subtractOverflows(s.width,0-c,c+s.width-t.width),Q=this._subtractOverflows(s.height,N,H),ee=G*Q;return{visibleArea:ee,isCompletelyWithinViewport:s.width*s.height===ee,fitsInViewportVertically:Q===s.height,fitsInViewportHorizontally:G==s.width}}_canFitWithFlexibleDimensions(e,i,t){if(this._hasFlexibleDimensions){const r=t.bottom-i.y,s=t.right-i.x,c=Ux(this._overlayRef.getConfig().minHeight),h=Ux(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=c&&c<=r)&&(e.fitsInViewportHorizontally||null!=h&&h<=s)}return!1}_pushOverlayOnScreen(e,i,t){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=Hx(i),s=this._viewportRect,c=Math.max(e.x+r.width-s.width,0),h=Math.max(e.y+r.height-s.height,0),p=Math.max(s.top-t.top-e.y,0),y=Math.max(s.left-t.left-e.x,0);let x=0,S=0;return x=r.width<=s.width?y||-c:e.x<this._viewportMargin?s.left-t.left-e.x:0,S=r.height<=s.height?p||-h:e.y<this._viewportMargin?s.top-t.top-e.y:0,this._previousPushAmount={x,y:S},{x:e.x+x,y:e.y+S}}_applyPosition(e,i){if(this._setTransformOrigin(e),this._setOverlayElementStyles(i,e),this._setBoundingBoxStyles(i,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const t=this._getScrollVisibility(),r=new Px(e,t);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const i=this._boundingBox.querySelectorAll(this._transformOriginSelector);let t,r=e.overlayY;t="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<i.length;s++)i[s].style.transformOrigin=`${t} ${r}`}_calculateBoundingBoxRect(e,i){const t=this._viewportRect,r=this._isRtl();let s,c,h,x,S,N;if("top"===i.overlayY)c=e.y,s=t.height-c+this._viewportMargin;else if("bottom"===i.overlayY)h=t.height-e.y+2*this._viewportMargin,s=t.height-h+this._viewportMargin;else{const H=Math.min(t.bottom-e.y+t.top,e.y),G=this._lastBoundingBoxSize.height;s=2*H,c=e.y-H,s>G&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-G/2)}if("end"===i.overlayX&&!r||"start"===i.overlayX&&r)N=t.width-e.x+this._viewportMargin,x=e.x-this._viewportMargin;else if("start"===i.overlayX&&!r||"end"===i.overlayX&&r)S=e.x,x=t.right-e.x;else{const H=Math.min(t.right-e.x+t.left,e.x),G=this._lastBoundingBoxSize.width;x=2*H,S=e.x-H,x>G&&!this._isInitialRender&&!this._growAfterOpen&&(S=e.x-G/2)}return{top:c,left:S,bottom:h,right:N,width:x,height:s}}_setBoundingBoxStyles(e,i){const t=this._calculateBoundingBoxRect(e,i);!this._isInitialRender&&!this._growAfterOpen&&(t.height=Math.min(t.height,this._lastBoundingBoxSize.height),t.width=Math.min(t.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=Ji(t.height),r.top=Ji(t.top),r.bottom=Ji(t.bottom),r.width=Ji(t.width),r.left=Ji(t.left),r.right=Ji(t.right),r.alignItems="center"===i.overlayX?"center":"end"===i.overlayX?"flex-end":"flex-start",r.justifyContent="center"===i.overlayY?"center":"bottom"===i.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Ji(s)),c&&(r.maxWidth=Ji(c))}this._lastBoundingBoxSize=t,Ac(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ac(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ac(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,i){const t={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const x=this._viewportRuler.getViewportScrollPosition();Ac(t,this._getExactOverlayY(i,e,x)),Ac(t,this._getExactOverlayX(i,e,x))}else t.position="static";let h="",p=this._getOffset(i,"x"),y=this._getOffset(i,"y");p&&(h+=`translateX(${p}px) `),y&&(h+=`translateY(${y}px)`),t.transform=h.trim(),c.maxHeight&&(r?t.maxHeight=Ji(c.maxHeight):s&&(t.maxHeight="")),c.maxWidth&&(r?t.maxWidth=Ji(c.maxWidth):s&&(t.maxWidth="")),Ac(this._pane.style,t)}_getExactOverlayY(e,i,t){let r={top:"",bottom:""},s=this._getOverlayPoint(i,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,t)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Ji(s.y),r}_getExactOverlayX(e,i,t){let c,r={left:"",right:""},s=this._getOverlayPoint(i,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,t)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Ji(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),i=this._pane.getBoundingClientRect(),t=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Gh(e,t),isOriginOutsideView:Zb(e,t),isOverlayClipped:Gh(i,t),isOverlayOutsideView:Zb(i,t)}}_subtractOverflows(e,...i){return i.reduce((t,r)=>t-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,t=this._viewportRuler.getViewportScrollPosition();return{top:t.top+this._viewportMargin,left:t.left+this._viewportMargin,right:t.left+e-this._viewportMargin,bottom:t.top+i-this._viewportMargin,width:e-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,i){return"x"===i?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Gp(e).forEach(i=>{""!==i&&-1===this._appliedPanelClasses.indexOf(i)&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof a.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const i=e.width||0,t=e.height||0;return{top:e.y,bottom:e.y+t,left:e.x,right:e.x+i,height:t,width:i}}}function Ac(n,e){for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}function Ux(n){if("number"!=typeof n&&null!=n){const[e,i]=n.split(Yb);return i&&"px"!==i?null:parseFloat(e)}return n||null}function Hx(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const jx="cdk-global-overlay-wrapper";class rk{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const i=e.getConfig();this._overlayRef=e,this._width&&!i.width&&e.updateSize({width:this._width}),this._height&&!i.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(jx),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,t=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:h}=t,p=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),y=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h),x=this._xPosition,S=this._xOffset,N="rtl"===this._overlayRef.getConfig().direction;let H="",G="",Q="";p?Q="flex-start":"center"===x?(Q="center",N?G=S:H=S):N?"left"===x||"end"===x?(Q="flex-end",H=S):("right"===x||"start"===x)&&(Q="flex-start",G=S):"left"===x||"start"===x?(Q="flex-start",H=S):("right"===x||"end"===x)&&(Q="flex-end",G=S),e.position=this._cssPosition,e.marginLeft=p?"0":H,e.marginTop=y?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=p?"0":G,i.justifyContent=Q,i.alignItems=y?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,t=i.style;i.classList.remove(jx),t.justifyContent=t.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let sk=(()=>{var n;class e{constructor(t,r,s,c){this._viewportRuler=t,this._document=r,this._platform=s,this._overlayContainer=c}global(){return new rk}flexibleConnectedTo(t){return new ik(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(Ja),a.LFG(re),a.LFG(wi),a.LFG(P_))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),ok=0,Ls=(()=>{var n;class e{constructor(t,r,s,c,h,p,y,x,S,N,H,G){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=s,this._positionBuilder=c,this._keyboardDispatcher=h,this._injector=p,this._ngZone=y,this._document=x,this._directionality=S,this._location=N,this._outsideClickDispatcher=H,this._animationsModuleType=G}create(t){const r=this._createHostElement(),s=this._createPaneElement(r),c=this._createPortalOutlet(s),h=new nm(t);return h.direction=h.direction||this._directionality.value,new im(c,r,s,h,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+ok++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new Ax(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(Ox),a.LFG(P_),a.LFG(a._Vd),a.LFG(sk),a.LFG(Lx),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(re),a.LFG(ms),a.LFG(Ke),a.LFG(Bx),a.LFG(a.QbO,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const zx=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],$x=new a.OlP("cdk-connected-overlay-scroll-strategy");let Gx=(()=>{var n;class e{constructor(t){this.elementRef=t}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),e})(),Kb=(()=>{var n;class e{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Tt(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Tt(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Tt(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Tt(t)}get push(){return this._push}set push(t){this._push=Tt(t)}constructor(t,r,s,c,h){this._overlay=t,this._dir=h,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ln.w0.EMPTY,this._attachSubscription=Ln.w0.EMPTY,this._detachSubscription=Ln.w0.EMPTY,this._positionSubscription=Ln.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new a.vpe,this.positionChange=new a.vpe,this.attach=new a.vpe,this.detach=new a.vpe,this.overlayKeydown=new a.vpe,this.overlayOutsideClick=new a.vpe,this._templatePortal=new R_(r,s),this._scrollStrategyFactory=c,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=zx);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!Uo(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{this.overlayOutsideClick.next(r)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new nm({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){const r=this.positions.map(s=>({originX:s.originX,originY:s.originY,overlayX:s.overlayX,overlayY:s.overlayY,offsetX:s.offsetX||this.offsetX,offsetY:s.offsetY||this.offsetY,panelClass:s.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Gx?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function KM(n,e=!1){return(0,ui.e)((i,t)=>{let r=0;i.subscribe((0,Qn.x)(t,s=>{const c=n(s,r++);(c||e)&&t.next(s),!c&&t.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(Ls),a.Y36(a.Rgc),a.Y36(a.s_b),a.Y36($x),a.Y36(ms,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[a.TTD]}),e})();const lk={provide:$x,deps:[Ls],useFactory:function ak(n){return()=>n.scrollStrategies.reposition()}};let rm=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Ls,lk],imports:[M_,tm,Tx,Tx]}),e})();function Qb(n,e){}class qh{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let N_=(()=>{var n;class e extends qb{constructor(t,r,s,c,h,p,y,x){super(),this._elementRef=t,this._focusTrapFactory=r,this._config=c,this._interactivityChecker=h,this._ngZone=p,this._overlayRef=y,this._focusMonitor=x,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=S=>{this._portalOutlet.hasAttached();const N=this._portalOutlet.attachDomPortal(S);return this._contentAttached(),N},this._document=s,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{t.removeEventListener("blur",s),t.removeEventListener("mousedown",s),t.removeAttribute("tabindex")};t.addEventListener("blur",s),t.addEventListener("mousedown",s)})),t.focus(r)}_focusByCssSelector(t,r){let s=this._elementRef.nativeElement.querySelector(t);s&&this._forceFocus(s,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let r=null;if("string"==typeof t?r=this._document.querySelector(t):"boolean"==typeof t?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&"function"==typeof r.focus){const s=u_(),c=this._elementRef.nativeElement;(!s||s===this._document.body||s===c||c.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=u_();return t===r||t.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=u_())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(x_),a.Y36(re,8),a.Y36(qh),a.Y36(Bh),a.Y36(a.R0b),a.Y36(im),a.Y36(Xa))},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,r){if(1&t&&a.Gf($h,7),2&t){let s;a.iGM(s=a.CRH())&&(r._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,r){2&t&&a.uIk("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[a.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&a.YNc(0,Qb,0,0,"ng-template",0)},dependencies:[$h],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),e})();class Xb{constructor(e,i){this.overlayRef=e,this.config=i,this.closed=new Xe.x,this.disableClose=i.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=i.id,this.keydownEvents.subscribe(t=>{27===t.keyCode&&!this.disableClose&&!Uo(t)&&(t.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==i.closeOnOverlayDetachments&&this.close()})}close(e,i){if(this.containerInstance){const t=this.closed;this.containerInstance._closeInteractionType=i?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),t.next(e),t.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",i=""){return this.overlayRef.updateSize({width:e,height:i}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const qx=new a.OlP("DialogScrollStrategy"),Jb=new a.OlP("DialogData"),uk=new a.OlP("DefaultDialogConfig"),sd={provide:qx,deps:[Ls],useFactory:function Wx(n){return()=>n.scrollStrategies.block()}};let Zx=0,Yx=(()=>{var n;class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,r,s,c,h,p){this._overlay=t,this._injector=r,this._defaultOptions=s,this._parentDialog=c,this._overlayContainer=h,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Xe.x,this._afterOpenedAtThisLevel=new Xe.x,this._ariaHiddenElements=new Map,this.afterAllClosed=_c(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ni(void 0))),this._scrollStrategy=p}open(t,r){(r={...this._defaultOptions||new qh,...r}).id=r.id||"cdk-dialog-"+Zx++,r.id&&this.getDialogById(r.id);const c=this._getOverlayConfig(r),h=this._overlay.create(c),p=new Xb(h,r),y=this._attachContainer(h,p,r);return p.containerInstance=y,this._attachDialogContent(t,p,y,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(p),p.closed.subscribe(()=>this._removeOpenDialog(p,!0)),this.afterOpened.next(p),p}closeAll(){Kx(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){Kx(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),Kx(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const r=new nm({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,s){const c=s.injector||s.viewContainerRef?.injector,h=[{provide:qh,useValue:s},{provide:Xb,useValue:r},{provide:im,useValue:t}];let p;s.container?"function"==typeof s.container?p=s.container:(p=s.container.type,h.push(...s.container.providers(s))):p=N_;const y=new em(p,s.viewContainerRef,a.zs3.create({parent:c||this._injector,providers:h}),s.componentFactoryResolver);return t.attach(y).instance}_attachDialogContent(t,r,s,c){if(t instanceof a.Rgc){const h=this._createInjector(c,r,s,void 0);let p={$implicit:c.data,dialogRef:r};c.templateContext&&(p={...p,..."function"==typeof c.templateContext?c.templateContext():c.templateContext}),s.attachTemplatePortal(new R_(t,null,p,h))}else{const h=this._createInjector(c,r,s,this._injector),p=s.attachComponentPortal(new em(t,c.viewContainerRef,h,c.componentFactoryResolver));r.componentRef=p,r.componentInstance=p.instance}}_createInjector(t,r,s,c){const h=t.injector||t.viewContainerRef?.injector,p=[{provide:Jb,useValue:t.data},{provide:Xb,useValue:r}];return t.providers&&("function"==typeof t.providers?p.push(...t.providers(r,t,s)):p.push(...t.providers)),t.direction&&(!h||!h.get(ms,null,{optional:!0}))&&p.push({provide:ms,useValue:{value:t.direction,change:(0,ut.of)()}}),a.zs3.create({parent:h||c,providers:p})}_removeOpenDialog(t,r){const s=this.openDialogs.indexOf(t);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((c,h)=>{c?h.setAttribute("aria-hidden",c):h.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let s=r.length-1;s>-1;s--){const c=r[s];c!==t&&"SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(Ls),a.LFG(a.zs3),a.LFG(uk,8),a.LFG(n,12),a.LFG(P_),a.LFG(qx))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),e})();function Kx(n,e){let i=n.length;for(;i--;)e(n[i])}let e0=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Yx,sd],imports:[rm,tm,SM,tm]}),e})();const fk=["text"],vk=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function yk(){return!0}});let xn=(()=>{var n;class e{constructor(t,r,s){this._sanityChecks=r,this._document=s,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!gb()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(yx),a.LFG(vk,8),a.LFG(re))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[M_,M_]}),e})();function n0(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=Tt(e)}constructor(...e){super(...e),this._disabled=!1}}}function sm(n,e){return class extends n{get color(){return this._color}set color(i){const t=i||this.defaultColor;t!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),t&&this._elementRef.nativeElement.classList.add(`mat-${t}`),this._color=t)}constructor(...i){super(...i),this.defaultColor=e,this.color=e}}}function Wh(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Tt(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function r0(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(i){this._tabIndex=null!=i?Fs(i):this.defaultTabIndex}constructor(...i){super(...i),this._tabIndex=e,this.defaultTabIndex=e}}}function s0(n){return class extends n{updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let Zh=(()=>{var n;class e{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();class XL{constructor(e,i,t,r=!1){this._renderer=e,this.element=i,this.config=t,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Tk=Rl({passive:!0,capture:!0});class Jx{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const i=Ns(e);i&&this._events.get(e.type)?.forEach((t,r)=>{(r===i||r.contains(i))&&t.forEach(s=>s.handleEvent(e))})}}addHandler(e,i,t,r){const s=this._events.get(i);if(s){const c=s.get(t);c?c.add(r):s.set(t,new Set([r]))}else this._events.set(i,new Map([[t,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,Tk)})}removeHandler(e,i,t){const r=this._events.get(e);if(!r)return;const s=r.get(i);s&&(s.delete(t),0===s.size&&r.delete(i),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Tk)))}}const o0={enterDuration:225,exitDuration:150},eD=Rl({passive:!0,capture:!0}),tD=["mousedown","touchstart"],Kh=["mouseup","mouseleave","touchend","touchcancel"];class Qh{constructor(e,i,t,r){this._target=e,this._ngZone=i,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=hi(t))}fadeInRipple(e,i,t={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...o0,...t.animation};t.centered&&(e=r.left+r.width/2,i=r.top+r.height/2);const c=t.radius||function a0(n,e,i){const t=Math.max(Math.abs(n-i.left),Math.abs(n-i.right)),r=Math.max(Math.abs(e-i.top),Math.abs(e-i.bottom));return Math.sqrt(t*t+r*r)}(e,i,r),h=e-r.left,p=i-r.top,y=s.enterDuration,x=document.createElement("div");x.classList.add("mat-ripple-element"),x.style.left=h-c+"px",x.style.top=p-c+"px",x.style.height=2*c+"px",x.style.width=2*c+"px",null!=t.color&&(x.style.backgroundColor=t.color),x.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(x);const S=window.getComputedStyle(x),H=S.transitionDuration,G="none"===S.transitionProperty||"0s"===H||"0s, 0s"===H||0===r.width&&0===r.height,Q=new XL(this,x,t,G);x.style.transform="scale3d(1, 1, 1)",Q.state=0,t.persistent||(this._mostRecentTransientRipple=Q);let ee=null;return!G&&(y||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ke=()=>this._finishRippleTransition(Q),Ge=()=>this._destroyRipple(Q);x.addEventListener("transitionend",ke),x.addEventListener("transitioncancel",Ge),ee={onTransitionEnd:ke,onTransitionCancel:Ge}}),this._activeRipples.set(Q,ee),(G||!y)&&this._finishRippleTransition(Q),Q}fadeOutRipple(e){if(2===e.state||3===e.state)return;const i=e.element,t={...o0,...e.config.animation};i.style.transitionDuration=`${t.exitDuration}ms`,i.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!t.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const i=hi(e);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,tD.forEach(t=>{Qh._eventManager.addHandler(this._ngZone,t,i,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Kh.forEach(i=>{this._triggerElement.addEventListener(i,this,eD)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const i=e===this._mostRecentTransientRipple,{persistent:t}=e.config;e.state=1,!t&&(!i||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const i=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==i&&(e.element.removeEventListener("transitionend",i.onTransitionEnd),e.element.removeEventListener("transitioncancel",i.onTransitionCancel)),e.element.remove()}_onMousedown(e){const i=Zp(e),t=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!i&&!t&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Yp(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const i=e.changedTouches;if(i)for(let t=0;t<i.length;t++)this.fadeInRipple(i[t].clientX,i[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(tD.forEach(i=>Qh._eventManager.removeHandler(i,e,this)),this._pointerUpEventsRegistered&&Kh.forEach(i=>e.removeEventListener(i,this,eD)))}}Qh._eventManager=new Jx;const _a=new a.OlP("mat-ripple-global-options");let Mc=(()=>{var n;class e{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,s,c,h){this._elementRef=t,this._animationMode=h,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new Qh(this,r,t,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,s){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...s}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(wi),a.Y36(_a,8),a.Y36(a.QbO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&a.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),e})(),kc=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[xn,xn]}),e})(),Mk=(()=>{var n;class e{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(t,r){2&t&&a.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(t,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),e})(),JL=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[xn]}),e})();const nD=new a.OlP("MAT_OPTION_PARENT_COMPONENT"),iD=new a.OlP("MatOptgroup");let V_=0;class rD{constructor(e,i=!1){this.source=e,this.isUserInput=i}}let kk=(()=>{var n;class e{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Tt(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(t,r,s,c){this._element=t,this._changeDetectorRef=r,this._parent=s,this.group=c,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+V_++,this.onSelectionChange=new a.vpe,this._stateChanges=new Xe.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(t=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}deselect(t=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}focus(t,r){const s=this._getHostElement();"function"==typeof s.focus&&s.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!Uo(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new rD(this,t))}}return(n=e).\u0275fac=function(t){a.$Z()},n.\u0275dir=a.lG2({type:n,viewQuery:function(t,r){if(1&t&&a.Gf(fk,7),2&t){let s;a.iGM(s=a.CRH())&&(r._text=s.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),e})();function om(n,e,i){if(i.length){let t=e.toArray(),r=i.toArray(),s=0;for(let c=0;c<n+1;c++)t[c].group&&t[c].group===r[s]&&s++;return s}return 0}class c0{}class sD{}const ya="*";function va(n,e){return{type:7,name:n,definitions:e,options:{}}}function Bs(n,e=null){return{type:4,styles:e,timings:n}}function u0(n,e=null){return{type:3,steps:n,options:e}}function d0(n,e=null){return{type:2,steps:n,options:e}}function ii(n){return{type:6,styles:n,offset:null}}function fo(n,e,i){return{type:0,name:n,styles:e,options:i}}function Sr(n,e,i=null){return{type:1,expr:n,animation:e,options:i}}function Xh(n=null){return{type:9,options:n}}function U_(n,e,i=null){return{type:11,selector:n,animation:e,options:i}}class am{constructor(e=0,i=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const i="start"==e?this._onStartFns:this._onDoneFns;i.forEach(t=>t()),i.length=0}}class lD{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let i=0,t=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++i==s&&this._onFinish()}),c.onDestroy(()=>{++t==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const i=e*this.totalTime;this.players.forEach(t=>{const r=t.totalTime?Math.min(1,i/t.totalTime):1;t.setPosition(r)})}getPosition(){const e=this.players.reduce((i,t)=>null===i||t.totalTime>i.totalTime?t:i,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const i="start"==e?this._onStartFns:this._onDoneFns;i.forEach(t=>t()),i.length=0}}class lm{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}let uD=(()=>{var n;class e extends N_{constructor(t,r,s,c,h,p,y,x){super(t,r,s,c,h,p,y,x),this._animationStateChanged=new a.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(x_),a.Y36(re,8),a.Y36(lm),a.Y36(Bh),a.Y36(a.R0b),a.Y36(im),a.Y36(Xa))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],features:[a.qOj],decls:0,vars:0,template:function(t,r){},encapsulation:2}),e})();class gs{constructor(e,i,t){this._ref=e,this._containerInstance=t,this._afterOpened=new Xe.x,this._beforeClosed=new Xe.x,this._state=0,this.disableClose=i.disableClose,this.id=e.id,t._animationStateChanged.pipe(tn(r=>"opened"===r.state),Cn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(tn(r=>"closed"===r.state),Cn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Ir.T)(this.backdropClick(),this.keydownEvents().pipe(tn(r=>27===r.keyCode&&!this.disableClose&&!Uo(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),od(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(tn(i=>"closing"===i.state),Cn(1)).subscribe(i=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let i=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?i.left(e.left):i.right(e.right):i.centerHorizontally(),e&&(e.top||e.bottom)?e.top?i.top(e.top):i.bottom(e.bottom):i.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",i=""){return this._ref.updateSize(e,i),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function od(n,e,i){return n._closeInteractionType=e,n.close(i)}let g2=0,_2=(()=>{var n;class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,r,s,c,h,p,y,x,S,N){this._overlay=t,this._defaultOptions=s,this._parentDialog=c,this._dialogRefConstructor=y,this._dialogContainerType=x,this._dialogDataToken=S,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Xe.x,this._afterOpenedAtThisLevel=new Xe.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=lm,this.afterAllClosed=_c(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ni(void 0))),this._scrollStrategy=p,this._dialog=r.get(Yx)}open(t,r){let s;(r={...this._defaultOptions||new lm,...r}).id=r.id||`${this._idPrefix}${g2++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const c=this._dialog.open(t,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:qh,useValue:r}]},templateContext:()=>({dialogRef:s}),providers:(h,p,y)=>(s=new this._dialogRefConstructor(h,r,y),s.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:y},{provide:this._dialogDataToken,useValue:p.data},{provide:this._dialogRefConstructor,useValue:s}])});return s.componentRef=c.componentRef,s.componentInstance=c.componentInstance,this.openDialogs.push(s),this.afterOpened.next(s),s.afterClosed().subscribe(()=>{const h=this.openDialogs.indexOf(s);h>-1&&(this.openDialogs.splice(h,1),this.openDialogs.length||this._getAfterAllClosed().next())}),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return(n=e).\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),e})();const z_={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},h0={dialogContainer:va("dialogContainer",[fo("void, exit",ii({opacity:0,transform:"scale(0.7)"})),fo("enter",ii({transform:"none"})),Sr("* => enter",u0([Bs("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",ii({transform:"none",opacity:1})),U_("@*",Xh(),{optional:!0})]),z_),Sr("* => void, * => exit",u0([Bs("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",ii({opacity:0})),U_("@*",Xh(),{optional:!0})]),z_)])};function fD(n,e){}const pD_params_enterAnimationDuration="150ms",pD_params_exitAnimationDuration="75ms";class cm extends lm{constructor(){super(...arguments),this.enterAnimationDuration=z_.params.enterAnimationDuration,this.exitAnimationDuration=z_.params.exitAnimationDuration}}let f0=(()=>{var n;class e extends uD{_onAnimationDone({toState:t,totalTime:r}){"enter"===t?this._openAnimationDone(r):"exit"===t&&this._animationStateChanged.next({state:"closed",totalTime:r})}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}constructor(t,r,s,c,h,p,y,x,S){super(t,r,s,c,h,p,y,S),this._changeDetectorRef=x,this._state="enter"}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||pD_params_enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||pD_params_exitAnimationDuration}}}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(x_),a.Y36(re,8),a.Y36(cm),a.Y36(Bh),a.Y36(a.R0b),a.Y36(im),a.Y36(a.sBO),a.Y36(Xa))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(t,r){1&t&&a.WFA("@dialogContainer.start",function(c){return r._onAnimationStart(c)})("@dialogContainer.done",function(c){return r._onAnimationDone(c)}),2&t&&(a.Ikx("id",r._config.id),a.uIk("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),a.d8E("@dialogContainer",r._getAnimationState()))},features:[a.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&a.YNc(0,fD,0,0,"ng-template",0)},dependencies:[$h],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[h0.dialogContainer]}}),e})();class um extends gs{}const Jh=new a.OlP("MatDialogData"),$k=new a.OlP("mat-dialog-default-options"),p0=new a.OlP("mat-dialog-scroll-strategy"),Gk={provide:p0,deps:[Ls],useFactory:function ef(n){return()=>n.scrollStrategies.block()}};let ad=(()=>{var n;class e extends _2{constructor(t,r,s,c,h,p,y,x){super(t,r,c,p,y,h,um,f0,Jh,x),this.dialogConfigClass=cm}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(Ls),a.LFG(a.zs3),a.LFG(Ke,8),a.LFG($k,8),a.LFG(p0),a.LFG(n,12),a.LFG(P_),a.LFG(a.QbO,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),e})(),gD=(()=>{var n;class e{constructor(t,r,s){this.dialogRef=t,this._elementRef=r,this._dialog=s,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function Wk(n,e){let i=n.nativeElement.parentElement;for(;i&&!i.classList.contains("mat-dialog-container");)i=i.parentElement;return i?e.find(t=>t.id===i.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const r=t._matDialogClose||t._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(t){od(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(um,8),a.Y36(a.SBq),a.Y36(ad))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,r){1&t&&a.NdJ("click",function(c){return r._onButtonClick(c)}),2&t&&a.uIk("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[a.TTD]}),e})(),qk=(()=>{var n;class e{constructor(){this.align="start"}}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(t,r){2&t&&a.ekj("mat-dialog-actions-align-center","center"===r.align)("mat-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"}}),e})(),Zk=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[ad,Gk],imports:[e0,rm,tm,xn,xn]}),e})();var Rn=B(8186),$_=B(3182),Rc=B(6878),an=B(9058),Ho=B(534),ld=B(7879),G_=B(4537);const s1=(0,Rn.u3)(Rc.a8,!0),Oc=(0,Rn.u3)(Rc.o,!0),u1=(0,Rn.u3)(Rc.a9,!0),SD=(0,Rn.u3)(Rc.B,!0);var nf=B(3093),_0=B(4552);class y1 extends Xe.x{constructor(e=1/0,i=1/0,t=_0.l){super(),this._bufferSize=e,this._windowTime=i,this._timestampProvider=t,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=i===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,i)}next(e){const{isStopped:i,_buffer:t,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;i||(t.push(e),!r&&t.push(s.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const i=this._innerSubscribe(e),{_infiniteTimeWindow:t,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!e.closed;c+=t?1:2)e.next(s[c]);return this._checkFinalizedStatuses(e),i}_trimBuffer(){const{_bufferSize:e,_timestampProvider:i,_buffer:t,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<t.length&&t.splice(0,t.length-s),!r){const c=i.now();let h=0;for(let p=1;p<t.length&&t[p]<=c;p+=2)h=p;h&&t.splice(0,h+1)}}}var v1=B(3020);function y0(n,e,i){let t,r=!1;return n&&"object"==typeof n?({bufferSize:t=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:i}=n):t=n??1/0,(0,v1.B)({connector:()=>new y1(t,e,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function AD(n,e){return(0,Cr.m)(e)?(0,Pn.w)(()=>n,e):(0,Pn.w)(()=>n)}var v0=B(5137),jo=B(6304),ve=B(5861);const Y_=new Map,b1={activated:!1,tokenObservers:[]},MD={initialized:!1,enabled:!1};function Ti(n){return Y_.get(n)||Object.assign({},b1)}function b0(){return MD}const dm="https://content-firebaseappcheck.googleapis.com/v1",w1="exchangeDebugToken",w0={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class rf{constructor(e,i,t,r,s){if(this.operation=e,this.retryPolicy=i,this.getWaitDuration=t,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var i=this;return(0,ve.Z)(function*(){i.stop();try{i.pending=new an.BH,yield function K_(n){return new Promise(e=>{setTimeout(e,n)})}(i.getNextRun(e)),i.pending.resolve(),yield i.pending.promise,i.pending=new an.BH,yield i.operation(),i.pending.resolve(),yield i.pending.promise,i.process(!0).catch(()=>{})}catch(t){i.retryPolicy(t)?i.process(!1).catch(()=>{}):i.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const i=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),i}}}const Tr=new an.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function C0(n){if(!Ti(n).activated)throw Tr.create("use-before-activation",{appName:n.name})}function X_(n,e){return E0.apply(this,arguments)}function E0(){return(E0=(0,ve.Z)(function*({url:n,body:e},i){const t={"Content-Type":"application/json"},r=i.getImmediate({optional:!0});if(r){const S=yield r.getHeartbeatsHeader();S&&(t["X-Firebase-Client"]=S)}const s={method:"POST",body:JSON.stringify(e),headers:t};let c,h;try{c=yield fetch(n,s)}catch(S){throw Tr.create("fetch-network-error",{originalErrorMessage:S?.message})}if(200!==c.status)throw Tr.create("fetch-status-error",{httpStatus:c.status});try{h=yield c.json()}catch(S){throw Tr.create("fetch-parse-error",{originalErrorMessage:S?.message})}const p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw Tr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const y=1e3*Number(p[1]),x=Date.now();return{token:h.token,expireTimeMillis:x+y,issuedAtTimeMillis:x}})).apply(this,arguments)}function E1(n,e){const{projectId:i,appId:t,apiKey:r}=n.options;return{url:`${dm}/projects/${i}/apps/${t}:${w1}?key=${r}`,body:{debug_token:e}}}const LD="firebase-app-check-database",x1=1,fm="firebase-app-check-store";let x0=null;function D0(){return(D0=(0,ve.Z)(function*(n,e){const t=(yield function D1(){return x0||(x0=new Promise((n,e)=>{try{const i=indexedDB.open(LD,x1);i.onsuccess=t=>{n(t.target.result)},i.onerror=t=>{var r;e(Tr.create("storage-open",{originalErrorMessage:null===(r=t.target.error)||void 0===r?void 0:r.message}))},i.onupgradeneeded=t=>{0===t.oldVersion&&t.target.result.createObjectStore(fm,{keyPath:"compositeKey"})}}catch(i){e(Tr.create("storage-open",{originalErrorMessage:i?.message}))}}),x0)}()).transaction(fm,"readwrite"),s=t.objectStore(fm).put({compositeKey:n,value:e});return new Promise((c,h)=>{s.onsuccess=p=>{c()},t.onerror=p=>{var y;h(Tr.create("storage-set",{originalErrorMessage:null===(y=p.target.error)||void 0===y?void 0:y.message}))}})})).apply(this,arguments)}const sf=new ld.Yd("@firebase/app-check");function S0(n,e){return(0,an.hl)()?function nB(n,e){return function pm(n,e){return D0.apply(this,arguments)}(function Pc(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(i=>{sf.warn(`Failed to write token to IndexedDB. Error: ${i}`)}):Promise.resolve()}function af(){return b0().enabled}function UD(){return HD.apply(this,arguments)}function HD(){return(HD=(0,ve.Z)(function*(){const n=b0();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const jD={error:"UNKNOWN_ERROR"};function S1(n){return an.US.encodeString(JSON.stringify(n),!1)}function ey(n){return A0.apply(this,arguments)}function A0(){return(A0=(0,ve.Z)(function*(n,e=!1){const i=n.app;C0(i);const t=Ti(i);let s,r=t.token;if(r&&!Nc(r)&&(t.token=void 0,r=void 0),!r){const p=yield t.cachedTokenPromise;p&&(Nc(p)?r=p:yield S0(i,void 0))}if(!e&&r&&Nc(r))return{token:r.token};let h,c=!1;if(af()){t.exchangeTokenPromise||(t.exchangeTokenPromise=X_(E1(i,yield UD()),n.heartbeatServiceProvider).finally(()=>{t.exchangeTokenPromise=void 0}),c=!0);const p=yield t.exchangeTokenPromise;return yield S0(i,p),t.token=p,{token:p.token}}try{t.exchangeTokenPromise||(t.exchangeTokenPromise=t.provider.getToken().finally(()=>{t.exchangeTokenPromise=void 0}),c=!0),r=yield Ti(i).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?sf.warn(p.message):sf.error(p),s=p}return r?s?h=Nc(r)?{token:r.token,internalError:s}:A1(s):(h={token:r.token},t.token=r,yield S0(i,r)):h=A1(s),c&&function M0(n,e){const i=Ti(n).tokenObservers;for(const t of i)try{"EXTERNAL"===t.type&&null!=e.error?t.error(e.error):t.next(e)}catch{}}(i,h),h})).apply(this,arguments)}function zD(n){return ty.apply(this,arguments)}function ty(){return(ty=(0,ve.Z)(function*(n){const e=n.app;C0(e);const{provider:i}=Ti(e);if(af()){const t=yield UD(),{token:r}=yield X_(E1(e,t),n.heartbeatServiceProvider);return{token:r}}{const{token:t}=yield i.getToken();return{token:t}}})).apply(this,arguments)}function iy(n,e){const i=Ti(n),t=i.tokenObservers.filter(r=>r.next!==e);0===t.length&&i.tokenRefresher&&i.tokenRefresher.isRunning()&&i.tokenRefresher.stop(),i.tokenObservers=t}function $D(n){const{app:e}=n,i=Ti(e);let t=i.tokenRefresher;t||(t=function T1(n){const{app:e}=n;return new rf((0,ve.Z)(function*(){let t;if(t=Ti(e).token?yield ey(n,!0):yield ey(n),t.error)throw t.error;if(t.internalError)throw t.internalError}),()=>!0,()=>{const i=Ti(e);if(i.token){let t=i.token.issuedAtTimeMillis+.5*(i.token.expireTimeMillis-i.token.issuedAtTimeMillis)+3e5;return t=Math.min(t,i.token.expireTimeMillis-3e5),Math.max(0,t-Date.now())}return 0},w0.RETRIAL_MIN_WAIT,w0.RETRIAL_MAX_WAIT)}(n),i.tokenRefresher=t),!t.isRunning()&&i.isTokenAutoRefreshEnabled&&t.start()}function Nc(n){return n.expireTimeMillis-Date.now()>0}function A1(n){return{token:S1(jD),error:n}}class GD{constructor(e,i){this.app=e,this.heartbeatServiceProvider=i}_delete(){const{tokenObservers:e}=Ti(this.app);for(const i of e)iy(this.app,i.next);return Promise.resolve()}}const H1="app-check-internal";!function uB(){(0,Ho._registerComponent)(new G_.wA("app-check",n=>function k0(n,e){return new GD(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,i)=>{n.getProvider(H1).initialize()})),(0,Ho._registerComponent)(new G_.wA(H1,n=>function M1(n){return{getToken:e=>ey(n,e),getLimitedUseToken:()=>zD(n),addTokenListener:e=>function ny(n,e,i,t){const{app:r}=n,s=Ti(r);if(s.tokenObservers=[...s.tokenObservers,{next:i,error:t,type:e}],s.token&&Nc(s.token)){const h=s.token;Promise.resolve().then(()=>{i({token:h.token}),$D(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>$D(n))}(n,"INTERNAL",e),removeTokenListener:e=>iy(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ho.registerVersion)("@firebase/app-check","0.8.0")}();class YD{constructor(){return(0,Rn.vb)("app-check")}}typeof window<"u"&&window;var d=B(7142);const m=new a.OlP("angularfire2.auth.use-emulator"),v=new a.OlP("angularfire2.auth.settings"),b=new a.OlP("angularfire2.auth.tenant-id"),D=new a.OlP("angularfire2.auth.langugage-code"),T=new a.OlP("angularfire2.auth.use-device-language"),k=new a.OlP("angularfire.auth.persistence"),U=(n,e,i,t,r,s,c,h)=>(0,jo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(i&&p.useEmulator(...i),t&&(p.tenantId=t),p.languageCode=r,s&&p.useDeviceLanguage(),c)for(const[y,x]of Object.entries(c))p.settings[y]=x;return h&&p.setPersistence(h),p},[i,t,r,s,c,h]);let Y=(()=>{class n{constructor(i,t,r,s,c,h,p,y,x,S,N,H){const G=new Xe.x,Q=(0,ut.of)(void 0).pipe((0,nf.Q)(c.outsideAngular),(0,Pn.w)(()=>s.runOutsideAngular(()=>Promise.resolve().then(B.bind(B,6365)))),(0,dt.U)(()=>(0,jo.on)(i,s,t)),(0,dt.U)(ee=>U(ee,s,h,y,x,S,p,N)),y0({bufferSize:1,refCount:!1}));if(Pr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ut.of)(null);else{Q.pipe(Er()).subscribe();const ke=Q.pipe((0,Pn.w)(Ye=>Ye.getRedirectResult().then(It=>It,()=>null)),Rn.iC,y0({bufferSize:1,refCount:!1})),Ge=Q.pipe((0,Pn.w)(Ye=>new An.y(It=>({unsubscribe:s.runOutsideAngular(()=>Ye.onAuthStateChanged(kt=>It.next(kt),kt=>It.error(kt),()=>It.complete()))})))),ze=Q.pipe((0,Pn.w)(Ye=>new An.y(It=>({unsubscribe:s.runOutsideAngular(()=>Ye.onIdTokenChanged(kt=>It.next(kt),kt=>It.error(kt),()=>It.complete()))}))));this.authState=ke.pipe(AD(Ge),(0,v0.R)(c.outsideAngular),(0,nf.Q)(c.insideAngular)),this.user=ke.pipe(AD(ze),(0,v0.R)(c.outsideAngular),(0,nf.Q)(c.insideAngular)),this.idToken=this.user.pipe((0,Pn.w)(Ye=>Ye?(0,wn.D)(Ye.getIdToken()):(0,ut.of)(null))),this.idTokenResult=this.user.pipe((0,Pn.w)(Ye=>Ye?(0,wn.D)(Ye.getIdTokenResult()):(0,ut.of)(null))),this.credential=(0,Ir.T)(ke,G,this.authState.pipe(tn(Ye=>!Ye))).pipe((0,dt.U)(Ye=>Ye?.user?Ye:null),(0,v0.R)(c.outsideAngular),(0,nf.Q)(c.insideAngular))}return(0,jo.pX)(this,Q,s,{spy:{apply:(ee,ke,Ge)=>{(ee.startsWith("signIn")||ee.startsWith("createUser"))&&Ge.then(ze=>G.next(ze))}}})}}return n.\u0275fac=function(i){return new(i||n)(a.LFG(jo.Dh),a.LFG(jo.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Rn.HU),a.LFG(m,8),a.LFG(v,8),a.LFG(b,8),a.LFG(D,8),a.LFG(T,8),a.LFG(k,8),a.LFG(YD,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),we=(()=>{var n;class e{constructor(t,r,s,c){ue(this,"afAuth",void 0),ue(this,"route",void 0),ue(this,"zone",void 0),ue(this,"activeRoute",void 0),ue(this,"authStatusSub",new lr.X(this.getUserProfile)),ue(this,"currentAuthStatus",this.authStatusSub.asObservable()),ue(this,"currentPath",this.route?.url),this.afAuth=t,this.route=r,this.zone=s,this.activeRoute=c,this.detectUserStatusChange()}SignUp(t,r){return this.afAuth.createUserWithEmailAndPassword(t,r).then(s=>{window.alert("You have been successfully registered!"),console.log(s.user)}).catch(s=>{this.ShowError(s)})}SignIn(t,r){return this.afAuth.signInWithEmailAndPassword(t,r).then(s=>{console.log(s)}).catch(s=>{this.ShowError(s)})}signUpEmailPassword(t,r){const s=Oc();s1(s,t,r).then(c=>{const h=c.user;window.alert("create user ok: "+h.email),console.log("create user ok"+h.email)}).catch(c=>{this.ShowError(c)})}loginWithEmailPassword(t,r){const s=Oc();u1(s,t,r).then(c=>{console.log("Successfully logged in"+c.user.email),this.StartApp()}).catch(c=>{this.ShowError(c)})}loginWithGoogle(){const t=new Rc.V,r=Oc();(0,Rc.c)(r,t).then(s=>{const c=Rc.V.credentialFromResult(s);if(!c)return;const h=c.accessToken,p=s.user;console.log("token"),console.log(h),console.log("user"),console.log(p),this.StartApp()}).catch(s=>{const h=s.message;Rc.V.credentialFromError(s),console.log("error"),alert(h)}).finally(()=>{this.StartApp()})}logout(){const t=Oc();confirm("Sure to log out? ")&&SD(t).then(()=>{this.navigatePage("signIn",!0)}).catch(r=>{this.ShowError(r)})}detectUserStatusChange(){const t=Oc();(0,Rc.x)(t,r=>{this.navigatePage(r?this.currentPath:"signin",!1)})}navigatePage(t,r,s){Oc().currentUser?(this.zone.run(s?()=>{this.route.navigate([s,t])}:()=>{this.route.navigate(["/"+t])}),this.currentPath=t,console.log("path: "+this.currentPath)):(r?window.alert("Sucessfullly logged out."):window.alert("Please sign in first."),this.zone.run(()=>{this.route.navigate(["/signIn"])}))}reAuthUser(){Oc(),function Ue(){throw new Error("Function not implemented.")}()}getAuthStatus(){return null!==this.getUserProfile()}getUserProfile(){const t=Oc(),r=t.currentUser;return console.log("auth.currentUser"),console.log(t.currentUser),r}StartApp(){this.navigatePage("project-management",!1,void 0)}ShowError(t){const r=t.code,s=t.message;window.alert(r+": "+s),console.log(r+": "+s)}}return n=e,ue(e,"\u0275fac",function(t){return new(t||n)(a.LFG(Y),a.LFG(qr),a.LFG(a.R0b),a.LFG(wc))}),ue(e,"\u0275prov",a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),e})();const st=["mat-button",""],Ct=["*"],rn=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Nn=sm(n0(Wh(class{constructor(n){this._elementRef=n}})));let fi=(()=>{var n;class e extends Nn{constructor(t,r,s){super(t),this._focusMonitor=r,this._animationMode=s,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const c of rn)this._hasHostAttributes(c)&&this._getHostElement().classList.add(c);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(Xa),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&a.Gf(Mc,5),2&t){let s;a.iGM(s=a.CRH())&&(r.ripple=s.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(a.uIk("disabled",r.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:st,ngContentSelectors:Ct,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1)(3,"span",2)),2&t&&(a.xp6(2),a.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),a.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[Mc],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.mat-datepicker-toggle .mat-mdc-button-base{width:40px;height:40px;padding:8px 0}.mat-datepicker-actions .mat-button-base+.mat-button-base{margin-left:8px}[dir=rtl] .mat-datepicker-actions .mat-button-base+.mat-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0}),e})(),Lc=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[kc,xn,xn]}),e})();const vB=new a.OlP("MatError"),r5=new a.OlP("MatPrefix"),s5=new a.OlP("MatSuffix"),o5={transitionMessages:va("transitionMessages",[fo("enter",ii({opacity:1,transform:"translateY(0%)"})),Sr("void => enter",[ii({opacity:0,transform:"translateY(-5px)"}),Bs("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ay=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n}),e})();const XD=new a.OlP("MatFormField"),a5=["connectionContainer"],l5=["inputContainer"],c5=["label"];function u5(n,e){1&n&&(a.ynx(0),a.TgZ(1,"div",14),a._UZ(2,"div",15)(3,"div",16)(4,"div",17),a.qZA(),a.TgZ(5,"div",18),a._UZ(6,"div",15)(7,"div",16)(8,"div",17),a.qZA(),a.BQk())}function d5(n,e){if(1&n){const i=a.EpF();a.TgZ(0,"div",19),a.NdJ("cdkObserveContent",function(){a.CHM(i);const r=a.oxw();return a.KtG(r.updateOutlineGap())}),a.Hsn(1,1),a.qZA()}if(2&n){const i=a.oxw();a.Q6J("cdkObserveContentDisabled","outline"!=i.appearance)}}function h5(n,e){if(1&n&&(a.ynx(0),a.Hsn(1,2),a.TgZ(2,"span"),a._uU(3),a.qZA(),a.BQk()),2&n){const i=a.oxw(2);a.xp6(3),a.Oqu(i._control.placeholder)}}function f5(n,e){1&n&&a.Hsn(0,3,["*ngSwitchCase","true"])}function p5(n,e){1&n&&(a.TgZ(0,"span",23),a._uU(1," *"),a.qZA())}function m5(n,e){if(1&n){const i=a.EpF();a.TgZ(0,"label",20,21),a.NdJ("cdkObserveContent",function(){a.CHM(i);const r=a.oxw();return a.KtG(r.updateOutlineGap())}),a.YNc(2,h5,4,1,"ng-container",12),a.YNc(3,f5,1,0,"ng-content",12),a.YNc(4,p5,2,0,"span",22),a.qZA()}if(2&n){const i=a.oxw();a.ekj("mat-empty",i._control.empty&&!i._shouldAlwaysFloat())("mat-form-field-empty",i._control.empty&&!i._shouldAlwaysFloat())("mat-accent","accent"==i.color)("mat-warn","warn"==i.color),a.Q6J("cdkObserveContentDisabled","outline"!=i.appearance)("id",i._labelId)("ngSwitch",i._hasLabel()),a.uIk("for",i._control.id)("aria-owns",i._control.id),a.xp6(2),a.Q6J("ngSwitchCase",!1),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngIf",!i.hideRequiredMarker&&i._control.required&&!i._control.disabled)}}function g5(n,e){1&n&&(a.TgZ(0,"div",24),a.Hsn(1,4),a.qZA())}function _5(n,e){if(1&n&&(a.TgZ(0,"div",25),a._UZ(1,"span",26),a.qZA()),2&n){const i=a.oxw();a.xp6(1),a.ekj("mat-accent","accent"==i.color)("mat-warn","warn"==i.color)}}function y5(n,e){if(1&n&&(a.TgZ(0,"div"),a.Hsn(1,5),a.qZA()),2&n){const i=a.oxw();a.Q6J("@transitionMessages",i._subscriptAnimationState)}}function v5(n,e){if(1&n&&(a.TgZ(0,"div",30),a._uU(1),a.qZA()),2&n){const i=a.oxw(2);a.Q6J("id",i._hintLabelId),a.xp6(1),a.Oqu(i.hintLabel)}}function b5(n,e){if(1&n&&(a.TgZ(0,"div",27),a.YNc(1,v5,2,2,"div",28),a.Hsn(2,6),a._UZ(3,"div",29),a.Hsn(4,7),a.qZA()),2&n){const i=a.oxw();a.Q6J("@transitionMessages",i._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",i.hintLabel)}}const w5=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],C5=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let E5=0,j1=(()=>{var n;class e{constructor(t,r){this.id="mat-error-"+E5++,t||r.nativeElement.setAttribute("aria-live","polite")}}return(n=e).\u0275fac=function(t){return new(t||n)(a.$8M("aria-live"),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,r){2&t&&a.uIk("id",r.id)},inputs:{id:"id"},features:[a._Bn([{provide:vB,useExisting:n}])]}),e})();const x5=new a.OlP("MatHint");let ym=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-label"]]}),e})(),D5=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-placeholder"]]}),e})(),bB=0;const S5=sm(class{constructor(n){this._elementRef=n}},"primary"),T5=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let ly=(()=>{var n;class e extends S5{get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults?.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Tt(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}constructor(t,r,s,c,h,p,y){super(t),this._changeDetectorRef=r,this._dir=s,this._defaults=c,this._platform=h,this._ngZone=p,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Xe.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+bB++,this._labelId="mat-form-field-label-"+bB++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==y,this.appearance=c?.appearance||"legacy",c&&(this._hideRequiredMarker=!!c.hideRequiredMarker,c.color&&(this.color=this.defaultColor=c.color))}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(ni(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(En(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(En(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Ir.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ni(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ni(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(En(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Vh(this._label.nativeElement,"transitionend").pipe(Cn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(c=>"start"===c.align):null,s=this._hintChildren?this._hintChildren.find(c=>"end"===c.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),s&&t.push(s.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,s=".mat-form-field-outline-start",c=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const S=r.querySelectorAll(`${s}, ${c}`);for(let N=0;N<S.length;N++)S[N].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let h=0,p=0;const y=r.querySelectorAll(s),x=r.querySelectorAll(c);if(this._label&&this._label.nativeElement.children.length){const S=r.getBoundingClientRect();if(0===S.width&&0===S.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const N=this._getStartEnd(S),H=t.children,G=this._getStartEnd(H[0].getBoundingClientRect());let Q=0;for(let ee=0;ee<H.length;ee++)Q+=H[ee].offsetWidth;h=Math.abs(G-N)-5,p=Q>0?.75*Q+10:0}for(let S=0;S<y.length;S++)y[S].style.width=`${h}px`;for(let S=0;S<x.length;S++)x[S].style.width=`${p}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(ms,8),a.Y36(T5,8),a.Y36(wi),a.Y36(a.R0b),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,s){if(1&t&&(a.Suo(s,ay,5),a.Suo(s,ay,7),a.Suo(s,ym,5),a.Suo(s,ym,7),a.Suo(s,D5,5),a.Suo(s,vB,5),a.Suo(s,x5,5),a.Suo(s,r5,5),a.Suo(s,s5,5)),2&t){let c;a.iGM(c=a.CRH())&&(r._controlNonStatic=c.first),a.iGM(c=a.CRH())&&(r._controlStatic=c.first),a.iGM(c=a.CRH())&&(r._labelChildNonStatic=c.first),a.iGM(c=a.CRH())&&(r._labelChildStatic=c.first),a.iGM(c=a.CRH())&&(r._placeholderChild=c.first),a.iGM(c=a.CRH())&&(r._errorChildren=c),a.iGM(c=a.CRH())&&(r._hintChildren=c),a.iGM(c=a.CRH())&&(r._prefixChildren=c),a.iGM(c=a.CRH())&&(r._suffixChildren=c)}},viewQuery:function(t,r){if(1&t&&(a.Gf(a5,7),a.Gf(l5,5),a.Gf(c5,5)),2&t){let s;a.iGM(s=a.CRH())&&(r._connectionContainerRef=s.first),a.iGM(s=a.CRH())&&(r._inputContainerRef=s.first),a.iGM(s=a.CRH())&&(r._label=s.first)}},hostAttrs:["ngSkipHydration","",1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&a.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:XD,useExisting:n}]),a.qOj],ngContentSelectors:C5,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(a.F$t(w5),a.TgZ(0,"div",0)(1,"div",1,2),a.NdJ("click",function(c){return r._control.onContainerClick(c)}),a.YNc(3,u5,9,0,"ng-container",3),a.YNc(4,d5,2,1,"div",4),a.TgZ(5,"div",5,6),a.Hsn(7),a.TgZ(8,"span",7),a.YNc(9,m5,5,16,"label",8),a.qZA()(),a.YNc(10,g5,2,0,"div",9),a.qZA(),a.YNc(11,_5,2,4,"div",10),a.TgZ(12,"div",11),a.YNc(13,y5,2,1,"div",12),a.YNc(14,b5,5,2,"div",13),a.qZA()()),2&t&&(a.xp6(3),a.Q6J("ngIf","outline"==r.appearance),a.xp6(1),a.Q6J("ngIf",r._prefixChildren.length),a.xp6(5),a.Q6J("ngIf",r._hasFloatingLabel()),a.xp6(1),a.Q6J("ngIf",r._suffixChildren.length),a.xp6(1),a.Q6J("ngIf","outline"!=r.appearance),a.xp6(1),a.Q6J("ngSwitch",r._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},dependencies:[Vn,Ys,Co,Mb],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}.mat-form-field .mat-form-field-prefix .mat-datepicker-toggle .mat-mdc-button-base,.mat-form-field .mat-form-field-suffix .mat-datepicker-toggle .mat-mdc-button-base{width:40px;height:40px;padding:8px 0}.mat-form-field .mat-datepicker-toggle .mat-mdc-icon-button .mat-icon{font-size:1em;display:inline-block;margin:-2px 0 1px}.mat-form-field-type-mat-date-range-input .mat-form-field-infix{width:200px}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle .mat-mdc-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle .mat-mdc-icon-button{font-size:inherit;width:1.5em;height:1.5em;padding:0}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle .mat-mdc-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle .mat-mdc-icon-button .mat-icon{line-height:1.5em;margin:0}.mat-form-field .mat-datepicker-toggle .mat-mdc-button-base{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-datepicker-toggle .mat-mdc-button-base{vertical-align:baseline}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[o5.transitionMessages]},changeDetection:0}),e})(),z1=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[_n,xn,hM,xn]}),e})();const CB=Rl({passive:!0});let A5=(()=>{var n;class e{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ms.E;const r=hi(t),s=this._monitoredElements.get(r);if(s)return s.subject;const c=new Xe.x,h="cdk-text-field-autofilled",p=y=>{"cdk-text-field-autofill-start"!==y.animationName||r.classList.contains(h)?"cdk-text-field-autofill-end"===y.animationName&&r.classList.contains(h)&&(r.classList.remove(h),this._ngZone.run(()=>c.next({target:y.target,isAutofilled:!1}))):(r.classList.add(h),this._ngZone.run(()=>c.next({target:y.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",p,CB),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:c,unlisten:()=>{r.removeEventListener("animationstart",p,CB)}}),c}stopMonitoring(t){const r=hi(t),s=this._monitoredElements.get(r);s&&(s.unlisten(),s.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(wi),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),EB=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),e})();const M5=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),k5=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let R5=0;const O5=s0(class{constructor(n,e,i,t){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=i,this.ngControl=t,this.stateChanges=new Xe.x}});let P5=(()=>{var n;class e extends O5{get disabled(){return this._disabled}set disabled(t){this._disabled=Tt(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Ps.required)??!1}set required(t){this._required=Tt(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&LE().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Tt(t)}constructor(t,r,s,c,h,p,y,x,S,N){super(p,c,h,s),this._elementRef=t,this._platform=r,this._autofillMonitor=x,this._formField=N,this._uid="mat-input-"+R5++,this.focused=!1,this.stateChanges=new Xe.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Q=>LE().has(Q)),this._iOSKeyupListener=Q=>{const ee=Q.target;!ee.value&&0===ee.selectionStart&&0===ee.selectionEnd&&(ee.setSelectionRange(1,1),ee.setSelectionRange(0,0))};const H=this._elementRef.nativeElement,G=H.nodeName.toLowerCase();this._inputValueAccessor=y||H,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&S.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===G,this._isTextarea="textarea"===G,this._isInFormField=!!N,this._isNativeSelect&&(this.controlType=H.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=t,t?r.setAttribute("placeholder",t):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){k5.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(wi),a.Y36(co,10),a.Y36(Vo,8),a.Y36(Xu,8),a.Y36(Zh),a.Y36(M5,10),a.Y36(A5),a.Y36(a.R0b),a.Y36(XD,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,r){1&t&&a.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(a.Ikx("id",r.id)("disabled",r.disabled)("required",r.required),a.uIk("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),a.ekj("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[a._Bn([{provide:ay,useExisting:n}]),a.qOj,a.TTD]}),e})(),L0=(()=>{var n;class e extends P5{constructor(){super(...arguments),this._legacyFormField=(0,a.f3M)(XD,{optional:!0})}_getPlaceholder(){const t=this._legacyFormField;return t&&"legacy"===t.appearance&&!t._hasLabel?.()?null:this.placeholder}}return(n=e).\u0275fac=function(){let i;return function(r){return(i||(i=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:15,hostBindings:function(t,r){2&t&&(a.uIk("data-placeholder",r.placeholder),a.ekj("mat-input-server",r._isServer)("mat-mdc-input-element",!1)("mat-mdc-form-field-textarea-control",!1)("mat-mdc-form-field-input-control",!1)("mdc-text-field__input",!1)("mat-mdc-native-select-inline",!1)("mat-native-select-inline",r._isInlineSelect()))},exportAs:["matInput"],features:[a._Bn([{provide:ay,useExisting:n}]),a.qOj]}),e})(),N5=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Zh],imports:[EB,z1,xn,EB,z1]}),e})(),F5=(()=>{var n;class e{constructor(t,r,s){ue(this,"dialog",void 0),ue(this,"authService",void 0),ue(this,"fb",void 0),ue(this,"isAuthenticated",void 0),ue(this,"profileForm",new kh({email:new Ml("",[Ps.required,Ps.email]),password:new Ml("",[Ps.required])})),ue(this,"dialogWidth","270px"),this.dialog=t,this.authService=r,this.fb=s}ngOnInit(){this.authService?.currentAuthStatus.subscribe(t=>this.isAuthenticated=t)}get emailControl(){return this.profileForm.get("email")}get passwordControl(){return this.profileForm.get("password")}signIn_v2(){this.authService.loginWithEmailPassword(this.emailControl.value,this.passwordControl.value)}signUp_v2(){this.authService.signUpEmailPassword(this.emailControl.value,this.passwordControl.value)}signInEmail(){}signUp(t,r){this.authService.signUpEmailPassword(t,r)}login(t,r){this.authService.loginWithEmailPassword(t,r)}loginWithGoogle(){this.authService.loginWithGoogle()}}return n=e,ue(e,"\u0275fac",function(t){return new(t||n)(a.Y36(ad),a.Y36(we),a.Y36(AA))}),ue(e,"\u0275cmp",a.Xpm({type:n,selectors:[["app-sign-in"]],decls:18,vars:1,consts:[["type","text/css","rel","stylesheet","href","https://www.gstatic.com/firebasejs/ui/6.0.1/firebase-ui-auth.css"],[1,"authBlock"],[3,"formGroup"],["id","theForm"],["matInput","","placeholder","Email","type","email","formControlName","email"],["matInput","","placeholder","Password","type","password","formControlName","password"],["mat-raised-button","","type","submit","id","SignIn",3,"click"],["mat-raised-button","","type","submit","id","SignUp",3,"click"],["mat-raised-button","","type","submit","id","Google",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"head"),a._UZ(1,"link",0),a.qZA(),a.TgZ(2,"div",1)(3,"form",2)(4,"div",3)(5,"div")(6,"mat-form-field"),a._UZ(7,"input",4),a.qZA()(),a.TgZ(8,"div")(9,"mat-form-field"),a._UZ(10,"input",5),a.qZA()(),a.TgZ(11,"div")(12,"button",6),a.NdJ("click",function(){return r.signIn_v2()}),a._uU(13,"Log In"),a.qZA(),a.TgZ(14,"button",7),a.NdJ("click",function(){return r.signUp_v2()}),a._uU(15,"Sign Up"),a.qZA(),a.TgZ(16,"button",8),a.NdJ("click",function(){return r.loginWithGoogle()}),a._uU(17,"Login with Google"),a.qZA()()()()()),2&t&&(a.xp6(3),a.Q6J("formGroup",r.profileForm))},dependencies:[fi,ly,L0,Qu,Ic,Sh,Th,Xu,n_],styles:["#theForm[_ngcontent-%COMP%]{margin:auto;padding-top:15vh;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content}"]})),e})();var JD=function(n){return n.Low="Low",n.Moderate="Moderate",n.High="High",n}(JD||{}),Bc=function(n){return n[n.NEW=1]="NEW",n[n.EDIT=2]="EDIT",n}(Bc||{}),ud=function(n){return n.UrgencyHigh="#dd2955",n.UrgencyModerate="#ec5c2b",n.UrgencyLow="#ecae00",n.CalmGreen="#ABC4AA",n.Diabled="#CDCDCD",n.Default="#F1F1F1",n.DarkBlue="#2024A1",n.CalligraphyBlue="#3743cd",n}(ud||{});class cy{constructor(){}static get ColorWheel(){return Object.entries(ud).map(([e,i])=>({name:e,color:i}))}static get RandomColor(){const e=Math.floor(Math.random()*cy.ColorWheel.length);return cy.ColorWheel[e].color}static getUrgentColor(e){if(!e)return ud.Default;switch(e){case JD.Low:return ud.UrgencyLow;case JD.Moderate:return ud.UrgencyModerate;case JD.High:return ud.UrgencyHigh;default:return ud.Default}}}class $1{}class dd{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(i=>{const t=i.indexOf(":");if(t>0){const r=i.slice(0,t),s=r.toLowerCase(),c=i.slice(t+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((i,t)=>{this.setHeaderEntries(t,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([i,t])=>{this.setHeaderEntries(i,t)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const i=this.headers.get(e.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,i){return this.clone({name:e,value:i,op:"a"})}set(e,i){return this.clone({name:e,value:i,op:"s"})}delete(e,i){return this.clone({name:e,value:i,op:"d"})}maybeSetNormalizedName(e,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,e)}init(){this.lazyInit&&(this.lazyInit instanceof dd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(i=>{this.headers.set(i,e.headers.get(i)),this.normalizedNames.set(i,e.normalizedNames.get(i))})}clone(e){const i=new dd;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof dd?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([e]),i}applyUpdate(e){const i=e.name.toLowerCase();switch(e.op){case"a":case"s":let t=e.value;if("string"==typeof t&&(t=[t]),0===t.length)return;this.maybeSetNormalizedName(e.name,i);const r=("a"===e.op?this.headers.get(i):void 0)||[];r.push(...t),this.headers.set(i,r);break;case"d":const s=e.value;if(s){let c=this.headers.get(i);if(!c)return;c=c.filter(h=>-1===s.indexOf(h)),0===c.length?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,c)}else this.headers.delete(i),this.normalizedNames.delete(i)}}setHeaderEntries(e,i){const t=(Array.isArray(i)?i:[i]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,t),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>e(this.normalizedNames.get(i),this.headers.get(i)))}}class L5{encodeKey(e){return xB(e)}encodeValue(e){return xB(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const V5=/%(\d[a-f0-9])/gi,U5={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xB(n){return encodeURIComponent(n).replace(V5,(e,i)=>U5[i]??e)}function eI(n){return`${n}`}class lf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new L5,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function B5(n,e){const i=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,h]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],p=i.get(c)||[];p.push(h),i.set(c,p)}),i}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(i=>{const t=e.fromObject[i],r=Array.isArray(t)?t.map(eI):[eI(t)];this.map.set(i,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const i=this.map.get(e);return i?i[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,i){return this.clone({param:e,value:i,op:"a"})}appendAll(e){const i=[];return Object.keys(e).forEach(t=>{const r=e[t];Array.isArray(r)?r.forEach(s=>{i.push({param:t,value:s,op:"a"})}):i.push({param:t,value:r,op:"a"})}),this.clone(i)}set(e,i){return this.clone({param:e,value:i,op:"s"})}delete(e,i){return this.clone({param:e,value:i,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const i=this.encoder.encodeKey(e);return this.map.get(e).map(t=>i+"="+this.encoder.encodeValue(t)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const i=new lf({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(e),i}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const i=("a"===e.op?this.map.get(e.param):void 0)||[];i.push(eI(e.value)),this.map.set(e.param,i);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const r=t.indexOf(eI(e.value));-1!==r&&t.splice(r,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class H5{constructor(){this.map=new Map}set(e,i){return this.map.set(e,i),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function DB(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function IB(n){return typeof Blob<"u"&&n instanceof Blob}function SB(n){return typeof FormData<"u"&&n instanceof FormData}class B0{constructor(e,i,t,r){let s;if(this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function j5(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==t?t:null,s=r):s=t,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new dd),this.context||(this.context=new H5),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=i;else{const h=i.indexOf("?");this.urlWithParams=i+(-1===h?"?":h<i.length-1?"&":"")+c}}else this.params=new lf,this.urlWithParams=i}serializeBody(){return null===this.body?null:DB(this.body)||IB(this.body)||SB(this.body)||function z5(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof lf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||SB(this.body)?null:IB(this.body)?this.body.type||null:DB(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof lf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const i=e.method||this.method,t=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,y=e.params||this.params;const x=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((S,N)=>S.set(N,e.setHeaders[N]),p)),e.setParams&&(y=Object.keys(e.setParams).reduce((S,N)=>S.set(N,e.setParams[N]),y)),new B0(i,t,s,{params:y,headers:p,context:x,reportProgress:h,responseType:r,withCredentials:c})}}var q1=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(q1||{});class $5{constructor(e,i=200,t="OK"){this.headers=e.headers||new dd,this.status=void 0!==e.status?e.status:i,this.statusText=e.statusText||t,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class V0 extends $5{constructor(e={}){super(e),this.type=q1.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new V0({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function W1(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Z1=(()=>{var n;class e{constructor(t){this.handler=t}request(t,r,s={}){let c;if(t instanceof B0)c=t;else{let y,x;y=s.headers instanceof dd?s.headers:new dd(s.headers),s.params&&(x=s.params instanceof lf?s.params:new lf({fromObject:s.params})),c=new B0(t,r,void 0!==s.body?s.body:null,{headers:y,context:s.context,params:x,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const h=(0,ut.of)(c).pipe(Po(y=>this.handler.handle(y)));if(t instanceof B0||"events"===s.observe)return h;const p=h.pipe(tn(y=>y instanceof V0));switch(s.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return p.pipe((0,dt.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return p.pipe((0,dt.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return p.pipe((0,dt.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return p.pipe((0,dt.U)(y=>y.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new lf).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,s={}){return this.request("PATCH",t,W1(s,r))}post(t,r,s={}){return this.request("POST",t,W1(s,r))}put(t,r,s={}){return this.request("PUT",t,W1(s,r))}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG($1))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),e})();const u$=["*"];let iI;function U0(n){return function d$(){if(void 0===iI&&(iI=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(iI=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return iI}()?.createHTML(n)||n}function LB(n){return Error(`Unable to find icon with the name "${n}"`)}function BB(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function VB(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class bm{constructor(e,i,t){this.url=e,this.svgText=i,this.options=t}}let rI=(()=>{var n;class e{constructor(t,r,s,c){this._httpClient=t,this._sanitizer=r,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=s}addSvgIcon(t,r,s){return this.addSvgIconInNamespace("",t,r,s)}addSvgIconLiteral(t,r,s){return this.addSvgIconLiteralInNamespace("",t,r,s)}addSvgIconInNamespace(t,r,s,c){return this._addSvgIconConfig(t,r,new bm(s,null,c))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,s,c){const h=this._sanitizer.sanitize(a.q3G.HTML,s);if(!h)throw VB(s);const p=U0(h);return this._addSvgIconConfig(t,r,new bm("",p,c))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,s){return this._addSvgIconSetConfig(t,new bm(r,null,s))}addSvgIconSetLiteralInNamespace(t,r,s){const c=this._sanitizer.sanitize(a.q3G.HTML,r);if(!c)throw VB(r);const h=U0(c);return this._addSvgIconSetConfig(t,new bm("",h,s))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,t);if(!r)throw BB(t);const s=this._cachedIconsByUrl.get(r);return s?(0,ut.of)(sI(s)):this._loadSvgIconFromConfig(new bm(t,null)).pipe((0,nn.b)(c=>this._cachedIconsByUrl.set(r,c)),(0,dt.U)(c=>sI(c)))}getNamedSvgIcon(t,r=""){const s=UB(r,t);let c=this._svgIconConfigs.get(s);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(r,t),c)return this._svgIconConfigs.set(s,c),this._getSvgFromConfig(c);const h=this._iconSetConfigs.get(r);return h?this._getSvgFromIconSetConfigs(t,h):ro(LB(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,ut.of)(sI(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,dt.U)(r=>sI(r)))}_getSvgFromIconSetConfigs(t,r){const s=this._extractIconWithNameFromAnySet(t,r);return s?(0,ut.of)(s):oE(r.filter(h=>!h.svgText).map(h=>this._loadSvgIconSetFromConfig(h).pipe(ls(p=>{const x=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,h.url)} failed: ${p.message}`;return this._errorHandler.handleError(new Error(x)),(0,ut.of)(null)})))).pipe((0,dt.U)(()=>{const h=this._extractIconWithNameFromAnySet(t,r);if(!h)throw LB(t);return h}))}_extractIconWithNameFromAnySet(t,r){for(let s=r.length-1;s>=0;s--){const c=r[s];if(c.svgText&&c.svgText.toString().indexOf(t)>-1){const h=this._svgElementFromConfig(c),p=this._extractSvgIconFromSet(h,t,c.options);if(p)return p}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,nn.b)(r=>t.svgText=r),(0,dt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,ut.of)(null):this._fetchIcon(t).pipe((0,nn.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,s){const c=t.querySelector(`[id="${r}"]`);if(!c)return null;const h=c.cloneNode(!0);if(h.removeAttribute("id"),"svg"===h.nodeName.toLowerCase())return this._setSvgAttributes(h,s);if("symbol"===h.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(h),s);const p=this._svgElementFromString(U0("<svg></svg>"));return p.appendChild(h),this._setSvgAttributes(p,s)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const s=r.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(t){const r=this._svgElementFromString(U0("<svg></svg>")),s=t.attributes;for(let c=0;c<s.length;c++){const{name:h,value:p}=s[c];"id"!==h&&r.setAttribute(h,p)}for(let c=0;c<t.childNodes.length;c++)t.childNodes[c].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[c].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:s}=t,c=s?.withCredentials??!1;if(!this._httpClient)throw function h$(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const h=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,r);if(!h)throw BB(r);const p=this._inProgressUrlFetches.get(h);if(p)return p;const y=this._httpClient.get(h,{responseType:"text",withCredentials:c}).pipe((0,dt.U)(x=>U0(x)),No(()=>this._inProgressUrlFetches.delete(h)),(0,v1.B)());return this._inProgressUrlFetches.set(h,y),y}_addSvgIconConfig(t,r,s){return this._svgIconConfigs.set(UB(t,r),s),this}_addSvgIconSetConfig(t,r){const s=this._iconSetConfigs.get(t);return s?s.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let s=0;s<this._resolvers.length;s++){const c=this._resolvers[s](r,t);if(c)return p$(c)?new bm(c.url,null,c.options):new bm(c,null)}}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(Z1,8),a.LFG(Ua),a.LFG(re,8),a.LFG(a.qLn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function sI(n){return n.cloneNode(!0)}function UB(n,e){return n+":"+e}function p$(n){return!(!n.url||!n.options)}const m$=sm(class{constructor(n){this._elementRef=n}}),g$=new a.OlP("MAT_ICON_DEFAULT_OPTIONS"),_$=new a.OlP("mat-icon-location",{providedIn:"root",factory:function y$(){const n=(0,a.f3M)(re),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),HB=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],v$=HB.map(n=>`[${n}]`).join(", "),b$=/^url\(['"]?#(.*?)['"]?\)$/;let hd=(()=>{var n;class e extends m${get inline(){return this._inline}set inline(t){this._inline=Tt(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(t,r,s,c,h,p){super(t),this._iconRegistry=r,this._location=c,this._errorHandler=h,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ln.w0.EMPTY,p&&(p.color&&(this.color=this.defaultColor=p.color),p.fontSet&&(this.fontSet=p.fontSet)),s||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const s=t.childNodes[r];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(s=>s.length>0);this._previousFontSetClass.forEach(s=>t.classList.remove(s)),r.forEach(s=>t.classList.add(s)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((s,c)=>{s.forEach(h=>{c.setAttribute(h.name,`url('${t}#${h.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(v$),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<r.length;c++)HB.forEach(h=>{const p=r[c],y=p.getAttribute(h),x=y?y.match(b$):null;if(x){let S=s.get(p);S||(S=[],s.set(p,S)),S.push({name:h,value:x[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,s]=this._splitIconName(t);r&&(this._svgNamespace=r),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,r).pipe(Cn(1)).subscribe(c=>this._setSvgElement(c),c=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${s}! ${c.message}`))})}}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(rI),a.$8M("aria-hidden"),a.Y36(_$),a.Y36(a.qLn),a.Y36(g$,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,r){2&t&&(a.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),a.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:u$,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),e})(),w$=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[xn,xn]}),e})();class K1{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,i,t=!0,r){this._multiple=e,this._emitChanges=t,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Xe.x,i&&i.length&&(e?i.forEach(s=>this._markSelected(s)):this._markSelected(i[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}setSelection(...e){this._verifyValueAssignment(e);const i=this.selected,t=new Set(e);e.forEach(s=>this._markSelected(s)),i.filter(s=>!t.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const i=this._hasQueuedChanges();return e&&this._emitChangeEvent(),i}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e){if(this.compareWith){for(let i of this._selection)if(this.compareWith(e,i))return i;return e}return e}}let jB=(()=>{var n;class e{constructor(){this._listeners=[]}notify(t,r){for(let s of this._listeners)s(t,r)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(r=>t!==r)}}ngOnDestroy(){this._listeners=[]}}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const C$=["input"];let zB=0;class $B{constructor(e,i){this.source=e,this.value=i}}const oI=new a.OlP("MatRadioGroup"),GB=new a.OlP("mat-radio-default-options",{providedIn:"root",factory:function D$(){return{color:"accent"}}});let qB=(()=>{var n;class e{get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=Tt(t),this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=Tt(t),this._markRadiosForCheck()}constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+zB++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new a.vpe}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(t=>t===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(r=>{r.checked=this.value===r.value,r.checked&&(this._selected=r)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new $B(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),e})();class I${constructor(e){this._elementRef=e}}const S$=Wh(r0(I$));let WB=(()=>{var n;class e extends S${get checked(){return this._checked}set checked(t){const r=Tt(t);this._checked!==r&&(this._checked=r,r&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!r&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),r&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(Tt(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=Tt(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,r,s,c,h,p,y,x){super(r),this._changeDetector=s,this._focusMonitor=c,this._radioDispatcher=h,this._providerOverride=y,this._uniqueId="mat-radio-"+ ++zB,this.id=this._uniqueId,this.change=new a.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===p,x&&(this.tabIndex=Fs(x,0))}focus(t,r){r?this._focusMonitor.focusVia(this._inputElement,r,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,r)=>{t!==this.id&&r===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new $B(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const r=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),r&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(t){this._onInputInteraction(t),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){const t=this.radioGroup;let r;if(r=t&&t.selected&&!this.disabled?t.selected===this?this.tabIndex:-1:this.tabIndex,r!==this._previousTabIndex){const s=this._inputElement?.nativeElement;s&&(s.setAttribute("tabindex",r+""),this._previousTabIndex=r)}}}return(n=e).\u0275fac=function(t){a.$Z()},n.\u0275dir=a.lG2({type:n,viewQuery:function(t,r){if(1&t&&a.Gf(C$,5),2&t){let s;a.iGM(s=a.CRH())&&(r._inputElement=s.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[a.qOj]}),e})();const M$=function(n){return{enterDuration:n}},k$=["*"],R$={provide:ds,useExisting:(0,a.Gpc)(()=>ZB),multi:!0};let ZB=(()=>{var n;class e extends qB{}return(n=e).\u0275fac=function(){let i;return function(r){return(i||(i=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["mat-radio-group"]],contentQueries:function(t,r,s){if(1&t&&a.Suo(s,YB,5),2&t){let c;a.iGM(c=a.CRH())&&(r._radios=c)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[a._Bn([R$,{provide:oI,useExisting:n}]),a.qOj]}),e})(),YB=(()=>{var n;class e extends WB{constructor(t,r,s,c,h,p,y,x){super(t,r,s,c,h,p,y,x)}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(oI,8),a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(Xa),a.Y36(jB),a.Y36(a.QbO,8),a.Y36(GB,8),a.$8M("tabindex"))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(t,r){1&t&&a.NdJ("focus",function(){return r._inputElement.nativeElement.focus()}),2&t&&(a.uIk("tabindex",null)("id",r.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),a.ekj("mat-radio-checked",r.checked)("mat-radio-disabled",r.disabled)("_mat-animation-noopable",r._noopAnimations)("mat-primary","primary"===r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[a.qOj],ngContentSelectors:k$,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input",3,"id","checked","disabled","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(t,r){if(1&t&&(a.F$t(),a.TgZ(0,"label",0,1)(2,"span",2),a._UZ(3,"span",3)(4,"span",4),a.TgZ(5,"input",5,6),a.NdJ("change",function(c){return r._onInputInteraction(c)})("click",function(c){return r._onInputClick(c)}),a.qZA(),a.TgZ(7,"span",7),a._UZ(8,"span",8),a.qZA()(),a.TgZ(9,"span",9)(10,"span",10),a._uU(11,"\xa0"),a.qZA(),a.Hsn(12),a.qZA()()),2&t){const s=a.MAs(1);a.uIk("for",r.inputId),a.xp6(5),a.Q6J("id",r.inputId)("checked",r.checked)("disabled",r.disabled)("required",r.required),a.uIk("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),a.xp6(2),a.Q6J("matRippleTrigger",s)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",a.VKq(17,M$,r._noopAnimations?0:150)),a.xp6(2),a.ekj("mat-radio-label-before","before"==r.labelPosition)}},dependencies:[Mc],styles:['.mat-radio-button{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-radio-label{-webkit-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{opacity:0;position:absolute;top:0;left:0;margin:0;width:100%;height:100%;cursor:inherit;z-index:-1}.mat-radio-input:focus~.mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}'],encapsulation:2,changeDetection:0}),e})(),O$=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[kc,xn,xn]}),e})();const P$=["button"],N$=["*"],KB=new a.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),QB=new a.OlP("MatButtonToggleGroup"),F$={provide:ds,useExisting:(0,a.Gpc)(()=>aI),multi:!0};let XB=0;class JB{constructor(e,i){this.source=e,this.value=i}}let aI=(()=>{var n;class e{get name(){return this._name}set name(t){this._name=t,this._markButtonsForCheck()}get vertical(){return this._vertical}set vertical(t){this._vertical=Tt(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(r=>r.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=Tt(t),this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(t){this._disabled=Tt(t),this._markButtonsForCheck()}constructor(t,r){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+XB++,this.valueChange=new a.vpe,this.change=new a.vpe,this.appearance=r&&r.appearance?r.appearance:"standard"}ngOnInit(){this._selectionModel=new K1(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(t){const r=new JB(t,this.value);this._rawValue=r.value,this._controlValueAccessorChangeFn(r.value),this.change.emit(r)}_syncButtonToggle(t,r,s=!1,c=!1){!this.multiple&&this.selected&&!t.checked&&(this.selected.checked=!1),this._selectionModel?r?this._selectionModel.select(t):this._selectionModel.deselect(t):c=!0,c?Promise.resolve().then(()=>this._updateModelValue(t,s)):this._updateModelValue(t,s)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(r=>null!=t.value&&r===t.value):t.value===this._rawValue)}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(r=>this._selectValue(r))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const r=this._buttonToggles.find(s=>null!=s.value&&s.value===t);r&&(r.checked=!0,this._selectionModel.select(r))}_updateModelValue(t,r){r&&this._emitChangeEvent(t),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(t=>t._markForCheck())}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(KB,8))},n.\u0275dir=a.lG2({type:n,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,r,s){if(1&t&&a.Suo(s,lI,5),2&t){let c;a.iGM(c=a.CRH())&&(r._buttonToggles=c)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,r){2&t&&(a.uIk("aria-disabled",r.disabled),a.ekj("mat-button-toggle-vertical",r.vertical)("mat-button-toggle-group-appearance-standard","standard"===r.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[a._Bn([F$,{provide:QB,useExisting:n}])]}),e})();const L$=Wh(class{});let lI=(()=>{var n;class e extends L${get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const r=Tt(t);r!==this._checked&&(this._checked=r,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=Tt(t)}constructor(t,r,s,c,h,p){super(),this._changeDetectorRef=r,this._elementRef=s,this._focusMonitor=c,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new a.vpe;const y=Number(h);this.tabIndex=y||0===y?y:null,this.buttonToggleGroup=t,this.appearance=p&&p.appearance?p.appearance:"standard"}ngOnInit(){const t=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+XB++,t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector()||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new JB(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(QB,8),a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(Xa),a.$8M("tabindex"),a.Y36(KB,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(t,r){if(1&t&&a.Gf(P$,5),2&t){let s;a.iGM(s=a.CRH())&&(r._buttonElement=s.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(t,r){1&t&&a.NdJ("focus",function(){return r.focus()}),2&t&&(a.uIk("aria-label",null)("aria-labelledby",null)("id",r.id)("name",null),a.ekj("mat-button-toggle-standalone",!r.buttonToggleGroup)("mat-button-toggle-checked",r.checked)("mat-button-toggle-disabled",r.disabled)("mat-button-toggle-appearance-standard","standard"===r.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[a.qOj],ngContentSelectors:N$,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,r){if(1&t&&(a.F$t(),a.TgZ(0,"button",0,1),a.NdJ("click",function(){return r._onButtonClick()}),a.TgZ(2,"span",2),a.Hsn(3),a.qZA()(),a._UZ(4,"span",3)(5,"span",4)),2&t){const s=a.MAs(1);a.Q6J("id",r.buttonId)("disabled",r.disabled||null),a.uIk("tabindex",r.disabled?-1:r.tabIndex)("aria-pressed",r.checked)("name",r._getButtonName())("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby),a.xp6(5),a.Q6J("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)}},dependencies:[Mc],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{--mat-legacy-button-toggle-height:36px;--mat-legacy-button-toggle-shape:2px;--mat-legacy-button-toggle-focus-state-layer-opacity:1;position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{--mat-standard-button-toggle-shape:4px;--mat-standard-button-toggle-hover-state-layer-opacity:0.04;--mat-standard-button-toggle-focus-state-layer-opacity:0.12;border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-text-font)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{--mat-standard-button-toggle-shape:4px;--mat-standard-button-toggle-hover-state-layer-opacity:0.04;--mat-standard-button-toggle-focus-state-layer-opacity:0.12;color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-text-font)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0}),e})(),B$=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[xn,kc,xn]}),e})();function V$(n,e){1&n&&(a.TgZ(0,"h2"),a._uU(1,"New Task"),a.qZA())}function U$(n,e){if(1&n&&(a.TgZ(0,"mat-button-toggle",14)(1,"mat-icon"),a._uU(2,"circle"),a.qZA()()),2&n){const i=e.$implicit,t=a.oxw();a.Q6J("checked",i.color==t.data.task.color)("value",i.color),a.xp6(1),a.Udp("color",i.color)("border","grey")}}function H$(n,e){if(1&n&&(a.TgZ(0,"div"),a._uU(1),a.ALo(2,"date"),a.qZA()),2&n){const i=a.oxw();a.xp6(1),a.hij(" Last Update: ",a.xi3(2,1,i.data.task.lastUpdate.seconds,"yyyy/MM/dd h:mm a"),"\n")}}const j$=function(n){return{task:n,delete:!0}};function z$(n,e){if(1&n&&(a.TgZ(0,"button",15)(1,"mat-icon"),a._uU(2,"delete"),a.qZA(),a._uU(3," Delete "),a.qZA()),2&n){const i=a.oxw();a.Q6J("mat-dialog-close",a.VKq(1,j$,i.data.task))}}let eV=(()=>{var n;class e{constructor(t,r){ue(this,"dialogRef",void 0),ue(this,"data",void 0),ue(this,"backupTask",{...this.data.task}),ue(this,"ColorWheel",cy.ColorWheel),ue(this,"DialogType",Bc),ue(this,"taskColor",this.data.task.color||""),this.dialogRef=t,this.data=r}cancel(){this.data.task.title=this.backupTask.title,this.data.task.description=this.backupTask.description,this.data.task.type=this.backupTask.type,this.data.task.urgency=this.backupTask.urgency,this.data.task.color=this.backupTask.color,this.dialogRef.close(this.data)}onSubmit(){this.data.task.color=this.taskColor,this.data.task.lastUpdate={seconds:Date.now()},this.dialogRef.close(this.data)}}return n=e,ue(e,"\u0275fac",function(t){return new(t||n)(a.Y36(um),a.Y36(Jh))}),ue(e,"\u0275cmp",a.Xpm({type:n,selectors:[["app-task-dialog"]],decls:33,vars:9,consts:[["id","task-form"],[4,"ngIf"],["appearance","fill","color","primary"],["matInput","",3,"ngModel","ngModelChange"],["appearance","fill"],["id","colorSpec","name","colorSpec","aria-label","ColorWheel",3,"ngModel","ngModelChange"],[3,"checked","value",4,"ngFor","ngForOf"],["aria-label","Urgency","color","primary",3,"ngModel","ngModelChange"],["value","Low"],["value","Moderate"],["value","High"],["id","controls","mat-dialog-actions",""],["mat-button","","color","primary",3,"mat-dialog-close",4,"ngIf"],["id","confirm","mat-fab","","color","primary",3,"click"],[3,"checked","value"],["mat-button","","color","primary",3,"mat-dialog-close"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.YNc(1,V$,2,0,"h2",1),a.TgZ(2,"mat-form-field",2)(3,"mat-label"),a._uU(4,"Title"),a.qZA(),a.TgZ(5,"input",3),a.NdJ("ngModelChange",function(c){return r.data.task.title=c}),a.qZA()(),a.TgZ(6,"mat-form-field",4)(7,"mat-label"),a._uU(8,"Description"),a.qZA(),a.TgZ(9,"textarea",3),a.NdJ("ngModelChange",function(c){return r.data.task.description=c}),a.qZA()(),a.TgZ(10,"mat-form-field",4)(11,"mat-label"),a._uU(12,"Label"),a.qZA(),a.TgZ(13,"input",3),a.NdJ("ngModelChange",function(c){return r.data.task.type=c}),a.qZA()(),a.TgZ(14,"mat-label"),a._uU(15,"Label Color"),a.qZA(),a.TgZ(16,"mat-button-toggle-group",5),a.NdJ("ngModelChange",function(c){return r.taskColor=c}),a.YNc(17,U$,3,6,"mat-button-toggle",6),a.qZA(),a.TgZ(18,"mat-label"),a._uU(19,"Urgency"),a.qZA(),a.TgZ(20,"mat-radio-group",7),a.NdJ("ngModelChange",function(c){return r.data.task.urgency=c}),a.TgZ(21,"mat-radio-button",8),a._uU(22,"Not Rush"),a.qZA(),a.TgZ(23,"mat-radio-button",9),a._uU(24,"Moderate"),a.qZA(),a.TgZ(25,"mat-radio-button",10),a._uU(26,"Urgent!!"),a.qZA()()(),a.YNc(27,H$,3,4,"div",1),a.TgZ(28,"div",11),a.YNc(29,z$,4,3,"button",12),a.TgZ(30,"button",13),a.NdJ("click",function(){return r.onSubmit()}),a.TgZ(31,"mat-icon"),a._uU(32,"done"),a.qZA()()()),2&t&&(a.xp6(1),a.Q6J("ngIf",r.data.type==r.DialogType.NEW),a.xp6(4),a.Q6J("ngModel",r.data.task.title),a.xp6(4),a.Q6J("ngModel",r.data.task.description),a.xp6(4),a.Q6J("ngModel",r.data.task.type),a.xp6(3),a.Q6J("ngModel",r.taskColor),a.xp6(1),a.Q6J("ngForOf",r.ColorWheel),a.xp6(3),a.Q6J("ngModel",r.data.task.urgency),a.xp6(7),a.Q6J("ngIf",r.data.task.lastUpdate),a.xp6(2),a.Q6J("ngIf",r.data.enableDelete))},dependencies:[zr,Vn,hd,fi,gD,qk,ly,ym,L0,Ic,Sh,Tp,ZB,YB,aI,lI,Ks],styles:["#task-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:large}#task-form[_ngcontent-%COMP%]   #close[_ngcontent-%COMP%]{margin-left:auto}#task-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin:0}#task-form[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin:10px 0}#task-form[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}#task-form[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{overflow-x:auto;max-width:100%;width:-moz-fit-content;width:fit-content;margin:10px 0}#controls[_ngcontent-%COMP%]{display:flex}#controls[_ngcontent-%COMP%]   #confirm[_ngcontent-%COMP%]{margin-left:auto}"]})),e})();function Q1(n,e,i){for(let t in e)if(e.hasOwnProperty(t)){const r=e[t];r?n.setProperty(t,r,i?.has(t)?"important":""):n.removeProperty(t)}return n}function uy(n,e){const i=e?"":"none";Q1(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":i,"-ms-user-select":i,"-webkit-user-select":i,"-moz-user-select":i})}function tV(n,e,i){Q1(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},i)}function cI(n,e){return e&&"none"!=e?n+" "+e:n}function nV(n){const e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function X1(n,e){return n.getPropertyValue(e).split(",").map(t=>t.trim())}function J1(n){const e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function eR(n,e,i){const{top:t,bottom:r,left:s,right:c}=n;return i>=t&&i<=r&&e>=s&&e<=c}function H0(n,e,i){n.top+=e,n.bottom=n.top+n.height,n.left+=i,n.right=n.left+n.width}function iV(n,e,i,t){const{top:r,right:s,bottom:c,left:h,width:p,height:y}=n,x=p*e,S=y*e;return t>r-S&&t<c+S&&i>h-x&&i<s+x}class rV{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(i=>{this.positions.set(i,{scrollPosition:{top:i.scrollTop,left:i.scrollLeft},clientRect:J1(i)})})}handleScroll(e){const i=Ns(e),t=this.positions.get(i);if(!t)return null;const r=t.scrollPosition;let s,c;if(i===this._document){const y=this.getViewportScrollPosition();s=y.top,c=y.left}else s=i.scrollTop,c=i.scrollLeft;const h=r.top-s,p=r.left-c;return this.positions.forEach((y,x)=>{y.clientRect&&i!==x&&i.contains(x)&&H0(y.clientRect,h,p)}),r.top=s,r.left=c,{top:h,left:p}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function sV(n){const e=n.cloneNode(!0),i=e.querySelectorAll("[id]"),t=n.nodeName.toLowerCase();e.removeAttribute("id");for(let r=0;r<i.length;r++)i[r].removeAttribute("id");return"canvas"===t?lV(n,e):("input"===t||"select"===t||"textarea"===t)&&aV(n,e),oV("canvas",n,e,lV),oV("input, textarea, select",n,e,aV),e}function oV(n,e,i,t){const r=e.querySelectorAll(n);if(r.length){const s=i.querySelectorAll(n);for(let c=0;c<r.length;c++)t(r[c],s[c])}}let q$=0;function aV(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${q$++}`)}function lV(n,e){const i=e.getContext("2d");if(i)try{i.drawImage(n,0,0)}catch{}}const cV=Rl({passive:!0}),uI=Rl({passive:!1}),tR=new Set(["position"]);class Z${get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const i=Tt(e);i!==this._disabled&&(this._disabled=i,this._toggleNativeDragInteractions(),this._handles.forEach(t=>uy(t,i)))}constructor(e,i,t,r,s,c){this._config=i,this._document=t,this._ngZone=r,this._viewportRuler=s,this._dragDropRegistry=c,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Xe.x,this._pointerMoveSubscription=Ln.w0.EMPTY,this._pointerUpSubscription=Ln.w0.EMPTY,this._scrollSubscription=Ln.w0.EMPTY,this._resizeSubscription=Ln.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Xe.x,this.started=new Xe.x,this.released=new Xe.x,this.ended=new Xe.x,this.entered=new Xe.x,this.exited=new Xe.x,this.dropped=new Xe.x,this.moved=this._moveEvents,this._pointerDown=h=>{if(this.beforeStarted.next(),this._handles.length){const p=this._getTargetHandle(h);p&&!this._disabledHandles.has(p)&&!this.disabled&&this._initializeDragSequence(p,h)}else this.disabled||this._initializeDragSequence(this._rootElement,h)},this._pointerMove=h=>{const p=this._getPointerPositionOnPage(h);if(!this._hasStartedDragging){if(Math.abs(p.x-this._pickupPositionOnPage.x)+Math.abs(p.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const H=Date.now()>=this._dragStartTime+this._getDragStartDelay(h),G=this._dropContainer;if(!H)return void this._endDragSequence(h);(!G||!G.isDragging()&&!G.isReceiving())&&(h.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(h)))}return}h.preventDefault();const y=this._getConstrainedPointerPosition(p);if(this._hasMoved=!0,this._lastKnownPointerPosition=p,this._updatePointerDirectionDelta(y),this._dropContainer)this._updateActiveDropContainer(y,p);else{const x=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,S=this._activeTransform;S.x=y.x-x.x+this._passiveTransform.x,S.y=y.y-x.y+this._passiveTransform.y,this._applyRootElementTransform(S.x,S.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:y,event:h,distance:this._getDragDistance(y),delta:this._pointerDirectionDelta})})},this._pointerUp=h=>{this._endDragSequence(h)},this._nativeDragStart=h=>{if(this._handles.length){const p=this._getTargetHandle(h);p&&!this._disabledHandles.has(p)&&!this.disabled&&h.preventDefault()}else this.disabled||h.preventDefault()},this.withRootElement(e).withParent(i.parentDragRef||null),this._parentPositions=new rV(t),c.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(t=>hi(t)),this._handles.forEach(t=>uy(t,this.disabled)),this._toggleNativeDragInteractions();const i=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&i.add(t)}),this._disabledHandles=i,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const i=hi(e);return i!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{i.addEventListener("mousedown",this._pointerDown,uI),i.addEventListener("touchstart",this._pointerDown,cV),i.addEventListener("dragstart",this._nativeDragStart,uI)}),this._initialTransform=void 0,this._rootElement=i),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?hi(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),uy(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),uy(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const i=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(i),dropPoint:i,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){j0(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const i=this._dropContainer;if(i){const t=this._rootElement,r=t.parentNode,s=this._placeholder=this._createPlaceholderElement(),c=this._anchor=this._anchor||this._document.createComment(""),h=this._getShadowRoot();r.insertBefore(c,t),this._initialTransform=t.style.transform||"",this._preview=this._createPreviewElement(),tV(t,!1,tR),this._document.body.appendChild(r.replaceChild(s,t)),this._getPreviewInsertionPoint(r,h).appendChild(this._preview),this.started.next({source:this,event:e}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(e,i){this._parentDragRef&&i.stopPropagation();const t=this.isDragging(),r=j0(i),s=!r&&0!==i.button,c=this._rootElement,h=Ns(i),p=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),y=r?Yp(i):Zp(i);if(h&&h.draggable&&"mousedown"===i.type&&i.preventDefault(),t||s||p||y)return;if(this._handles.length){const N=c.style;this._rootElementTapHighlight=N.webkitTapHighlightColor||"",N.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(N=>this._updateOnScroll(N)),this._boundaryElement&&(this._boundaryRect=J1(this._boundaryElement));const x=this._previewTemplate;this._pickupPositionInElement=x&&x.template&&!x.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,e,i);const S=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(i);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:S.x,y:S.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,i)}_cleanupDragArtifacts(e){tV(this._rootElement,!0,tR),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const i=this._dropContainer,t=i.getItemIndex(this),r=this._getPointerPositionOnPage(e),s=this._getDragDistance(r),c=i._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:s,dropPoint:r,event:e}),this.dropped.next({item:this,currentIndex:t,previousIndex:this._initialIndex,container:i,previousContainer:this._initialContainer,isPointerOverContainer:c,distance:s,dropPoint:r,event:e}),i.drop(this,t,this._initialIndex,this._initialContainer,c,s,r,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:i},{x:t,y:r}){let s=this._initialContainer._getSiblingContainerFromPosition(this,e,i);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,i)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,e,i,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(t,r),this._dropContainer._sortItem(this,e,i,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,i):this._applyPreviewTransform(e-this._pickupPositionInElement.x,i-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,i=this.previewClass,t=e?e.template:null;let r;if(t&&e){const s=e.matchSize?this._initialClientRect:null,c=e.viewContainer.createEmbeddedView(t,e.context);c.detectChanges(),r=dV(c,this._document),this._previewRef=c,e.matchSize?hV(r,s):r.style.transform=dI(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=sV(this._rootElement),hV(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return Q1(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},tR),uy(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),i&&(Array.isArray(i)?i.forEach(s=>r.classList.add(s)):r.classList.add(i)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const i=function G$(n){const e=getComputedStyle(n),i=X1(e,"transition-property"),t=i.find(h=>"transform"===h||"all"===h);if(!t)return 0;const r=i.indexOf(t),s=X1(e,"transition-duration"),c=X1(e,"transition-delay");return nV(s[r])+nV(c[r])}(this._preview);return 0===i?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const r=c=>{(!c||Ns(c)===this._preview&&"transform"===c.propertyName)&&(this._preview?.removeEventListener("transitionend",r),t(),clearTimeout(s))},s=setTimeout(r,1.5*i);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,i=e?e.template:null;let t;return i?(this._placeholderRef=e.viewContainer.createEmbeddedView(i,e.context),this._placeholderRef.detectChanges(),t=dV(this._placeholderRef,this._document)):t=sV(this._rootElement),t.style.pointerEvents="none",t.classList.add("cdk-drag-placeholder"),t}_getPointerPositionInElement(e,i,t){const r=i===this._rootElement?null:i,s=r?r.getBoundingClientRect():e,c=j0(t)?t.targetTouches[0]:t,h=this._getViewportScrollPosition();return{x:s.left-e.left+(c.pageX-s.left-h.left),y:s.top-e.top+(c.pageY-s.top-h.top)}}_getPointerPositionOnPage(e){const i=this._getViewportScrollPosition(),t=j0(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,r=t.pageX-i.left,s=t.pageY-i.top;if(this._ownerSVGElement){const c=this._ownerSVGElement.getScreenCTM();if(c){const h=this._ownerSVGElement.createSVGPoint();return h.x=r,h.y=s,h.matrixTransform(c.inverse())}}return{x:r,y:s}}_getConstrainedPointerPosition(e){const i=this._dropContainer?this._dropContainer.lockAxis:null;let{x:t,y:r}=this.constrainPosition?this.constrainPosition(e,this,this._initialClientRect,this._pickupPositionInElement):e;if("x"===this.lockAxis||"x"===i?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===i)&&(t=this._pickupPositionOnPage.x),this._boundaryRect){const{x:s,y:c}=this._pickupPositionInElement,h=this._boundaryRect,{width:p,height:y}=this._getPreviewRect(),x=h.top+c,S=h.bottom-(y-c);t=uV(t,h.left+s,h.right-(p-s)),r=uV(r,x,S)}return{x:t,y:r}}_updatePointerDirectionDelta(e){const{x:i,y:t}=e,r=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,c=Math.abs(i-s.x),h=Math.abs(t-s.y);return c>this._config.pointerDirectionChangeThreshold&&(r.x=i>s.x?1:-1,s.x=i),h>this._config.pointerDirectionChangeThreshold&&(r.y=t>s.y?1:-1,s.y=t),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,uy(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,uI),e.removeEventListener("touchstart",this._pointerDown,cV),e.removeEventListener("dragstart",this._nativeDragStart,uI)}_applyRootElementTransform(e,i){const t=dI(e,i),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=cI(t,this._initialTransform)}_applyPreviewTransform(e,i){const t=this._previewTemplate?.template?void 0:this._initialTransform,r=dI(e,i);this._preview.style.transform=cI(r,t)}_getDragDistance(e){const i=this._pickupPositionOnPage;return i?{x:e.x-i.x,y:e.y-i.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:i}=this._passiveTransform;if(0===e&&0===i||this.isDragging()||!this._boundaryElement)return;const t=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===t.width&&0===t.height)return;const s=r.left-t.left,c=t.right-r.right,h=r.top-t.top,p=t.bottom-r.bottom;r.width>t.width?(s>0&&(e+=s),c>0&&(e-=c)):e=0,r.height>t.height?(h>0&&(i+=h),p>0&&(i-=p)):i=0,(e!==this._passiveTransform.x||i!==this._passiveTransform.y)&&this.setFreeDragPosition({y:i,x:e})}_getDragStartDelay(e){const i=this.dragStartDelay;return"number"==typeof i?i:j0(e)?i.touch:i?i.mouse:0}_updateOnScroll(e){const i=this._parentPositions.handleScroll(e);if(i){const t=Ns(e);this._boundaryRect&&t!==this._boundaryElement&&t.contains(this._boundaryElement)&&H0(this._boundaryRect,i.top,i.left),this._pickupPositionOnPage.x+=i.left,this._pickupPositionOnPage.y+=i.top,this._dropContainer||(this._activeTransform.x-=i.left,this._activeTransform.y-=i.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=c_(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,i){const t=this._previewContainer||"global";if("parent"===t)return e;if("global"===t){const r=this._document;return i||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return hi(t)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(e){return this._handles.find(i=>e.target&&(e.target===i||i.contains(e.target)))}}function dI(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function uV(n,e,i){return Math.max(e,Math.min(i,n))}function j0(n){return"t"===n.type[0]}function dV(n,e){const i=n.rootNodes;if(1===i.length&&i[0].nodeType===e.ELEMENT_NODE)return i[0];const t=e.createElement("div");return i.forEach(r=>t.appendChild(r)),t}function hV(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=dI(e.left,e.top)}function z0(n,e){return Math.max(0,Math.min(e,n))}class Q${constructor(e,i){this._element=e,this._dragDropRegistry=i,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(e){this.withItems(e)}sort(e,i,t,r){const s=this._itemPositions,c=this._getItemIndexFromPointerPosition(e,i,t,r);if(-1===c&&s.length>0)return null;const h="horizontal"===this.orientation,p=s.findIndex(ee=>ee.drag===e),y=s[c],S=y.clientRect,N=p>c?1:-1,H=this._getItemOffsetPx(s[p].clientRect,S,N),G=this._getSiblingOffsetPx(p,s,N),Q=s.slice();return function Y$(n,e,i){const t=z0(e,n.length-1),r=z0(i,n.length-1);if(t===r)return;const s=n[t],c=r<t?-1:1;for(let h=t;h!==r;h+=c)n[h]=n[h+c];n[r]=s}(s,p,c),s.forEach((ee,ke)=>{if(Q[ke]===ee)return;const Ge=ee.drag===e,ze=Ge?H:G,Ye=Ge?e.getPlaceholderElement():ee.drag.getRootElement();ee.offset+=ze,h?(Ye.style.transform=cI(`translate3d(${Math.round(ee.offset)}px, 0, 0)`,ee.initialTransform),H0(ee.clientRect,0,ze)):(Ye.style.transform=cI(`translate3d(0, ${Math.round(ee.offset)}px, 0)`,ee.initialTransform),H0(ee.clientRect,ze,0))}),this._previousSwap.overlaps=eR(S,i,t),this._previousSwap.drag=y.drag,this._previousSwap.delta=h?r.x:r.y,{previousIndex:p,currentIndex:c}}enter(e,i,t,r){const s=null==r||r<0?this._getItemIndexFromPointerPosition(e,i,t):r,c=this._activeDraggables,h=c.indexOf(e),p=e.getPlaceholderElement();let y=c[s];if(y===e&&(y=c[s+1]),!y&&(null==s||-1===s||s<c.length-1)&&this._shouldEnterAsFirstChild(i,t)&&(y=c[0]),h>-1&&c.splice(h,1),y&&!this._dragDropRegistry.isDragging(y)){const x=y.getRootElement();x.parentElement.insertBefore(p,x),c.splice(s,0,e)}else hi(this._element).appendChild(p),c.push(e);p.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables.forEach(e=>{const i=e.getRootElement();if(i){const t=this._itemPositions.find(r=>r.drag===e)?.initialTransform;i.style.transform=t||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(t=>t.drag===e)}updateOnScroll(e,i){this._itemPositions.forEach(({clientRect:t})=>{H0(t,e,i)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}_cacheItemPositions(){const e="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(i=>{const t=i.getVisibleElement();return{drag:i,offset:0,initialTransform:t.style.transform||"",clientRect:J1(t)}}).sort((i,t)=>e?i.clientRect.left-t.clientRect.left:i.clientRect.top-t.clientRect.top)}_getItemOffsetPx(e,i,t){const r="horizontal"===this.orientation;let s=r?i.left-e.left:i.top-e.top;return-1===t&&(s+=r?i.width-e.width:i.height-e.height),s}_getSiblingOffsetPx(e,i,t){const r="horizontal"===this.orientation,s=i[e].clientRect,c=i[e+-1*t];let h=s[r?"width":"height"]*t;if(c){const p=r?"left":"top",y=r?"right":"bottom";-1===t?h-=c.clientRect[p]-s[y]:h+=s[p]-c.clientRect[y]}return h}_shouldEnterAsFirstChild(e,i){if(!this._activeDraggables.length)return!1;const t=this._itemPositions,r="horizontal"===this.orientation;if(t[0].drag!==this._activeDraggables[0]){const c=t[t.length-1].clientRect;return r?e>=c.right:i>=c.bottom}{const c=t[0].clientRect;return r?e<=c.left:i<=c.top}}_getItemIndexFromPointerPosition(e,i,t,r){const s="horizontal"===this.orientation,c=this._itemPositions.findIndex(({drag:h,clientRect:p})=>h!==e&&((!r||h!==this._previousSwap.drag||!this._previousSwap.overlaps||(s?r.x:r.y)!==this._previousSwap.delta)&&(s?i>=Math.floor(p.left)&&i<Math.floor(p.right):t>=Math.floor(p.top)&&t<Math.floor(p.bottom))));return-1!==c&&this._sortPredicate(c,e)?c:-1}}class X${constructor(e,i,t,r,s){this._dragDropRegistry=i,this._ngZone=r,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Xe.x,this.entered=new Xe.x,this.exited=new Xe.x,this.dropped=new Xe.x,this.sorted=new Xe.x,this.receivingStarted=new Xe.x,this.receivingStopped=new Xe.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Ln.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Xe.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function $$(n=0,e=id.z){return n<0&&(n=0),zb(n,n,e)}(0,Ub).pipe(En(this._stopScrollTimers)).subscribe(()=>{const c=this._scrollNode,h=this.autoScrollStep;1===this._verticalScrollDirection?c.scrollBy(0,-h):2===this._verticalScrollDirection&&c.scrollBy(0,h),1===this._horizontalScrollDirection?c.scrollBy(-h,0):2===this._horizontalScrollDirection&&c.scrollBy(h,0)})},this.element=hi(e),this._document=t,this.withScrollableParents([this.element]),i.registerDropContainer(this),this._parentPositions=new rV(t),this._sortStrategy=new Q$(this.element,i),this._sortStrategy.withSortPredicate((c,h)=>this.sortPredicate(c,h,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,i,t,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(e)),this._sortStrategy.enter(e,i,t,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,i,t,r,s,c,h,p={}){this._reset(),this.dropped.next({item:e,currentIndex:i,previousIndex:t,container:this,previousContainer:r,isPointerOverContainer:s,distance:c,dropPoint:h,event:p})}withItems(e){const i=this._draggables;return this._draggables=e,e.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(i.filter(r=>r.isDragging()).every(r=>-1===e.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._sortStrategy.direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._sortStrategy.orientation=e,this}withScrollableParents(e){const i=hi(this.element);return this._scrollableElements=-1===e.indexOf(i)?[i,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,i,t,r){if(this.sortingDisabled||!this._clientRect||!iV(this._clientRect,.05,i,t))return;const s=this._sortStrategy.sort(e,i,t,r);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,i){if(this.autoScrollDisabled)return;let t,r=0,s=0;if(this._parentPositions.positions.forEach((c,h)=>{h===this._document||!c.clientRect||t||iV(c.clientRect,.05,e,i)&&([r,s]=function J$(n,e,i,t){const r=mV(e,t),s=gV(e,i);let c=0,h=0;if(r){const p=n.scrollTop;1===r?p>0&&(c=1):n.scrollHeight-p>n.clientHeight&&(c=2)}if(s){const p=n.scrollLeft;1===s?p>0&&(h=1):n.scrollWidth-p>n.clientWidth&&(h=2)}return[c,h]}(h,c.clientRect,e,i),(r||s)&&(t=h))}),!r&&!s){const{width:c,height:h}=this._viewportRuler.getViewportSize(),p={width:c,height:h,top:0,right:c,bottom:h,left:0};r=mV(p,i),s=gV(p,e),t=window}t&&(r!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||t!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=s,this._scrollNode=t,(r||s)&&t?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=hi(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=hi(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_reset(){this._isDragging=!1;const e=hi(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(i=>i._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(e,i){return null!=this._clientRect&&eR(this._clientRect,e,i)}_getSiblingContainerFromPosition(e,i,t){return this._siblings.find(r=>r._canReceive(e,i,t))}_canReceive(e,i,t){if(!this._clientRect||!eR(this._clientRect,i,t)||!this.enterPredicate(e,this))return!1;const r=this._getShadowRoot().elementFromPoint(i,t);if(!r)return!1;const s=hi(this.element);return r===s||s.contains(r)}_startReceiving(e,i){const t=this._activeSiblings;!t.has(e)&&i.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(t.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:i}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const i=this._parentPositions.handleScroll(e);i&&this._sortStrategy.updateOnScroll(i.top,i.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=c_(hi(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._sortStrategy.getActiveItemsSnapshot().filter(i=>i.isDragging());this._siblings.forEach(i=>i._startReceiving(this,e))}}function mV(n,e){const{top:i,bottom:t,height:r}=n,s=.05*r;return e>=i-s&&e<=i+s?1:e>=t-s&&e<=t+s?2:0}function gV(n,e){const{left:i,right:t,width:r}=n,s=.05*r;return e>=i-s&&e<=i+s?1:e>=t-s&&e<=t+s?2:0}const hI=Rl({passive:!1,capture:!0});let eG=(()=>{var n;class e{constructor(t,r){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new Xe.x,this.pointerUp=new Xe.x,this.scroll=new Xe.x,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=r}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,hI)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,hI)}startDragging(t,r){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const s=r.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:c=>this.pointerUp.next(c),options:!0}).set("scroll",{handler:c=>this.scroll.next(c),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:hI}),s||this._globalListeners.set("mousemove",{handler:c=>this.pointerMove.next(c),options:hI}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((c,h)=>{this._document.addEventListener(h,c.handler,c.options)})})}}stopDragging(t){const r=this._activeDragInstances.indexOf(t);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const r=[this.scroll];return t&&t!==this._document&&r.push(new An.y(s=>this._ngZone.runOutsideAngular(()=>{const h=p=>{this._activeDragInstances.length&&s.next(p)};return t.addEventListener("scroll",h,!0),()=>{t.removeEventListener("scroll",h,!0)}}))),(0,Ir.T)(...r)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,r)=>{this._document.removeEventListener(r,t.handler,t.options)}),this._globalListeners.clear()}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b),a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const tG={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let nR=(()=>{var n;class e{constructor(t,r,s,c){this._document=t,this._ngZone=r,this._viewportRuler=s,this._dragDropRegistry=c}createDrag(t,r=tG){return new Z$(t,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new X$(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(re),a.LFG(a.R0b),a.LFG(Ja),a.LFG(eG))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const iR=new a.OlP("CDK_DRAG_PARENT"),rR=new a.OlP("CdkDragHandle"),_V=new a.OlP("CdkDragPlaceholder"),yV=new a.OlP("CdkDragPreview"),vV=new a.OlP("CDK_DRAG_CONFIG"),bV=new a.OlP("CdkDropList");let wV=(()=>{var n;class e{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Tt(t),this._dragRef.disabled=this._disabled}constructor(t,r,s,c,h,p,y,x,S,N,H){this.element=t,this.dropContainer=r,this._ngZone=c,this._viewContainerRef=h,this._dir=y,this._changeDetectorRef=S,this._selfHandle=N,this._parentDrag=H,this._destroyed=new Xe.x,this.started=new a.vpe,this.released=new a.vpe,this.ended=new a.vpe,this.entered=new a.vpe,this.exited=new a.vpe,this.dropped=new a.vpe,this.moved=new An.y(G=>{const Q=this._dragRef.moved.pipe((0,dt.U)(ee=>({source:this,pointerPosition:ee.pointerPosition,event:ee.event,delta:ee.delta,distance:ee.distance}))).subscribe(G);return()=>{Q.unsubscribe()}}),this._dragRef=x.createDrag(t,{dragStartThreshold:p&&null!=p.dragStartThreshold?p.dragStartThreshold:5,pointerDirectionChangeThreshold:p&&null!=p.pointerDirectionChangeThreshold?p.pointerDirectionChangeThreshold:5,zIndex:p?.zIndex}),this._dragRef.data=this,e._dragInstances.push(this),p&&this._assignDefaults(p),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Cn(1),En(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const r=t.rootElementSelector,s=t.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),s&&!s.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=e._dragInstances.indexOf(this);t>-1&&e._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const t=this.element.nativeElement;let r=t;this.rootElementSelector&&(r=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):hi(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const r=this._dir,s=this.dragStartDelay,c=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,h=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof s&&s?s:Fs(s),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(c).withPreviewTemplate(h).withPreviewContainer(this.previewContainer||"global"),r&&t.withDirection(r.value)}}),t.beforeStarted.pipe(Cn(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(r.classList.contains("cdk-drag")){t.withParent(e._dragInstances.find(s=>s.element.nativeElement===r)?._dragRef||null);break}r=r.parentElement}})}_handleEvents(t){t.started.subscribe(r=>{this.started.emit({source:this,event:r.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(r=>{this.released.emit({source:this,event:r.event})}),t.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event})})}_assignDefaults(t){const{lockAxis:r,dragStartDelay:s,constrainPosition:c,previewClass:h,boundaryElement:p,draggingDisabled:y,rootElementSelector:x,previewContainer:S}=t;this.disabled=y??!1,this.dragStartDelay=s||0,r&&(this.lockAxis=r),c&&(this.constrainPosition=c),h&&(this.previewClass=h),p&&(this.boundaryElement=p),x&&(this.rootElementSelector=x),S&&(this.previewContainer=S)}_setupHandlesListener(){this._handles.changes.pipe(ni(this._handles),(0,nn.b)(t=>{const r=t.filter(s=>s._parentDrag===this).map(s=>s.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),(0,Pn.w)(t=>(0,Ir.T)(...t.map(r=>r._stateChanges.pipe(ni(r))))),En(this._destroyed)).subscribe(t=>{const r=this._dragRef,s=t.element.nativeElement;t.disabled?r.disableHandle(s):r.enableHandle(s)})}}return(n=e)._dragInstances=[],n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(bV,12),a.Y36(re),a.Y36(a.R0b),a.Y36(a.s_b),a.Y36(vV,8),a.Y36(ms,8),a.Y36(nR),a.Y36(a.sBO),a.Y36(rR,10),a.Y36(iR,12))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(t,r,s){if(1&t&&(a.Suo(s,yV,5),a.Suo(s,_V,5),a.Suo(s,rR,5)),2&t){let c;a.iGM(c=a.CRH())&&(r._previewTemplate=c.first),a.iGM(c=a.CRH())&&(r._placeholderTemplate=c.first),a.iGM(c=a.CRH())&&(r._handles=c)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,r){2&t&&a.ekj("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[a._Bn([{provide:iR,useExisting:n}]),a.TTD]}),e})();const sR=new a.OlP("CdkDropListGroup");let aG=0,CV=(()=>{var n;class e{get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=Tt(t)}constructor(t,r,s,c,h,p,y){this.element=t,this._changeDetectorRef=s,this._scrollDispatcher=c,this._dir=h,this._group=p,this._destroyed=new Xe.x,this.connectedTo=[],this.id="cdk-drop-list-"+aG++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new a.vpe,this.entered=new a.vpe,this.exited=new a.vpe,this.sorted=new a.vpe,this._unsortedItems=new Set,this._dropListRef=r.createDropList(t),this._dropListRef.data=this,y&&this._assignDefaults(y),this._dropListRef.enterPredicate=(x,S)=>this.enterPredicate(x.data,S.data),this._dropListRef.sortPredicate=(x,S,N)=>this.sortPredicate(x,S.data,N.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),e._dropLists.push(this),p&&p._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,r)=>t._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=e._dropLists.indexOf(this);t>-1&&e._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(ni(this._dir.value),En(this._destroyed)).subscribe(r=>t.withDirection(r)),t.beforeStarted.subscribe(()=>{const r=Gp(this.connectedTo).map(s=>"string"==typeof s?e._dropLists.find(h=>h.id===s):s);if(this._group&&this._group._items.forEach(s=>{-1===r.indexOf(s)&&r.push(s)}),!this._scrollableParentsResolved){const s=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(c=>c.getElementRef().nativeElement);this._dropListRef.withScrollableParents(s),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=Tt(this.sortingDisabled),t.autoScrollDisabled=Tt(this.autoScrollDisabled),t.autoScrollStep=Fs(this.autoScrollStep,2),t.connectedTo(r.filter(s=>s&&s!==this).map(s=>s._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),(0,Ir.T)(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){const{lockAxis:r,draggingDisabled:s,sortingDisabled:c,listAutoScrollDisabled:h,listOrientation:p}=t;this.disabled=s??!1,this.sortingDisabled=c??!1,this.autoScrollDisabled=h??!1,this.orientation=p||"vertical",r&&(this.lockAxis=r)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return(n=e)._dropLists=[],n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(nR),a.Y36(a.sBO),a.Y36(Xp),a.Y36(ms,8),a.Y36(sR,12),a.Y36(vV,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,r){2&t&&(a.uIk("id",r.id),a.ekj("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[a._Bn([{provide:sR,useValue:void 0},{provide:bV,useExisting:n}])]}),e})(),lG=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[nR],imports:[ga]}),e})();var fI,cG=new Uint8Array(16);function uG(){if(!fI&&!(fI=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return fI(cG)}const dG=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var ys=[],oR=0;oR<256;++oR)ys.push((oR+256).toString(16).substr(1));const mG=function pG(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(ys[n[e+0]]+ys[n[e+1]]+ys[n[e+2]]+ys[n[e+3]]+"-"+ys[n[e+4]]+ys[n[e+5]]+"-"+ys[n[e+6]]+ys[n[e+7]]+"-"+ys[n[e+8]]+ys[n[e+9]]+"-"+ys[n[e+10]]+ys[n[e+11]]+ys[n[e+12]]+ys[n[e+13]]+ys[n[e+14]]+ys[n[e+15]]).toLowerCase();if(!function hG(n){return"string"==typeof n&&dG.test(n)}(i))throw TypeError("Stringified UUID is invalid");return i},$0=function gG(n,e,i){var t=(n=n||{}).random||(n.rng||uG)();if(t[6]=15&t[6]|64,t[8]=63&t[8]|128,e){i=i||0;for(var r=0;r<16;++r)e[i+r]=t[r];return e}return mG(t)},EV=n=>n.shiftKey||n.metaKey||n.altKey||n.ctrlKey,xV=n=>n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLButtonElement,DV=n=>{n.stopImmediatePropagation(),n.stopPropagation(),n.preventDefault()};function aR(){return(0,ui.e)((n,e)=>{let i,t=!1;n.subscribe((0,Qn.x)(e,r=>{const s=i;i=r,t&&e.next([s,r]),t=!0}))})}B(6365);var lt,_G=B(3106),yG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fl={},lR=lR||{},Yt=yG||self;function pI(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function G0(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var cR="closure_uid_"+(1e9*Math.random()>>>0),bG=0;function wG(n,e,i){return n.call.apply(n.bind,arguments)}function CG(n,e,i){if(!n)throw Error();if(2<arguments.length){var t=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,t),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Vs(n,e,i){return(Vs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wG:CG).apply(null,arguments)}function mI(n,e){var i=Array.prototype.slice.call(arguments,1);return function(){var t=i.slice();return t.push.apply(t,arguments),n.apply(this,t)}}function Zr(n,e){function i(){}i.prototype=e.prototype,n.$=e.prototype,n.prototype=new i,n.prototype.constructor=n,n.ac=function(t,r,s){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[r].apply(t,c)}}function uf(){this.s=this.s,this.o=this.o}uf.prototype.s=!1,uf.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function vG(n){Object.prototype.hasOwnProperty.call(n,cR)&&n[cR]||(n[cR]=++bG)}(this)},uf.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const IV=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let i=0;i<n.length;i++)if(i in n&&n[i]===e)return i;return-1};function uR(n){const e=n.length;if(0<e){const i=Array(e);for(let t=0;t<e;t++)i[t]=n[t];return i}return[]}function SV(n,e){for(let i=1;i<arguments.length;i++){const t=arguments[i];if(pI(t)){const r=n.length||0,s=t.length||0;n.length=r+s;for(let c=0;c<s;c++)n[r+c]=t[c]}else n.push(t)}}function Us(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Us.prototype.h=function(){this.defaultPrevented=!0};var xG=function(){if(!Yt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Yt.addEventListener("test",()=>{},e),Yt.removeEventListener("test",()=>{},e)}catch{}return n}();function q0(n){return/^[\s\xa0]*$/.test(n)}function gI(){var n=Yt.navigator;return n&&(n=n.userAgent)?n:""}function Vc(n){return-1!=gI().indexOf(n)}function dR(n){return dR[" "](n),n}dR[" "]=function(){};var fR,n,IG=Vc("Opera"),dy=Vc("Trident")||Vc("MSIE"),TV=Vc("Edge"),hR=TV||dy,AV=Vc("Gecko")&&!(-1!=gI().toLowerCase().indexOf("webkit")&&!Vc("Edge"))&&!(Vc("Trident")||Vc("MSIE"))&&!Vc("Edge"),SG=-1!=gI().toLowerCase().indexOf("webkit")&&!Vc("Edge");function MV(){var n=Yt.document;return n?n.documentMode:void 0}e:{var pR="",mR=(n=gI(),AV?/rv:([^\);]+)(\)|;)/.exec(n):TV?/Edge\/([\d\.]+)/.exec(n):dy?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):SG?/WebKit\/(\S+)/.exec(n):IG?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(mR&&(pR=mR?mR[1]:""),dy){var gR=MV();if(null!=gR&&gR>parseFloat(pR)){fR=String(gR);break e}}fR=pR}var TG=Yt.document&&dy&&(MV()||parseInt(fR,10))||void 0;function W0(n,e){if(Us.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var i=this.type=n.type,t=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(AV){e:{try{dR(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==i?e=n.fromElement:"mouseout"==i&&(e=n.toElement);this.relatedTarget=e,t?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:AG[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&W0.$.h.call(this)}}Zr(W0,Us);var AG={2:"touch",3:"pen",4:"mouse"};W0.prototype.h=function(){W0.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Z0="closure_listenable_"+(1e6*Math.random()|0),MG=0;function kG(n,e,i,t,r){this.listener=n,this.proxy=null,this.src=e,this.type=i,this.capture=!!t,this.la=r,this.key=++MG,this.fa=this.ia=!1}function _I(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function yR(n,e,i){for(const t in n)e.call(i,n[t],t,n)}function RV(n){const e={};for(const i in n)e[i]=n[i];return e}const OV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function PV(n,e){let i,t;for(let r=1;r<arguments.length;r++){for(i in t=arguments[r],t)n[i]=t[i];for(let s=0;s<OV.length;s++)i=OV[s],Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}}function yI(n){this.src=n,this.g={},this.h=0}function vR(n,e){var i=e.type;if(i in n.g){var s,t=n.g[i],r=IV(t,e);(s=0<=r)&&Array.prototype.splice.call(t,r,1),s&&(_I(e),0==n.g[i].length&&(delete n.g[i],n.h--))}}function bR(n,e,i,t){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==e&&s.capture==!!i&&s.la==t)return r}return-1}yI.prototype.add=function(n,e,i,t,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=bR(n,e,t,r);return-1<c?(e=n[c],i||(e.ia=!1)):((e=new kG(e,this.src,s,!!t,r)).ia=i,n.push(e)),e};var wR="closure_lm_"+(1e6*Math.random()|0),CR={};function NV(n,e,i,t,r){if(t&&t.once)return LV(n,e,i,t,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)NV(n,e[s],i,t,r);return null}return i=IR(i),n&&n[Z0]?n.O(e,i,G0(t)?!!t.capture:!!t,r):FV(n,e,i,!1,t,r)}function FV(n,e,i,t,r,s){if(!e)throw Error("Invalid event type");var c=G0(r)?!!r.capture:!!r,h=xR(n);if(h||(n[wR]=h=new yI(n)),(i=h.add(e,i,t,c,s)).proxy)return i;if(t=function OG(){const e=PG;return function n(i){return e.call(n.src,n.listener,i)}}(),i.proxy=t,t.src=n,t.listener=i,n.addEventListener)xG||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),t,r);else if(n.attachEvent)n.attachEvent(VV(e.toString()),t);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(t)}return i}function LV(n,e,i,t,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)LV(n,e[s],i,t,r);return null}return i=IR(i),n&&n[Z0]?n.P(e,i,G0(t)?!!t.capture:!!t,r):FV(n,e,i,!0,t,r)}function BV(n,e,i,t,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)BV(n,e[s],i,t,r);else t=G0(t)?!!t.capture:!!t,i=IR(i),n&&n[Z0]?(n=n.i,(e=String(e).toString())in n.g&&-1<(i=bR(s=n.g[e],i,t,r))&&(_I(s[i]),Array.prototype.splice.call(s,i,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=xR(n))&&(e=n.g[e.toString()],n=-1,e&&(n=bR(e,i,t,r)),(i=-1<n?e[n]:null)&&ER(i))}function ER(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Z0])vR(e.i,n);else{var i=n.type,t=n.proxy;e.removeEventListener?e.removeEventListener(i,t,n.capture):e.detachEvent?e.detachEvent(VV(i),t):e.addListener&&e.removeListener&&e.removeListener(t),(i=xR(e))?(vR(i,n),0==i.h&&(i.src=null,e[wR]=null)):_I(n)}}}function VV(n){return n in CR?CR[n]:CR[n]="on"+n}function PG(n,e){if(n.fa)n=!0;else{e=new W0(e,this);var i=n.listener,t=n.la||n.src;n.ia&&ER(n),n=i.call(t,e)}return n}function xR(n){return(n=n[wR])instanceof yI?n:null}var DR="__closure_events_fn_"+(1e9*Math.random()>>>0);function IR(n){return"function"==typeof n?n:(n[DR]||(n[DR]=function(e){return n.handleEvent(e)}),n[DR])}function Yr(){uf.call(this),this.i=new yI(this),this.S=this,this.J=null}function vs(n,e){var i,t=n.J;if(t)for(i=[];t;t=t.J)i.push(t);if(n=n.S,t=e.type||e,"string"==typeof e)e=new Us(e,n);else if(e instanceof Us)e.target=e.target||n;else{var r=e;PV(e=new Us(t,n),r)}if(r=!0,i)for(var s=i.length-1;0<=s;s--){var c=e.g=i[s];r=vI(c,t,!0,e)&&r}if(r=vI(c=e.g=n,t,!0,e)&&r,r=vI(c,t,!1,e)&&r,i)for(s=0;s<i.length;s++)r=vI(c=e.g=i[s],t,!1,e)&&r}function vI(n,e,i,t){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var c=e[s];if(c&&!c.fa&&c.capture==i){var h=c.listener,p=c.la||c.src;c.ia&&vR(n.i,c),r=!1!==h.call(p,t)&&r}}return r&&!t.defaultPrevented}Zr(Yr,uf),Yr.prototype[Z0]=!0,Yr.prototype.removeEventListener=function(n,e,i,t){BV(this,n,e,i,t)},Yr.prototype.N=function(){if(Yr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var i=n.g[e],t=0;t<i.length;t++)_I(i[t]);delete n.g[e],n.h--}}this.J=null},Yr.prototype.O=function(n,e,i,t){return this.i.add(String(n),e,!1,i,t)},Yr.prototype.P=function(n,e,i,t){return this.i.add(String(n),e,!0,i,t)};var SR=Yt.JSON.stringify;function FG(){var n=TR;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var UV=new class NG{constructor(e,i){this.i=e,this.j=i,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new BG,n=>n.reset());class BG{constructor(){this.next=this.g=this.h=null}set(e,i){this.h=e,this.g=i,this.next=null}reset(){this.next=this.g=this.h=null}}function VG(n){var e=1;n=n.split(":");const i=[];for(;0<e&&n.length;)i.push(n.shift()),e--;return n.length&&i.push(n.join(":")),i}function UG(n){Yt.setTimeout(()=>{throw n},0)}let Y0,K0=!1,TR=new class LG{constructor(){this.h=this.g=null}add(e,i){const t=UV.get();t.set(e,i),this.h?this.h.next=t:this.g=t,this.h=t}},HV=()=>{const n=Yt.Promise.resolve(void 0);Y0=()=>{n.then(HG)}};var HG=()=>{for(var n;n=FG();){try{n.h.call(n.g)}catch(i){UG(i)}var e=UV;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}K0=!1};function bI(n,e){Yr.call(this),this.h=n||1,this.g=e||Yt,this.j=Vs(this.qb,this),this.l=Date.now()}function AR(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function MR(n,e,i){if("function"==typeof n)i&&(n=Vs(n,i));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Vs(n.handleEvent,n)}return 2147483647<Number(e)?-1:Yt.setTimeout(n,e||0)}function jV(n){n.g=MR(()=>{n.g=null,n.i&&(n.i=!1,jV(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Zr(bI,Yr),(lt=bI.prototype).ga=!1,lt.T=null,lt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),vs(this,"tick"),this.ga&&(AR(this),this.start()))}},lt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lt.N=function(){bI.$.N.call(this),AR(this),delete this.g};class jG extends uf{constructor(e,i){super(),this.m=e,this.j=i,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:jV(this)}N(){super.N(),this.g&&(Yt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Q0(n){uf.call(this),this.h=n,this.g={}}Zr(Q0,uf);var zV=[];function $V(n,e,i,t){Array.isArray(i)||(i&&(zV[0]=i.toString()),i=zV);for(var r=0;r<i.length;r++){var s=NV(e,i[r],t||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function GV(n){yR(n.g,function(e,i){this.g.hasOwnProperty(i)&&ER(e)},n),n.g={}}function wI(){this.g=!0}function hy(n,e,i,t){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function qG(n,e){if(!n.g)return e;if(!e)return null;try{var i=JSON.parse(e);if(i)for(n=0;n<i.length;n++)if(Array.isArray(i[n])){var t=i[n];if(!(2>t.length)){var r=t[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return SR(i)}catch{return e}}(n,i)+(t?" "+t:"")})}Q0.prototype.N=function(){Q0.$.N.call(this),GV(this)},Q0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wI.prototype.Ea=function(){this.g=!1},wI.prototype.info=function(){};var wm={},qV=null;function CI(){return qV=qV||new Yr}function WV(n){Us.call(this,wm.Ta,n)}function X0(n){const e=CI();vs(e,new WV(e))}function ZV(n,e){Us.call(this,wm.STAT_EVENT,n),this.stat=e}function mo(n){const e=CI();vs(e,new ZV(e,n))}function YV(n,e){Us.call(this,wm.Ua,n),this.size=e}function J0(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Yt.setTimeout(function(){n()},e)}wm.Ta="serverreachability",Zr(WV,Us),wm.STAT_EVENT="statevent",Zr(ZV,Us),wm.Ua="timingevent",Zr(YV,Us);var EI={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},KV={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function kR(){}function XV(){}kR.prototype.h=null;var PR,ew={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function RR(){Us.call(this,"d")}function OR(){Us.call(this,"c")}function xI(){}function tw(n,e,i,t){this.l=n,this.j=e,this.m=i,this.W=t||1,this.U=new Q0(this),this.P=WG,this.V=new bI(n=hR?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new JV}function JV(){this.i=null,this.g="",this.h=!1}Zr(RR,Us),Zr(OR,Us),Zr(xI,kR),xI.prototype.g=function(){return new XMLHttpRequest},xI.prototype.i=function(){return{}},PR=new xI;var WG=45e3,NR={},DI={};function FR(n,e,i){n.L=1,n.v=AI(fd(e)),n.s=i,n.S=!0,eU(n,null)}function eU(n,e){n.G=Date.now(),nw(n),n.A=fd(n.v);var i=n.A,t=n.W;Array.isArray(t)||(t=[String(t)]),uU(i.i,"t",t),n.C=0,i=n.l.J,n.h=new JV,n.g=PU(n.l,i?e:null,!n.s),0<n.O&&(n.M=new jG(Vs(n.Pa,n,n.g),n.O)),$V(n.U,n.g,"readystatechange",n.nb),e=n.I?RV(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),X0(),function zG(n,e,i,t,r,s){n.info(function(){if(n.g)if(s)for(var c="",h=s.split("&"),p=0;p<h.length;p++){var y=h[p].split("=");if(1<y.length){var x=y[0];y=y[1];var S=x.split("_");c=2<=S.length&&"type"==S[1]?c+(x+"=")+y+"&":c+(x+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+t+") [attempt "+r+"]: "+e+"\n"+i+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function tU(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function nU(n,e,i){let r,t=!0;for(;!n.J&&n.C<i.length;){if(r=ZG(n,i),r==DI){4==e&&(n.o=4,mo(14),t=!1),hy(n.j,n.m,null,"[Incomplete Response]");break}if(r==NR){n.o=4,mo(15),hy(n.j,n.m,i,"[Invalid Chunk]"),t=!1;break}hy(n.j,n.m,r,null),LR(n,r)}tU(n)&&r!=DI&&r!=NR&&(n.h.g="",n.C=0),4!=e||0!=i.length||n.h.h||(n.o=1,mo(16),t=!1),n.i=n.i&&t,t?0<i.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+i.length),$R(e),e.M=!0,mo(11))):(hy(n.j,n.m,i,"[Invalid Chunked Response]"),Cm(n),iw(n))}function ZG(n,e){var i=n.C,t=e.indexOf("\n",i);return-1==t?DI:(i=Number(e.substring(i,t)),isNaN(i)?NR:(t+=1)+i>e.length?DI:(e=e.slice(t,t+i),n.C=t+i,e))}function nw(n){n.Y=Date.now()+n.P,iU(n,n.P)}function iU(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=J0(Vs(n.lb,n),e)}function II(n){n.B&&(Yt.clearTimeout(n.B),n.B=null)}function iw(n){0==n.l.H||n.J||MU(n.l,n)}function Cm(n){II(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,AR(n.V),GV(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function LR(n,e){try{var i=n.l;if(0!=i.H&&(i.g==n||BR(i.i,n)))if(!n.K&&BR(i.i,n)&&3==i.H){try{var t=i.Ja.g.parse(e)}catch{t=null}if(Array.isArray(t)&&3==t.length){var r=t;if(0==r[0]){e:if(!i.u){if(i.g){if(!(i.g.G+3e3<n.G))break e;NI(i),OI(i)}zR(i),mo(18)}}else i.Fa=r[1],0<i.Fa-i.V&&37500>r[2]&&i.G&&0==i.A&&!i.v&&(i.v=J0(Vs(i.ib,i),6e3));if(1>=fU(i.i)&&i.oa){try{i.oa()}catch{}i.oa=void 0}}else xm(i,11)}else if((n.K||i.g==n)&&NI(i),!q0(e))for(r=i.Ja.g.parse(e),e=0;e<r.length;e++){let y=r[e];if(i.V=y[0],y=y[1],2==i.H)if("c"==y[0]){i.K=y[1],i.pa=y[2];const x=y[3];null!=x&&(i.ra=x,i.l.info("VER="+i.ra));const S=y[4];null!=S&&(i.Ga=S,i.l.info("SVER="+i.Ga));const N=y[5];null!=N&&"number"==typeof N&&0<N&&(i.L=t=1.5*N,i.l.info("backChannelRequestTimeoutMs_="+t)),t=i;const H=n.g;if(H){const G=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var s=t.i;s.g||-1==G.indexOf("spdy")&&-1==G.indexOf("quic")&&-1==G.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(VR(s,s.h),s.h=null))}if(t.F){const Q=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;Q&&(t.Da=Q,Ci(t.I,t.F,Q))}}i.H=3,i.h&&i.h.Ba(),i.ca&&(i.S=Date.now()-n.G,i.l.info("Handshake RTT: "+i.S+"ms"));var c=n;if((t=i).wa=OU(t,t.J?t.pa:null,t.Y),c.K){pU(t.i,c);var h=c,p=t.L;p&&h.setTimeout(p),h.B&&(II(h),nw(h)),t.g=c}else TU(t);0<i.j.length&&PI(i)}else"stop"!=y[0]&&"close"!=y[0]||xm(i,7);else 3==i.H&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?xm(i,7):jR(i):"noop"!=y[0]&&i.h&&i.h.Aa(y),i.A=0)}X0()}catch{}}function rU(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(pI(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var i=function KG(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(pI(n)||"string"==typeof n){var e=[];n=n.length;for(var i=0;i<n;i++)e.push(i);return e}e=[],i=0;for(const t in n)e[i++]=t;return e}}}(n),t=function YG(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(pI(n)){for(var e=[],i=n.length,t=0;t<i;t++)e.push(n[t]);return e}for(t in e=[],i=0,n)e[i++]=n[t];return e}(n),r=t.length,s=0;s<r;s++)e.call(void 0,t[s],i&&i[s],n)}(lt=tw.prototype).setTimeout=function(n){this.P=n},lt.nb=function(n){n=n.target;const e=this.M;e&&3==Uc(n)?e.l():this.Pa(n)},lt.Pa=function(n){try{if(n==this.g)e:{const x=Uc(this.g);var e=this.g.Ia();if(this.g.da(),!(3>x)&&(3!=x||hR||this.g&&(this.h.h||this.g.ja()||CU(this.g)))){this.J||4!=x||7==e||X0(),II(this);var i=this.g.da();this.ca=i;t:if(tU(this)){var t=CU(this.g);n="";var r=t.length,s=4==Uc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Cm(this),iw(this);var c="";break t}this.h.i=new Yt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(t[e],{stream:s&&e==r-1});t.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==i,function $G(n,e,i,t,r,s,c){n.info(function(){return"XMLHTTP RESP ("+t+") [ attempt "+r+"]: "+e+"\n"+i+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.W,x,i),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q0(h)){var y=h;break t}}y=null}if(!(i=y)){this.i=!1,this.o=3,mo(12),Cm(this),iw(this);break e}hy(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,LR(this,i)}this.S?(nU(this,x,c),hR&&this.i&&3==x&&($V(this.U,this.V,"tick",this.mb),this.V.start())):(hy(this.j,this.m,c,null),LR(this,c)),4==x&&Cm(this),this.i&&!this.J&&(4==x?MU(this.l,this):(this.i=!1,nw(this)))}else(function pq(n){const e={};n=(n.g&&2<=Uc(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let t=0;t<n.length;t++){if(q0(n[t]))continue;var i=VG(n[t]);const r=i[0];if("string"!=typeof(i=i[1]))continue;i=i.trim();const s=e[r]||[];e[r]=s,s.push(i)}!function RG(n,e){for(const i in n)e.call(void 0,n[i],i,n)}(e,function(t){return t.join(", ")})})(this.g),400==i&&0<c.indexOf("Unknown SID")?(this.o=3,mo(12)):(this.o=0,mo(13)),Cm(this),iw(this)}}}catch{}},lt.mb=function(){if(this.g){var n=Uc(this.g),e=this.g.ja();this.C<e.length&&(II(this),nU(this,n,e),this.i&&4!=n&&nw(this))}},lt.cancel=function(){this.J=!0,Cm(this)},lt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function GG(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(X0(),mo(17)),Cm(this),this.o=2,iw(this)):iU(this,this.Y-n)};var sU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Em(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Em){this.h=n.h,SI(this,n.j),this.s=n.s,this.g=n.g,TI(this,n.m),this.l=n.l;var e=n.i,i=new ow;i.i=e.i,e.g&&(i.g=new Map(e.g),i.h=e.h),oU(this,i),this.o=n.o}else n&&(e=String(n).match(sU))?(this.h=!1,SI(this,e[1]||"",!0),this.s=rw(e[2]||""),this.g=rw(e[3]||"",!0),TI(this,e[4]),this.l=rw(e[5]||"",!0),oU(this,e[6]||"",!0),this.o=rw(e[7]||"")):(this.h=!1,this.i=new ow(null,this.h))}function fd(n){return new Em(n)}function SI(n,e,i){n.j=i?rw(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function TI(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function oU(n,e,i){e instanceof ow?(n.i=e,function iq(n,e){e&&!n.j&&(df(n),n.i=null,n.g.forEach(function(i,t){var r=t.toLowerCase();t!=r&&(lU(this,t),uU(this,r,i))},n)),n.j=e}(n.i,n.h)):(i||(e=sw(e,tq)),n.i=new ow(e,n.h))}function Ci(n,e,i){n.i.set(e,i)}function AI(n){return Ci(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function rw(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function sw(n,e,i){return"string"==typeof n?(n=encodeURI(n).replace(e,XG),i&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function XG(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Em.prototype.toString=function(){var n=[],e=this.j;e&&n.push(sw(e,aU,!0),":");var i=this.g;return(i||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(sw(e,aU,!0),"@"),n.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&n.push(":",String(i))),(i=this.l)&&(this.g&&"/"!=i.charAt(0)&&n.push("/"),n.push(sw(i,"/"==i.charAt(0)?eq:JG,!0))),(i=this.i.toString())&&n.push("?",i),(i=this.o)&&n.push("#",sw(i,nq)),n.join("")};var aU=/[#\/\?@]/g,JG=/[#\?:]/g,eq=/[#\?]/g,tq=/[#\?@]/g,nq=/#/g;function ow(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function df(n){n.g||(n.g=new Map,n.h=0,n.i&&function QG(n,e){if(n){n=n.split("&");for(var i=0;i<n.length;i++){var t=n[i].indexOf("="),r=null;if(0<=t){var s=n[i].substring(0,t);r=n[i].substring(t+1)}else s=n[i];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,i){n.add(decodeURIComponent(e.replace(/\+/g," ")),i)}))}function lU(n,e){df(n),e=fy(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function cU(n,e){return df(n),e=fy(n,e),n.g.has(e)}function uU(n,e,i){lU(n,e),0<i.length&&(n.i=null,n.g.set(fy(n,e),uR(i)),n.h+=i.length)}function fy(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function dU(n){this.l=n||sq,n=Yt.PerformanceNavigationTiming?0<(n=Yt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Yt.g&&Yt.g.Ka&&Yt.g.Ka()&&Yt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(lt=ow.prototype).add=function(n,e){df(this),this.i=null,n=fy(this,n);var i=this.g.get(n);return i||this.g.set(n,i=[]),i.push(e),this.h+=1,this},lt.forEach=function(n,e){df(this),this.g.forEach(function(i,t){i.forEach(function(r){n.call(e,r,t,this)},this)},this)},lt.ta=function(){df(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),i=[];for(let t=0;t<e.length;t++){const r=n[t];for(let s=0;s<r.length;s++)i.push(e[t])}return i},lt.Z=function(n){df(this);let e=[];if("string"==typeof n)cU(this,n)&&(e=e.concat(this.g.get(fy(this,n))));else{n=Array.from(this.g.values());for(let i=0;i<n.length;i++)e=e.concat(n[i])}return e},lt.set=function(n,e){return df(this),this.i=null,cU(this,n=fy(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},lt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},lt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var i=0;i<e.length;i++){var t=e[i];const s=encodeURIComponent(String(t)),c=this.Z(t);for(t=0;t<c.length;t++){var r=s;""!==c[t]&&(r+="="+encodeURIComponent(String(c[t]))),n.push(r)}}return this.i=n.join("&")};var sq=10;function hU(n){return!!n.h||!!n.g&&n.g.size>=n.j}function fU(n){return n.h?1:n.g?n.g.size:0}function BR(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function VR(n,e){n.g?n.g.add(e):n.h=e}function pU(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function mU(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const i of n.g.values())e=e.concat(i.F);return e}return uR(n.i)}dU.prototype.cancel=function(){if(this.i=mU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var oq=class{stringify(n){return Yt.JSON.stringify(n,void 0)}parse(n){return Yt.JSON.parse(n,void 0)}};function aq(){this.g=new oq}function lq(n,e,i){const t=i||"";try{rU(n,function(r,s){let c=r;G0(r)&&(c=SR(r)),e.push(t+s+"="+encodeURIComponent(c))})}catch(r){throw e.push(t+"type="+encodeURIComponent("_badmap")),r}}function MI(n,e,i,t,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(t)}catch{}}function aw(n){this.l=n.fc||null,this.j=n.ob||!1}function kI(n,e){Yr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=UR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zr(aw,kR),aw.prototype.g=function(){return new kI(this.l,this.j)},aw.prototype.i=function(n){return function(){return n}}({}),Zr(kI,Yr);var UR=0;function gU(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function lw(n){n.readyState=4,n.l=null,n.j=null,n.A=null,cw(n)}function cw(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(lt=kI.prototype).open=function(n,e){if(this.readyState!=UR)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,cw(this)},lt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Yt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},lt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lw(this)),this.readyState=UR},lt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,cw(this)),this.g&&(this.readyState=3,cw(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Yt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gU(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},lt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?lw(this):cw(this),3==this.readyState&&gU(this)}},lt.Za=function(n){this.g&&(this.response=this.responseText=n,lw(this))},lt.Ya=function(n){this.g&&(this.response=n,lw(this))},lt.ka=function(){this.g&&lw(this)},lt.setRequestHeader=function(n,e){this.v.append(n,e)},lt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},lt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var i=e.next();!i.done;)n.push((i=i.value)[0]+": "+i[1]),i=e.next();return n.join("\r\n")},Object.defineProperty(kI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var uq=Yt.JSON.parse;function er(n){Yr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=_U,this.L=this.M=!1}Zr(er,Yr);var _U="",dq=/^https?$/i,hq=["POST","PUT"];function yU(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,vU(n),RI(n)}function vU(n){n.F||(n.F=!0,vs(n,"complete"),vs(n,"error"))}function bU(n){if(n.h&&typeof lR<"u"&&(!n.C[1]||4!=Uc(n)||2!=n.da()))if(n.v&&4==Uc(n))MR(n.La,0,n);else if(vs(n,"readystatechange"),4==Uc(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var i;if(!(i=e)){var t;if(t=0===c){var r=String(n.I).match(sU)[1]||null;!r&&Yt.self&&Yt.self.location&&(r=Yt.self.location.protocol.slice(0,-1)),t=!dq.test(r?r.toLowerCase():"")}i=t}if(i)vs(n,"complete"),vs(n,"success");else{n.m=6;try{var s=2<Uc(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",vU(n)}}finally{RI(n)}}}function RI(n,e){if(n.g){wU(n);const i=n.g,t=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||vs(n,"ready");try{i.onreadystatechange=t}catch{}}}function wU(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Yt.clearTimeout(n.A),n.A=null)}function Uc(n){return n.g?n.g.readyState:0}function CU(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case _U:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function EU(n){let e="";return yR(n,function(i,t){e+=t,e+=":",e+=i,e+="\r\n"}),e}function HR(n,e,i){e:{for(t in i){var t=!1;break e}t=!0}t||(i=EU(i),"string"==typeof n?null!=i&&encodeURIComponent(String(i)):Ci(n,e,i))}function uw(n,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[n]||e}function xU(n){this.Ga=0,this.j=[],this.l=new wI,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=uw("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=uw("baseRetryDelayMs",5e3,n),this.hb=uw("retryDelaySeedMs",1e4,n),this.eb=uw("forwardChannelMaxRetries",2,n),this.xa=uw("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new dU(n&&n.concurrentRequestLimit),this.Ja=new aq,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function jR(n){if(DU(n),3==n.H){var e=n.W++,i=fd(n.I);if(Ci(i,"SID",n.K),Ci(i,"RID",e),Ci(i,"TYPE","terminate"),dw(n,i),(e=new tw(n,n.l,e)).L=2,e.v=AI(fd(i)),i=!1,Yt.navigator&&Yt.navigator.sendBeacon)try{i=Yt.navigator.sendBeacon(e.v.toString(),"")}catch{}!i&&Yt.Image&&((new Image).src=e.v,i=!0),i||(e.g=PU(e.l,null),e.g.ha(e.v)),e.G=Date.now(),nw(e)}RU(n)}function OI(n){n.g&&($R(n),n.g.cancel(),n.g=null)}function DU(n){OI(n),n.u&&(Yt.clearTimeout(n.u),n.u=null),NI(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Yt.clearTimeout(n.m),n.m=null)}function PI(n){if(!hU(n.i)&&!n.m){n.m=!0;var e=n.Na;Y0||HV(),K0||(Y0(),K0=!0),TR.add(e,n),n.C=0}}function IU(n,e){var i;i=e?e.m:n.W++;const t=fd(n.I);Ci(t,"SID",n.K),Ci(t,"RID",i),Ci(t,"AID",n.V),dw(n,t),n.o&&n.s&&HR(t,n.o,n.s),i=new tw(n,n.l,i,n.C+1),null===n.o&&(i.I=n.s),e&&(n.j=e.F.concat(n.j)),e=SU(n,i,1e3),i.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),VR(n.i,i),FR(i,t,e)}function dw(n,e){n.na&&yR(n.na,function(i,t){Ci(e,t,i)}),n.h&&rU({},function(i,t){Ci(e,t,i)})}function SU(n,e,i){i=Math.min(n.j.length,i);var t=n.h?Vs(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const c=["count="+i];-1==s?0<i?(s=r[0].g,c.push("ofs="+s)):s=0:c.push("ofs="+s);let h=!0;for(let p=0;p<i;p++){let y=r[p].g;const x=r[p].map;if(y-=s,0>y)s=Math.max(0,r[p].g-100),h=!1;else try{lq(x,c,"req"+y+"_")}catch{t&&t(x)}}if(h){t=c.join("&");break e}}}return n=n.j.splice(0,i),e.F=n,t}function TU(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Y0||HV(),K0||(Y0(),K0=!0),TR.add(e,n),n.A=0}}function zR(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=J0(Vs(n.Ma,n),kU(n,n.A)),n.A++,0))}function $R(n){null!=n.B&&(Yt.clearTimeout(n.B),n.B=null)}function AU(n){n.g=new tw(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=fd(n.wa);Ci(e,"RID","rpc"),Ci(e,"SID",n.K),Ci(e,"AID",n.V),Ci(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ci(e,"TO",n.qa),Ci(e,"TYPE","xmlhttp"),dw(n,e),n.o&&n.s&&HR(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var i=n.g;n=n.pa,i.L=1,i.v=AI(fd(e)),i.s=null,i.S=!0,eU(i,n)}function NI(n){null!=n.v&&(Yt.clearTimeout(n.v),n.v=null)}function MU(n,e){var i=null;if(n.g==e){NI(n),$R(n),n.g=null;var t=2}else{if(!BR(n.i,e))return;i=e.F,pU(n.i,e),t=1}if(0!=n.H)if(e.i)if(1==t){i=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;vs(t=CI(),new YV(t,i)),PI(n)}else TU(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==t&&function mq(n,e){return!(fU(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=J0(Vs(n.Na,n,e),kU(n,n.C)),n.C++,0)))}(n,e)||2==t&&zR(n)))switch(i&&0<i.length&&(e=n.i,e.i=e.i.concat(i)),r){case 1:xm(n,5);break;case 4:xm(n,10);break;case 3:xm(n,6);break;default:xm(n,2)}}function kU(n,e){let i=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(i*=2),i*e}function xm(n,e){if(n.l.info("Error code "+e),2==e){var i=null;n.h&&(i=null);var t=Vs(n.pb,n);i||(i=new Em("//www.google.com/images/cleardot.gif"),Yt.location&&"http"==Yt.location.protocol||SI(i,"https"),AI(i)),function cq(n,e){const i=new wI;if(Yt.Image){const t=new Image;t.onload=mI(MI,i,t,"TestLoadImage: loaded",!0,e),t.onerror=mI(MI,i,t,"TestLoadImage: error",!1,e),t.onabort=mI(MI,i,t,"TestLoadImage: abort",!1,e),t.ontimeout=mI(MI,i,t,"TestLoadImage: timeout",!1,e),Yt.setTimeout(function(){t.ontimeout&&t.ontimeout()},1e4),t.src=n}else e(!1)}(i.toString(),t)}else mo(2);n.H=0,n.h&&n.h.za(e),RU(n),DU(n)}function RU(n){if(n.H=0,n.ma=[],n.h){const e=mU(n.i);(0!=e.length||0!=n.j.length)&&(SV(n.ma,e),SV(n.ma,n.j),n.i.i.length=0,uR(n.j),n.j.length=0),n.h.ya()}}function OU(n,e,i){var t=i instanceof Em?fd(i):new Em(i);if(""!=t.g)e&&(t.g=e+"."+t.g),TI(t,t.m);else{var r=Yt.location;t=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Em(null);t&&SI(s,t),e&&(s.g=e),r&&TI(s,r),i&&(s.l=i),t=s}return e=n.Da,(i=n.F)&&e&&Ci(t,i,e),Ci(t,"VER",n.ra),dw(n,t),t}function PU(n,e,i){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new er(i&&n.Ha&&!n.va?new aw({ob:!0}):n.va)).Oa(n.J),e}function NU(){}function FI(){if(dy&&!(10<=Number(TG)))throw Error("Environmental error: no available transport.")}function ba(n,e){Yr.call(this),this.g=new xU(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!q0(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!q0(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new py(this)}function FU(n){RR.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const i in e){n=i;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function LU(){OR.call(this),this.status=1}function py(n){this.g=n}function Ll(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function GR(n,e,i){i||(i=0);var t=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)t[r]=e.charCodeAt(i++)|e.charCodeAt(i++)<<8|e.charCodeAt(i++)<<16|e.charCodeAt(i++)<<24;else for(r=0;16>r;++r)t[r]=e[i++]|e[i++]<<8|e[i++]<<16|e[i++]<<24;var s=n.g[3],c=(e=n.g[0])+(s^(i=n.g[1])&((r=n.g[2])^s))+t[0]+3614090360&4294967295;c=(i=(r=(s=(e=(i=(r=(s=(e=(i=(r=(s=(e=(i=(r=(s=(e=(i=(r=(s=(e=(i=(r=(s=(e=(i=(r=(s=(e=(i=(r=(s=(e=(i=(r=(s=(e=(i=(r=(s=(e=(i=(r=(s=(e=(i=(r=(s=(e=(i=(r=(s=(e=(i=(r=(s=(e=(i=(r=(s=(e=i+(c<<7&4294967295|c>>>25))+((c=s+(r^e&(i^r))+t[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=r+(i^s&(e^i))+t[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=i+(e^r&(s^e))+t[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^i&(r^s))+t[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=s+(r^e&(i^r))+t[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=r+(i^s&(e^i))+t[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=i+(e^r&(s^e))+t[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^i&(r^s))+t[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=s+(r^e&(i^r))+t[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=r+(i^s&(e^i))+t[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=i+(e^r&(s^e))+t[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^i&(r^s))+t[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=s+(r^e&(i^r))+t[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=r+(i^s&(e^i))+t[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=i+(e^r&(s^e))+t[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(r^s&(i^r))+t[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=s+(i^r&(e^i))+t[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=r+(e^i&(s^e))+t[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=i+(s^e&(r^s))+t[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(r^s&(i^r))+t[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=s+(i^r&(e^i))+t[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=r+(e^i&(s^e))+t[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=i+(s^e&(r^s))+t[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(r^s&(i^r))+t[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=s+(i^r&(e^i))+t[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=r+(e^i&(s^e))+t[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=i+(s^e&(r^s))+t[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(r^s&(i^r))+t[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=s+(i^r&(e^i))+t[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=r+(e^i&(s^e))+t[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=i+(s^e&(r^s))+t[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^r^s)+t[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^i^r)+t[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=r+(s^e^i)+t[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=i+(r^s^e)+t[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^r^s)+t[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^i^r)+t[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=r+(s^e^i)+t[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=i+(r^s^e)+t[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^r^s)+t[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^i^r)+t[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=r+(s^e^i)+t[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=i+(r^s^e)+t[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^r^s)+t[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^i^r)+t[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=r+(s^e^i)+t[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=i+(r^s^e)+t[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(r^(i|~s))+t[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=s+(i^(e|~r))+t[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=r+(e^(s|~i))+t[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=i+(s^(r|~e))+t[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(r^(i|~s))+t[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=s+(i^(e|~r))+t[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=r+(e^(s|~i))+t[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=i+(s^(r|~e))+t[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(r^(i|~s))+t[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=s+(i^(e|~r))+t[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=r+(e^(s|~i))+t[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=i+(s^(r|~e))+t[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((s=(e=i+((c=e+(r^(i|~s))+t[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=s+(i^(e|~r))+t[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((r=s+((c=r+(e^(s|~i))+t[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+t[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function $n(n,e){this.h=e;for(var i=[],t=!0,r=n.length-1;0<=r;r--){var s=0|n[r];t&&s==e||(i[r]=s,t=!1)}this.g=i}(lt=er.prototype).Oa=function(n){this.M=n},lt.ha=function(n,e,i,t){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():PR.g(),this.C=function QV(n){return n.h||(n.h=n.i())}(this.u?this.u:PR),this.g.onreadystatechange=Vs(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void yU(this,s)}if(n=i||"",i=new Map(this.headers),t)if(Object.getPrototypeOf(t)===Object.prototype)for(var r in t)i.set(r,t[r]);else{if("function"!=typeof t.keys||"function"!=typeof t.get)throw Error("Unknown input type for opt_headers: "+String(t));for(const s of t.keys())i.set(s,t.get(s))}t=Array.from(i.keys()).find(s=>"content-type"==s.toLowerCase()),r=Yt.FormData&&n instanceof Yt.FormData,!(0<=IV(hq,e))||t||r||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,c]of i)this.g.setRequestHeader(s,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wU(this),0<this.B&&((this.L=function fq(n){return dy&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vs(this.ua,this)):this.A=MR(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){yU(this,s)}},lt.ua=function(){typeof lR<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vs(this,"timeout"),this.abort(8))},lt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,vs(this,"complete"),vs(this,"abort"),RI(this))},lt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),RI(this,!0)),er.$.N.call(this)},lt.La=function(){this.s||(this.G||this.v||this.l?bU(this):this.kb())},lt.kb=function(){bU(this)},lt.isActive=function(){return!!this.g},lt.da=function(){try{return 2<Uc(this)?this.g.status:-1}catch{return-1}},lt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},lt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),uq(e)}},lt.Ia=function(){return this.m},lt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(lt=xU.prototype).ra=8,lt.H=1,lt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new tw(this,this.l,n);let s=this.s;if(this.U&&(s?(s=RV(s),PV(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,i=0;i<this.j.length;i++){var t=this.j[i];if(void 0===(t="__data__"in t.map&&"string"==typeof(t=t.map.__data__)?t.length:void 0))break;if(4096<(e+=t)){e=i;break e}if(4096===e||i===this.j.length-1){e=i+1;break e}}e=1e3}else e=1e3;e=SU(this,r,e),Ci(i=fd(this.I),"RID",n),Ci(i,"CVER",22),this.F&&Ci(i,"X-HTTP-Session-Id",this.F),dw(this,i),s&&(this.O?e="headers="+encodeURIComponent(String(EU(s)))+"&"+e:this.o&&HR(i,this.o,s)),VR(this.i,r),this.bb&&Ci(i,"TYPE","init"),this.P?(Ci(i,"$req",e),Ci(i,"SID","null"),r.aa=!0,FR(r,i,null)):FR(r,i,e),this.H=2}}else 3==this.H&&(n?IU(this,n):0==this.j.length||hU(this.i)||IU(this))},lt.Ma=function(){if(this.u=null,AU(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=J0(Vs(this.jb,this),n)}},lt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,mo(10),OI(this),AU(this))},lt.ib=function(){null!=this.v&&(this.v=null,OI(this),zR(this),mo(19))},lt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),mo(2)):(this.l.info("Failed to ping google.com"),mo(1))},lt.isActive=function(){return!!this.h&&this.h.isActive(this)},(lt=NU.prototype).Ba=function(){},lt.Aa=function(){},lt.za=function(){},lt.ya=function(){},lt.isActive=function(){return!0},lt.Va=function(){},FI.prototype.g=function(n,e){return new ba(n,e)},Zr(ba,Yr),ba.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,i=this.h||void 0;mo(0),n.Y=e,n.na=i||{},n.G=n.aa,n.I=OU(n,null,n.Y),PI(n)},ba.prototype.close=function(){jR(this.g)},ba.prototype.u=function(n){var e=this.g;if("string"==typeof n){var i={};i.__data__=n,n=i}else this.v&&((i={}).__data__=SR(n),n=i);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&PI(e)},ba.prototype.N=function(){this.g.h=null,delete this.j,jR(this.g),delete this.g,ba.$.N.call(this)},Zr(FU,RR),Zr(LU,OR),Zr(py,NU),py.prototype.Ba=function(){vs(this.g,"a")},py.prototype.Aa=function(n){vs(this.g,new FU(n))},py.prototype.za=function(n){vs(this.g,new LU)},py.prototype.ya=function(){vs(this.g,"b")},Zr(Ll,function gq(){this.blockSize=-1}),Ll.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ll.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var i=e-this.blockSize,t=this.m,r=this.h,s=0;s<e;){if(0==r)for(;s<=i;)GR(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(t[r++]=n.charCodeAt(s++),r==this.blockSize){GR(this,t),r=0;break}}else for(;s<e;)if(t[r++]=n[s++],r==this.blockSize){GR(this,t),r=0;break}}this.h=r,this.i+=e},Ll.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var i=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&i,i/=256;for(this.j(n),n=Array(16),e=i=0;4>e;++e)for(var t=0;32>t;t+=8)n[i++]=this.g[e]>>>t&255;return n};var _q={};function qR(n){return-128<=n&&128>n?function DG(n,e){var i=_q;return Object.prototype.hasOwnProperty.call(i,n)?i[n]:i[n]=e(n)}(n,function(e){return new $n([0|e],0>e?-1:0)}):new $n([0|n],0>n?-1:0)}function Hc(n){if(isNaN(n)||!isFinite(n))return my;if(0>n)return bs(Hc(-n));for(var e=[],i=1,t=0;n>=i;t++)e[t]=n/i|0,i*=WR;return new $n(e,0)}var WR=4294967296,my=qR(0),ZR=qR(1),VU=qR(16777216);function pd(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function el(n){return-1==n.h}function bs(n){for(var e=n.g.length,i=[],t=0;t<e;t++)i[t]=~n.g[t];return new $n(i,~n.h).add(ZR)}function LI(n,e){return n.add(bs(e))}function BI(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function hw(n,e){this.g=n,this.h=e}function VI(n,e){if(pd(e))throw Error("division by zero");if(pd(n))return new hw(my,my);if(el(n))return e=VI(bs(n),e),new hw(bs(e.g),bs(e.h));if(el(e))return e=VI(n,bs(e)),new hw(bs(e.g),e.h);if(30<n.g.length){if(el(n)||el(e))throw Error("slowDivide_ only works with positive integers.");for(var i=ZR,t=e;0>=t.X(n);)i=UU(i),t=UU(t);var r=gy(i,1),s=gy(t,1);for(t=gy(t,2),i=gy(i,2);!pd(t);){var c=s.add(t);0>=c.X(n)&&(r=r.add(i),s=c),t=gy(t,1),i=gy(i,1)}return e=LI(n,r.R(e)),new hw(r,e)}for(r=my;0<=n.X(e);){for(i=Math.max(1,Math.floor(n.ea()/e.ea())),t=48>=(t=Math.ceil(Math.log(i)/Math.LN2))?1:Math.pow(2,t-48),c=(s=Hc(i)).R(e);el(c)||0<c.X(n);)c=(s=Hc(i-=t)).R(e);pd(s)&&(s=ZR),r=r.add(s),n=LI(n,c)}return new hw(r,n)}function UU(n){for(var e=n.g.length+1,i=[],t=0;t<e;t++)i[t]=n.D(t)<<1|n.D(t-1)>>>31;return new $n(i,n.h)}function gy(n,e){var i=e>>5;e%=32;for(var t=n.g.length-i,r=[],s=0;s<t;s++)r[s]=0<e?n.D(s+i)>>>e|n.D(s+i+1)<<32-e:n.D(s+i);return new $n(r,n.h)}(lt=$n.prototype).ea=function(){if(el(this))return-bs(this).ea();for(var n=0,e=1,i=0;i<this.g.length;i++){var t=this.D(i);n+=(0<=t?t:WR+t)*e,e*=WR}return n},lt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(pd(this))return"0";if(el(this))return"-"+bs(this).toString(n);for(var e=Hc(Math.pow(n,6)),i=this,t="";;){var r=VI(i,e).g,s=((0<(i=LI(i,r.R(e))).g.length?i.g[0]:i.h)>>>0).toString(n);if(pd(i=r))return s+t;for(;6>s.length;)s="0"+s;t=s+t}},lt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},lt.X=function(n){return el(n=LI(this,n))?-1:pd(n)?0:1},lt.abs=function(){return el(this)?bs(this):this},lt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),i=[],t=0,r=0;r<=e;r++){var s=t+(65535&this.D(r))+(65535&n.D(r)),c=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);t=c>>>16,i[r]=(c&=65535)<<16|(s&=65535)}return new $n(i,-2147483648&i[i.length-1]?-1:0)},lt.R=function(n){if(pd(this)||pd(n))return my;if(el(this))return el(n)?bs(this).R(bs(n)):bs(bs(this).R(n));if(el(n))return bs(this.R(bs(n)));if(0>this.X(VU)&&0>n.X(VU))return Hc(this.ea()*n.ea());for(var e=this.g.length+n.g.length,i=[],t=0;t<2*e;t++)i[t]=0;for(t=0;t<this.g.length;t++)for(var r=0;r<n.g.length;r++){var s=this.D(t)>>>16,c=65535&this.D(t),h=n.D(r)>>>16,p=65535&n.D(r);i[2*t+2*r]+=c*p,BI(i,2*t+2*r),i[2*t+2*r+1]+=s*p,BI(i,2*t+2*r+1),i[2*t+2*r+1]+=c*h,BI(i,2*t+2*r+1),i[2*t+2*r+2]+=s*h,BI(i,2*t+2*r+2)}for(t=0;t<e;t++)i[t]=i[2*t+1]<<16|i[2*t];for(t=e;t<2*e;t++)i[t]=0;return new $n(i,0)},lt.gb=function(n){return VI(this,n).h},lt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),i=[],t=0;t<e;t++)i[t]=this.D(t)&n.D(t);return new $n(i,this.h&n.h)},lt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),i=[],t=0;t<e;t++)i[t]=this.D(t)|n.D(t);return new $n(i,this.h|n.h)},lt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),i=[],t=0;t<e;t++)i[t]=this.D(t)^n.D(t);return new $n(i,this.h^n.h)},FI.prototype.createWebChannel=FI.prototype.g,ba.prototype.send=ba.prototype.u,ba.prototype.open=ba.prototype.m,ba.prototype.close=ba.prototype.close,EI.NO_ERROR=0,EI.TIMEOUT=8,EI.HTTP_ERROR=6,KV.COMPLETE="complete",XV.EventType=ew,ew.OPEN="a",ew.CLOSE="b",ew.ERROR="c",ew.MESSAGE="d",Yr.prototype.listen=Yr.prototype.O,er.prototype.listenOnce=er.prototype.P,er.prototype.getLastError=er.prototype.Sa,er.prototype.getLastErrorCode=er.prototype.Ia,er.prototype.getStatus=er.prototype.da,er.prototype.getResponseJson=er.prototype.Wa,er.prototype.getResponseText=er.prototype.ja,er.prototype.send=er.prototype.ha,er.prototype.setWithCredentials=er.prototype.Oa,Ll.prototype.digest=Ll.prototype.l,Ll.prototype.reset=Ll.prototype.reset,Ll.prototype.update=Ll.prototype.j,$n.prototype.add=$n.prototype.add,$n.prototype.multiply=$n.prototype.R,$n.prototype.modulo=$n.prototype.gb,$n.prototype.compare=$n.prototype.X,$n.prototype.toNumber=$n.prototype.ea,$n.prototype.toString=$n.prototype.toString,$n.prototype.getBits=$n.prototype.D,$n.fromNumber=Hc,$n.fromString=function BU(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return bs(BU(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=Hc(Math.pow(e,8)),t=my,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),c=parseInt(n.substring(r,r+s),e);8>s?(s=Hc(Math.pow(e,s)),t=t.R(s).add(Hc(c))):t=(t=t.R(i)).add(Hc(c))}return t};var yq=Fl.createWebChannelTransport=function(){return new FI},vq=Fl.getStatEventTarget=function(){return CI()},YR=Fl.ErrorCode=EI,bq=Fl.EventType=KV,wq=Fl.Event=wm,HU=Fl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Cq=Fl.FetchXmlHttpFactory=aw,UI=Fl.WebChannel=XV,Eq=Fl.XhrIo=er,xq=Fl.Md5=Ll,_y=Fl.Integer=$n;const jU="@firebase/firestore";class Kr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kr.UNAUTHENTICATED=new Kr(null),Kr.GOOGLE_CREDENTIALS=new Kr("google-credentials-uid"),Kr.FIRST_PARTY=new Kr("first-party-uid"),Kr.MOCK_USER=new Kr("mock-user");let yy="9.23.0";const hf=new ld.Yd("@firebase/firestore");function KR(){return hf.logLevel}function je(n,...e){if(hf.logLevel<=ld.in.DEBUG){const i=e.map(QR);hf.debug(`Firestore (${yy}): ${n}`,...i)}}function hr(n,...e){if(hf.logLevel<=ld.in.ERROR){const i=e.map(QR);hf.error(`Firestore (${yy}): ${n}`,...i)}}function tl(n,...e){if(hf.logLevel<=ld.in.WARN){const i=e.map(QR);hf.warn(`Firestore (${yy}): ${n}`,...i)}}function QR(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function mt(n="Unexpected state"){const e=`FIRESTORE (${yy}) INTERNAL ASSERTION FAILED: `+n;throw hr(e),new Error(e)}function xt(n,e){n||mt()}function at(n,e){return n}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends an.ZR{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ur{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}class zU{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Sq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Kr.UNAUTHENTICATED))}shutdown(){}}class Tq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Aq{constructor(e){this.t=e,this.currentUser=Kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){var t=this;let r=this.i;const s=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ur,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const y=c;e.enqueueRetryable((0,ve.Z)(function*(){yield y.promise,yield s(t.currentUser)}))},p=y=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ur)}},0),h()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(t=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(xt("string"==typeof t.accessToken),new zU(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xt(null===e||"string"==typeof e),new Kr(e)}}class Mq{constructor(e,i,t){this.h=e,this.l=i,this.m=t,this.type="FirstParty",this.user=Kr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class kq{constructor(e,i,t){this.h=e,this.l=i,this.m=t}getToken(){return Promise.resolve(new Mq(this.h,this.l,this.m))}start(e,i){e.enqueueRetryable(()=>i(Kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $U{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rq{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,i){const t=s=>{null!=s.error&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.T;return this.T=s.token,je("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?i(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>t(s))};const r=s=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(xt("string"==typeof i.token),this.T=i.token,new $U(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Oq(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(i);else for(let t=0;t<n;t++)i[t]=Math.floor(256*Math.random());return i}class GU{static A(){const i=62*Math.floor(256/62);let t="";for(;t.length<20;){const r=Oq(40);for(let s=0;s<r.length;++s)t.length<20&&r[s]<i&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return t}}function Zt(n,e){return n<e?-1:n>e?1:0}function vy(n,e,i){return n.length===e.length&&n.every((t,r)=>i(t,e[r]))}function qU(n){return n+"\0"}class Ai{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new Ne(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Ne(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new Ne(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ai.fromMillis(Date.now())}static fromDate(e){return Ai.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),t=Math.floor(1e6*(e-1e3*i));return new Ai(i,t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new Ai(0,0))}static max(){return new Dt(new Ai(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class fw{constructor(e,i,t){void 0===i?i=0:i>e.length&&mt(),void 0===t?t=e.length-i:t>e.length-i&&mt(),this.segments=e,this.offset=i,this.len=t}get length(){return this.len}isEqual(e){return 0===fw.comparator(this,e)}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof fw?e.forEach(t=>{i.push(t)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,t=this.limit();i<t;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const t=Math.min(e.length,i.length);for(let r=0;r<t;r++){const s=e.get(r),c=i.get(r);if(s<c)return-1;if(s>c)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class Sn extends fw{construct(e,i,t){return new Sn(e,i,t)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const i=[];for(const t of e){if(t.indexOf("//")>=0)throw new Ne(ge.INVALID_ARGUMENT,`Invalid segment (${t}). Paths must not contain // in them.`);i.push(...t.split("/").filter(r=>r.length>0))}return new Sn(i)}static emptyPath(){return new Sn([])}}const Pq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends fw{construct(e,i,t){return new tr(e,i,t)}static isValidIdentifier(e){return Pq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new tr(["__name__"])}static fromServerFormat(e){const i=[];let t="",r=0;const s=()=>{if(0===t.length)throw new Ne(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(t),t=""};let c=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new Ne(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Ne(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);t+=p,r+=2}else"`"===h?(c=!c,r++):"."!==h||c?(t+=h,r++):(s(),r++)}if(s(),c)throw new Ne(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tr(i)}static emptyPath(){return new tr([])}}class ot{constructor(e){this.path=e}static fromPath(e){return new ot(Sn.fromString(e))}static fromName(e){return new ot(Sn.fromString(e).popFirst(5))}static empty(){return new ot(Sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Sn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,i){return Sn.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new Sn(e.slice()))}}class HI{constructor(e,i,t,r){this.indexId=e,this.collectionGroup=i,this.fields=t,this.indexState=r}}function XR(n){return n.fields.find(e=>2===e.kind)}function Dm(n){return n.fields.filter(e=>2!==e.kind)}HI.UNKNOWN_ID=-1;class jI{constructor(e,i){this.fieldPath=e,this.kind=i}}class pw{constructor(e,i){this.sequenceNumber=e,this.offset=i}static empty(){return new pw(0,wa.min())}}function WU(n,e){const i=n.toTimestamp().seconds,t=n.toTimestamp().nanoseconds+1,r=Dt.fromTimestamp(1e9===t?new Ai(i+1,0):new Ai(i,t));return new wa(r,ot.empty(),e)}function ZU(n){return new wa(n.readTime,n.key,-1)}class wa{constructor(e,i,t){this.readTime=e,this.documentKey=i,this.largestBatchId=t}static min(){return new wa(Dt.min(),ot.empty(),-1)}static max(){return new wa(Dt.max(),ot.empty(),-1)}}function JR(n,e){let i=n.readTime.compareTo(e.readTime);return 0!==i?i:(i=ot.comparator(n.documentKey,e.documentKey),0!==i?i:Zt(n.largestBatchId,e.largestBatchId))}const YU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ff(n){return eO.apply(this,arguments)}function eO(){return eO=(0,ve.Z)(function*(n){if(n.code!==ge.FAILED_PRECONDITION||n.message!==YU)throw n;je("LocalStore","Unexpectedly lost primary lease")}),eO.apply(this,arguments)}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new ce((t,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(t,r)},this.catchCallback=s=>{this.wrapFailure(i,s).next(t,r)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof ce?i:ce.resolve(i)}catch(i){return ce.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):ce.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):ce.reject(i)}static resolve(e){return new ce((i,t)=>{i(e)})}static reject(e){return new ce((i,t)=>{t(e)})}static waitFor(e){return new ce((i,t)=>{let r=0,s=0,c=!1;e.forEach(h=>{++r,h.next(()=>{++s,c&&s===r&&i()},p=>t(p))}),c=!0,s===r&&i()})}static or(e){let i=ce.resolve(!1);for(const t of e)i=i.next(r=>r?ce.resolve(r):t());return i}static forEach(e,i){const t=[];return e.forEach((r,s)=>{t.push(i.call(this,r,s))}),this.waitFor(t)}static mapArray(e,i){return new ce((t,r)=>{const s=e.length,c=new Array(s);let h=0;for(let p=0;p<s;p++){const y=p;i(e[y]).next(x=>{c[y]=x,++h,h===s&&t(c)},x=>r(x))}})}static doWhile(e,i){return new ce((t,r)=>{const s=()=>{!0===e()?i().next(()=>{s()},r):t()};s()})}}class zI{constructor(e,i){this.action=e,this.transaction=i,this.aborted=!1,this.v=new Ur,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{i.error?this.v.reject(new mw(e,i.error)):this.v.resolve()},this.transaction.onerror=t=>{const r=tO(t.target.error);this.v.reject(new mw(e,r))}}static open(e,i,t,r){try{return new zI(i,e.transaction(r,t))}catch(s){throw new mw(i,s)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(je("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const i=this.transaction.objectStore(e);return new Bq(i)}}class Bl{constructor(e,i,t){this.name=e,this.version=i,this.V=t,12.2===Bl.S((0,an.z$)())&&hr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return je("SimpleDb","Removing database:",e),Im(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,an.hl)())return!1;if(Bl.C())return!0;const e=(0,an.z$)(),i=Bl.S(e),t=0<i&&i<10,r=Bl.N(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||t||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,i){return e.store(i)}static S(e){const i=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),t=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(t)}static N(e){const i=e.match(/Android ([\d.]+)/i),t=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(t)}$(e){var i=this;return(0,ve.Z)(function*(){return i.db||(je("SimpleDb","Opening database:",i.name),i.db=yield new Promise((t,r)=>{const s=indexedDB.open(i.name,i.version);s.onsuccess=c=>{t(c.target.result)},s.onblocked=()=>{r(new mw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const h=c.target.error;r("VersionError"===h.name?new Ne(ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Ne(ge.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new mw(e,h))},s.onupgradeneeded=c=>{je("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',c.oldVersion),i.V.O(c.target.result,s.transaction,c.oldVersion,i.version).next(()=>{je("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.F&&(i.db.onversionchange=t=>i.F(t)),i.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=i=>e(i))}runTransaction(e,i,t,r){var s=this;return(0,ve.Z)(function*(){const c="readonly"===i;let h=0;for(;;){++h;try{s.db=yield s.$(e);const p=zI.open(s.db,e,c?"readonly":"readwrite",t),y=r(p).next(x=>(p.P(),x)).catch(x=>(p.abort(x),ce.reject(x))).toPromise();return y.catch(()=>{}),yield p.R,y}catch(p){const y=p,x="FirebaseError"!==y.name&&h<3;if(je("SimpleDb","Transaction failed with error:",y.message,"Retrying:",x),s.close(),!x)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Lq{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Im(this.L.delete())}}class mw extends Ne{constructor(e,i){super(ge.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function pf(n){return"IndexedDbTransactionError"===n.name}class Bq{constructor(e){this.store=e}put(e,i){let t;return void 0!==i?(je("SimpleDb","PUT",this.store.name,e,i),t=this.store.put(i,e)):(je("SimpleDb","PUT",this.store.name,"<auto-key>",e),t=this.store.put(e)),Im(t)}add(e){return je("SimpleDb","ADD",this.store.name,e,e),Im(this.store.add(e))}get(e){return Im(this.store.get(e)).next(i=>(void 0===i&&(i=null),je("SimpleDb","GET",this.store.name,e,i),i))}delete(e){return je("SimpleDb","DELETE",this.store.name,e),Im(this.store.delete(e))}count(){return je("SimpleDb","COUNT",this.store.name),Im(this.store.count())}j(e,i){const t=this.options(e,i);if(t.index||"function"!=typeof this.store.getAll){const r=this.cursor(t),s=[];return this.W(r,(c,h)=>{s.push(h)}).next(()=>s)}{const r=this.store.getAll(t.range);return new ce((s,c)=>{r.onerror=h=>{c(h.target.error)},r.onsuccess=h=>{s(h.target.result)}})}}H(e,i){const t=this.store.getAll(e,null===i?void 0:i);return new ce((r,s)=>{t.onerror=c=>{s(c.target.error)},t.onsuccess=c=>{r(c.target.result)}})}J(e,i){je("SimpleDb","DELETE ALL",this.store.name);const t=this.options(e,i);t.Y=!1;const r=this.cursor(t);return this.W(r,(s,c,h)=>h.delete())}X(e,i){let t;i?t=e:(t={},i=e);const r=this.cursor(t);return this.W(r,i)}Z(e){const i=this.cursor({});return new ce((t,r)=>{i.onerror=s=>{const c=tO(s.target.error);r(c)},i.onsuccess=s=>{const c=s.target.result;c?e(c.primaryKey,c.value).next(h=>{h?c.continue():t()}):t()}})}W(e,i){const t=[];return new ce((r,s)=>{e.onerror=c=>{s(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void r();const p=new Lq(h),y=i(h.primaryKey,h.value,p);if(y instanceof ce){const x=y.catch(S=>(p.done(),ce.reject(S)));t.push(x)}p.isDone?r():null===p.K?h.continue():h.continue(p.K)}}).next(()=>ce.waitFor(t))}options(e,i){let t;return void 0!==e&&("string"==typeof e?t=e:i=e),{index:t,range:i}}cursor(e){let i="next";if(e.reverse&&(i="prev"),e.index){const t=this.store.index(e.index);return e.Y?t.openKeyCursor(e.range,i):t.openCursor(e.range,i)}return this.store.openCursor(e.range,i)}}function Im(n){return new ce((e,i)=>{n.onsuccess=t=>{e(t.target.result)},n.onerror=t=>{const r=tO(t.target.error);i(r)}})}let QU=!1;function tO(n){const e=Bl.S((0,an.z$)());if(e>=12.2&&e<13){const i="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(i)>=0){const t=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return QU||(QU=!0,setTimeout(()=>{throw t},0)),t}}return n}class Vq{constructor(e,i){this.asyncQueue=e,this.tt=i,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var i=this;je("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ve.Z)(function*(){i.task=null;try{je("IndexBackiller",`Documents written: ${yield i.tt.nt()}`)}catch(t){pf(t)?je("IndexBackiller","Ignoring IndexedDB error during index backfill: ",t):yield ff(t)}yield i.et(6e4)}))}}class Uq{constructor(e,i){this.localStore=e,this.persistence=i}nt(e=50){var i=this;return(0,ve.Z)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>i.st(t,e))})()}st(e,i){const t=new Set;let r=i,s=!0;return ce.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!t.has(c))return je("IndexBackiller",`Processing collection: ${c}`),this.it(e,c,r).next(h=>{r-=h,t.add(c)});s=!1})).next(()=>i-r)}it(e,i,t){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,i).next(r=>this.localStore.localDocuments.getNextDocuments(e,i,r,t).next(s=>{const c=s.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.rt(r,s)).next(h=>(je("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,i,h))).next(()=>c.size)}))}rt(e,i){let t=e;return i.changes.forEach((r,s)=>{const c=ZU(s);JR(c,t)>0&&(t=c)}),new wa(t.readTime,t.documentKey,Math.max(i.batchId,e.largestBatchId))}}let Ca=(()=>{class n{constructor(i,t){this.previousValue=i,t&&(t.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>t.writeSequenceNumber(r))}ot(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.ut&&this.ut(i),i}}return n.ct=-1,n})();function gw(n){return null==n}function _w(n){return 0===n&&1/n==-1/0}function XU(n){return"number"==typeof n&&Number.isInteger(n)&&!_w(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Hs(n){let e="";for(let i=0;i<n.length;i++)e.length>0&&(e=JU(e)),e=Hq(n.get(i),e);return JU(e)}function Hq(n,e){let i=e;const t=n.length;for(let r=0;r<t;r++){const s=n.charAt(r);switch(s){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=s}}return i}function JU(n){return n+"\x01\x01"}function jc(n){const e=n.length;if(xt(e>=2),2===e)return xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Sn.emptyPath();const i=e-2,t=[];let r="";for(let s=0;s<e;){const c=n.indexOf("\x01",s);switch((c<0||c>i)&&mt(),n.charAt(c+1)){case"\x01":const h=n.substring(s,c);let p;0===r.length?p=h:(r+=h,p=r,r=""),t.push(p);break;case"\x10":r+=n.substring(s,c),r+="\0";break;case"\x11":r+=n.substring(s,c+1);break;default:mt()}s=c+2}return new Sn(t)}const e3=["userId","batchId"];function $I(n,e){return[n,Hs(e)]}function t3(n,e,i){return[n,Hs(e),i]}const jq={},zq=["prefixPath","collectionGroup","readTime","documentId"],$q=["prefixPath","collectionGroup","documentId"],Gq=["collectionGroup","readTime","prefixPath","documentId"],qq=["canonicalId","targetId"],Wq=["targetId","path"],Zq=["path","targetId"],Yq=["collectionId","parent"],Kq=["indexId","uid"],Qq=["uid","sequenceNumber"],Xq=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Jq=["indexId","uid","orderedDocumentKey"],e8=["userId","collectionPath","documentId"],t8=["userId","collectionPath","largestBatchId"],n8=["userId","collectionGroup","largestBatchId"],n3=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],r8=[...n3,"documentOverlays"],r3=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],s3=r3,s8=[...s3,"indexConfiguration","indexState","indexEntries"];class nO extends KU{constructor(e,i){super(),this.ht=e,this.currentSequenceNumber=i}}function Qr(n,e){const i=at(n);return Bl.M(i.ht,e)}function o3(n){let e=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&e++;return e}function mf(n,e){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&e(i,n[i])}function a3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class pi{constructor(e,i){this.comparator=e,this.root=i||ws.EMPTY}insert(e,i){return new pi(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ws.BLACK,null,null))}remove(e){return new pi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ws.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const t=this.comparator(e,i.key);if(0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}indexOf(e){let i=0,t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return i+t.left.size;r<0?t=t.left:(i+=t.left.size+1,t=t.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,t)=>(e(i,t),!1))}toString(){const e=[];return this.inorderTraversal((i,t)=>(e.push(`${i}:${t}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new GI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new GI(this.root,e,this.comparator,!1)}getReverseIterator(){return new GI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new GI(this.root,e,this.comparator,!0)}}class GI{constructor(e,i,t,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=i?t(e.key,i):1,i&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ws{constructor(e,i,t,r,s){this.key=e,this.value=i,this.color=t??ws.RED,this.left=r??ws.EMPTY,this.right=s??ws.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,t,r,s){return new ws(e??this.key,i??this.value,t??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,t){let r=this;const s=t(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,i,t),null):0===s?r.copy(null,i,null,null,null):r.copy(null,null,null,null,r.right.insert(e,i,t)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ws.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let t,r=this;if(i(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===i(e,r.key)){if(r.right.isEmpty())return ws.EMPTY;t=r.right.min(),r=r.copy(t.key,t.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ws.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ws.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const e=this.left.check();if(e!==this.right.check())throw mt();return e+(this.isRed()?0:1)}}ws.EMPTY=null,ws.RED=!0,ws.BLACK=!1,ws.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(n,e,i,t,r){return this}insert(n,e,i){return new ws(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ei{constructor(e){this.comparator=e,this.data=new pi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,t)=>(e(i),!1))}forEachInRange(e,i){const t=this.data.getIteratorFrom(e[0]);for(;t.hasNext();){const r=t.getNext();if(this.comparator(r.key,e[1])>=0)return;i(r.key)}}forEachWhile(e,i){let t;for(t=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();t.hasNext();)if(!e(t.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new l3(this.data.getIterator())}getIteratorFrom(e){return new l3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(t=>{i=i.add(t)}),i}isEqual(e){if(!(e instanceof Ei)||this.size!==e.size)return!1;const i=this.data.getIterator(),t=e.data.getIterator();for(;i.hasNext();){const r=i.getNext().key,s=t.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Ei(this.comparator);return i.data=e,i}}class l3{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function by(n){return n.hasNext()?n.getNext():void 0}class zo{constructor(e){this.fields=e,e.sort(tr.comparator)}static empty(){return new zo([])}unionWith(e){let i=new Ei(tr.comparator);for(const t of this.fields)i=i.add(t);for(const t of e)i=i.add(t);return new zo(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return vy(this.fields,e.fields,(i,t)=>i.isEqual(t))}}class c3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Hr{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(t){try{return atob(t)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new c3("Invalid base64 string: "+r):r}}(e);return new Hr(i)}static fromUint8Array(e){const i=function(t){let r="";for(let s=0;s<t.length;++s)r+=String.fromCharCode(t[s]);return r}(e);return new Hr(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let t=0;t<e.length;t++)i[t]=e.charCodeAt(t);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hr.EMPTY_BYTE_STRING=new Hr("");const a8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gf(n){if(xt(!!n),"string"==typeof n){let e=0;const i=a8.exec(n);if(xt(!!i),i[1]){let r=i[1];r=(r+"000000000").substr(0,9),e=Number(r)}const t=new Date(n);return{seconds:Math.floor(t.getTime()/1e3),nanos:e}}return{seconds:nr(n.seconds),nanos:nr(n.nanos)}}function nr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function md(n){return"string"==typeof n?Hr.fromBase64String(n):Hr.fromUint8Array(n)}function qI(n){var e,i;return"server_timestamp"===(null===(i=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function WI(n){const e=n.mapValue.fields.__previous_value__;return qI(e)?WI(e):e}function yw(n){const e=gf(n.mapValue.fields.__local_write_time__.timestampValue);return new Ai(e.seconds,e.nanos)}class l8{constructor(e,i,t,r,s,c,h,p,y){this.databaseId=e,this.appId=i,this.persistenceKey=t,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=y}}class _f{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new _f("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _f&&e.projectId===this.projectId&&e.database===this.database}}const yf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ZI={nullValue:"NULL_VALUE"};function vf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qI(n)?4:f3(n)?9007199254740991:10:mt()}function zc(n,e){if(n===e)return!0;const i=vf(n);if(i!==vf(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return yw(n).isEqual(yw(e));case 3:return function(t,r){if("string"==typeof t.timestampValue&&"string"==typeof r.timestampValue&&t.timestampValue.length===r.timestampValue.length)return t.timestampValue===r.timestampValue;const s=gf(t.timestampValue),c=gf(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,md(n.bytesValue).isEqual(md(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(t,r){return nr(t.geoPointValue.latitude)===nr(r.geoPointValue.latitude)&&nr(t.geoPointValue.longitude)===nr(r.geoPointValue.longitude)}(n,e);case 2:return function(t,r){if("integerValue"in t&&"integerValue"in r)return nr(t.integerValue)===nr(r.integerValue);if("doubleValue"in t&&"doubleValue"in r){const s=nr(t.doubleValue),c=nr(r.doubleValue);return s===c?_w(s)===_w(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return vy(n.arrayValue.values||[],e.arrayValue.values||[],zc);case 10:return function(t,r){const s=t.mapValue.fields||{},c=r.mapValue.fields||{};if(o3(s)!==o3(c))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===c[h]||!zc(s[h],c[h])))return!1;return!0}(n,e);default:return mt()}var r}function vw(n,e){return void 0!==(n.values||[]).find(i=>zc(i,e))}function bf(n,e){if(n===e)return 0;const i=vf(n),t=vf(e);if(i!==t)return Zt(i,t);switch(i){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,e.booleanValue);case 2:return function(r,s){const c=nr(r.integerValue||r.doubleValue),h=nr(s.integerValue||s.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return u3(n.timestampValue,e.timestampValue);case 4:return u3(yw(n),yw(e));case 5:return Zt(n.stringValue,e.stringValue);case 6:return function(r,s){const c=md(r),h=md(s);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const c=r.split("/"),h=s.split("/");for(let p=0;p<c.length&&p<h.length;p++){const y=Zt(c[p],h[p]);if(0!==y)return y}return Zt(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const c=Zt(nr(r.latitude),nr(s.latitude));return 0!==c?c:Zt(nr(r.longitude),nr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const c=r.values||[],h=s.values||[];for(let p=0;p<c.length&&p<h.length;++p){const y=bf(c[p],h[p]);if(y)return y}return Zt(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===yf.mapValue&&s===yf.mapValue)return 0;if(r===yf.mapValue)return 1;if(s===yf.mapValue)return-1;const c=r.fields||{},h=Object.keys(c),p=s.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let x=0;x<h.length&&x<y.length;++x){const S=Zt(h[x],y[x]);if(0!==S)return S;const N=bf(c[h[x]],p[y[x]]);if(0!==N)return N}return Zt(h.length,y.length)}(n.mapValue,e.mapValue);default:throw mt()}}function u3(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Zt(n,e);const i=gf(n),t=gf(e),r=Zt(i.seconds,t.seconds);return 0!==r?r:Zt(i.nanos,t.nanos)}function wy(n){return iO(n)}function iO(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=gf(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?md(n.bytesValue).toBase64():"referenceValue"in n?ot.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(t){let r="[",s=!0;for(const c of t.values||[])s?s=!1:r+=",",r+=iO(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",c=!0;for(const h of r)c?c=!1:s+=",",s+=`${h}:${iO(t.fields[h])}`;return s+"}"}(n.mapValue):mt();var e}function Sm(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function rO(n){return!!n&&"integerValue"in n}function bw(n){return!!n&&"arrayValue"in n}function d3(n){return!!n&&"nullValue"in n}function h3(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function KI(n){return!!n&&"mapValue"in n}function ww(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return mf(n.mapValue.fields,(i,t)=>e.mapValue.fields[i]=ww(t)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ww(n.arrayValue.values[i]);return e}return Object.assign({},n)}function f3(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function c8(n){return"nullValue"in n?ZI:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Sm(_f.empty(),ot.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:mt()}function u8(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Sm(_f.empty(),ot.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?yf:mt()}function p3(n,e){const i=bf(n.value,e.value);return 0!==i?i:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function m3(n,e){const i=bf(n.value,e.value);return 0!==i?i:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Cs{constructor(e){this.value=e}static empty(){return new Cs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let t=0;t<e.length-1;++t)if(i=(i.mapValue.fields||{})[e.get(t)],!KI(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ww(i)}setAll(e){let i=tr.emptyPath(),t={},r=[];e.forEach((c,h)=>{if(!i.isImmediateParentOf(h)){const p=this.getFieldsMap(i);this.applyChanges(p,t,r),t={},r=[],i=h.popLast()}c?t[h.lastSegment()]=ww(c):r.push(h.lastSegment())});const s=this.getFieldsMap(i);this.applyChanges(s,t,r)}delete(e){const i=this.field(e.popLast());KI(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return zc(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let t=0;t<e.length;++t){let r=i.mapValue.fields[e.get(t)];KI(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},i.mapValue.fields[e.get(t)]=r),i=r}return i.mapValue.fields}applyChanges(e,i,t){mf(i,(r,s)=>e[r]=s);for(const r of t)delete e[r]}clone(){return new Cs(ww(this.value))}}function g3(n){const e=[];return mf(n.fields,(i,t)=>{const r=new tr([i]);if(KI(t)){const s=g3(t.mapValue).fields;if(0===s.length)e.push(r);else for(const c of s)e.push(r.child(c))}else e.push(r)}),new zo(e)}class xi{constructor(e,i,t,r,s,c,h){this.key=e,this.documentType=i,this.version=t,this.readTime=r,this.createTime=s,this.data=c,this.documentState=h}static newInvalidDocument(e){return new xi(e,0,Dt.min(),Dt.min(),Dt.min(),Cs.empty(),0)}static newFoundDocument(e,i,t,r){return new xi(e,1,i,Dt.min(),t,r,0)}static newNoDocument(e,i){return new xi(e,2,i,Dt.min(),Dt.min(),Cs.empty(),0)}static newUnknownDocument(e,i){return new xi(e,3,i,Dt.min(),Dt.min(),Cs.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Dt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wf{constructor(e,i){this.position=e,this.inclusive=i}}function _3(n,e,i){let t=0;for(let r=0;r<n.position.length;r++){const s=e[r],c=n.position[r];if(t=s.field.isKeyField()?ot.comparator(ot.fromName(c.referenceValue),i.key):bf(c,i.data.field(s.field)),"desc"===s.dir&&(t*=-1),0!==t)break}return t}function y3(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!zc(n.position[i],e.position[i]))return!1;return!0}class Cy{constructor(e,i="asc"){this.field=e,this.dir=i}}function d8(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class v3{}class vn extends v3{constructor(e,i,t){super(),this.field=e,this.op=i,this.value=t}static create(e,i,t){return e.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(e,i,t):new h8(e,i,t):"array-contains"===i?new m8(e,t):"in"===i?new D3(e,t):"not-in"===i?new g8(e,t):"array-contains-any"===i?new _8(e,t):new vn(e,i,t)}static createKeyFieldInFilter(e,i,t){return"in"===i?new f8(e,t):new p8(e,t)}matches(e){const i=e.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(bf(i,this.value)):null!==i&&vf(this.value)===vf(i)&&this.matchesComparison(bf(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Gn extends v3{constructor(e,i){super(),this.filters=e,this.op=i,this.lt=null}static create(e,i){return new Gn(e,i)}matches(e){return Ey(this)?void 0===this.filters.find(i=>!i.matches(e)):void 0!==this.filters.find(i=>i.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(i=>i.isInequality());return null!==e?e.field:null}ft(e){for(const i of this.getFlattenedFilters())if(e(i))return i;return null}}function Ey(n){return"and"===n.op}function sO(n){return"or"===n.op}function oO(n){return b3(n)&&Ey(n)}function b3(n){for(const e of n.filters)if(e instanceof Gn)return!1;return!0}function aO(n){if(n instanceof vn)return n.field.canonicalString()+n.op.toString()+wy(n.value);if(oO(n))return n.filters.map(e=>aO(e)).join(",");{const e=n.filters.map(i=>aO(i)).join(",");return`${n.op}(${e})`}}function w3(n,e){return n instanceof vn?(i=n,(t=e)instanceof vn&&i.op===t.op&&i.field.isEqual(t.field)&&zc(i.value,t.value)):n instanceof Gn?function(i,t){return t instanceof Gn&&i.op===t.op&&i.filters.length===t.filters.length&&i.filters.reduce((r,s,c)=>r&&w3(s,t.filters[c]),!0)}(n,e):void mt();var i,t}function C3(n,e){const i=n.filters.concat(e);return Gn.create(i,n.op)}function E3(n){return n instanceof vn?`${(e=n).field.canonicalString()} ${e.op} ${wy(e.value)}`:n instanceof Gn?function(e){return e.op.toString()+" {"+e.getFilters().map(E3).join(" ,")+"}"}(n):"Filter";var e}class h8 extends vn{constructor(e,i,t){super(e,i,t),this.key=ot.fromName(t.referenceValue)}matches(e){const i=ot.comparator(e.key,this.key);return this.matchesComparison(i)}}class f8 extends vn{constructor(e,i){super(e,"in",i),this.keys=x3(0,i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class p8 extends vn{constructor(e,i){super(e,"not-in",i),this.keys=x3(0,i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function x3(n,e){var i;return((null===(i=e.arrayValue)||void 0===i?void 0:i.values)||[]).map(t=>ot.fromName(t.referenceValue))}class m8 extends vn{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return bw(i)&&vw(i.arrayValue,this.value)}}class D3 extends vn{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return null!==i&&vw(this.value.arrayValue,i)}}class g8 extends vn{constructor(e,i){super(e,"not-in",i)}matches(e){if(vw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return null!==i&&!vw(this.value.arrayValue,i)}}class _8 extends vn{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!bw(i)||!i.arrayValue.values)&&i.arrayValue.values.some(t=>vw(this.value.arrayValue,t))}}class y8{constructor(e,i=null,t=[],r=[],s=null,c=null,h=null){this.path=e,this.collectionGroup=i,this.orderBy=t,this.filters=r,this.limit=s,this.startAt=c,this.endAt=h,this.dt=null}}function lO(n,e=null,i=[],t=[],r=null,s=null,c=null){return new y8(n,e,i,t,r,s,c)}function Tm(n){const e=at(n);if(null===e.dt){let i=e.path.canonicalString();null!==e.collectionGroup&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(t=>aO(t)).join(","),i+="|ob:",i+=e.orderBy.map(t=>{return(r=t).field.canonicalString()+r.dir;var r}).join(","),gw(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(t=>wy(t)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(t=>wy(t)).join(",")),e.dt=i}return e.dt}function Cw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!d8(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!w3(n.filters[i],e.filters[i]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!y3(n.startAt,e.startAt)&&y3(n.endAt,e.endAt)}function QI(n){return ot.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function XI(n,e){return n.filters.filter(i=>i instanceof vn&&i.field.isEqual(e))}function I3(n,e,i){let t=ZI,r=!0;for(const s of XI(n,e)){let c=ZI,h=!0;switch(s.op){case"<":case"<=":c=c8(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,h=!1;break;case"!=":case"not-in":c=ZI}p3({value:t,inclusive:r},{value:c,inclusive:h})<0&&(t=c,r=h)}if(null!==i)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=i.position[s];p3({value:t,inclusive:r},{value:c,inclusive:i.inclusive})<0&&(t=c,r=i.inclusive);break}return{value:t,inclusive:r}}function S3(n,e,i){let t=yf,r=!0;for(const s of XI(n,e)){let c=yf,h=!0;switch(s.op){case">=":case">":c=u8(s.value),h=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,h=!1;break;case"!=":case"not-in":c=yf}m3({value:t,inclusive:r},{value:c,inclusive:h})>0&&(t=c,r=h)}if(null!==i)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=i.position[s];m3({value:t,inclusive:r},{value:c,inclusive:i.inclusive})>0&&(t=c,r=i.inclusive);break}return{value:t,inclusive:r}}class gd{constructor(e,i=null,t=[],r=[],s=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=t,this.filters=r,this.limit=s,this.limitType=c,this.startAt=h,this.endAt=p,this.wt=null,this._t=null}}function T3(n,e,i,t,r,s,c,h){return new gd(n,e,i,t,r,s,c,h)}function xy(n){return new gd(n)}function A3(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function cO(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function JI(n){for(const e of n.filters){const i=e.getFirstInequalityField();if(null!==i)return i}return null}function uO(n){return null!==n.collectionGroup}function Am(n){const e=at(n);if(null===e.wt){e.wt=[];const i=JI(e),t=cO(e);if(null!==i&&null===t)i.isKeyField()||e.wt.push(new Cy(i)),e.wt.push(new Cy(tr.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Cy(tr.keyField(),s))}}}return e.wt}function go(n){const e=at(n);if(!e._t)if("F"===e.limitType)e._t=lO(e.path,e.collectionGroup,Am(e),e.filters,e.limit,e.startAt,e.endAt);else{const i=[];for(const s of Am(e))i.push(new Cy(s.field,"desc"===s.dir?"asc":"desc"));const t=e.endAt?new wf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new wf(e.startAt.position,e.startAt.inclusive):null;e._t=lO(e.path,e.collectionGroup,i,e.filters,e.limit,t,r)}return e._t}function dO(n,e){e.getFirstInequalityField(),JI(n);const i=n.filters.concat([e]);return new gd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),i,n.limit,n.limitType,n.startAt,n.endAt)}function eS(n,e,i){return new gd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,i,n.startAt,n.endAt)}function Ew(n,e){return Cw(go(n),go(e))&&n.limitType===e.limitType}function M3(n){return`${Tm(go(n))}|lt:${n.limitType}`}function hO(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(t=>E3(t)).join(", ")}]`),gw(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(t=>wy(t)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(t=>wy(t)).join(",")),`Target(${i})`}(go(n))}; limitType=${n.limitType})`}function xw(n,e){return e.isFoundDocument()&&function(i,t){const r=t.key.path;return null!==i.collectionGroup?t.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):ot.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(n,e)&&function(i,t){for(const r of Am(i))if(!r.field.isKeyField()&&null===t.data.field(r.field))return!1;return!0}(n,e)&&function(i,t){for(const r of i.filters)if(!r.matches(t))return!1;return!0}(n,e)&&(t=e,!((i=n).startAt&&!function(r,s,c){const h=_3(r,s,c);return r.inclusive?h<=0:h<0}(i.startAt,Am(i),t)||i.endAt&&!function(r,s,c){const h=_3(r,s,c);return r.inclusive?h>=0:h>0}(i.endAt,Am(i),t)));var i,t}function k3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function R3(n){return(e,i)=>{let t=!1;for(const r of Am(n)){const s=v8(r,e,i);if(0!==s)return s;t=t||r.field.isKeyField()}return 0}}function v8(n,e,i){const t=n.field.isKeyField()?ot.comparator(e.key,i.key):function(r,s,c){const h=s.data.field(r),p=c.data.field(r);return null!==h&&null!==p?bf(h,p):mt()}(n.field,e,i);switch(n.dir){case"asc":return t;case"desc":return-1*t;default:return mt()}}class _d{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),t=this.inner[i];if(void 0!==t)for(const[r,s]of t)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,i){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return this.inner[t]=[[e,i]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,i]);r.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),t=this.inner[i];if(void 0===t)return!1;for(let r=0;r<t.length;r++)if(this.equalsFn(t[r][0],e))return 1===t.length?delete this.inner[i]:t.splice(r,1),this.innerSize--,!0;return!1}forEach(e){mf(this.inner,(i,t)=>{for(const[r,s]of t)e(r,s)})}isEmpty(){return a3(this.inner)}size(){return this.innerSize}}const b8=new pi(ot.comparator);function $o(){return b8}const O3=new pi(ot.comparator);function Dw(...n){let e=O3;for(const i of n)e=e.insert(i.key,i);return e}function P3(n){let e=O3;return n.forEach((i,t)=>e=e.insert(i,t.overlayedDocument)),e}function $c(){return Iw()}function N3(){return Iw()}function Iw(){return new _d(n=>n.toString(),(n,e)=>n.isEqual(e))}const w8=new pi(ot.comparator),C8=new Ei(ot.comparator);function sn(...n){let e=C8;for(const i of n)e=e.add(i);return e}const E8=new Ei(Zt);function fO(){return E8}function F3(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_w(e)?"-0":e}}function L3(n){return{integerValue:""+n}}function B3(n,e){return XU(e)?L3(e):F3(n,e)}class tS{constructor(){this._=void 0}}function x8(n,e,i){return n instanceof Dy?function(t,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return r&&qI(r)&&(r=WI(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(i,e):n instanceof Mm?U3(n,e):n instanceof km?H3(n,e):function(t,r){const s=V3(t,r),c=j3(s)+j3(t.gt);return rO(s)&&rO(t.gt)?L3(c):F3(t.serializer,c)}(n,e)}function D8(n,e,i){return n instanceof Mm?U3(n,e):n instanceof km?H3(n,e):i}function V3(n,e){return n instanceof Iy?rO(i=e)||(t=i)&&"doubleValue"in t?e:{integerValue:0}:null;var t,i}class Dy extends tS{}class Mm extends tS{constructor(e){super(),this.elements=e}}function U3(n,e){const i=z3(e);for(const t of n.elements)i.some(r=>zc(r,t))||i.push(t);return{arrayValue:{values:i}}}class km extends tS{constructor(e){super(),this.elements=e}}function H3(n,e){let i=z3(e);for(const t of n.elements)i=i.filter(r=>!zc(r,t));return{arrayValue:{values:i}}}class Iy extends tS{constructor(e,i){super(),this.serializer=e,this.gt=i}}function j3(n){return nr(n.integerValue||n.doubleValue)}function z3(n){return bw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Sw{constructor(e,i){this.field=e,this.transform=i}}class S8{constructor(e,i){this.version=e,this.transformResults=i}}class Mi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Mi}static exists(e){return new Mi(void 0,e)}static updateTime(e){return new Mi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nS(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class iS{}function $3(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ty(n.key,Mi.none()):new Sy(n.key,n.data,Mi.none());{const i=n.data,t=Cs.empty();let r=new Ei(tr.comparator);for(let s of e.fields)if(!r.has(s)){let c=i.field(s);null===c&&s.length>1&&(s=s.popLast(),c=i.field(s)),null===c?t.delete(s):t.set(s,c),r=r.add(s)}return new yd(n.key,t,new zo(r.toArray()),Mi.none())}}function T8(n,e,i){n instanceof Sy?function(t,r,s){const c=t.value.clone(),h=W3(t.fieldTransforms,r,s.transformResults);c.setAll(h),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,i):n instanceof yd?function(t,r,s){if(!nS(t.precondition,r))return void r.convertToUnknownDocument(s.version);const c=W3(t.fieldTransforms,r,s.transformResults),h=r.data;h.setAll(q3(t)),h.setAll(c),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,i):e.convertToNoDocument(i.version).setHasCommittedMutations()}function Tw(n,e,i,t){return n instanceof Sy?function(r,s,c,h){if(!nS(r.precondition,s))return c;const p=r.value.clone(),y=Z3(r.fieldTransforms,h,s);return p.setAll(y),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,e,i,t):n instanceof yd?function(r,s,c,h){if(!nS(r.precondition,s))return c;const p=Z3(r.fieldTransforms,h,s),y=s.data;return y.setAll(q3(r)),y.setAll(p),s.convertToFoundDocument(s.version,y).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(x=>x.field))}(n,e,i,t):(c=i,nS(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function A8(n,e){let i=null;for(const t of n.fieldTransforms){const r=e.data.field(t.field),s=V3(t.transform,r||null);null!=s&&(null===i&&(i=Cs.empty()),i.set(t.field,s))}return i||null}function G3(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(t=e.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===t||i&&t&&vy(i,t,(r,s)=>function I8(n,e){return n.field.isEqual(e.field)&&(t=e.transform,(i=n.transform)instanceof Mm&&t instanceof Mm||i instanceof km&&t instanceof km?vy(i.elements,t.elements,zc):i instanceof Iy&&t instanceof Iy?zc(i.gt,t.gt):i instanceof Dy&&t instanceof Dy);var i,t}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var i,t}class Sy extends iS{constructor(e,i,t,r=[]){super(),this.key=e,this.value=i,this.precondition=t,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class yd extends iS{constructor(e,i,t,r,s=[]){super(),this.key=e,this.data=i,this.fieldMask=t,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function q3(n){const e=new Map;return n.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const t=n.data.field(i);e.set(i,t)}}),e}function W3(n,e,i){const t=new Map;xt(n.length===i.length);for(let r=0;r<i.length;r++){const s=n[r],c=s.transform,h=e.data.field(s.field);t.set(s.field,D8(c,h,i[r]))}return t}function Z3(n,e,i){const t=new Map;for(const r of n){const s=r.transform,c=i.data.field(r.field);t.set(r.field,x8(s,c,e))}return t}class Ty extends iS{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pO extends iS{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mO{constructor(e,i,t,r){this.batchId=e,this.localWriteTime=i,this.baseMutations=t,this.mutations=r}applyToRemoteDocument(e,i){const t=i.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&T8(s,e,t[r])}}applyToLocalView(e,i){for(const t of this.baseMutations)t.key.isEqual(e.key)&&(i=Tw(t,e,i,this.localWriteTime));for(const t of this.mutations)t.key.isEqual(e.key)&&(i=Tw(t,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const t=N3();return this.mutations.forEach(r=>{const s=e.get(r.key),c=s.overlayedDocument;let h=this.applyToLocalView(c,s.mutatedFields);h=i.has(r.key)?null:h;const p=$3(c,h);null!==p&&t.set(r.key,p),c.isValidDocument()||c.convertToNoDocument(Dt.min())}),t}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),sn())}isEqual(e){return this.batchId===e.batchId&&vy(this.mutations,e.mutations,(i,t)=>G3(i,t))&&vy(this.baseMutations,e.baseMutations,(i,t)=>G3(i,t))}}class gO{constructor(e,i,t,r){this.batch=e,this.commitVersion=i,this.mutationResults=t,this.docVersions=r}static from(e,i,t){xt(e.mutations.length===t.length);let r=w8;const s=e.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,t[c].version);return new gO(e,i,t,r)}}class _O{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class k8{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ar,Tn;function Y3(n){switch(n){default:return mt();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function K3(n){if(void 0===n)return hr("GRPC error has no .code"),ge.UNKNOWN;switch(n){case Ar.OK:return ge.OK;case Ar.CANCELLED:return ge.CANCELLED;case Ar.UNKNOWN:return ge.UNKNOWN;case Ar.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case Ar.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case Ar.INTERNAL:return ge.INTERNAL;case Ar.UNAVAILABLE:return ge.UNAVAILABLE;case Ar.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case Ar.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case Ar.NOT_FOUND:return ge.NOT_FOUND;case Ar.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case Ar.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case Ar.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case Ar.ABORTED:return ge.ABORTED;case Ar.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case Ar.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case Ar.DATA_LOSS:return ge.DATA_LOSS;default:return mt()}}(Tn=Ar||(Ar={}))[Tn.OK=0]="OK",Tn[Tn.CANCELLED=1]="CANCELLED",Tn[Tn.UNKNOWN=2]="UNKNOWN",Tn[Tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tn[Tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tn[Tn.NOT_FOUND=5]="NOT_FOUND",Tn[Tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tn[Tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tn[Tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tn[Tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tn[Tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tn[Tn.ABORTED=10]="ABORTED",Tn[Tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tn[Tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tn[Tn.INTERNAL=13]="INTERNAL",Tn[Tn.UNAVAILABLE=14]="UNAVAILABLE",Tn[Tn.DATA_LOSS=15]="DATA_LOSS";class yO{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return rS}static getOrCreateInstance(){return null===rS&&(rS=new yO),rS}onExistenceFilterMismatch(e){const i=Symbol();return this.onExistenceFilterMismatchCallbacks.set(i,e),()=>this.onExistenceFilterMismatchCallbacks.delete(i)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(i=>i(e))}}let rS=null;function Q3(){return new TextEncoder}const R8=new _y([4294967295,4294967295],0);function X3(n){const e=Q3().encode(n),i=new xq;return i.update(e),new Uint8Array(i.digest())}function J3(n){const e=new DataView(n.buffer),i=e.getUint32(0,!0),t=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new _y([i,t],0),new _y([r,s],0)]}class vO{constructor(e,i,t){if(this.bitmap=e,this.padding=i,this.hashCount=t,i<0||i>=8)throw new Aw(`Invalid padding: ${i}`);if(t<0)throw new Aw(`Invalid hash count: ${t}`);if(e.length>0&&0===this.hashCount)throw new Aw(`Invalid hash count: ${t}`);if(0===e.length&&0!==i)throw new Aw(`Invalid padding when bitmap length is 0: ${i}`);this.It=8*e.length-i,this.Tt=_y.fromNumber(this.It)}Et(e,i,t){let r=e.add(i.multiply(_y.fromNumber(t)));return 1===r.compare(R8)&&(r=new _y([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const i=X3(e),[t,r]=J3(i);for(let s=0;s<this.hashCount;s++){const c=this.Et(t,r,s);if(!this.At(c))return!1}return!0}static create(e,i,t){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),c=new vO(s,r,i);return t.forEach(h=>c.insert(h)),c}insert(e){if(0===this.It)return;const i=X3(e),[t,r]=J3(i);for(let s=0;s<this.hashCount;s++){const c=this.Et(t,r,s);this.Rt(c)}}Rt(e){const i=Math.floor(e/8);this.bitmap[i]|=1<<e%8}}class Aw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mw{constructor(e,i,t,r,s){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=t,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,i,t){const r=new Map;return r.set(e,kw.createSynthesizedTargetChangeForCurrentChange(e,i,t)),new Mw(Dt.min(),r,new pi(Zt),$o(),sn())}}class kw{constructor(e,i,t,r,s){this.resumeToken=e,this.current=i,this.addedDocuments=t,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,i,t){return new kw(t,i,sn(),sn(),sn())}}class sS{constructor(e,i,t,r){this.Pt=e,this.removedTargetIds=i,this.key=t,this.bt=r}}class eH{constructor(e,i){this.targetId=e,this.Vt=i}}class tH{constructor(e,i,t=Hr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=i,this.resumeToken=t,this.cause=r}}class nH{constructor(){this.St=0,this.Dt=rH(),this.Ct=Hr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=sn(),i=sn(),t=sn();return this.Dt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:i=i.add(r);break;case 1:t=t.add(r);break;default:mt()}}),new kw(this.Ct,this.xt,e,i,t)}Ft(){this.Nt=!1,this.Dt=rH()}Bt(e,i){this.Nt=!0,this.Dt=this.Dt.insert(e,i)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class O8{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=$o(),this.zt=iH(),this.Wt=new pi(Zt)}Ht(e){for(const i of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(i,e.bt):this.Yt(i,e.key,e.bt);for(const i of e.removedTargetIds)this.Yt(i,e.key,e.bt)}Xt(e){this.forEachTarget(e,i=>{const t=this.Zt(i);switch(e.state){case 0:this.te(i)&&t.$t(e.resumeToken);break;case 1:t.Ut(),t.kt||t.Ft(),t.$t(e.resumeToken);break;case 2:t.Ut(),t.kt||this.removeTarget(i);break;case 3:this.te(i)&&(t.Kt(),t.$t(e.resumeToken));break;case 4:this.te(i)&&(this.ee(i),t.$t(e.resumeToken));break;default:mt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Qt.forEach((t,r)=>{this.te(r)&&i(r)})}ne(e){var i;const t=e.targetId,r=e.Vt.count,s=this.se(t);if(s){const c=s.target;if(QI(c))if(0===r){const h=new ot(c.path);this.Yt(t,h,xi.newNoDocument(h,Dt.min()))}else xt(1===r);else{const h=this.ie(t);if(h!==r){const p=this.re(e,h);0!==p&&(this.ee(t),this.Wt=this.Wt.insert(t,2===p?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(i=yO.instance)||void 0===i||i.notifyOnExistenceFilterMismatch(function(y,x,S){var N,H,G,Q,ee,ke;const Ge={localCacheCount:x,existenceFilterCount:S.count},ze=S.unchangedNames;return ze&&(Ge.bloomFilter={applied:0===y,hashCount:null!==(N=ze?.hashCount)&&void 0!==N?N:0,bitmapLength:null!==(Q=null===(G=null===(H=ze?.bits)||void 0===H?void 0:H.bitmap)||void 0===G?void 0:G.length)&&void 0!==Q?Q:0,padding:null!==(ke=null===(ee=ze?.bits)||void 0===ee?void 0:ee.padding)&&void 0!==ke?ke:0}),Ge}(p,h,e.Vt))}}}}re(e,i){const{unchangedNames:t,count:r}=e.Vt;if(!t||!t.bits)return 1;const{bits:{bitmap:s="",padding:c=0},hashCount:h=0}=t;let p,y;try{p=md(s).toUint8Array()}catch(x){if(x instanceof c3)return tl("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw x}try{y=new vO(p,c,h)}catch(x){return tl(x instanceof Aw?"BloomFilter error: ":"Applying bloom filter failed: ",x),1}return 0===y.It?1:r!==i-this.oe(e.targetId,y)?2:0}oe(e,i){const t=this.Gt.getRemoteKeysForTarget(e);let r=0;return t.forEach(s=>{const c=this.Gt.ue(),h=`projects/${c.projectId}/databases/${c.database}/documents/${s.path.canonicalString()}`;i.vt(h)||(this.Yt(e,s,null),r++)}),r}ce(e){const i=new Map;this.Qt.forEach((s,c)=>{const h=this.se(c);if(h){if(s.current&&QI(h.target)){const p=new ot(h.target.path);null!==this.jt.get(p)||this.ae(c,p)||this.Yt(c,p,xi.newNoDocument(p,e))}s.Mt&&(i.set(c,s.Ot()),s.Ft())}});let t=sn();this.zt.forEach((s,c)=>{let h=!0;c.forEachWhile(p=>{const y=this.se(p);return!y||"TargetPurposeLimboResolution"===y.purpose||(h=!1,!1)}),h&&(t=t.add(s))}),this.jt.forEach((s,c)=>c.setReadTime(e));const r=new Mw(e,i,this.Wt,this.jt,t);return this.jt=$o(),this.zt=iH(),this.Wt=new pi(Zt),r}Jt(e,i){if(!this.te(e))return;const t=this.ae(e,i.key)?2:0;this.Zt(e).Bt(i.key,t),this.jt=this.jt.insert(i.key,i),this.zt=this.zt.insert(i.key,this.he(i.key).add(e))}Yt(e,i,t){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,i)?r.Bt(i,1):r.Lt(i),this.zt=this.zt.insert(i,this.he(i).delete(e)),t&&(this.jt=this.jt.insert(i,t))}removeTarget(e){this.Qt.delete(e)}ie(e){const i=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let i=this.Qt.get(e);return i||(i=new nH,this.Qt.set(e,i)),i}he(e){let i=this.zt.get(e);return i||(i=new Ei(Zt),this.zt=this.zt.insert(e,i)),i}te(e){const i=null!==this.se(e);return i||je("WatchChangeAggregator","Detected inactive target",e),i}se(e){const i=this.Qt.get(e);return i&&i.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new nH),this.Gt.getRemoteKeysForTarget(e).forEach(i=>{this.Yt(e,i,null)})}ae(e,i){return this.Gt.getRemoteKeysForTarget(e).has(i)}}function iH(){return new pi(ot.comparator)}function rH(){return new pi(ot.comparator)}const P8={asc:"ASCENDING",desc:"DESCENDING"},N8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F8={and:"AND",or:"OR"};class L8{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function bO(n,e){return n.useProto3Json||gw(e)?e:{value:e}}function Ay(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sH(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function B8(n,e){return Ay(n,e.toTimestamp())}function fr(n){return xt(!!n),Dt.fromTimestamp(function(e){const i=gf(e);return new Ai(i.seconds,i.nanos)}(n))}function wO(n,e){return(i=n,new Sn(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function oH(n){const e=Sn.fromString(n);return xt(mH(e)),e}function Rw(n,e){return wO(n.databaseId,e.path)}function Gc(n,e){const i=oH(e);if(i.get(1)!==n.databaseId.projectId)throw new Ne(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new Ne(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new ot(lH(i))}function CO(n,e){return wO(n.databaseId,e)}function aH(n){const e=oH(n);return 4===e.length?Sn.emptyPath():lH(e)}function Ow(n){return new Sn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lH(n){return xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function cH(n,e,i){return{name:Rw(n,e),fields:i.value.mapValue.fields}}function uH(n,e,i){const t=Gc(n,e.name),r=fr(e.updateTime),s=e.createTime?fr(e.createTime):Dt.min(),c=new Cs({mapValue:{fields:e.fields}}),h=xi.newFoundDocument(t,r,s,c);return i&&h.setHasCommittedMutations(),i?h.setHasCommittedMutations():h}function Pw(n,e){let i;if(e instanceof Sy)i={update:cH(n,e.key,e.value)};else if(e instanceof Ty)i={delete:Rw(n,e.key)};else if(e instanceof yd)i={update:cH(n,e.key,e.data),updateMask:q8(e.fieldMask)};else{if(!(e instanceof pO))return mt();i={verify:Rw(n,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(t=>function(r,s){const c=s.transform;if(c instanceof Dy)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Mm)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof km)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Iy)return{fieldPath:s.field.canonicalString(),increment:c.gt};throw mt()}(0,t))),e.precondition.isNone||(i.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:B8(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:mt()),i;var r}function EO(n,e){const i=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Mi.updateTime(fr(r.updateTime)):void 0!==r.exists?Mi.exists(r.exists):Mi.none():Mi.none(),t=e.updateTransforms?e.updateTransforms.map(r=>function(s,c){let h=null;"setToServerValue"in c?(xt("REQUEST_TIME"===c.setToServerValue),h=new Dy):"appendMissingElements"in c?h=new Mm(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new km(c.removeAllFromArray.values||[]):"increment"in c?h=new Iy(s,c.increment):mt();const p=tr.fromServerFormat(c.fieldPath);return new Sw(p,h)}(n,r)):[];var r;if(e.update){const r=Gc(n,e.update.name),s=new Cs({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new zo((e.updateMask.fieldPaths||[]).map(y=>tr.fromServerFormat(y)));return new yd(r,s,c,i,t)}return new Sy(r,s,i,t)}if(e.delete){const r=Gc(n,e.delete);return new Ty(r,i)}if(e.verify){const r=Gc(n,e.verify);return new pO(r,i)}return mt()}function dH(n,e){return{documents:[CO(n,e.path)]}}function xO(n,e){const i={structuredQuery:{}},t=e.path;null!==e.collectionGroup?(i.parent=CO(n,t),i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i.parent=CO(n,t.popLast()),i.structuredQuery.from=[{collectionId:t.lastSegment()}]);const r=function(p){if(0!==p.length)return pH(Gn.create(p,"and"))}(e.filters);r&&(i.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(y=>{return{field:Cf((x=y).field),direction:z8(x.dir)};var x})}(e.orderBy);s&&(i.structuredQuery.orderBy=s);const c=bO(n,e.limit);var h,p;return null!==c&&(i.structuredQuery.limit=c),e.startAt&&(i.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(i.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),i}function hH(n){let e=aH(n.parent);const i=n.structuredQuery,t=i.from?i.from.length:0;let r=null;if(t>0){xt(1===t);const x=i.from[0];x.allDescendants?r=x.collectionId:e=e.child(x.collectionId)}let s=[];i.where&&(s=function(x){const S=fH(x);return S instanceof Gn&&oO(S)?S.getFilters():[S]}(i.where));let c=[];i.orderBy&&(c=i.orderBy.map(x=>{return new Cy(My((S=x).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let h=null;i.limit&&(h=function(x){let S;return S="object"==typeof x?x.value:x,gw(S)?null:S}(i.limit));let p=null;var x;i.startAt&&(p=new wf((x=i.startAt).values||[],!!x.before));let y=null;return i.endAt&&(y=function(x){return new wf(x.values||[],!x.before)}(i.endAt)),T3(e,r,c,s,h,"F",p,y)}function fH(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=My(e.unaryFilter.field);return vn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const t=My(e.unaryFilter.field);return vn.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=My(e.unaryFilter.field);return vn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=My(e.unaryFilter.field);return vn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(n):void 0!==n.fieldFilter?vn.create(My((e=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Gn.create(e.compositeFilter.filters.map(i=>fH(i)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return mt()}}(e.compositeFilter.op))}(n):mt();var e}function z8(n){return P8[n]}function $8(n){return N8[n]}function G8(n){return F8[n]}function Cf(n){return{fieldPath:n.canonicalString()}}function My(n){return tr.fromServerFormat(n.fieldPath)}function pH(n){return n instanceof vn?function(e){if("=="===e.op){if(h3(e.value))return{unaryFilter:{field:Cf(e.field),op:"IS_NAN"}};if(d3(e.value))return{unaryFilter:{field:Cf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(h3(e.value))return{unaryFilter:{field:Cf(e.field),op:"IS_NOT_NAN"}};if(d3(e.value))return{unaryFilter:{field:Cf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cf(e.field),op:$8(e.op),value:e.value}}}(n):n instanceof Gn?function(e){const i=e.getFilters().map(t=>pH(t));return 1===i.length?i[0]:{compositeFilter:{op:G8(e.op),filters:i}}}(n):mt()}function q8(n){const e=[];return n.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function mH(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class vd{constructor(e,i,t,r,s=Dt.min(),c=Dt.min(),h=Hr.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=t,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new vd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new vd(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class gH{constructor(e){this.fe=e}}function _H(n,e){const i=e.key,t={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:oS(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())t.document={name:Rw(r=n.fe,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Ay(r,s.version.toTimestamp()),createTime:Ay(r,s.createTime.toTimestamp())};else if(e.isNoDocument())t.noDocument={path:i.path.toArray(),readTime:Rm(e.version)};else{if(!e.isUnknownDocument())return mt();t.unknownDocument={path:i.path.toArray(),version:Rm(e.version)}}var r,s;return t}function oS(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Rm(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Om(n){const e=new Ai(n.seconds,n.nanoseconds);return Dt.fromTimestamp(e)}function Pm(n,e){const i=(e.baseMutations||[]).map(s=>EO(n.fe,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const t=e.mutations.map(s=>EO(n.fe,s)),r=Ai.fromMillis(e.localWriteTimeMs);return new mO(e.batchId,r,i,t)}function Nw(n){const e=Om(n.readTime),i=void 0!==n.lastLimboFreeSnapshotVersion?Om(n.lastLimboFreeSnapshotVersion):Dt.min();let t;var r;return void 0!==n.query.documents?(xt(1===(r=n.query).documents.length),t=go(xy(aH(r.documents[0])))):t=go(hH(n.query)),new vd(t,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,i,Hr.fromBase64String(n.resumeToken))}function yH(n,e){const i=Rm(e.snapshotVersion),t=Rm(e.lastLimboFreeSnapshotVersion);let r;r=QI(e.target)?dH(n.fe,e.target):xO(n.fe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Tm(e.target),readTime:i,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:t,query:r}}function DO(n){const e=hH({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?eS(e,e.limit,"L"):e}function IO(n,e){return new _O(e.largestBatchId,EO(n.fe,e.overlayMutation))}function vH(n,e){const i=e.path.lastSegment();return[n,Hs(e.path.popLast()),i]}function bH(n,e,i,t){return{indexId:n,uid:e.uid||"",sequenceNumber:i,readTime:Rm(t.readTime),documentKey:Hs(t.documentKey.path),largestBatchId:t.largestBatchId}}class Z8{getBundleMetadata(e,i){return wH(e).get(i).next(t=>{if(t)return{id:(r=t).bundleId,createTime:Om(r.createTime),version:r.version};var r})}saveBundleMetadata(e,i){return wH(e).put({bundleId:(t=i).id,createTime:Rm(fr(t.createTime)),version:t.version});var t}getNamedQuery(e,i){return CH(e).get(i).next(t=>{if(t)return{name:(r=t).name,query:DO(r.bundledQuery),readTime:Om(r.readTime)};var r})}saveNamedQuery(e,i){return CH(e).put({name:(t=i).name,readTime:Rm(fr(t.readTime)),bundledQuery:t.bundledQuery});var t}}function wH(n){return Qr(n,"bundles")}function CH(n){return Qr(n,"namedQueries")}class aS{constructor(e,i){this.serializer=e,this.userId=i}static de(e,i){return new aS(e,i.uid||"")}getOverlay(e,i){return Fw(e).get(vH(this.userId,i)).next(t=>t?IO(this.serializer,t):null)}getOverlays(e,i){const t=$c();return ce.forEach(i,r=>this.getOverlay(e,r).next(s=>{null!==s&&t.set(r,s)})).next(()=>t)}saveOverlays(e,i,t){const r=[];return t.forEach((s,c)=>{const h=new _O(i,c);r.push(this.we(e,h))}),ce.waitFor(r)}removeOverlaysForBatchId(e,i,t){const r=new Set;i.forEach(c=>r.add(Hs(c.getCollectionPath())));const s=[];return r.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,t],[this.userId,c,t+1],!1,!0);s.push(Fw(e).J("collectionPathOverlayIndex",h))}),ce.waitFor(s)}getOverlaysForCollection(e,i,t){const r=$c(),s=Hs(i),c=IDBKeyRange.bound([this.userId,s,t],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Fw(e).j("collectionPathOverlayIndex",c).next(h=>{for(const p of h){const y=IO(this.serializer,p);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(e,i,t,r){const s=$c();let c;const h=IDBKeyRange.bound([this.userId,i,t],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Fw(e).X({index:"collectionGroupOverlayIndex",range:h},(p,y,x)=>{const S=IO(this.serializer,y);s.size()<r||S.largestBatchId===c?(s.set(S.getKey(),S),c=S.largestBatchId):x.done()}).next(()=>s)}we(e,i){return Fw(e).put(function(t,r,s){const[c,h,p]=vH(r,s.mutation.key);return{userId:r,collectionPath:h,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Pw(t.fe,s.mutation)}}(this.serializer,this.userId,i))}}function Fw(n){return Qr(n,"documentOverlays")}class Nm{constructor(){}_e(e,i){this.me(e,i),i.ge()}me(e,i){if("nullValue"in e)this.ye(i,5);else if("booleanValue"in e)this.ye(i,10),i.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(i,15),i.pe(nr(e.integerValue));else if("doubleValue"in e){const t=nr(e.doubleValue);isNaN(t)?this.ye(i,13):(this.ye(i,15),_w(t)?i.pe(0):i.pe(t))}else if("timestampValue"in e){const t=e.timestampValue;this.ye(i,20),"string"==typeof t?i.Ie(t):(i.Ie(`${t.seconds||""}`),i.pe(t.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,i),this.Ee(i);else if("bytesValue"in e)this.ye(i,30),i.Ae(md(e.bytesValue)),this.Ee(i);else if("referenceValue"in e)this.ve(e.referenceValue,i);else if("geoPointValue"in e){const t=e.geoPointValue;this.ye(i,45),i.pe(t.latitude||0),i.pe(t.longitude||0)}else"mapValue"in e?f3(e)?this.ye(i,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,i),this.Ee(i)):"arrayValue"in e?(this.Pe(e.arrayValue,i),this.Ee(i)):mt()}Te(e,i){this.ye(i,25),this.be(e,i)}be(e,i){i.Ie(e)}Re(e,i){const t=e.fields||{};this.ye(i,55);for(const r of Object.keys(t))this.Te(r,i),this.me(t[r],i)}Pe(e,i){const t=e.values||[];this.ye(i,50);for(const r of t)this.me(r,i)}ve(e,i){this.ye(i,37),ot.fromName(e).path.forEach(t=>{this.ye(i,60),this.be(t,i)})}ye(e,i){e.pe(i)}Ee(e){e.pe(2)}}function Y8(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function EH(n){const e=64-function(i){let t=0;for(let r=0;r<8;++r){const s=Y8(255&i[r]);if(t+=s,8!==s)break}return t}(n);return Math.ceil(e/8)}Nm.Ve=new Nm;class K8{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const i=e[Symbol.iterator]();let t=i.next();for(;!t.done;)this.De(t.value),t=i.next();this.Ce()}xe(e){const i=e[Symbol.iterator]();let t=i.next();for(;!t.done;)this.Ne(t.value),t=i.next();this.ke()}Me(e){for(const i of e){const t=i.charCodeAt(0);if(t<128)this.De(t);else if(t<2048)this.De(960|t>>>6),this.De(128|63&t);else if(i<"\ud800"||"\udbff"<i)this.De(480|t>>>12),this.De(128|63&t>>>6),this.De(128|63&t);else{const r=i.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const i of e){const t=i.charCodeAt(0);if(t<128)this.Ne(t);else if(t<2048)this.Ne(960|t>>>6),this.Ne(128|63&t);else if(i<"\ud800"||"\udbff"<i)this.Ne(480|t>>>12),this.Ne(128|63&t>>>6),this.Ne(128|63&t);else{const r=i.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const i=this.Fe(e),t=EH(i);this.Be(1+t),this.buffer[this.position++]=255&t;for(let r=i.length-t;r<i.length;++r)this.buffer[this.position++]=255&i[r]}Le(e){const i=this.Fe(e),t=EH(i);this.Be(1+t),this.buffer[this.position++]=~(255&t);for(let r=i.length-t;r<i.length;++r)this.buffer[this.position++]=~(255&i[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const i=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),t=0!=(128&i[0]);i[0]^=t?255:128;for(let r=1;r<i.length;++r)i[r]^=t?255:0;return i}De(e){const i=255&e;0===i?(this.Ue(0),this.Ue(255)):255===i?(this.Ue(255),this.Ue(0)):this.Ue(i)}Ne(e){const i=255&e;0===i?(this.Ge(0),this.Ge(255)):255===i?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const i=e+this.position;if(i<=this.buffer.length)return;let t=2*this.buffer.length;t<i&&(t=i);const r=new Uint8Array(t);r.set(this.buffer),this.buffer=r}}class Q8{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class X8{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Lw{constructor(){this.je=new K8,this.ze=new Q8(this.je),this.We=new X8(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Fm{constructor(e,i,t,r){this.indexId=e,this.documentKey=i,this.arrayValue=t,this.directionalValue=r}Je(){const e=this.directionalValue.length,i=0===e||255===this.directionalValue[e-1]?e+1:e,t=new Uint8Array(i);return t.set(this.directionalValue,0),i!==e?t.set([0],this.directionalValue.length):++t[t.length-1],new Fm(this.indexId,this.documentKey,this.arrayValue,t)}}function Ef(n,e){let i=n.indexId-e.indexId;return 0!==i?i:(i=xH(n.arrayValue,e.arrayValue),0!==i?i:(i=xH(n.directionalValue,e.directionalValue),0!==i?i:ot.comparator(n.documentKey,e.documentKey)))}function xH(n,e){for(let i=0;i<n.length&&i<e.length;++i){const t=n[i]-e[i];if(0!==t)return t}return n.length-e.length}class J8{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const i of e.filters){const t=i;t.isInequality()?this.Ze=t:this.Xe.push(t)}}tn(e){xt(e.collectionGroup===this.collectionId);const i=XR(e);if(void 0!==i&&!this.en(i))return!1;const t=Dm(e);let r=new Set,s=0,c=0;for(;s<t.length&&this.en(t[s]);++s)r=r.add(t[s].fieldPath.canonicalString());if(s===t.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const h=t[s];if(!this.nn(this.Ze,h)||!this.sn(this.Ye[c++],h))return!1}++s}for(;s<t.length;++s)if(c>=this.Ye.length||!this.sn(this.Ye[c++],t[s]))return!1;return!0}en(e){for(const i of this.Xe)if(this.nn(i,e))return!0;return!1}nn(e,i){return!(void 0===e||!e.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,i){return!!e.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===e.dir||1===i.kind&&"desc"===e.dir)}}function DH(n){var e,i;if(xt(n instanceof vn||n instanceof Gn),n instanceof vn){if(n instanceof D3){const r=(null===(i=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===i?void 0:i.map(s=>vn.create(n.field,"==",s)))||[];return Gn.create(r,"or")}return n}const t=n.filters.map(r=>DH(r));return Gn.create(t,n.op)}function e7(n){if(0===n.getFilters().length)return[];const e=AO(DH(n));return xt(IH(e)),SO(e)||TO(e)?[e]:e.getFilters()}function SO(n){return n instanceof vn}function TO(n){return n instanceof Gn&&oO(n)}function IH(n){return SO(n)||TO(n)||function(e){if(e instanceof Gn&&sO(e)){for(const i of e.getFilters())if(!SO(i)&&!TO(i))return!1;return!0}return!1}(n)}function AO(n){if(xt(n instanceof vn||n instanceof Gn),n instanceof vn)return n;if(1===n.filters.length)return AO(n.filters[0]);const e=n.filters.map(t=>AO(t));let i=Gn.create(e,n.op);return i=lS(i),IH(i)?i:(xt(i instanceof Gn),xt(Ey(i)),xt(i.filters.length>1),i.filters.reduce((t,r)=>MO(t,r)))}function MO(n,e){let i;return xt(n instanceof vn||n instanceof Gn),xt(e instanceof vn||e instanceof Gn),i=n instanceof vn?e instanceof vn?Gn.create([n,e],"and"):SH(n,e):e instanceof vn?SH(e,n):function(t,r){if(xt(t.filters.length>0&&r.filters.length>0),Ey(t)&&Ey(r))return C3(t,r.getFilters());const s=sO(t)?t:r,c=sO(t)?r:t,h=s.filters.map(p=>MO(p,c));return Gn.create(h,"or")}(n,e),lS(i)}function SH(n,e){if(Ey(e))return C3(e,n.getFilters());{const i=e.filters.map(t=>MO(n,t));return Gn.create(i,"or")}}function lS(n){if(xt(n instanceof vn||n instanceof Gn),n instanceof vn)return n;const e=n.getFilters();if(1===e.length)return lS(e[0]);if(b3(n))return n;const i=e.map(r=>lS(r)),t=[];return i.forEach(r=>{r instanceof vn?t.push(r):r instanceof Gn&&(r.op===n.op?t.push(...r.filters):t.push(r))}),1===t.length?t[0]:Gn.create(t,n.op)}class t7{constructor(){this.rn=new kO}addToCollectionParentIndex(e,i){return this.rn.add(i),ce.resolve()}getCollectionParents(e,i){return ce.resolve(this.rn.getEntries(i))}addFieldIndex(e,i){return ce.resolve()}deleteFieldIndex(e,i){return ce.resolve()}getDocumentsMatchingTarget(e,i){return ce.resolve(null)}getIndexType(e,i){return ce.resolve(0)}getFieldIndexes(e,i){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,i){return ce.resolve(wa.min())}getMinOffsetFromCollectionGroup(e,i){return ce.resolve(wa.min())}updateCollectionGroup(e,i,t){return ce.resolve()}updateIndexEntries(e,i){return ce.resolve()}}class kO{constructor(){this.index={}}add(e){const i=e.lastSegment(),t=e.popLast(),r=this.index[i]||new Ei(Sn.comparator),s=!r.has(t);return this.index[i]=r.add(t),s}has(e){const i=e.lastSegment(),t=e.popLast(),r=this.index[i];return r&&r.has(t)}getEntries(e){return(this.index[e]||new Ei(Sn.comparator)).toArray()}}const cS=new Uint8Array(0);class n7{constructor(e,i){this.user=e,this.databaseId=i,this.on=new kO,this.un=new _d(t=>Tm(t),(t,r)=>Cw(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,i){if(!this.on.has(i)){const t=i.lastSegment(),r=i.popLast();e.addOnCommittedListener(()=>{this.on.add(i)});const s={collectionId:t,parent:Hs(r)};return TH(e).put(s)}return ce.resolve()}getCollectionParents(e,i){const t=[],r=IDBKeyRange.bound([i,""],[qU(i),""],!1,!0);return TH(e).j(r).next(s=>{for(const c of s){if(c.collectionId!==i)break;t.push(jc(c.parent))}return t})}addFieldIndex(e,i){const t=uS(e),r={indexId:(c=i).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var c;delete r.indexId;const s=t.add(r);if(i.indexState){const c=Vw(e);return s.next(h=>{c.put(bH(h,this.user,i.indexState.sequenceNumber,i.indexState.offset))})}return s.next()}deleteFieldIndex(e,i){const t=uS(e),r=Vw(e),s=Bw(e);return t.delete(i.indexId).next(()=>r.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,i){const t=Bw(e);let r=!0;const s=new Map;return ce.forEach(this.cn(i),c=>this.an(e,c).next(h=>{r&&(r=!!h),s.set(c,h)})).next(()=>{if(r){let c=sn();const h=[];return ce.forEach(s,(p,y)=>{var x;je("IndexedDbIndexManager",`Using index ${x=p,`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(ze=>`${ze.fieldPath}:${ze.kind}`).join(",")}`} to execute ${Tm(i)}`);const S=function(ze,Ye){const It=XR(Ye);if(void 0===It)return null;for(const kt of XI(ze,It.fieldPath))switch(kt.op){case"array-contains-any":return kt.value.arrayValue.values||[];case"array-contains":return[kt.value]}return null}(y,p),N=function(ze,Ye){const It=new Map;for(const kt of Dm(Ye))for(const dn of XI(ze,kt.fieldPath))switch(dn.op){case"==":case"in":It.set(kt.fieldPath.canonicalString(),dn.value);break;case"not-in":case"!=":return It.set(kt.fieldPath.canonicalString(),dn.value),Array.from(It.values())}return null}(y,p),H=function(ze,Ye){const It=[];let kt=!0;for(const dn of Dm(Ye)){const Ri=0===dn.kind?I3(ze,dn.fieldPath,ze.startAt):S3(ze,dn.fieldPath,ze.startAt);It.push(Ri.value),kt&&(kt=Ri.inclusive)}return new wf(It,kt)}(y,p),G=function(ze,Ye){const It=[];let kt=!0;for(const dn of Dm(Ye)){const Ri=0===dn.kind?S3(ze,dn.fieldPath,ze.endAt):I3(ze,dn.fieldPath,ze.endAt);It.push(Ri.value),kt&&(kt=Ri.inclusive)}return new wf(It,kt)}(y,p),Q=this.hn(p,y,H),ee=this.hn(p,y,G),ke=this.ln(p,y,N),Ge=this.fn(p.indexId,S,Q,H.inclusive,ee,G.inclusive,ke);return ce.forEach(Ge,ze=>t.H(ze,i.limit).next(Ye=>{Ye.forEach(It=>{const kt=ot.fromSegments(It.documentKey);c.has(kt)||(c=c.add(kt),h.push(kt))})}))}).next(()=>h)}return ce.resolve(null)})}cn(e){let i=this.un.get(e);return i||(i=0===e.filters.length?[e]:e7(Gn.create(e.filters,"and")).map(t=>lO(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,i),i)}fn(e,i,t,r,s,c,h){const p=(null!=i?i.length:1)*Math.max(t.length,s.length),y=p/(null!=i?i.length:1),x=[];for(let S=0;S<p;++S){const N=i?this.dn(i[S/y]):cS,H=this.wn(e,N,t[S%y],r),G=this._n(e,N,s[S%y],c),Q=h.map(ee=>this.wn(e,N,ee,!0));x.push(...this.createRange(H,G,Q))}return x}wn(e,i,t,r){const s=new Fm(e,ot.empty(),i,t);return r?s:s.Je()}_n(e,i,t,r){const s=new Fm(e,ot.empty(),i,t);return r?s.Je():s}an(e,i){const t=new J8(i),r=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let c=null;for(const h of s)t.tn(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c})}getIndexType(e,i){let t=2;const r=this.cn(i);return ce.forEach(r,s=>this.an(e,s).next(c=>{c?0!==t&&c.fields.length<function(h){let p=new Ei(tr.comparator),y=!1;for(const x of h.filters)for(const S of x.getFlattenedFilters())S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?y=!0:p=p.add(S.field));for(const x of h.orderBy)x.field.isKeyField()||(p=p.add(x.field));return p.size+(y?1:0)}(s)&&(t=1):t=0})).next(()=>null!==i.limit&&r.length>1&&2===t?1:t)}mn(e,i){const t=new Lw;for(const r of Dm(e)){const s=i.data.field(r.fieldPath);if(null==s)return null;const c=t.He(r.kind);Nm.Ve._e(s,c)}return t.Qe()}dn(e){const i=new Lw;return Nm.Ve._e(e,i.He(0)),i.Qe()}gn(e,i){const t=new Lw;return Nm.Ve._e(Sm(this.databaseId,i),t.He(function(r){const s=Dm(r);return 0===s.length?0:s[s.length-1].kind}(e))),t.Qe()}ln(e,i,t){if(null===t)return[];let r=[];r.push(new Lw);let s=0;for(const c of Dm(e)){const h=t[s++];for(const p of r)if(this.yn(i,c.fieldPath)&&bw(h))r=this.pn(r,c,h);else{const y=p.He(c.kind);Nm.Ve._e(h,y)}}return this.In(r)}hn(e,i,t){return this.ln(e,i,t.position)}In(e){const i=[];for(let t=0;t<e.length;++t)i[t]=e[t].Qe();return i}pn(e,i,t){const r=[...e],s=[];for(const c of t.arrayValue.values||[])for(const h of r){const p=new Lw;p.seed(h.Qe()),Nm.Ve._e(c,p.He(i.kind)),s.push(p)}return s}yn(e,i){return!!e.filters.find(t=>t instanceof vn&&t.field.isEqual(i)&&("in"===t.op||"not-in"===t.op))}getFieldIndexes(e,i){const t=uS(e),r=Vw(e);return(i?t.j("collectionGroupIndex",IDBKeyRange.bound(i,i)):t.j()).next(s=>{const c=[];return ce.forEach(s,h=>r.get([h.indexId,this.uid]).next(p=>{c.push(function(y,x){const S=x?new pw(x.sequenceNumber,new wa(Om(x.readTime),new ot(jc(x.documentKey)),x.largestBatchId)):pw.empty(),N=y.fields.map(([H,G])=>new jI(tr.fromServerFormat(H),G));return new HI(y.indexId,y.collectionGroup,N,S)}(h,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(i=>0===i.length?null:(i.sort((t,r)=>{const s=t.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Zt(t.collectionGroup,r.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(e,i,t){const r=uS(e),s=Vw(e);return this.Tn(e).next(c=>r.j("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(h=>ce.forEach(h,p=>s.put(bH(p.indexId,this.user,c,t)))))}updateIndexEntries(e,i){const t=new Map;return ce.forEach(i,(r,s)=>{const c=t.get(r.collectionGroup);return(c?ce.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(h=>(t.set(r.collectionGroup,h),ce.forEach(h,p=>this.En(e,r,p).next(y=>{const x=this.An(s,p);return y.isEqual(x)?ce.resolve():this.vn(e,s,p,y,x)}))))})}Rn(e,i,t,r){return Bw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(t,i.key),documentKey:i.key.path.toArray()})}Pn(e,i,t,r){return Bw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(t,i.key),i.key.path.toArray()])}En(e,i,t){const r=Bw(e);let s=new Ei(Ef);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([t.indexId,this.uid,this.gn(t,i)])},(c,h)=>{s=s.add(new Fm(t.indexId,i,h.arrayValue,h.directionalValue))}).next(()=>s)}An(e,i){let t=new Ei(Ef);const r=this.mn(i,e);if(null==r)return t;const s=XR(i);if(null!=s){const c=e.data.field(s.fieldPath);if(bw(c))for(const h of c.arrayValue.values||[])t=t.add(new Fm(i.indexId,e.key,this.dn(h),r))}else t=t.add(new Fm(i.indexId,e.key,cS,r));return t}vn(e,i,t,r,s){je("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const c=[];return function(h,p,y,x,S){const N=h.getIterator(),H=p.getIterator();let G=by(N),Q=by(H);for(;G||Q;){let ee=!1,ke=!1;if(G&&Q){const Ge=y(G,Q);Ge<0?ke=!0:Ge>0&&(ee=!0)}else null!=G?ke=!0:ee=!0;ee?(x(Q),Q=by(H)):ke?(S(G),G=by(N)):(G=by(N),Q=by(H))}}(r,s,Ef,h=>{c.push(this.Rn(e,i,t,h))},h=>{c.push(this.Pn(e,i,t,h))}),ce.waitFor(c)}Tn(e){let i=1;return Vw(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(t,r,s)=>{s.done(),i=r.sequenceNumber+1}).next(()=>i)}createRange(e,i,t){t=t.sort((c,h)=>Ef(c,h)).filter((c,h,p)=>!h||0!==Ef(c,p[h-1]));const r=[];r.push(e);for(const c of t){const h=Ef(c,e),p=Ef(c,i);if(0===h)r[0]=e.Je();else if(h>0&&p<0)r.push(c),r.push(c.Je());else if(p>0)break}r.push(i);const s=[];for(let c=0;c<r.length;c+=2){if(this.bn(r[c],r[c+1]))return[];s.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,cS,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,cS,[]]))}return s}bn(e,i){return Ef(e,i)>0}getMinOffsetFromCollectionGroup(e,i){return this.getFieldIndexes(e,i).next(AH)}getMinOffset(e,i){return ce.mapArray(this.cn(i),t=>this.an(e,t).next(r=>r||mt())).next(AH)}}function TH(n){return Qr(n,"collectionParents")}function Bw(n){return Qr(n,"indexEntries")}function uS(n){return Qr(n,"indexConfiguration")}function Vw(n){return Qr(n,"indexState")}function AH(n){xt(0!==n.length);let e=n[0].indexState.offset,i=e.largestBatchId;for(let t=1;t<n.length;t++){const r=n[t].indexState.offset;JR(r,e)<0&&(e=r),i<r.largestBatchId&&(i=r.largestBatchId)}return new wa(e.readTime,e.documentKey,i)}const MH={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class js{constructor(e,i,t){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=t}static withCacheSize(e){return new js(e,js.DEFAULT_COLLECTION_PERCENTILE,js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function kH(n,e,i){const t=n.store("mutations"),r=n.store("documentMutations"),s=[],c=IDBKeyRange.only(i.batchId);let h=0;const p=t.X({range:c},(x,S,N)=>(h++,N.delete()));s.push(p.next(()=>{xt(1===h)}));const y=[];for(const x of i.mutations){const S=t3(e,x.key.path,i.batchId);s.push(r.delete(S)),y.push(x.key)}return ce.waitFor(s).next(()=>y)}function dS(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw mt();e=n.noDocument}return JSON.stringify(e).length}js.DEFAULT_COLLECTION_PERCENTILE=10,js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,js.DEFAULT=new js(41943040,js.DEFAULT_COLLECTION_PERCENTILE,js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),js.DISABLED=new js(-1,0,0);class hS{constructor(e,i,t,r){this.userId=e,this.serializer=i,this.indexManager=t,this.referenceDelegate=r,this.Vn={}}static de(e,i,t,r){xt(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new hS(s,i,t,r)}checkEmpty(e){let i=!0;const t=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xf(e).X({index:"userMutationsIndex",range:t},(r,s,c)=>{i=!1,c.done()}).next(()=>i)}addMutationBatch(e,i,t,r){const s=ky(e),c=xf(e);return c.add({}).next(h=>{xt("number"==typeof h);const p=new mO(h,i,t,r),y=function(N,H,G){const Q=G.baseMutations.map(ke=>Pw(N.fe,ke)),ee=G.mutations.map(ke=>Pw(N.fe,ke));return{userId:H,batchId:G.batchId,localWriteTimeMs:G.localWriteTime.toMillis(),baseMutations:Q,mutations:ee}}(this.serializer,this.userId,p),x=[];let S=new Ei((N,H)=>Zt(N.canonicalString(),H.canonicalString()));for(const N of r){const H=t3(this.userId,N.key.path,h);S=S.add(N.key.path.popLast()),x.push(c.put(y)),x.push(s.put(H,jq))}return S.forEach(N=>{x.push(this.indexManager.addToCollectionParentIndex(e,N))}),e.addOnCommittedListener(()=>{this.Vn[h]=p.keys()}),ce.waitFor(x).next(()=>p)})}lookupMutationBatch(e,i){return xf(e).get(i).next(t=>t?(xt(t.userId===this.userId),Pm(this.serializer,t)):null)}Sn(e,i){return this.Vn[i]?ce.resolve(this.Vn[i]):this.lookupMutationBatch(e,i).next(t=>{if(t){const r=t.keys();return this.Vn[i]=r,r}return null})}getNextMutationBatchAfterBatchId(e,i){const t=i+1,r=IDBKeyRange.lowerBound([this.userId,t]);let s=null;return xf(e).X({index:"userMutationsIndex",range:r},(c,h,p)=>{h.userId===this.userId&&(xt(h.batchId>=t),s=Pm(this.serializer,h)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let t=-1;return xf(e).X({index:"userMutationsIndex",range:i,reverse:!0},(r,s,c)=>{t=s.batchId,c.done()}).next(()=>t)}getAllMutationBatches(e){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xf(e).j("userMutationsIndex",i).next(t=>t.map(r=>Pm(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,i){const t=$I(this.userId,i.path),r=IDBKeyRange.lowerBound(t),s=[];return ky(e).X({range:r},(c,h,p)=>{const[y,x,S]=c,N=jc(x);if(y===this.userId&&i.path.isEqual(N))return xf(e).get(S).next(H=>{if(!H)throw mt();xt(H.userId===this.userId),s.push(Pm(this.serializer,H))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,i){let t=new Ei(Zt);const r=[];return i.forEach(s=>{const c=$I(this.userId,s.path),h=IDBKeyRange.lowerBound(c),p=ky(e).X({range:h},(y,x,S)=>{const[N,H,G]=y,Q=jc(H);N===this.userId&&s.path.isEqual(Q)?t=t.add(G):S.done()});r.push(p)}),ce.waitFor(r).next(()=>this.Dn(e,t))}getAllMutationBatchesAffectingQuery(e,i){const t=i.path,r=t.length+1,s=$I(this.userId,t),c=IDBKeyRange.lowerBound(s);let h=new Ei(Zt);return ky(e).X({range:c},(p,y,x)=>{const[S,N,H]=p,G=jc(N);S===this.userId&&t.isPrefixOf(G)?G.length===r&&(h=h.add(H)):x.done()}).next(()=>this.Dn(e,h))}Dn(e,i){const t=[],r=[];return i.forEach(s=>{r.push(xf(e).get(s).next(c=>{if(null===c)throw mt();xt(c.userId===this.userId),t.push(Pm(this.serializer,c))}))}),ce.waitFor(r).next(()=>t)}removeMutationBatch(e,i){return kH(e.ht,this.userId,i).next(t=>(e.addOnCommittedListener(()=>{this.Cn(i.batchId)}),ce.forEach(t,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(i=>{if(!i)return ce.resolve();const t=IDBKeyRange.lowerBound([this.userId]),r=[];return ky(e).X({range:t},(s,c,h)=>{if(s[0]===this.userId){const p=jc(s[1]);r.push(p)}else h.done()}).next(()=>{xt(0===r.length)})})}containsKey(e,i){return RH(e,this.userId,i)}xn(e){return OH(e).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function RH(n,e,i){const t=$I(e,i.path),r=t[1],s=IDBKeyRange.lowerBound(t);let c=!1;return ky(n).X({range:s,Y:!0},(h,p,y)=>{const[x,S,N]=h;x===e&&S===r&&(c=!0),y.done()}).next(()=>c)}function xf(n){return Qr(n,"mutations")}function ky(n){return Qr(n,"documentMutations")}function OH(n){return Qr(n,"mutationQueues")}class Lm{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Lm(0)}static Mn(){return new Lm(-1)}}class r7{constructor(e,i){this.referenceDelegate=e,this.serializer=i}allocateTargetId(e){return this.$n(e).next(i=>{const t=new Lm(i.highestTargetId);return i.highestTargetId=t.next(),this.On(e,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(i=>Dt.fromTimestamp(new Ai(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(e,i,t){return this.$n(e).next(r=>(r.highestListenSequenceNumber=i,t&&(r.lastRemoteSnapshotVersion=t.toTimestamp()),i>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=i),this.On(e,r)))}addTargetData(e,i){return this.Fn(e,i).next(()=>this.$n(e).next(t=>(t.targetCount+=1,this.Bn(i,t),this.On(e,t))))}updateTargetData(e,i){return this.Fn(e,i)}removeTargetData(e,i){return this.removeMatchingKeysForTargetId(e,i.targetId).next(()=>Ry(e).delete(i.targetId)).next(()=>this.$n(e)).next(t=>(xt(t.targetCount>0),t.targetCount-=1,this.On(e,t)))}removeTargets(e,i,t){let r=0;const s=[];return Ry(e).X((c,h)=>{const p=Nw(h);p.sequenceNumber<=i&&null===t.get(p.targetId)&&(r++,s.push(this.removeTargetData(e,p)))}).next(()=>ce.waitFor(s)).next(()=>r)}forEachTarget(e,i){return Ry(e).X((t,r)=>{const s=Nw(r);i(s)})}$n(e){return PH(e).get("targetGlobalKey").next(i=>(xt(null!==i),i))}On(e,i){return PH(e).put("targetGlobalKey",i)}Fn(e,i){return Ry(e).put(yH(this.serializer,i))}Bn(e,i){let t=!1;return e.targetId>i.highestTargetId&&(i.highestTargetId=e.targetId,t=!0),e.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e.sequenceNumber,t=!0),t}getTargetCount(e){return this.$n(e).next(i=>i.targetCount)}getTargetData(e,i){const t=Tm(i),r=IDBKeyRange.bound([t,Number.NEGATIVE_INFINITY],[t,Number.POSITIVE_INFINITY]);let s=null;return Ry(e).X({range:r,index:"queryTargetsIndex"},(c,h,p)=>{const y=Nw(h);Cw(i,y.target)&&(s=y,p.done())}).next(()=>s)}addMatchingKeys(e,i,t){const r=[],s=Df(e);return i.forEach(c=>{const h=Hs(c.path);r.push(s.put({targetId:t,path:h})),r.push(this.referenceDelegate.addReference(e,t,c))}),ce.waitFor(r)}removeMatchingKeys(e,i,t){const r=Df(e);return ce.forEach(i,s=>{const c=Hs(s.path);return ce.waitFor([r.delete([t,c]),this.referenceDelegate.removeReference(e,t,s)])})}removeMatchingKeysForTargetId(e,i){const t=Df(e),r=IDBKeyRange.bound([i],[i+1],!1,!0);return t.delete(r)}getMatchingKeysForTargetId(e,i){const t=IDBKeyRange.bound([i],[i+1],!1,!0),r=Df(e);let s=sn();return r.X({range:t,Y:!0},(c,h,p)=>{const y=jc(c[1]),x=new ot(y);s=s.add(x)}).next(()=>s)}containsKey(e,i){const t=Hs(i.path),r=IDBKeyRange.bound([t],[qU(t)],!1,!0);let s=0;return Df(e).X({index:"documentTargetsIndex",Y:!0,range:r},([c,h],p,y)=>{0!==c&&(s++,y.done())}).next(()=>s>0)}le(e,i){return Ry(e).get(i).next(t=>t?Nw(t):null)}}function Ry(n){return Qr(n,"targets")}function PH(n){return Qr(n,"targetGlobal")}function Df(n){return Qr(n,"targetDocuments")}function NH([n,e],[i,t]){const r=Zt(n,i);return 0===r?Zt(e,t):r}class s7{constructor(e){this.Ln=e,this.buffer=new Ei(NH),this.qn=0}Un(){return++this.qn}Kn(e){const i=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(i);else{const t=this.buffer.last();NH(i,t)<0&&(this.buffer=this.buffer.delete(t).add(i))}}get maxValue(){return this.buffer.last()[0]}}class FH{constructor(e,i,t){this.garbageCollector=e,this.asyncQueue=i,this.localStore=t,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var i=this;je("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ve.Z)(function*(){i.Gn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(t){pf(t)?je("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):yield ff(t)}yield i.Qn(3e5)}))}}class o7{constructor(e,i){this.jn=e,this.params=i}calculateTargetCount(e,i){return this.jn.zn(e).next(t=>Math.floor(i/100*t))}nthSequenceNumber(e,i){if(0===i)return ce.resolve(Ca.ct);const t=new s7(i);return this.jn.forEachTarget(e,r=>t.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>t.Kn(r))).next(()=>t.maxValue)}removeTargets(e,i,t){return this.jn.removeTargets(e,i,t)}removeOrphanedDocuments(e,i){return this.jn.removeOrphanedDocuments(e,i)}collect(e,i){return-1===this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(MH)):this.getCacheSize(e).next(t=>t<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${t} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),MH):this.Hn(e,i))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,i){let t,r,s,c,h,p,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),r=this.params.maximumSequenceNumbersToCollect):r=S,c=Date.now(),this.nthSequenceNumber(e,r))).next(S=>(t=S,h=Date.now(),this.removeTargets(e,t,i))).next(S=>(s=S,p=Date.now(),this.removeOrphanedDocuments(e,t))).next(S=>(y=Date.now(),KR()<=ld.in.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-x}ms\n\tDetermined least recently used ${r} in `+(h-c)+`ms\n\tRemoved ${s} targets in `+(p-h)+`ms\n\tRemoved ${S} documents in `+(y-p)+`ms\nTotal Duration: ${y-x}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:S})))}}class a7{constructor(e,i){this.db=e,this.garbageCollector=function LH(n,e){return new o7(n,e)}(this,i)}zn(e){const i=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(t=>i.next(r=>t+r))}Jn(e){let i=0;return this.Wn(e,t=>{i++}).next(()=>i)}forEachTarget(e,i){return this.db.getTargetCache().forEachTarget(e,i)}Wn(e,i){return this.Yn(e,(t,r)=>i(r))}addReference(e,i,t){return fS(e,t)}removeReference(e,i,t){return fS(e,t)}removeTargets(e,i,t){return this.db.getTargetCache().removeTargets(e,i,t)}markPotentiallyOrphaned(e,i){return fS(e,i)}Xn(e,i){return function(t,r){let s=!1;return OH(t).Z(c=>RH(t,c,r).next(h=>(h&&(s=!0),ce.resolve(!h)))).next(()=>s)}(e,i)}removeOrphanedDocuments(e,i){const t=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(e,(c,h)=>{if(h<=i){const p=this.Xn(e,c).next(y=>{if(!y)return s++,t.getEntry(e,c).next(()=>(t.removeEntry(c,Dt.min()),Df(e).delete([0,Hs(c.path)])))});r.push(p)}}).next(()=>ce.waitFor(r)).next(()=>t.apply(e)).next(()=>s)}removeTarget(e,i){const t=i.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,t)}updateLimboDocument(e,i){return fS(e,i)}Yn(e,i){const t=Df(e);let r,s=Ca.ct;return t.X({index:"documentTargetsIndex"},([c,h],{path:p,sequenceNumber:y})=>{0===c?(s!==Ca.ct&&i(new ot(jc(r)),s),s=y,r=p):s=Ca.ct}).next(()=>{s!==Ca.ct&&i(new ot(jc(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function fS(n,e){return Df(n).put((t=n.currentSequenceNumber,{targetId:0,path:Hs(e.path),sequenceNumber:t}));var t}class BH{constructor(){this.changes=new _d(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,xi.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const t=this.changes.get(i);return void 0!==t?ce.resolve(t):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class l7{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,i,t){return Bm(e).put(t)}removeEntry(e,i,t){return Bm(e).delete(function(r,s){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],oS(s),c[c.length-1]]}(i,t))}updateMetadata(e,i){return this.getMetadata(e).next(t=>(t.byteSize+=i,this.Zn(e,t)))}getEntry(e,i){let t=xi.newInvalidDocument(i);return Bm(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Uw(i))},(r,s)=>{t=this.ts(i,s)}).next(()=>t)}es(e,i){let t={size:0,document:xi.newInvalidDocument(i)};return Bm(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Uw(i))},(r,s)=>{t={document:this.ts(i,s),size:dS(s)}}).next(()=>t)}getEntries(e,i){let t=$o();return this.ns(e,i,(r,s)=>{const c=this.ts(r,s);t=t.insert(r,c)}).next(()=>t)}ss(e,i){let t=$o(),r=new pi(ot.comparator);return this.ns(e,i,(s,c)=>{const h=this.ts(s,c);t=t.insert(s,h),r=r.insert(s,dS(c))}).next(()=>({documents:t,rs:r}))}ns(e,i,t){if(i.isEmpty())return ce.resolve();let r=new Ei(jH);i.forEach(p=>r=r.add(p));const s=IDBKeyRange.bound(Uw(r.first()),Uw(r.last())),c=r.getIterator();let h=c.getNext();return Bm(e).X({index:"documentKeyIndex",range:s},(p,y,x)=>{const S=ot.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;h&&jH(h,S)<0;)t(h,null),h=c.getNext();h&&h.isEqual(S)&&(t(h,y),h=c.hasNext()?c.getNext():null),h?x.G(Uw(h)):x.done()}).next(()=>{for(;h;)t(h,null),h=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,i,t,r){const s=i.path,c=[s.popLast().toArray(),s.lastSegment(),oS(t.readTime),t.documentKey.path.isEmpty()?"":t.documentKey.path.lastSegment()],h=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Bm(e).j(IDBKeyRange.bound(c,h,!0)).next(p=>{let y=$o();for(const x of p){const S=this.ts(ot.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);S.isFoundDocument()&&(xw(i,S)||r.has(S.key))&&(y=y.insert(S.key,S))}return y})}getAllFromCollectionGroup(e,i,t,r){let s=$o();const c=HH(i,t),h=HH(i,wa.max());return Bm(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(p,y,x)=>{const S=this.ts(ot.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);s=s.insert(S.key,S),s.size===r&&x.done()}).next(()=>s)}newChangeBuffer(e){return new c7(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(i=>i.byteSize)}getMetadata(e){return UH(e).get("remoteDocumentGlobalKey").next(i=>(xt(!!i),i))}Zn(e,i){return UH(e).put("remoteDocumentGlobalKey",i)}ts(e,i){if(i){const t=function W8(n,e){let i;if(e.document)i=uH(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const t=ot.fromSegments(e.noDocument.path),r=Om(e.noDocument.readTime);i=xi.newNoDocument(t,r),e.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!e.unknownDocument)return mt();{const t=ot.fromSegments(e.unknownDocument.path),r=Om(e.unknownDocument.version);i=xi.newUnknownDocument(t,r)}}return e.readTime&&i.setReadTime(function(t){const r=new Ai(t[0],t[1]);return Dt.fromTimestamp(r)}(e.readTime)),i}(this.serializer,i);if(!t.isNoDocument()||!t.version.isEqual(Dt.min()))return t}return xi.newInvalidDocument(e)}}function VH(n){return new l7(n)}class c7 extends BH{constructor(e,i){super(),this.os=e,this.trackRemovals=i,this.us=new _d(t=>t.toString(),(t,r)=>t.isEqual(r))}applyChanges(e){const i=[];let t=0,r=new Ei((s,c)=>Zt(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const h=this.us.get(s);if(i.push(this.os.removeEntry(e,s,h.readTime)),c.isValidDocument()){const p=_H(this.os.serializer,c);r=r.add(s.path.popLast());const y=dS(p);t+=y-h.size,i.push(this.os.addEntry(e,s,p))}else if(t-=h.size,this.trackRemovals){const p=_H(this.os.serializer,c.convertToNoDocument(Dt.min()));i.push(this.os.addEntry(e,s,p))}}),r.forEach(s=>{i.push(this.os.indexManager.addToCollectionParentIndex(e,s))}),i.push(this.os.updateMetadata(e,t)),ce.waitFor(i)}getFromCache(e,i){return this.os.es(e,i).next(t=>(this.us.set(i,{size:t.size,readTime:t.document.readTime}),t.document))}getAllFromCache(e,i){return this.os.ss(e,i).next(({documents:t,rs:r})=>(r.forEach((s,c)=>{this.us.set(s,{size:c,readTime:t.get(s).readTime})}),t))}}function UH(n){return Qr(n,"remoteDocumentGlobal")}function Bm(n){return Qr(n,"remoteDocumentsV14")}function Uw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function HH(n,e){const i=e.documentKey.path.toArray();return[n,oS(e.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function jH(n,e){const i=n.path.toArray(),t=e.path.toArray();let r=0;for(let s=0;s<i.length-2&&s<t.length-2;++s)if(r=Zt(i[s],t[s]),r)return r;return r=Zt(i.length,t.length),r||(r=Zt(i[i.length-2],t[t.length-2]),r||Zt(i[i.length-1],t[t.length-1]))}class u7{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class zH{constructor(e,i,t,r){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=t,this.indexManager=r}getDocument(e,i){let t=null;return this.documentOverlayCache.getOverlay(e,i).next(r=>(t=r,this.remoteDocumentCache.getEntry(e,i))).next(r=>(null!==t&&Tw(t.mutation,r,zo.empty(),Ai.now()),r))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(t=>this.getLocalViewOfDocuments(e,t,sn()).next(()=>t))}getLocalViewOfDocuments(e,i,t=sn()){const r=$c();return this.populateOverlays(e,r,i).next(()=>this.computeViews(e,i,r,t).next(s=>{let c=Dw();return s.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,i){const t=$c();return this.populateOverlays(e,t,i).next(()=>this.computeViews(e,i,t,sn()))}populateOverlays(e,i,t){const r=[];return t.forEach(s=>{i.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((c,h)=>{i.set(c,h)})})}computeViews(e,i,t,r){let s=$o();const c=Iw(),h=Iw();return i.forEach((p,y)=>{const x=t.get(y.key);r.has(y.key)&&(void 0===x||x.mutation instanceof yd)?s=s.insert(y.key,y):void 0!==x?(c.set(y.key,x.mutation.getFieldMask()),Tw(x.mutation,y,x.mutation.getFieldMask(),Ai.now())):c.set(y.key,zo.empty())}),this.recalculateAndSaveOverlays(e,s).next(p=>(p.forEach((y,x)=>c.set(y,x)),i.forEach((y,x)=>{var S;return h.set(y,new u7(x,null!==(S=c.get(y))&&void 0!==S?S:null))}),h))}recalculateAndSaveOverlays(e,i){const t=Iw();let r=new pi((c,h)=>c-h),s=sn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(c=>{for(const h of c)h.keys().forEach(p=>{const y=i.get(p);if(null===y)return;let x=t.get(p)||zo.empty();x=h.applyToLocalView(y,x),t.set(p,x);const S=(r.get(h.batchId)||sn()).add(p);r=r.insert(h.batchId,S)})}).next(()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),y=p.key,x=p.value,S=N3();x.forEach(N=>{if(!s.has(N)){const H=$3(i.get(N),t.get(N));null!==H&&S.set(N,H),s=s.add(N)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,S))}return ce.waitFor(c)}).next(()=>t)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,i,t){return ot.isDocumentKey((r=i).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,i.path):uO(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,t):this.getDocumentsMatchingCollectionQuery(e,i,t);var r}getNextDocuments(e,i,t,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,t,r).next(s=>{const c=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,t.largestBatchId,r-s.size):ce.resolve($c());let h=-1,p=s;return c.next(y=>ce.forEach(y,(x,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),s.get(x)?ce.resolve():this.remoteDocumentCache.getEntry(e,x).next(N=>{p=p.insert(x,N)}))).next(()=>this.populateOverlays(e,y,s)).next(()=>this.computeViews(e,p,y,sn())).next(x=>({batchId:h,changes:P3(x)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ot(i)).next(t=>{let r=Dw();return t.isFoundDocument()&&(r=r.insert(t.key,t)),r})}getDocumentsMatchingCollectionGroupQuery(e,i,t){const r=i.collectionGroup;let s=Dw();return this.indexManager.getCollectionParents(e,r).next(c=>ce.forEach(c,h=>{const p=(y=i,x=h.child(r),new gd(x,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,x;return this.getDocumentsMatchingCollectionQuery(e,p,t).next(y=>{y.forEach((x,S)=>{s=s.insert(x,S)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,i,t){let r;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,t.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,t,r))).next(s=>{r.forEach((h,p)=>{const y=p.getKey();null===s.get(y)&&(s=s.insert(y,xi.newInvalidDocument(y)))});let c=Dw();return s.forEach((h,p)=>{const y=r.get(h);void 0!==y&&Tw(y.mutation,p,zo.empty(),Ai.now()),xw(i,p)&&(c=c.insert(h,p))}),c})}}class d7{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,i){return ce.resolve(this.cs.get(i))}saveBundleMetadata(e,i){var t;return this.cs.set(i.id,{id:(t=i).id,version:t.version,createTime:fr(t.createTime)}),ce.resolve()}getNamedQuery(e,i){return ce.resolve(this.hs.get(i))}saveNamedQuery(e,i){return this.hs.set(i.name,{name:(t=i).name,query:DO(t.bundledQuery),readTime:fr(t.readTime)}),ce.resolve();var t}}class h7{constructor(){this.overlays=new pi(ot.comparator),this.ls=new Map}getOverlay(e,i){return ce.resolve(this.overlays.get(i))}getOverlays(e,i){const t=$c();return ce.forEach(i,r=>this.getOverlay(e,r).next(s=>{null!==s&&t.set(r,s)})).next(()=>t)}saveOverlays(e,i,t){return t.forEach((r,s)=>{this.we(e,i,s)}),ce.resolve()}removeOverlaysForBatchId(e,i,t){const r=this.ls.get(t);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(t)),ce.resolve()}getOverlaysForCollection(e,i,t){const r=$c(),s=i.length+1,c=new ot(i.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===s&&p.largestBatchId>t&&r.set(p.getKey(),p)}return ce.resolve(r)}getOverlaysForCollectionGroup(e,i,t,r){let s=new pi((y,x)=>y-x);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>t){let x=s.get(y.largestBatchId);null===x&&(x=$c(),s=s.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const h=$c(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,x)=>h.set(y,x)),!(h.size()>=r)););return ce.resolve(h)}we(e,i,t){const r=this.overlays.get(t.key);if(null!==r){const c=this.ls.get(r.largestBatchId).delete(t.key);this.ls.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(t.key,new _O(i,t));let s=this.ls.get(i);void 0===s&&(s=sn(),this.ls.set(i,s)),this.ls.set(i,s.add(t.key))}}class RO{constructor(){this.fs=new Ei(Xr.ds),this.ws=new Ei(Xr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,i){const t=new Xr(e,i);this.fs=this.fs.add(t),this.ws=this.ws.add(t)}gs(e,i){e.forEach(t=>this.addReference(t,i))}removeReference(e,i){this.ys(new Xr(e,i))}ps(e,i){e.forEach(t=>this.removeReference(t,i))}Is(e){const i=new ot(new Sn([])),t=new Xr(i,e),r=new Xr(i,e+1),s=[];return this.ws.forEachInRange([t,r],c=>{this.ys(c),s.push(c.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const i=new ot(new Sn([])),t=new Xr(i,e),r=new Xr(i,e+1);let s=sn();return this.ws.forEachInRange([t,r],c=>{s=s.add(c.key)}),s}containsKey(e){const i=new Xr(e,0),t=this.fs.firstAfterOrEqual(i);return null!==t&&e.isEqual(t.key)}}class Xr{constructor(e,i){this.key=e,this.As=i}static ds(e,i){return ot.comparator(e.key,i.key)||Zt(e.As,i.As)}static _s(e,i){return Zt(e.As,i.As)||ot.comparator(e.key,i.key)}}class f7{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.vs=1,this.Rs=new Ei(Xr.ds)}checkEmpty(e){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,i,t,r){const s=this.vs;this.vs++;const c=new mO(s,i,t,r);this.mutationQueue.push(c);for(const h of r)this.Rs=this.Rs.add(new Xr(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(e,i){return ce.resolve(this.Ps(i))}getNextMutationBatchAfterBatchId(e,i){const r=this.bs(i+1),s=r<0?0:r;return ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const t=new Xr(i,0),r=new Xr(i,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([t,r],c=>{const h=this.Ps(c.As);s.push(h)}),ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,i){let t=new Ei(Zt);return i.forEach(r=>{const s=new Xr(r,0),c=new Xr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,c],h=>{t=t.add(h.As)})}),ce.resolve(this.Vs(t))}getAllMutationBatchesAffectingQuery(e,i){const t=i.path,r=t.length+1;let s=t;ot.isDocumentKey(s)||(s=s.child(""));const c=new Xr(new ot(s),0);let h=new Ei(Zt);return this.Rs.forEachWhile(p=>{const y=p.key.path;return!!t.isPrefixOf(y)&&(y.length===r&&(h=h.add(p.As)),!0)},c),ce.resolve(this.Vs(h))}Vs(e){const i=[];return e.forEach(t=>{const r=this.Ps(t);null!==r&&i.push(r)}),i}removeMutationBatch(e,i){xt(0===this.Ss(i.batchId,"removed")),this.mutationQueue.shift();let t=this.Rs;return ce.forEach(i.mutations,r=>{const s=new Xr(r.key,i.batchId);return t=t.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=t})}Cn(e){}containsKey(e,i){const t=new Xr(i,0),r=this.Rs.firstAfterOrEqual(t);return ce.resolve(i.isEqual(r&&r.key))}performConsistencyCheck(e){return ce.resolve()}Ss(e,i){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const i=this.bs(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class p7{constructor(e){this.Ds=e,this.docs=new pi(ot.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const t=i.key,r=this.docs.get(t),s=r?r.size:0,c=this.Ds(i);return this.docs=this.docs.insert(t,{document:i.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,t.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const t=this.docs.get(i);return ce.resolve(t?t.document.mutableCopy():xi.newInvalidDocument(i))}getEntries(e,i){let t=$o();return i.forEach(r=>{const s=this.docs.get(r);t=t.insert(r,s?s.document.mutableCopy():xi.newInvalidDocument(r))}),ce.resolve(t)}getDocumentsMatchingQuery(e,i,t,r){let s=$o();const c=i.path,h=new ot(c.child("")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:y,value:{document:x}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||JR(ZU(x),t)<=0||(r.has(x.key)||xw(i,x))&&(s=s.insert(x.key,x.mutableCopy()))}return ce.resolve(s)}getAllFromCollectionGroup(e,i,t,r){mt()}Cs(e,i){return ce.forEach(this.docs,t=>i(t))}newChangeBuffer(e){return new m7(this)}getSize(e){return ce.resolve(this.size)}}class m7 extends BH{constructor(e){super(),this.os=e}applyChanges(e){const i=[];return this.changes.forEach((t,r)=>{r.isValidDocument()?i.push(this.os.addEntry(e,r)):this.os.removeEntry(t)}),ce.waitFor(i)}getFromCache(e,i){return this.os.getEntry(e,i)}getAllFromCache(e,i){return this.os.getEntries(e,i)}}class g7{constructor(e){this.persistence=e,this.xs=new _d(i=>Tm(i),Cw),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new RO,this.targetCount=0,this.Ms=Lm.kn()}forEachTarget(e,i){return this.xs.forEach((t,r)=>i(r)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,i,t){return t&&(this.lastRemoteSnapshotVersion=t),i>this.Ns&&(this.Ns=i),ce.resolve()}Fn(e){this.xs.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ms=new Lm(i),this.highestTargetId=i),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,i){return this.Fn(i),this.targetCount+=1,ce.resolve()}updateTargetData(e,i){return this.Fn(i),ce.resolve()}removeTargetData(e,i){return this.xs.delete(i.target),this.ks.Is(i.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,i,t){let r=0;const s=[];return this.xs.forEach((c,h)=>{h.sequenceNumber<=i&&null===t.get(h.targetId)&&(this.xs.delete(c),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),ce.waitFor(s).next(()=>r)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,i){const t=this.xs.get(i)||null;return ce.resolve(t)}addMatchingKeys(e,i,t){return this.ks.gs(i,t),ce.resolve()}removeMatchingKeys(e,i,t){this.ks.ps(i,t);const r=this.persistence.referenceDelegate,s=[];return r&&i.forEach(c=>{s.push(r.markPotentiallyOrphaned(e,c))}),ce.waitFor(s)}removeMatchingKeysForTargetId(e,i){return this.ks.Is(i),ce.resolve()}getMatchingKeysForTargetId(e,i){const t=this.ks.Es(i);return ce.resolve(t)}containsKey(e,i){return ce.resolve(this.ks.containsKey(i))}}class OO{constructor(e,i){this.$s={},this.overlays={},this.Os=new Ca(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new g7(this),this.indexManager=new t7,this.remoteDocumentCache=new p7(t=>this.referenceDelegate.Ls(t)),this.serializer=new gH(i),this.qs=new d7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new h7,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let t=this.$s[e.toKey()];return t||(t=new f7(i,this.referenceDelegate),this.$s[e.toKey()]=t),t}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,i,t){je("MemoryPersistence","Starting transaction:",e);const r=new _7(this.Os.next());return this.referenceDelegate.Us(),t(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(e,i){return ce.or(Object.values(this.$s).map(t=>()=>t.containsKey(e,i)))}}class _7 extends KU{constructor(e){super(),this.currentSequenceNumber=e}}class pS{constructor(e){this.persistence=e,this.Qs=new RO,this.js=null}static zs(e){return new pS(e)}get Ws(){if(this.js)return this.js;throw mt()}addReference(e,i,t){return this.Qs.addReference(t,i),this.Ws.delete(t.toString()),ce.resolve()}removeReference(e,i,t){return this.Qs.removeReference(t,i),this.Ws.add(t.toString()),ce.resolve()}markPotentiallyOrphaned(e,i){return this.Ws.add(i.toString()),ce.resolve()}removeTarget(e,i){this.Qs.Is(i.targetId).forEach(r=>this.Ws.add(r.toString()));const t=this.persistence.getTargetCache();return t.getMatchingKeysForTargetId(e,i.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>t.removeTargetData(e,i))}Us(){this.js=new Set}Ks(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Ws,t=>{const r=ot.fromPath(t);return this.Hs(e,r).next(s=>{s||i.removeEntry(r,Dt.min())})}).next(()=>(this.js=null,i.apply(e)))}updateLimboDocument(e,i){return this.Hs(e,i).next(t=>{t?this.Ws.delete(i.toString()):this.Ws.add(i.toString())})}Ls(e){return 0}Hs(e,i){return ce.or([()=>ce.resolve(this.Qs.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Gs(e,i)])}}class y7{constructor(e){this.serializer=e}O(e,i,t,r){const s=new zI("createOrUpgrade",i);var h;t<1&&r>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",e3,{unique:!0}),h.createObjectStore("documentMutations"),$H(e),function(h){h.createObjectStore("remoteDocuments")}(e));let c=ce.resolve();return t<3&&r>=3&&(0!==t&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),$H(e)),c=c.next(()=>function(h){const p=h.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Dt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",y)}(s))),t<4&&r>=4&&(0!==t&&(c=c.next(()=>function(h,p){return p.store("mutations").j().next(y=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",e3,{unique:!0});const x=p.store("mutations"),S=y.map(N=>x.put(N));return ce.waitFor(S)})}(e,s))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),t<5&&r>=5&&(c=c.next(()=>this.Ys(s))),t<6&&r>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(s)))),t<7&&r>=7&&(c=c.next(()=>this.Zs(s))),t<8&&r>=8&&(c=c.next(()=>this.ti(e,s))),t<9&&r>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),t<10&&r>=10&&(c=c.next(()=>this.ei(s))),t<11&&r>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),t<12&&r>=12&&(c=c.next(()=>{!function(h){const p=h.createObjectStore("documentOverlays",{keyPath:e8});p.createIndex("collectionPathOverlayIndex",t8,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",n8,{unique:!1})}(e)})),t<13&&r>=13&&(c=c.next(()=>function(h){const p=h.createObjectStore("remoteDocumentsV14",{keyPath:zq});p.createIndex("documentKeyIndex",$q),p.createIndex("collectionGroupIndex",Gq)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),t<14&&r>=14&&(c=c.next(()=>this.si(e,s))),t<15&&r>=15&&(c=c.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:Kq}).createIndex("sequenceNumberIndex",Qq,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:Xq}).createIndex("documentKeyIndex",Jq,{unique:!1})}(e))),c}Xs(e){let i=0;return e.store("remoteDocuments").X((t,r)=>{i+=dS(r)}).next(()=>{const t={byteSize:i};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",t)})}Ys(e){const i=e.store("mutationQueues"),t=e.store("mutations");return i.j().next(r=>ce.forEach(r,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return t.j("userMutationsIndex",c).next(h=>ce.forEach(h,p=>{xt(p.userId===s.userId);const y=Pm(this.serializer,p);return kH(e,s.userId,y).next(()=>{})}))}))}Zs(e){const i=e.store("targetDocuments"),t=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return t.X((c,h)=>{const p=new Sn(c),y=[0,Hs(p)];s.push(i.get(y).next(x=>x?ce.resolve():i.put({targetId:0,path:Hs(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ce.waitFor(s))})}ti(e,i){e.createObjectStore("collectionParents",{keyPath:Yq});const t=i.store("collectionParents"),r=new kO,s=c=>{if(r.add(c)){const h=c.lastSegment(),p=c.popLast();return t.put({collectionId:h,parent:Hs(p)})}};return i.store("remoteDocuments").X({Y:!0},(c,h)=>{const p=new Sn(c);return s(p.popLast())}).next(()=>i.store("documentMutations").X({Y:!0},([c,h,p],y)=>{const x=jc(h);return s(x.popLast())}))}ei(e){const i=e.store("targets");return i.X((t,r)=>{const s=Nw(r),c=yH(this.serializer,s);return i.put(c)})}ni(e,i){const t=i.store("remoteDocuments"),r=[];return t.X((s,c)=>{const h=i.store("remoteDocumentsV14"),p=(y=c,y.document?new ot(Sn.fromString(y.document.name).popFirst(5)):y.noDocument?ot.fromSegments(y.noDocument.path):y.unknownDocument?ot.fromSegments(y.unknownDocument.path):mt()).path.toArray();var y;const x={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(h.put(x))}).next(()=>ce.waitFor(r))}si(e,i){const t=i.store("mutations"),r=VH(this.serializer),s=new OO(pS.zs,this.serializer.fe);return t.j().next(c=>{const h=new Map;return c.forEach(p=>{var y;let x=null!==(y=h.get(p.userId))&&void 0!==y?y:sn();Pm(this.serializer,p).keys().forEach(S=>x=x.add(S)),h.set(p.userId,x)}),ce.forEach(h,(p,y)=>{const x=new Kr(y),S=aS.de(this.serializer,x),N=s.getIndexManager(x),H=hS.de(x,this.serializer,N,s.referenceDelegate);return new zH(r,H,S,N).recalculateAndSaveOverlaysForDocumentKeys(new nO(i,Ca.ct),p).next()})})}}function $H(n){n.createObjectStore("targetDocuments",{keyPath:Wq}).createIndex("documentTargetsIndex",Zq,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",qq,{unique:!0}),n.createObjectStore("targetGlobal")}const PO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class NO{constructor(e,i,t,r,s,c,h,p,y,x,S=15){if(this.allowTabSynchronization=e,this.persistenceKey=i,this.clientId=t,this.ii=s,this.window=c,this.document=h,this.ri=y,this.oi=x,this.ui=S,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=N=>Promise.resolve(),!NO.D())throw new Ne(ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new a7(this,r),this.di=i+"main",this.serializer=new gH(p),this.wi=new Bl(this.di,this.ui,new y7(this.serializer)),this.Bs=new r7(this.referenceDelegate,this.serializer),this.remoteDocumentCache=VH(this.serializer),this.qs=new Z8,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===x&&hr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(ge.FAILED_PRECONDITION,PO);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Ca(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var i=this;return this.fi=function(){var t=(0,ve.Z)(function*(r){if(i.started)return e(r)});return function(r){return t.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var i=(0,ve.Z)(function*(t){null===t.newVersion&&(yield e())});return function(t){return i.apply(this,arguments)}}())}setNetworkEnabled(e){var i=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,ve.Z)(function*(){i.started&&(yield i.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gS(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(i=>{i||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(i=>this.isPrimary&&!i?this.Ai(e).next(()=>!1):!!i&&this.vi(e).next(()=>!0))).catch(e=>{if(pf(e))return je("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return je("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Hw(e).get("owner").next(i=>ce.resolve(this.Ri(i)))}Pi(e){return gS(e).delete(this.clientId)}bi(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const i=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=Qr(t,"clientMetadata");return r.j().next(s=>{const c=e.Si(s,18e5),h=s.filter(p=>-1===c.indexOf(p));return ce.forEach(h,p=>r.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(e._i)for(const t of i)e._i.removeItem(e.Di(t.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ce.resolve(!0):Hw(e).get("owner").next(i=>{if(null!==i&&this.Vi(i.leaseTimestampMs,5e3)&&!this.Ci(i.ownerId)){if(this.Ri(i)&&this.networkEnabled)return!0;if(!this.Ri(i)){if(!i.allowTabSynchronization)throw new Ne(ge.FAILED_PRECONDITION,PO);return!1}}return!(!this.networkEnabled||!this.inForeground)||gS(e).j().next(t=>void 0===this.Si(t,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(i=>(this.isPrimary!==i&&je("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const t=new nO(i,Ca.ct);return e.Ai(t).next(()=>e.Pi(t))}),e.wi.close(),e.Mi()})()}Si(e,i){return e.filter(t=>this.Vi(t.updateTimeMs,i)&&!this.Ci(t.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>gS(e).j().next(i=>this.Si(i,18e5).map(t=>t.clientId)))}get started(){return this.Fs}getMutationQueue(e,i){return hS.de(e,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new n7(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return aS.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,i,t){je("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===i?"readonly":"readwrite",s=15===(c=this.ui)?s8:14===c?s3:13===c?r3:12===c?r8:11===c?n3:void mt();var c;let h;return this.wi.runTransaction(e,r,s,p=>(h=new nO(p,this.Os?this.Os.next():Ca.ct),"readwrite-primary"===i?this.Ti(h).next(y=>!!y||this.Ei(h)).next(y=>{if(!y)throw hr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ne(ge.FAILED_PRECONDITION,YU);return t(h)}).next(y=>this.vi(h).next(()=>y)):this.Oi(h).next(()=>t(h)))).then(p=>(h.raiseOnCommittedEvent(),p))}Oi(e){return Hw(e).get("owner").next(i=>{if(null!==i&&this.Vi(i.leaseTimestampMs,5e3)&&!this.Ci(i.ownerId)&&!this.Ri(i)&&!(this.oi||this.allowTabSynchronization&&i.allowTabSynchronization))throw new Ne(ge.FAILED_PRECONDITION,PO)})}vi(e){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Hw(e).put("owner",i)}static D(){return Bl.D()}Ai(e){const i=Hw(e);return i.get("owner").next(t=>this.Ri(t)?(je("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):ce.resolve())}Vi(e,i){const t=Date.now();return!(e<t-i||e>t&&(hr(`Detected an update time that is in the future: ${e} > ${t}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const i=/(?:Version|Mobile)\/1[456]/;(0,an.G6)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var i;try{const t=null!==(null===(i=this._i)||void 0===i?void 0:i.getItem(this.Di(e)));return je("IndexedDbPersistence",`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return hr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){hr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Hw(n){return Qr(n,"owner")}function gS(n){return Qr(n,"clientMetadata")}function FO(n,e){let i=n.projectId;return n.isDefaultDatabase||(i+="."+n.database),"firestore/"+e+"/"+i+"/"}class LO{constructor(e,i,t,r){this.targetId=e,this.fromCache=i,this.Fi=t,this.Bi=r}static Li(e,i){let t=sn(),r=sn();for(const s of i.docChanges)switch(s.type){case 0:t=t.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new LO(e,i.fromCache,t,r)}}class GH{constructor(){this.qi=!1}initialize(e,i){this.Ui=e,this.indexManager=i,this.qi=!0}getDocumentsMatchingQuery(e,i,t,r){return this.Ki(e,i).next(s=>s||this.Gi(e,i,r,t)).next(s=>s||this.Qi(e,i))}Ki(e,i){if(A3(i))return ce.resolve(null);let t=go(i);return this.indexManager.getIndexType(e,t).next(r=>0===r?null:(null!==i.limit&&1===r&&(i=eS(i,null,"F"),t=go(i)),this.indexManager.getDocumentsMatchingTarget(e,t).next(s=>{const c=sn(...s);return this.Ui.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,t).next(p=>{const y=this.ji(i,h);return this.zi(i,y,c,p.readTime)?this.Ki(e,eS(i,null,"F")):this.Wi(e,y,i,p)}))})))}Gi(e,i,t,r){return A3(i)||r.isEqual(Dt.min())?this.Qi(e,i):this.Ui.getDocuments(e,t).next(s=>{const c=this.ji(i,s);return this.zi(i,c,t,r)?this.Qi(e,i):(KR()<=ld.in.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),hO(i)),this.Wi(e,c,i,WU(r,-1)))})}ji(e,i){let t=new Ei(R3(e));return i.forEach((r,s)=>{xw(e,s)&&(t=t.add(s))}),t}zi(e,i,t,r){if(null===e.limit)return!1;if(t.size!==i.size)return!0;const s="F"===e.limitType?i.last():i.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,i){return KR()<=ld.in.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",hO(i)),this.Ui.getDocumentsMatchingQuery(e,i,wa.min())}Wi(e,i,t,r){return this.Ui.getDocumentsMatchingQuery(e,t,r).next(s=>(i.forEach(c=>{s=s.insert(c.key,c)}),s))}}class v7{constructor(e,i,t,r){this.persistence=e,this.Hi=i,this.serializer=r,this.Ji=new pi(Zt),this.Yi=new _d(s=>Tm(s),Cw),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(t)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zH(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ji))}}function qH(n,e,i,t){return new v7(n,e,i,t)}function WH(n,e){return BO.apply(this,arguments)}function BO(){return BO=(0,ve.Z)(function*(n,e){const i=at(n);return yield i.persistence.runTransaction("Handle user change","readonly",t=>{let r;return i.mutationQueue.getAllMutationBatches(t).next(s=>(r=s,i.tr(e),i.mutationQueue.getAllMutationBatches(t))).next(s=>{const c=[],h=[];let p=sn();for(const y of r){c.push(y.batchId);for(const x of y.mutations)p=p.add(x.key)}for(const y of s){h.push(y.batchId);for(const x of y.mutations)p=p.add(x.key)}return i.localDocuments.getDocuments(t,p).next(y=>({er:y,removedBatchIds:c,addedBatchIds:h}))})})}),BO.apply(this,arguments)}function ZH(n){const e=at(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Bs.getLastRemoteSnapshotVersion(i))}function YH(n,e,i){let t=sn(),r=sn();return i.forEach(s=>t=t.add(s)),e.getEntries(n,t).next(s=>{let c=$o();return i.forEach((h,p)=>{const y=s.get(h);p.isFoundDocument()!==y.isFoundDocument()&&(r=r.add(h)),p.isNoDocument()&&p.version.isEqual(Dt.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||0===p.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):je("LocalStore","Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",p.version)}),{nr:c,sr:r}})}function C7(n,e){const i=at(n);return i.persistence.runTransaction("Get next mutation batch","readonly",t=>(void 0===e&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(t,e)))}function Oy(n,e){const i=at(n);return i.persistence.runTransaction("Allocate target","readwrite",t=>{let r;return i.Bs.getTargetData(t,e).next(s=>s?(r=s,ce.resolve(r)):i.Bs.allocateTargetId(t).next(c=>(r=new vd(e,c,"TargetPurposeListen",t.currentSequenceNumber),i.Bs.addTargetData(t,r).next(()=>r))))}).then(t=>{const r=i.Ji.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(i.Ji=i.Ji.insert(t.targetId,t),i.Yi.set(e,t.targetId)),t})}function Py(n,e,i){return VO.apply(this,arguments)}function VO(){return VO=(0,ve.Z)(function*(n,e,i){const t=at(n),r=t.Ji.get(e),s=i?"readwrite":"readwrite-primary";try{i||(yield t.persistence.runTransaction("Release target",s,c=>t.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!pf(c))throw c;je("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}t.Ji=t.Ji.remove(e),t.Yi.delete(r.target)}),VO.apply(this,arguments)}function _S(n,e,i){const t=at(n);let r=Dt.min(),s=sn();return t.persistence.runTransaction("Execute query","readonly",c=>function(h,p,y){const x=at(h),S=x.Yi.get(y);return void 0!==S?ce.resolve(x.Ji.get(S)):x.Bs.getTargetData(p,y)}(t,c,go(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,t.Bs.getMatchingKeysForTargetId(c,h.targetId).next(p=>{s=p})}).next(()=>t.Hi.getDocumentsMatchingQuery(c,e,i?r:Dt.min(),i?s:sn())).next(h=>(XH(t,k3(e),h),{documents:h,ir:s})))}function KH(n,e){const i=at(n),t=at(i.Bs),r=i.Ji.get(e);return r?Promise.resolve(r.target):i.persistence.runTransaction("Get target data","readonly",s=>t.le(s,e).next(c=>c?c.target:null))}function QH(n,e){const i=at(n),t=i.Xi.get(e)||Dt.min();return i.persistence.runTransaction("Get new document changes","readonly",r=>i.Zi.getAllFromCollectionGroup(r,e,WU(t,-1),Number.MAX_SAFE_INTEGER)).then(r=>(XH(i,e,r),r))}function XH(n,e,i){let t=n.Xi.get(e)||Dt.min();i.forEach((r,s)=>{s.readTime.compareTo(t)>0&&(t=s.readTime)}),n.Xi.set(e,t)}function UO(){return UO=(0,ve.Z)(function*(n,e,i,t){const r=at(n);let s=sn(),c=$o();for(const y of i){const x=e.rr(y.metadata.name);y.document&&(s=s.add(x));const S=e.ur(y);S.setReadTime(e.cr(y.metadata.readTime)),c=c.insert(x,S)}const h=r.Zi.newChangeBuffer({trackRemovals:!0}),p=yield Oy(r,(y=t,go(xy(Sn.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>YH(y,h,c).next(x=>(h.apply(y),x)).next(x=>r.Bs.removeMatchingKeysForTargetId(y,p.targetId).next(()=>r.Bs.addMatchingKeys(y,s,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,x.nr,x.sr)).next(()=>x.nr)))}),UO.apply(this,arguments)}function x7(n,e){return HO.apply(this,arguments)}function HO(){return HO=(0,ve.Z)(function*(n,e,i=sn()){const t=yield Oy(n,go(DO(e.bundledQuery))),r=at(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const c=fr(e.readTime);if(t.snapshotVersion.compareTo(c)>=0)return r.qs.saveNamedQuery(s,e);const h=t.withResumeToken(Hr.EMPTY_BYTE_STRING,c);return r.Ji=r.Ji.insert(h.targetId,h),r.Bs.updateTargetData(s,h).next(()=>r.Bs.removeMatchingKeysForTargetId(s,t.targetId)).next(()=>r.Bs.addMatchingKeys(s,i,t.targetId)).next(()=>r.qs.saveNamedQuery(s,e))})}),HO.apply(this,arguments)}function JH(n,e){return`firestore_clients_${n}_${e}`}function ej(n,e,i){let t=`firestore_mutations_${n}_${i}`;return e.isAuthenticated()&&(t+=`_${e.uid}`),t}function jO(n,e){return`firestore_targets_${n}_${e}`}class yS{constructor(e,i,t,r){this.user=e,this.batchId=i,this.state=t,this.error=r}static ar(e,i,t){const r=JSON.parse(t);let s,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new Ne(r.error.code,r.error.message))),c?new yS(e,i,r.state,s):(hr("SharedClientState",`Failed to parse mutation state for ID '${i}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jw{constructor(e,i,t){this.targetId=e,this.state=i,this.error=t}static ar(e,i){const t=JSON.parse(i);let r,s="object"==typeof t&&-1!==["not-current","current","rejected"].indexOf(t.state)&&(void 0===t.error||"object"==typeof t.error);return s&&t.error&&(s="string"==typeof t.error.message&&"string"==typeof t.error.code,s&&(r=new Ne(t.error.code,t.error.message))),s?new jw(e,t.state,r):(hr("SharedClientState",`Failed to parse target state for ID '${e}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vS{constructor(e,i){this.clientId=e,this.activeTargetIds=i}static ar(e,i){const t=JSON.parse(i);let r="object"==typeof t&&t.activeTargetIds instanceof Array,s=fO();for(let c=0;r&&c<t.activeTargetIds.length;++c)r=XU(t.activeTargetIds[c]),s=s.add(t.activeTargetIds[c]);return r?new vS(e,s):(hr("SharedClientState",`Failed to parse client data for instance '${e}': ${i}`),null)}}class zO{constructor(e,i){this.clientId=e,this.onlineState=i}static ar(e){const i=JSON.parse(e);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new zO(i.clientId,i.onlineState):(hr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class $O{constructor(){this.activeTargetIds=fO()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GO{constructor(e,i,t,r,s){this.window=e,this.ii=i,this.persistenceKey=t,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new pi(Zt),this.started=!1,this.yr=[];const c=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=JH(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new $O),this.Tr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const i=yield e.syncEngine.$i();for(const r of i){if(r===e.wr)continue;const s=e.getItem(JH(e.persistenceKey,r));if(s){const c=vS.ar(r,s);c&&(e.gr=e.gr.insert(c.clientId,c))}}e.Pr();const t=e.storage.getItem(e.vr);if(t){const r=e.br(t);r&&e.Vr(r)}for(const r of e.yr)e.mr(r);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let i=!1;return this.gr.forEach((t,r)=>{r.activeTargetIds.has(e)&&(i=!0)}),i}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,i,t){this.Dr(e,i,t),this.Cr(e)}addLocalQueryTarget(e){let i="not-current";if(this.isActiveQueryTarget(e)){const t=this.storage.getItem(jO(this.persistenceKey,e));if(t){const r=jw.ar(e,t);r&&(i=r.state)}}return this.Nr.lr(e),this.Pr(),i}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(jO(this.persistenceKey,e))}updateQueryState(e,i,t){this.kr(e,i,t)}handleUserChange(e,i,t){i.forEach(r=>{this.Cr(r)}),this.currentUser=e,t.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const i=this.storage.getItem(e);return je("SharedClientState","READ",e,i),i}setItem(e,i){je("SharedClientState","SET",e,i),this.storage.setItem(e,i)}removeItem(e){je("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var i=this;const t=e;if(t.storageArea===this.storage){if(je("SharedClientState","EVENT",t.key,t.newValue),t.key===this.pr)return void hr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ve.Z)(function*(){if(i.started){if(null!==t.key)if(i.Tr.test(t.key)){if(null==t.newValue){const r=i.Or(t.key);return i.Fr(r,null)}{const r=i.Br(t.key,t.newValue);if(r)return i.Fr(r.clientId,r)}}else if(i.Er.test(t.key)){if(null!==t.newValue){const r=i.Lr(t.key,t.newValue);if(r)return i.qr(r)}}else if(i.Ar.test(t.key)){if(null!==t.newValue){const r=i.Ur(t.key,t.newValue);if(r)return i.Kr(r)}}else if(t.key===i.vr){if(null!==t.newValue){const r=i.br(t.newValue);if(r)return i.Vr(r)}}else if(t.key===i.Ir){const r=function(s){let c=Ca.ct;if(null!=s)try{const h=JSON.parse(s);xt("number"==typeof h),c=h}catch(h){hr("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(t.newValue);r!==Ca.ct&&i.sequenceNumberHandler(r)}else if(t.key===i.Rr){const r=i.Gr(t.newValue);yield Promise.all(r.map(s=>i.syncEngine.Qr(s)))}}else i.yr.push(t)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,i,t){const r=new yS(this.currentUser,e,i,t),s=ej(this.persistenceKey,this.currentUser,e);this.setItem(s,r.hr())}Cr(e){const i=ej(this.persistenceKey,this.currentUser,e);this.removeItem(i)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,i,t){const r=jO(this.persistenceKey,e),s=new jw(e,i,t);this.setItem(r,s.hr())}$r(e){const i=JSON.stringify(Array.from(e));this.setItem(this.Rr,i)}Or(e){const i=this.Tr.exec(e);return i?i[1]:null}Br(e,i){const t=this.Or(e);return vS.ar(t,i)}Lr(e,i){const t=this.Er.exec(e),r=Number(t[1]);return yS.ar(new Kr(void 0!==t[2]?t[2]:null),r,i)}Ur(e,i){const t=this.Ar.exec(e),r=Number(t[1]);return jw.ar(r,i)}br(e){return zO.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var i=this;return(0,ve.Z)(function*(){if(e.user.uid===i.currentUser.uid)return i.syncEngine.jr(e.batchId,e.state,e.error);je("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,i){const t=i?this.gr.insert(e,i):this.gr.remove(e),r=this.Sr(this.gr),s=this.Sr(t),c=[],h=[];return s.forEach(p=>{r.has(p)||c.push(p)}),r.forEach(p=>{s.has(p)||h.push(p)}),this.syncEngine.Wr(c,h).then(()=>{this.gr=t})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let i=fO();return e.forEach((t,r)=>{i=i.unionWith(r.activeTargetIds)}),i}}class tj{constructor(){this.Hr=new $O,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,t){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,i,t){this.Jr[e]=i}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new $O,Promise.resolve()}handleUserChange(e,i,t){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class D7{Yr(e){}shutdown(){}}class nj{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let bS=null;function qO(){return null===bS?bS=268435456+Math.round(2147483648*Math.random()):bS++,"0x"+bS.toString(16)}const I7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class S7{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const zs="WebChannelConnection";class T7 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,i,t,r,s){const c=qO(),h=this.To(e,i);je("RestConnection",`Sending RPC '${e}' ${c}:`,h,t);const p={};return this.Eo(p,r,s),this.Ao(e,h,p,t).then(y=>(je("RestConnection",`Received RPC '${e}' ${c}: `,y),y),y=>{throw tl("RestConnection",`RPC '${e}' ${c} failed with error: `,y,"url: ",h,"request:",t),y})}vo(e,i,t,r,s,c){return this.Io(e,i,t,r,s)}Eo(e,i,t){e["X-Goog-Api-Client"]="gl-js/ fire/"+yy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((r,s)=>e[s]=r),t&&t.headers.forEach((r,s)=>e[s]=r)}To(e,i){return`${this.mo}/v1/${i}:${I7[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,i,t,r){const s=qO();return new Promise((c,h)=>{const p=new Eq;p.setWithCredentials(!0),p.listenOnce(bq.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case YR.NO_ERROR:const x=p.getResponseJson();je(zs,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(x)),c(x);break;case YR.TIMEOUT:je(zs,`RPC '${e}' ${s} timed out`),h(new Ne(ge.DEADLINE_EXCEEDED,"Request time out"));break;case YR.HTTP_ERROR:const S=p.getStatus();if(je(zs,`RPC '${e}' ${s} failed with status:`,S,"response text:",p.getResponseText()),S>0){let N=p.getResponseJson();Array.isArray(N)&&(N=N[0]);const H=N?.error;if(H&&H.status&&H.message){const G=function(Q){const ee=Q.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(ee)>=0?ee:ge.UNKNOWN}(H.status);h(new Ne(G,H.message))}else h(new Ne(ge.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Ne(ge.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{je(zs,`RPC '${e}' ${s} completed.`)}});const y=JSON.stringify(r);je(zs,`RPC '${e}' ${s} sending request:`,r),p.send(i,"POST",y,t,15)})}Ro(e,i,t){const r=qO(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=yq(),h=vq(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;void 0!==y&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.xmlHttpFactory=new Cq({})),this.Eo(p.initMessageHeaders,i,t),p.encodeInitMessageHeaders=!0;const x=s.join("");je(zs,`Creating RPC '${e}' stream ${r}: ${x}`,p);const S=c.createWebChannel(x,p);let N=!1,H=!1;const G=new S7({ro:ee=>{H?je(zs,`Not sending because RPC '${e}' stream ${r} is closed:`,ee):(N||(je(zs,`Opening RPC '${e}' stream ${r} transport.`),S.open(),N=!0),je(zs,`RPC '${e}' stream ${r} sending:`,ee),S.send(ee))},oo:()=>S.close()}),Q=(ee,ke,Ge)=>{ee.listen(ke,ze=>{try{Ge(ze)}catch(Ye){setTimeout(()=>{throw Ye},0)}})};return Q(S,UI.EventType.OPEN,()=>{H||je(zs,`RPC '${e}' stream ${r} transport opened.`)}),Q(S,UI.EventType.CLOSE,()=>{H||(H=!0,je(zs,`RPC '${e}' stream ${r} transport closed`),G.wo())}),Q(S,UI.EventType.ERROR,ee=>{H||(H=!0,tl(zs,`RPC '${e}' stream ${r} transport errored:`,ee),G.wo(new Ne(ge.UNAVAILABLE,"The operation could not be completed")))}),Q(S,UI.EventType.MESSAGE,ee=>{var ke;if(!H){const Ge=ee.data[0];xt(!!Ge);const Ye=Ge.error||(null===(ke=Ge[0])||void 0===ke?void 0:ke.error);if(Ye){je(zs,`RPC '${e}' stream ${r} received error:`,Ye);const It=Ye.status;let kt=function(Ri){const xs=Ar[Ri];if(void 0!==xs)return K3(xs)}(It),dn=Ye.message;void 0===kt&&(kt=ge.INTERNAL,dn="Unknown error status: "+It+" with message "+Ye.message),H=!0,G.wo(new Ne(kt,dn)),S.close()}else je(zs,`RPC '${e}' stream ${r} received:`,Ge),G._o(Ge)}}),Q(h,wq.STAT_EVENT,ee=>{ee.stat===HU.PROXY?je(zs,`RPC '${e}' stream ${r} detected buffering proxy`):ee.stat===HU.NOPROXY&&je(zs,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{G.fo()},0),G}}function ij(){return typeof window<"u"?window:null}function wS(){return typeof document<"u"?document:null}function zw(n){return new L8(n,!0)}class WO{constructor(e,i,t=1e3,r=1.5,s=6e4){this.ii=e,this.timerId=i,this.Po=t,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const i=Math.floor(this.So+this.ko()),t=Math.max(0,Date.now()-this.Co),r=Math.max(0,i-t);r>0&&je("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${i} ms, last attempt: ${t} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class rj{constructor(e,i,t,r,s,c,h,p){this.ii=e,this.$o=t,this.Oo=r,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new WO(e,i)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ve.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ve.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,i){var t=this;return(0,ve.Z)(function*(){t.Ho(),t.Jo(),t.qo.cancel(),t.Fo++,4!==e?t.qo.reset():i&&i.code===ge.RESOURCE_EXHAUSTED?(hr(i.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),t.qo.xo()):i&&i.code===ge.UNAUTHENTICATED&&3!==t.state&&(t.authCredentialsProvider.invalidateToken(),t.appCheckCredentialsProvider.invalidateToken()),null!==t.stream&&(t.Yo(),t.stream.close(),t.stream=null),t.state=e,yield t.listener.ao(i)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),i=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([t,r])=>{this.Fo===i&&this.Zo(t,r)},t=>{e(()=>{const r=new Ne(ge.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(r)})})}Zo(e,i){const t=this.Xo(this.Fo);this.stream=this.eu(e,i),this.stream.uo(()=>{t(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{t(()=>this.tu(r))}),this.stream.onMessage(r=>{t(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,ve.Z)(function*(){e.state=0,e.start()}))}tu(e){return je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return i=>{this.ii.enqueueAndForget(()=>this.Fo===e?i():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class A7 extends rj{constructor(e,i,t,r,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,t,r,c),this.serializer=s}eu(e,i){return this.connection.Ro("Listen",e,i)}onMessage(e){this.qo.reset();const i=function U8(n,e){let i;if("targetChange"in e){const t="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:mt(),r=e.targetChange.targetIds||[],s=function(p,y){return p.useProto3Json?(xt(void 0===y||"string"==typeof y),Hr.fromBase64String(y||"")):(xt(void 0===y||y instanceof Uint8Array),Hr.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(p){const y=void 0===p.code?ge.UNKNOWN:K3(p.code);return new Ne(y,p.message||"")}(c);i=new tH(t,r,s,h||null)}else if("documentChange"in e){const t=e.documentChange,r=Gc(n,t.document.name),s=fr(t.document.updateTime),c=t.document.createTime?fr(t.document.createTime):Dt.min(),h=new Cs({mapValue:{fields:t.document.fields}}),p=xi.newFoundDocument(r,s,c,h);i=new sS(t.targetIds||[],t.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const t=e.documentDelete,r=Gc(n,t.document),s=t.readTime?fr(t.readTime):Dt.min(),c=xi.newNoDocument(r,s);i=new sS([],t.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const t=e.documentRemove,r=Gc(n,t.document);i=new sS([],t.removedTargetIds||[],r,null)}else{if(!("filter"in e))return mt();{const t=e.filter,{count:r=0,unchangedNames:s}=t,c=new k8(r,s);i=new eH(t.targetId,c)}}var p;return i}(this.serializer,e),t=function(r){if(!("targetChange"in r))return Dt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Dt.min():s.readTime?fr(s.readTime):Dt.min()}(e);return this.listener.nu(i,t)}su(e){const i={};i.database=Ow(this.serializer),i.addTarget=function(r,s){let c;const h=s.target;if(c=QI(h)?{documents:dH(r,h)}:{query:xO(r,h)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=sH(r,s.resumeToken);const p=bO(r,s.expectedCount);null!==p&&(c.expectedCount=p)}else if(s.snapshotVersion.compareTo(Dt.min())>0){c.readTime=Ay(r,s.snapshotVersion.toTimestamp());const p=bO(r,s.expectedCount);null!==p&&(c.expectedCount=p)}return c}(this.serializer,e);const t=function j8(n,e){const i=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt()}}(e.purpose);return null==i?null:{"goog-listen-tags":i}}(0,e);t&&(i.labels=t),this.Wo(i)}iu(e){const i={};i.database=Ow(this.serializer),i.removeTarget=e,this.Wo(i)}}class M7 extends rj{constructor(e,i,t,r,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,t,r,c),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,i){return this.connection.Ro("Write",e,i)}onMessage(e){if(xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const i=function H8(n,e){return n&&n.length>0?(xt(void 0!==e),n.map(i=>function(t,r){let s=fr(t.updateTime?t.updateTime:r);return s.isEqual(Dt.min())&&(s=fr(r)),new S8(s,t.transformResults||[])}(i,e))):[]}(e.writeResults,e.commitTime),t=fr(e.commitTime);return this.listener.cu(t,i)}return xt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ow(this.serializer),this.Wo(e)}uu(e){const i={streamToken:this.lastStreamToken,writes:e.map(t=>Pw(this.serializer,t))};this.Wo(i)}}class k7 extends class{}{constructor(e,i,t,r){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=t,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Ne(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,i,t){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(e,i,t,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ne(ge.UNKNOWN,r.toString())})}vo(e,i,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.vo(e,i,t,s,c,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ne(ge.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class O7{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const i=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(hr(i),this.mu=!1):je("OnlineStateTracker",i)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class P7{constructor(e,i,t,r,s){var c=this;this.localStore=e,this.datastore=i,this.asyncQueue=t,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(h=>{t.enqueueAndForget((0,ve.Z)(function*(){var p;If(c)&&(je("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,ve.Z)(function*(y){const x=at(y);x.vu.add(4),yield Ny(x),x.bu.set("Unknown"),x.vu.delete(4),yield $w(x)}),function(y){return p.apply(this,arguments)})(c))}))}),this.bu=new O7(t,r)}}function $w(n){return YO.apply(this,arguments)}function YO(){return YO=(0,ve.Z)(function*(n){if(If(n))for(const e of n.Ru)yield e(!0)}),YO.apply(this,arguments)}function Ny(n){return KO.apply(this,arguments)}function KO(){return KO=(0,ve.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),KO.apply(this,arguments)}function CS(n,e){const i=at(n);i.Au.has(e.targetId)||(i.Au.set(e.targetId,e),JO(i)?XO(i):Ly(i).Ko()&&QO(i,e))}function Gw(n,e){const i=at(n),t=Ly(i);i.Au.delete(e),t.Ko()&&sj(i,e),0===i.Au.size&&(t.Ko()?t.jo():If(i)&&i.bu.set("Unknown"))}function QO(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Dt.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ly(n).su(e)}function sj(n,e){n.Vu.qt(e),Ly(n).iu(e)}function XO(n){n.Vu=new O8({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Ly(n).start(),n.bu.gu()}function JO(n){return If(n)&&!Ly(n).Uo()&&n.Au.size>0}function If(n){return 0===at(n).vu.size}function oj(n){n.Vu=void 0}function N7(n){return eP.apply(this,arguments)}function eP(){return eP=(0,ve.Z)(function*(n){n.Au.forEach((e,i)=>{QO(n,e)})}),eP.apply(this,arguments)}function F7(n,e){return tP.apply(this,arguments)}function tP(){return tP=(0,ve.Z)(function*(n,e){oj(n),JO(n)?(n.bu.Iu(e),XO(n)):n.bu.set("Unknown")}),tP.apply(this,arguments)}function L7(n,e,i){return nP.apply(this,arguments)}function nP(){return nP=(0,ve.Z)(function*(n,e,i){if(n.bu.set("Online"),e instanceof tH&&2===e.state&&e.cause)try{yield(t=(0,ve.Z)(function*(r,s){const c=s.cause;for(const h of s.targetIds)r.Au.has(h)&&(yield r.remoteSyncer.rejectListen(h,c),r.Au.delete(h),r.Vu.removeTarget(h))}),function(r,s){return t.apply(this,arguments)})(n,e)}catch(t){je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),t),yield ES(n,t)}else if(e instanceof sS?n.Vu.Ht(e):e instanceof eH?n.Vu.ne(e):n.Vu.Xt(e),!i.isEqual(Dt.min()))try{const t=yield ZH(n.localStore);i.compareTo(t)>=0&&(yield function(r,s){const c=r.Vu.ce(s);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=r.Au.get(p);y&&r.Au.set(p,y.withResumeToken(h.resumeToken,s))}}),c.targetMismatches.forEach((h,p)=>{const y=r.Au.get(h);if(!y)return;r.Au.set(h,y.withResumeToken(Hr.EMPTY_BYTE_STRING,y.snapshotVersion)),sj(r,h);const x=new vd(y.target,h,p,y.sequenceNumber);QO(r,x)}),r.remoteSyncer.applyRemoteEvent(c)}(n,i))}catch(t){je("RemoteStore","Failed to raise snapshot:",t),yield ES(n,t)}var t}),nP.apply(this,arguments)}function ES(n,e,i){return iP.apply(this,arguments)}function iP(){return iP=(0,ve.Z)(function*(n,e,i){if(!pf(e))throw e;n.vu.add(1),yield Ny(n),n.bu.set("Offline"),i||(i=()=>ZH(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){je("RemoteStore","Retrying IndexedDB access"),yield i(),n.vu.delete(1),yield $w(n)}))}),iP.apply(this,arguments)}function aj(n,e){return e().catch(i=>ES(n,i,e))}function Fy(n){return rP.apply(this,arguments)}function rP(){return rP=(0,ve.Z)(function*(n){const e=at(n),i=Sf(e);let t=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;B7(e);)try{const r=yield C7(e.localStore,t);if(null===r){0===e.Eu.length&&i.jo();break}t=r.batchId,V7(e,r)}catch(r){yield ES(e,r)}lj(e)&&cj(e)}),rP.apply(this,arguments)}function B7(n){return If(n)&&n.Eu.length<10}function V7(n,e){n.Eu.push(e);const i=Sf(n);i.Ko()&&i.ou&&i.uu(e.mutations)}function lj(n){return If(n)&&!Sf(n).Uo()&&n.Eu.length>0}function cj(n){Sf(n).start()}function U7(n){return sP.apply(this,arguments)}function sP(){return sP=(0,ve.Z)(function*(n){Sf(n).hu()}),sP.apply(this,arguments)}function H7(n){return oP.apply(this,arguments)}function oP(){return oP=(0,ve.Z)(function*(n){const e=Sf(n);for(const i of n.Eu)e.uu(i.mutations)}),oP.apply(this,arguments)}function j7(n,e,i){return aP.apply(this,arguments)}function aP(){return aP=(0,ve.Z)(function*(n,e,i){const t=n.Eu.shift(),r=gO.from(t,e,i);yield aj(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Fy(n)}),aP.apply(this,arguments)}function z7(n,e){return lP.apply(this,arguments)}function lP(){return lP=(0,ve.Z)(function*(n,e){var i;e&&Sf(n).ou&&(yield(i=(0,ve.Z)(function*(t,r){if(Y3(s=r.code)&&s!==ge.ABORTED){const c=t.Eu.shift();Sf(t).Qo(),yield aj(t,()=>t.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield Fy(t)}var s}),function(t,r){return i.apply(this,arguments)})(n,e)),lj(n)&&cj(n)}),lP.apply(this,arguments)}function uj(n,e){return cP.apply(this,arguments)}function cP(){return cP=(0,ve.Z)(function*(n,e){const i=at(n);i.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const t=If(i);i.vu.add(3),yield Ny(i),t&&i.bu.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(e),i.vu.delete(3),yield $w(i)}),cP.apply(this,arguments)}function uP(n,e){return dP.apply(this,arguments)}function dP(){return dP=(0,ve.Z)(function*(n,e){const i=at(n);e?(i.vu.delete(2),yield $w(i)):e||(i.vu.add(2),yield Ny(i),i.bu.set("Unknown"))}),dP.apply(this,arguments)}function Ly(n){return n.Su||(n.Su=function(e,i,t){const r=at(e);return r.fu(),new A7(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,t)}(n.datastore,n.asyncQueue,{uo:N7.bind(null,n),ao:F7.bind(null,n),nu:L7.bind(null,n)}),n.Ru.push(function(){var e=(0,ve.Z)(function*(i){i?(n.Su.Qo(),JO(n)?XO(n):n.bu.set("Unknown")):(yield n.Su.stop(),oj(n))});return function(i){return e.apply(this,arguments)}}())),n.Su}function Sf(n){return n.Du||(n.Du=function(e,i,t){const r=at(e);return r.fu(),new M7(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,t)}(n.datastore,n.asyncQueue,{uo:U7.bind(null,n),ao:z7.bind(null,n),au:H7.bind(null,n),cu:j7.bind(null,n)}),n.Ru.push(function(){var e=(0,ve.Z)(function*(i){i?(n.Du.Qo(),yield Fy(n)):(yield n.Du.stop(),n.Eu.length>0&&(je("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(i){return e.apply(this,arguments)}}())),n.Du}class hP{constructor(e,i,t,r,s){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=t,this.op=r,this.removalCallback=s,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,i,t,r,s){const c=Date.now()+t,h=new hP(e,i,c,r,s);return h.start(t),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function By(n,e){if(hr("AsyncQueue",`${e}: ${n}`),pf(n))return new Ne(ge.UNAVAILABLE,`${e}: ${n}`);throw n}class Vy{constructor(e){this.comparator=e?(i,t)=>e(i,t)||ot.comparator(i.key,t.key):(i,t)=>ot.comparator(i.key,t.key),this.keyedMap=Dw(),this.sortedSet=new pi(this.comparator)}static emptySet(e){return new Vy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,t)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Vy)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),t=e.sortedSet.getIterator();for(;i.hasNext();){const r=i.getNext().key,s=t.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,i){const t=new Vy;return t.comparator=this.comparator,t.keyedMap=e,t.sortedSet=i,t}}class dj{constructor(){this.Cu=new pi(ot.comparator)}track(e){const i=e.doc.key,t=this.Cu.get(i);t?0!==e.type&&3===t.type?this.Cu=this.Cu.insert(i,e):3===e.type&&1!==t.type?this.Cu=this.Cu.insert(i,{type:t.type,doc:e.doc}):2===e.type&&2===t.type?this.Cu=this.Cu.insert(i,{type:2,doc:e.doc}):2===e.type&&0===t.type?this.Cu=this.Cu.insert(i,{type:0,doc:e.doc}):1===e.type&&0===t.type?this.Cu=this.Cu.remove(i):1===e.type&&2===t.type?this.Cu=this.Cu.insert(i,{type:1,doc:t.doc}):0===e.type&&1===t.type?this.Cu=this.Cu.insert(i,{type:2,doc:e.doc}):mt():this.Cu=this.Cu.insert(i,e)}xu(){const e=[];return this.Cu.inorderTraversal((i,t)=>{e.push(t)}),e}}class Uy{constructor(e,i,t,r,s,c,h,p,y){this.query=e,this.docs=i,this.oldDocs=t,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,i,t,r,s){const c=[];return i.forEach(h=>{c.push({type:0,doc:h})}),new Uy(e,i,Vy.emptySet(i),c,t,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ew(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,t=e.docChanges;if(i.length!==t.length)return!1;for(let r=0;r<i.length;r++)if(i[r].type!==t[r].type||!i[r].doc.isEqual(t[r].doc))return!1;return!0}}class $7{constructor(){this.Nu=void 0,this.listeners=[]}}class G7{constructor(){this.queries=new _d(e=>M3(e),Ew),this.onlineState="Unknown",this.ku=new Set}}function fP(n,e){return pP.apply(this,arguments)}function pP(){return pP=(0,ve.Z)(function*(n,e){const i=at(n),t=e.query;let r=!1,s=i.queries.get(t);if(s||(r=!0,s=new $7),r)try{s.Nu=yield i.onListen(t)}catch(c){const h=By(c,`Initialization of query '${hO(e.query)}' failed`);return void e.onError(h)}i.queries.set(t,s),s.listeners.push(e),e.Mu(i.onlineState),s.Nu&&e.$u(s.Nu)&&_P(i)}),pP.apply(this,arguments)}function mP(n,e){return gP.apply(this,arguments)}function gP(){return gP=(0,ve.Z)(function*(n,e){const i=at(n),t=e.query;let r=!1;const s=i.queries.get(t);if(s){const c=s.listeners.indexOf(e);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return i.queries.delete(t),i.onUnlisten(t)}),gP.apply(this,arguments)}function q7(n,e){const i=at(n);let t=!1;for(const r of e){const c=i.queries.get(r.query);if(c){for(const h of c.listeners)h.$u(r)&&(t=!0);c.Nu=r}}t&&_P(i)}function W7(n,e,i){const t=at(n),r=t.queries.get(e);if(r)for(const s of r.listeners)s.onError(i);t.queries.delete(e)}function _P(n){n.ku.forEach(e=>{e.next()})}class yP{constructor(e,i,t){this.query=e,this.Ou=i,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=t||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const r of e.docChanges)3!==r.type&&t.push(r);e=new Uy(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),i=!0):this.qu(e,this.onlineState)&&(this.Uu(e),i=!0),this.Bu=e,i}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let i=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),i=!0),i}qu(e,i){return!e.fromCache||(!this.options.Ku||!("Offline"!==i))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===i)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Uy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Z7{constructor(e,i){this.Gu=e,this.byteLength=i}Qu(){return"metadata"in this.Gu}}class hj{constructor(e){this.serializer=e}rr(e){return Gc(this.serializer,e)}ur(e){return e.metadata.exists?uH(this.serializer,e.document,!1):xi.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return fr(e)}}class Y7{constructor(e,i,t){this.ju=e,this.localStore=i,this.serializer=t,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=fj(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let i=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++i;const t=Sn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(t.get(t.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}Wu(e){const i=new Map,t=new hj(this.serializer);for(const r of e)if(r.metadata.queries){const s=t.rr(r.metadata.name);for(const c of r.metadata.queries){const h=(i.get(c)||sn()).add(s);i.set(c,h)}}return i}complete(){var e=this;return(0,ve.Z)(function*(){const i=yield function E7(n,e,i,t){return UO.apply(this,arguments)}(e.localStore,new hj(e.serializer),e.documents,e.ju.id),t=e.Wu(e.documents);for(const r of e.queries)yield x7(e.localStore,r,t.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:i}})()}}function fj(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class pj{constructor(e){this.key=e}}class mj{constructor(e){this.key=e}}class gj{constructor(e,i){this.query=e,this.Yu=i,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=sn(),this.mutatedKeys=sn(),this.tc=R3(e),this.ec=new Vy(this.tc)}get nc(){return this.Yu}sc(e,i){const t=i?i.ic:new dj,r=i?i.ec:this.ec;let s=i?i.mutatedKeys:this.mutatedKeys,c=r,h=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((x,S)=>{const N=r.get(x),H=xw(this.query,S)?S:null,G=!!N&&this.mutatedKeys.has(N.key),Q=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let ee=!1;N&&H?N.data.isEqual(H.data)?G!==Q&&(t.track({type:3,doc:H}),ee=!0):this.rc(N,H)||(t.track({type:2,doc:H}),ee=!0,(p&&this.tc(H,p)>0||y&&this.tc(H,y)<0)&&(h=!0)):!N&&H?(t.track({type:0,doc:H}),ee=!0):N&&!H&&(t.track({type:1,doc:N}),ee=!0,(p||y)&&(h=!0)),ee&&(H?(c=c.add(H),s=Q?s.add(x):s.delete(x)):(c=c.delete(x),s=s.delete(x)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const x="F"===this.query.limitType?c.last():c.first();c=c.delete(x.key),s=s.delete(x.key),t.track({type:1,doc:x})}return{ec:c,ic:t,zi:h,mutatedKeys:s}}rc(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,t){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((y,x)=>function(S,N){const H=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return H(S)-H(N)}(y.type,x.type)||this.tc(y.doc,x.doc)),this.oc(t);const c=i?this.uc():[],h=0===this.Zu.size&&this.current?1:0,p=h!==this.Xu;return this.Xu=h,0!==s.length||p?{snapshot:new Uy(this.query,e.ec,r,s,e.mutatedKeys,0===h,p,!1,!!t&&t.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new dj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(i=>this.Yu=this.Yu.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Yu=this.Yu.delete(i)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=sn(),this.ec.forEach(t=>{this.ac(t.key)&&(this.Zu=this.Zu.add(t.key))});const i=[];return e.forEach(t=>{this.Zu.has(t)||i.push(new mj(t))}),this.Zu.forEach(t=>{e.has(t)||i.push(new pj(t))}),i}hc(e){this.Yu=e.ir,this.Zu=sn();const i=this.sc(e.documents);return this.applyChanges(i,!0)}lc(){return Uy.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class K7{constructor(e,i,t){this.query=e,this.targetId=i,this.view=t}}class Q7{constructor(e){this.key=e,this.fc=!1}}class X7{constructor(e,i,t,r,s,c){this.localStore=e,this.remoteStore=i,this.eventManager=t,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new _d(h=>M3(h),Ew),this._c=new Map,this.mc=new Set,this.gc=new pi(ot.comparator),this.yc=new Map,this.Ic=new RO,this.Tc={},this.Ec=new Map,this.Ac=Lm.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function J7(n,e){return vP.apply(this,arguments)}function vP(){return vP=(0,ve.Z)(function*(n,e){const i=jP(n);let t,r;const s=i.wc.get(e);if(s)t=s.targetId,i.sharedClientState.addLocalQueryTarget(t),r=s.view.lc();else{const c=yield Oy(i.localStore,go(e)),h=i.sharedClientState.addLocalQueryTarget(c.targetId);t=c.targetId,r=yield bP(i,e,t,"current"===h,c.resumeToken),i.isPrimaryClient&&CS(i.remoteStore,c)}return r}),vP.apply(this,arguments)}function bP(n,e,i,t,r){return wP.apply(this,arguments)}function wP(){return wP=(0,ve.Z)(function*(n,e,i,t,r){n.Rc=(S,N,H)=>{return(G=(0,ve.Z)(function*(Q,ee,ke,Ge){let ze=ee.view.sc(ke);ze.zi&&(ze=yield _S(Q.localStore,ee.query,!1).then(({documents:kt})=>ee.view.sc(kt,ze)));const Ye=Ge&&Ge.targetChanges.get(ee.targetId),It=ee.view.applyChanges(ze,Q.isPrimaryClient,Ye);return kP(Q,ee.targetId,It.cc),It.snapshot}),function(Q,ee,ke,Ge){return G.apply(this,arguments)})(n,S,N,H);var G};const s=yield _S(n.localStore,e,!0),c=new gj(e,s.ir),h=c.sc(s.documents),p=kw.createSynthesizedTargetChangeForCurrentChange(i,t&&"Offline"!==n.onlineState,r),y=c.applyChanges(h,n.isPrimaryClient,p);kP(n,i,y.cc);const x=new K7(e,i,c);return n.wc.set(e,x),n._c.has(i)?n._c.get(i).push(e):n._c.set(i,[e]),y.snapshot}),wP.apply(this,arguments)}function e9(n,e){return CP.apply(this,arguments)}function CP(){return CP=(0,ve.Z)(function*(n,e){const i=at(n),t=i.wc.get(e),r=i._c.get(t.targetId);if(r.length>1)return i._c.set(t.targetId,r.filter(s=>!Ew(s,e))),void i.wc.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(t.targetId),i.sharedClientState.isActiveQueryTarget(t.targetId)||(yield Py(i.localStore,t.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(t.targetId),Gw(i.remoteStore,t.targetId),Hy(i,t.targetId)}).catch(ff))):(Hy(i,t.targetId),yield Py(i.localStore,t.targetId,!0))}),CP.apply(this,arguments)}function EP(){return EP=(0,ve.Z)(function*(n,e,i){const t=zP(n);try{const r=yield function(s,c){const h=at(s),p=Ai.now(),y=c.reduce((N,H)=>N.add(H.key),sn());let x,S;return h.persistence.runTransaction("Locally write mutations","readwrite",N=>{let H=$o(),G=sn();return h.Zi.getEntries(N,y).next(Q=>{H=Q,H.forEach((ee,ke)=>{ke.isValidDocument()||(G=G.add(ee))})}).next(()=>h.localDocuments.getOverlayedDocuments(N,H)).next(Q=>{x=Q;const ee=[];for(const ke of c){const Ge=A8(ke,x.get(ke.key).overlayedDocument);null!=Ge&&ee.push(new yd(ke.key,Ge,g3(Ge.value.mapValue),Mi.exists(!0)))}return h.mutationQueue.addMutationBatch(N,p,ee,c)}).next(Q=>{S=Q;const ee=Q.applyToLocalDocumentSet(x,G);return h.documentOverlayCache.saveOverlays(N,Q.batchId,ee)})}).then(()=>({batchId:S.batchId,changes:P3(x)}))}(t.localStore,e);t.sharedClientState.addPendingMutation(r.batchId),function(s,c,h){let p=s.Tc[s.currentUser.toKey()];p||(p=new pi(Zt)),p=p.insert(c,h),s.Tc[s.currentUser.toKey()]=p}(t,r.batchId,i),yield bd(t,r.changes),yield Fy(t.remoteStore)}catch(r){const s=By(r,"Failed to persist write");i.reject(s)}}),EP.apply(this,arguments)}function _j(n,e){return xP.apply(this,arguments)}function xP(){return xP=(0,ve.Z)(function*(n,e){const i=at(n);try{const t=yield function w7(n,e){const i=at(n),t=e.snapshotVersion;let r=i.Ji;return i.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=i.Zi.newChangeBuffer({trackRemovals:!0});r=i.Ji;const h=[];e.targetChanges.forEach((x,S)=>{const N=r.get(S);if(!N)return;h.push(i.Bs.removeMatchingKeys(s,x.removedDocuments,S).next(()=>i.Bs.addMatchingKeys(s,x.addedDocuments,S)));let H=N.withSequenceNumber(s.currentSequenceNumber);var G,Q,ee;null!==e.targetMismatches.get(S)?H=H.withResumeToken(Hr.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):x.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(x.resumeToken,t)),r=r.insert(S,H),Q=H,ee=x,(0===(G=N).resumeToken.approximateByteSize()||Q.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=3e8||ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0)&&h.push(i.Bs.updateTargetData(s,H))});let p=$o(),y=sn();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&h.push(i.persistence.referenceDelegate.updateLimboDocument(s,x))}),h.push(YH(s,c,e.documentUpdates).next(x=>{p=x.nr,y=x.sr})),!t.isEqual(Dt.min())){const x=i.Bs.getLastRemoteSnapshotVersion(s).next(S=>i.Bs.setTargetsMetadata(s,s.currentSequenceNumber,t));h.push(x)}return ce.waitFor(h).next(()=>c.apply(s)).next(()=>i.localDocuments.getLocalViewOfDocuments(s,p,y)).next(()=>p)}).then(s=>(i.Ji=r,s))}(i.localStore,e);e.targetChanges.forEach((r,s)=>{const c=i.yc.get(s);c&&(xt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.fc=!0:r.modifiedDocuments.size>0?xt(c.fc):r.removedDocuments.size>0&&(xt(c.fc),c.fc=!1))}),yield bd(i,t,e)}catch(t){yield ff(t)}}),xP.apply(this,arguments)}function yj(n,e,i){const t=at(n);if(t.isPrimaryClient&&0===i||!t.isPrimaryClient&&1===i){const r=[];t.wc.forEach((s,c)=>{const h=c.view.Mu(e);h.snapshot&&r.push(h.snapshot)}),function(s,c){const h=at(s);h.onlineState=c;let p=!1;h.queries.forEach((y,x)=>{for(const S of x.listeners)S.Mu(c)&&(p=!0)}),p&&_P(h)}(t.eventManager,e),r.length&&t.dc.nu(r),t.onlineState=e,t.isPrimaryClient&&t.sharedClientState.setOnlineState(e)}}function n9(n,e,i){return DP.apply(this,arguments)}function DP(){return DP=(0,ve.Z)(function*(n,e,i){const t=at(n);t.sharedClientState.updateQueryState(e,"rejected",i);const r=t.yc.get(e),s=r&&r.key;if(s){let c=new pi(ot.comparator);c=c.insert(s,xi.newNoDocument(s,Dt.min()));const h=sn().add(s),p=new Mw(Dt.min(),new Map,new pi(Zt),c,h);yield _j(t,p),t.gc=t.gc.remove(s),t.yc.delete(e),RP(t)}else yield Py(t.localStore,e,!1).then(()=>Hy(t,e,i)).catch(ff)}),DP.apply(this,arguments)}function i9(n,e){return IP.apply(this,arguments)}function IP(){return IP=(0,ve.Z)(function*(n,e){const i=at(n),t=e.batch.batchId;try{const r=yield function b7(n,e){const i=at(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",t=>{const r=e.batch.keys(),s=i.Zi.newChangeBuffer({trackRemovals:!0});return function(c,h,p,y){const x=p.batch,S=x.keys();let N=ce.resolve();return S.forEach(H=>{N=N.next(()=>y.getEntry(h,H)).next(G=>{const Q=p.docVersions.get(H);xt(null!==Q),G.version.compareTo(Q)<0&&(x.applyToRemoteDocument(G,p),G.isValidDocument()&&(G.setReadTime(p.commitVersion),y.addEntry(G)))})}),N.next(()=>c.mutationQueue.removeMutationBatch(h,x))}(i,t,e,s).next(()=>s.apply(t)).next(()=>i.mutationQueue.performConsistencyCheck(t)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(t,r,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(c){let h=sn();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>i.localDocuments.getDocuments(t,r))})}(i.localStore,e);MP(i,t,null),AP(i,t),i.sharedClientState.updateMutationState(t,"acknowledged"),yield bd(i,r)}catch(r){yield ff(r)}}),IP.apply(this,arguments)}function r9(n,e,i){return SP.apply(this,arguments)}function SP(){return SP=(0,ve.Z)(function*(n,e,i){const t=at(n);try{const r=yield function(s,c){const h=at(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.mutationQueue.lookupMutationBatch(p,c).next(x=>(xt(null!==x),y=x.keys(),h.mutationQueue.removeMutationBatch(p,x))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,y,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>h.localDocuments.getDocuments(p,y))})}(t.localStore,e);MP(t,e,i),AP(t,e),t.sharedClientState.updateMutationState(e,"rejected",i),yield bd(t,r)}catch(r){yield ff(r)}}),SP.apply(this,arguments)}function TP(){return TP=(0,ve.Z)(function*(n,e){const i=at(n);If(i.remoteStore)||je("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const t=yield function(s){const c=at(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.mutationQueue.getHighestUnacknowledgedBatchId(h))}(i.localStore);if(-1===t)return void e.resolve();const r=i.Ec.get(t)||[];r.push(e),i.Ec.set(t,r)}catch(t){const r=By(t,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),TP.apply(this,arguments)}function AP(n,e){(n.Ec.get(e)||[]).forEach(i=>{i.resolve()}),n.Ec.delete(e)}function MP(n,e,i){const t=at(n);let r=t.Tc[t.currentUser.toKey()];if(r){const s=r.get(e);s&&(i?s.reject(i):s.resolve(),r=r.remove(e)),t.Tc[t.currentUser.toKey()]=r}}function Hy(n,e,i=null){n.sharedClientState.removeLocalQueryTarget(e);for(const t of n._c.get(e))n.wc.delete(t),i&&n.dc.Pc(t,i);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(t=>{n.Ic.containsKey(t)||vj(n,t)})}function vj(n,e){n.mc.delete(e.path.canonicalString());const i=n.gc.get(e);null!==i&&(Gw(n.remoteStore,i),n.gc=n.gc.remove(e),n.yc.delete(i),RP(n))}function kP(n,e,i){for(const t of i)t instanceof pj?(n.Ic.addReference(t.key,e),o9(n,t)):t instanceof mj?(je("SyncEngine","Document no longer in limbo: "+t.key),n.Ic.removeReference(t.key,e),n.Ic.containsKey(t.key)||vj(n,t.key)):mt()}function o9(n,e){const i=e.key,t=i.path.canonicalString();n.gc.get(i)||n.mc.has(t)||(je("SyncEngine","New document in limbo: "+i),n.mc.add(t),RP(n))}function RP(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const i=new ot(Sn.fromString(e)),t=n.Ac.next();n.yc.set(t,new Q7(i)),n.gc=n.gc.insert(i,t),CS(n.remoteStore,new vd(go(xy(i.path)),t,"TargetPurposeLimboResolution",Ca.ct))}}function bd(n,e,i){return OP.apply(this,arguments)}function OP(){return OP=(0,ve.Z)(function*(n,e,i){const t=at(n),r=[],s=[],c=[];var h;t.wc.isEmpty()||(t.wc.forEach((h,p)=>{c.push(t.Rc(p,e,i).then(y=>{if((y||i)&&t.isPrimaryClient&&t.sharedClientState.updateQueryState(p.targetId,y?.fromCache?"not-current":"current"),y){r.push(y);const x=LO.Li(p.targetId,y);s.push(x)}}))}),yield Promise.all(c),t.dc.nu(r),yield(h=(0,ve.Z)(function*(p,y){const x=at(p);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ce.forEach(y,N=>ce.forEach(N.Fi,H=>x.persistence.referenceDelegate.addReference(S,N.targetId,H)).next(()=>ce.forEach(N.Bi,H=>x.persistence.referenceDelegate.removeReference(S,N.targetId,H)))))}catch(S){if(!pf(S))throw S;je("LocalStore","Failed to update sequence numbers: "+S)}for(const S of y){const N=S.targetId;if(!S.fromCache){const H=x.Ji.get(N),Q=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);x.Ji=x.Ji.insert(N,Q)}}}),function(p,y){return h.apply(this,arguments)})(t.localStore,s))}),OP.apply(this,arguments)}function a9(n,e){return PP.apply(this,arguments)}function PP(){return PP=(0,ve.Z)(function*(n,e){const i=at(n);if(!i.currentUser.isEqual(e)){je("SyncEngine","User change. New user:",e.toKey());const t=yield WH(i.localStore,e);i.currentUser=e,(r=i).Ec.forEach(c=>{c.forEach(h=>{h.reject(new Ne(ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),i.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),yield bd(i,t.er)}var r}),PP.apply(this,arguments)}function l9(n,e){const i=at(n),t=i.yc.get(e);if(t&&t.fc)return sn().add(t.key);{let r=sn();const s=i._c.get(e);if(!s)return r;for(const c of s){const h=i.wc.get(c);r=r.unionWith(h.view.nc)}return r}}function c9(n,e){return NP.apply(this,arguments)}function NP(){return NP=(0,ve.Z)(function*(n,e){const i=at(n),t=yield _S(i.localStore,e.query,!0),r=e.view.hc(t);return i.isPrimaryClient&&kP(i,e.targetId,r.cc),r}),NP.apply(this,arguments)}function u9(n,e){return FP.apply(this,arguments)}function FP(){return FP=(0,ve.Z)(function*(n,e){const i=at(n);return QH(i.localStore,e).then(t=>bd(i,t))}),FP.apply(this,arguments)}function d9(n,e,i,t){return LP.apply(this,arguments)}function LP(){return LP=(0,ve.Z)(function*(n,e,i,t){const r=at(n),s=yield function(c,h){const p=at(c),y=at(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",x=>y.Sn(x,h).next(S=>S?p.localDocuments.getDocuments(x,S):ce.resolve(null)))}(r.localStore,e);var h;null!==s?("pending"===i?yield Fy(r.remoteStore):"acknowledged"===i||"rejected"===i?(MP(r,e,t||null),AP(r,e),h=e,at(at(r.localStore).mutationQueue).Cn(h)):mt(),yield bd(r,s)):je("SyncEngine","Cannot apply mutation batch with id: "+e)}),LP.apply(this,arguments)}function BP(){return BP=(0,ve.Z)(function*(n,e){const i=at(n);if(jP(i),zP(i),!0===e&&!0!==i.vc){const t=i.sharedClientState.getAllActiveQueryTargets(),r=yield bj(i,t.toArray());i.vc=!0,yield uP(i.remoteStore,!0);for(const s of r)CS(i.remoteStore,s)}else if(!1===e&&!1!==i.vc){const t=[];let r=Promise.resolve();i._c.forEach((s,c)=>{i.sharedClientState.isLocalQueryTarget(c)?t.push(c):r=r.then(()=>(Hy(i,c),Py(i.localStore,c,!0))),Gw(i.remoteStore,c)}),yield r,yield bj(i,t),function(s){const c=at(s);c.yc.forEach((h,p)=>{Gw(c.remoteStore,p)}),c.Ic.Ts(),c.yc=new Map,c.gc=new pi(ot.comparator)}(i),i.vc=!1,yield uP(i.remoteStore,!1)}}),BP.apply(this,arguments)}function bj(n,e,i){return VP.apply(this,arguments)}function VP(){return VP=(0,ve.Z)(function*(n,e,i){const t=at(n),r=[],s=[];for(const c of e){let h;const p=t._c.get(c);if(p&&0!==p.length){h=yield Oy(t.localStore,go(p[0]));for(const y of p){const x=t.wc.get(y),S=yield c9(t,x);S.snapshot&&s.push(S.snapshot)}}else{const y=yield KH(t.localStore,c);h=yield Oy(t.localStore,y),yield bP(t,wj(y),c,!1,h.resumeToken)}r.push(h)}return t.dc.nu(s),r}),VP.apply(this,arguments)}function wj(n){return T3(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function f9(n){const e=at(n);return at(at(e.localStore).persistence).$i()}function p9(n,e,i,t){return UP.apply(this,arguments)}function UP(){return UP=(0,ve.Z)(function*(n,e,i,t){const r=at(n);if(r.vc)return void je("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(e);if(s&&s.length>0)switch(i){case"current":case"not-current":{const c=yield QH(r.localStore,k3(s[0])),h=Mw.createSynthesizedRemoteEventForCurrentChange(e,"current"===i,Hr.EMPTY_BYTE_STRING);yield bd(r,c,h);break}case"rejected":yield Py(r.localStore,e,!0),Hy(r,e,t);break;default:mt()}}),UP.apply(this,arguments)}function m9(n,e,i){return HP.apply(this,arguments)}function HP(){return HP=(0,ve.Z)(function*(n,e,i){const t=jP(n);if(t.vc){for(const r of e){if(t._c.has(r)){je("SyncEngine","Adding an already active target "+r);continue}const s=yield KH(t.localStore,r),c=yield Oy(t.localStore,s);yield bP(t,wj(s),c.targetId,!1,c.resumeToken),CS(t.remoteStore,c)}for(const r of i)t._c.has(r)&&(yield Py(t.localStore,r,!1).then(()=>{Gw(t.remoteStore,r),Hy(t,r)}).catch(ff))}}),HP.apply(this,arguments)}function jP(n){const e=at(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=_j.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n9.bind(null,e),e.dc.nu=q7.bind(null,e.eventManager),e.dc.Pc=W7.bind(null,e.eventManager),e}function zP(n){const e=at(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=i9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r9.bind(null,e),e}class qw{constructor(){this.synchronizeTabs=!1}initialize(e){var i=this;return(0,ve.Z)(function*(){i.serializer=zw(e.databaseInfo.databaseId),i.sharedClientState=i.createSharedClientState(e),i.persistence=i.createPersistence(e),yield i.persistence.start(),i.localStore=i.createLocalStore(e),i.gcScheduler=i.createGarbageCollectionScheduler(e,i.localStore),i.indexBackfillerScheduler=i.createIndexBackfillerScheduler(e,i.localStore)})()}createGarbageCollectionScheduler(e,i){return null}createIndexBackfillerScheduler(e,i){return null}createLocalStore(e){return qH(this.persistence,new GH,e.initialUser,this.serializer)}createPersistence(e){return new OO(pS.zs,this.serializer)}createSharedClientState(e){return new tj}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class $P extends qw{constructor(e,i,t){super(),this.Vc=e,this.cacheSizeBytes=i,this.forceOwnership=t,this.synchronizeTabs=!1}initialize(e){var i=()=>super.initialize,t=this;return(0,ve.Z)(function*(){yield i().call(t,e),yield t.Vc.initialize(t,e),yield zP(t.Vc.syncEngine),yield Fy(t.Vc.remoteStore),yield t.persistence.Ii(()=>(t.gcScheduler&&!t.gcScheduler.started&&t.gcScheduler.start(),t.indexBackfillerScheduler&&!t.indexBackfillerScheduler.started&&t.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return qH(this.persistence,new GH,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,i){return new FH(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,i)}createIndexBackfillerScheduler(e,i){const t=new Uq(i,this.persistence);return new Vq(e.asyncQueue,t)}createPersistence(e){const i=FO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),t=void 0!==this.cacheSizeBytes?js.withCacheSize(this.cacheSizeBytes):js.DEFAULT;return new NO(this.synchronizeTabs,i,e.clientId,t,e.asyncQueue,ij(),wS(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new tj}}class Cj extends $P{constructor(e,i){super(e,i,!1),this.Vc=e,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(e){var i=()=>super.initialize,t=this;return(0,ve.Z)(function*(){yield i().call(t,e);const r=t.Vc.syncEngine;t.sharedClientState instanceof GO&&(t.sharedClientState.syncEngine={jr:d9.bind(null,r),zr:p9.bind(null,r),Wr:m9.bind(null,r),$i:f9.bind(null,r),Qr:u9.bind(null,r)},yield t.sharedClientState.start()),yield t.persistence.Ii(function(){var s=(0,ve.Z)(function*(c){yield function h9(n,e){return BP.apply(this,arguments)}(t.Vc.syncEngine,c),t.gcScheduler&&(c&&!t.gcScheduler.started?t.gcScheduler.start():c||t.gcScheduler.stop()),t.indexBackfillerScheduler&&(c&&!t.indexBackfillerScheduler.started?t.indexBackfillerScheduler.start():c||t.indexBackfillerScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const i=ij();if(!GO.D(i))throw new Ne(ge.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const t=FO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new GO(i,e.asyncQueue,t,e.clientId,e.initialUser)}}class jy{initialize(e,i){var t=this;return(0,ve.Z)(function*(){t.localStore||(t.localStore=e.localStore,t.sharedClientState=e.sharedClientState,t.datastore=t.createDatastore(i),t.remoteStore=t.createRemoteStore(i),t.eventManager=t.createEventManager(i),t.syncEngine=t.createSyncEngine(i,!e.synchronizeTabs),t.sharedClientState.onlineStateHandler=r=>yj(t.syncEngine,r,1),t.remoteStore.remoteSyncer.handleCredentialChange=a9.bind(null,t.syncEngine),yield uP(t.remoteStore,t.syncEngine.isPrimaryClient))})()}createEventManager(e){return new G7}createDatastore(e){const i=zw(e.databaseInfo.databaseId),t=new T7(e.databaseInfo);return new k7(e.authCredentials,e.appCheckCredentials,t,i)}createRemoteStore(e){return i=this.localStore,t=this.datastore,r=e.asyncQueue,s=h=>yj(this.syncEngine,h,0),c=nj.D()?new nj:new D7,new P7(i,t,r,s,c);var i,t,r,s,c}createSyncEngine(e,i){return function(t,r,s,c,h,p,y){const x=new X7(t,r,s,c,h,p);return y&&(x.vc=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){return(e=(0,ve.Z)(function*(i){const t=at(i);je("RemoteStore","RemoteStore shutting down."),t.vu.add(5),yield Ny(t),t.Pu.shutdown(),t.bu.set("Unknown")}),function(i){return e.apply(this,arguments)})(this.remoteStore);var e}}function Ej(n,e=10240){let i=0;return{read:()=>(0,ve.Z)(function*(){if(i<n.byteLength){const t={value:n.slice(i,i+e),done:!1};return i+=e,t}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class xS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,i){this.muted||setTimeout(()=>{this.muted||e(i)},0)}}class y9{constructor(e,i){this.Cc=e,this.serializer=i,this.metadata=new Ur,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(t=>{t&&t.Qu()?this.metadata.resolve(t.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(t?.Gu)}`))},t=>this.metadata.reject(t))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,ve.Z)(function*(){const i=yield e.kc();if(null===i)return null;const t=e.xc.decode(i),r=Number(t);isNaN(r)&&e.Mc(`length string (${t}) is not valid number`);const s=yield e.$c(r);return new Z7(JSON.parse(s),i.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,ve.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const i=e.Oc();i<0&&e.Mc("Reached the end of bundle when a length string is expected.");const t=e.buffer.slice(0,i);return e.buffer=e.buffer.slice(i),t})()}$c(e){var i=this;return(0,ve.Z)(function*(){for(;i.buffer.length<e;)(yield i.Fc())&&i.Mc("Reached the end of bundle when more is expected.");const t=i.xc.decode(i.buffer.slice(0,e));return i.buffer=i.buffer.slice(e),t})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,ve.Z)(function*(){const i=yield e.Cc.read();if(!i.done){const t=new Uint8Array(e.buffer.length+i.value.length);t.set(e.buffer),t.set(i.value,e.buffer.length),e.buffer=t}return i.done})()}}class v9{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var i=this;return(0,ve.Z)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw new Ne(ge.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=yield(r=(0,ve.Z)(function*(s,c){const h=at(s),p=Ow(h.serializer)+"/documents",y={documents:c.map(H=>Rw(h.serializer,H))},x=yield h.vo("BatchGetDocuments",p,y,c.length),S=new Map;x.forEach(H=>{const G=function V8(n,e){return"found"in e?function(i,t){xt(!!t.found);const r=Gc(i,t.found.name),s=fr(t.found.updateTime),c=t.found.createTime?fr(t.found.createTime):Dt.min(),h=new Cs({mapValue:{fields:t.found.fields}});return xi.newFoundDocument(r,s,c,h)}(n,e):"missing"in e?function(i,t){xt(!!t.missing),xt(!!t.readTime);const r=Gc(i,t.missing),s=fr(t.readTime);return xi.newNoDocument(r,s)}(n,e):mt()}(h.serializer,H);S.set(G.key.toString(),G)});const N=[];return c.forEach(H=>{const G=S.get(H.toString());xt(!!G),N.push(G)}),N}),function(s,c){return r.apply(this,arguments)})(i.datastore,e);var r;return t.forEach(r=>i.recordVersion(r)),t})()}set(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ty(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const i=e.readVersions;var t;e.mutations.forEach(t=>{i.delete(t.key.toString())}),i.forEach((t,r)=>{const s=ot.fromPath(r);e.mutations.push(new pO(s,e.precondition(s)))}),yield(t=(0,ve.Z)(function*(r,s){const c=at(r),h=Ow(c.serializer)+"/documents",p={writes:s.map(y=>Pw(c.serializer,y))};yield c.Io("Commit",h,p)}),function(r,s){return t.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw mt();i=Dt.min()}const t=this.readVersions.get(e.key.toString());if(t){if(!i.isEqual(t))throw new Ne(ge.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)}precondition(e){const i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?i.isEqual(Dt.min())?Mi.exists(!1):Mi.updateTime(i):Mi.none()}preconditionForUpdate(e){const i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(Dt.min()))throw new Ne(ge.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mi.updateTime(i)}return Mi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class b9{constructor(e,i,t,r,s){this.asyncQueue=e,this.datastore=i,this.options=t,this.updateFunction=r,this.deferred=s,this.Bc=t.maxAttempts,this.qo=new WO(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,ve.Z)(function*(){const i=new v9(e.datastore),t=e.qc(i);t&&t.then(r=>{e.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Uc(s)}))}).catch(r=>{e.Uc(r)})}))}qc(e){try{const i=this.updateFunction(e);return!gw(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const i=e.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!Y3(i)}return!1}}class w9{constructor(e,i,t,r){var s=this;this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=t,this.databaseInfo=r,this.user=Kr.UNAUTHENTICATED,this.clientId=GU.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(t,function(){var c=(0,ve.Z)(function*(h){je("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(t,c=>(je("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const i=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),i.resolve()}catch(t){const r=By(t,"Failed to shutdown persistence");i.reject(r)}})),i.promise}}function DS(n,e){return GP.apply(this,arguments)}function GP(){return GP=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(i);let t=i.initialUser;n.setCredentialChangeListener(function(){var r=(0,ve.Z)(function*(s){t.isEqual(s)||(yield WH(e.localStore,s),t=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),GP.apply(this,arguments)}function qP(n,e){return WP.apply(this,arguments)}function WP(){return WP=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const i=yield ZP(n);je("FirestoreClient","Initializing OnlineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(i,t),n.setCredentialChangeListener(r=>uj(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>uj(e.remoteStore,s)),n._onlineComponents=e}),WP.apply(this,arguments)}function xj(n){return"FirebaseError"===n.name?n.code===ge.FAILED_PRECONDITION||n.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function ZP(n){return YP.apply(this,arguments)}function YP(){return YP=(0,ve.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){je("FirestoreClient","Using user provided OfflineComponentProvider");try{yield DS(n,n._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!xj(i))throw i;tl("Error using user provided cache. Falling back to memory cache: "+i),yield DS(n,new qw)}}else je("FirestoreClient","Using default OfflineComponentProvider"),yield DS(n,new qw);return n._offlineComponents}),YP.apply(this,arguments)}function IS(n){return KP.apply(this,arguments)}function KP(){return KP=(0,ve.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(je("FirestoreClient","Using user provided OnlineComponentProvider"),yield qP(n,n._uninitializedComponentsProvider._online)):(je("FirestoreClient","Using default OnlineComponentProvider"),yield qP(n,new jy))),n._onlineComponents}),KP.apply(this,arguments)}function Dj(n){return ZP(n).then(e=>e.persistence)}function SS(n){return ZP(n).then(e=>e.localStore)}function Ij(n){return IS(n).then(e=>e.remoteStore)}function QP(n){return IS(n).then(e=>e.syncEngine)}function zy(n){return XP.apply(this,arguments)}function XP(){return XP=(0,ve.Z)(function*(n){const e=yield IS(n),i=e.eventManager;return i.onListen=J7.bind(null,e.syncEngine),i.onUnlisten=e9.bind(null,e.syncEngine),i}),XP.apply(this,arguments)}function Tj(n,e,i={}){const t=new Ur;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,s,c,h,p){const y=new xS({next:S=>{s.enqueueAndForget(()=>mP(r,x));const N=S.docs.has(c);!N&&S.fromCache?p.reject(new Ne(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&S.fromCache&&h&&"server"===h.source?p.reject(new Ne(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),x=new yP(xy(c.path),y,{includeMetadataChanges:!0,Ku:!0});return fP(r,x)}(yield zy(n),n.asyncQueue,e,i,t)})),t.promise}function Aj(n,e,i={}){const t=new Ur;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,s,c,h,p){const y=new xS({next:S=>{s.enqueueAndForget(()=>mP(r,x)),S.fromCache&&"server"===h.source?p.reject(new Ne(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),x=new yP(c,y,{includeMetadataChanges:!0,Ku:!0});return fP(r,x)}(yield zy(n),n.asyncQueue,e,i,t)})),t.promise}function Mj(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const kj=new Map;function JP(n,e,i){if(!i)throw new Ne(ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Rj(n,e,i,t){if(!0===e&&!0===t)throw new Ne(ge.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function Oj(n){if(!ot.isDocumentKey(n))throw new Ne(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Pj(n){if(ot.isDocumentKey(n))throw new Ne(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function TS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(i=n).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof n?"a function":mt()}function bn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=TS(n);throw new Ne(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return n}function Nj(n,e){if(e<=0)throw new Ne(ge.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Fj{constructor(e){var i,t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ne(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(i=e.ssl)||void 0===i||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ne(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Rj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Mj(null!==(t=e.experimentalLongPollingOptions)&&void 0!==t?t:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Ne(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ne(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ne(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ww{constructor(e,i,t,r){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=t,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ne(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ne(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fj(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new Sq;switch(i.type){case"firstParty":return new kq(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ne(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=kj.get(e);i&&(je("ComponentProvider","Removing Datastore"),kj.delete(e),i.terminate())}(this),Promise.resolve()}}class Di{constructor(e,i,t){this.converter=i,this._key=t,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Di(this.firestore,e,this._key)}}class Es{constructor(e,i,t){this.converter=i,this._query=t,this.type="query",this.firestore=e}withConverter(e){return new Es(this.firestore,e,this._query)}}class qc extends Es{constructor(e,i,t){super(e,i,xy(t)),this._path=t,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Di(this.firestore,null,new ot(e))}withConverter(e){return new qc(this.firestore,e,this._path)}}function Bj(n,e,...i){if(n=(0,an.m9)(n),JP("collection","path",e),n instanceof Ww){const t=Sn.fromString(e,...i);return Pj(t),new qc(n,null,t)}{if(!(n instanceof Di||n instanceof qc))throw new Ne(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const t=n._path.child(Sn.fromString(e,...i));return Pj(t),new qc(n.firestore,null,t)}}function AS(n,e,...i){if(n=(0,an.m9)(n),1===arguments.length&&(e=GU.A()),JP("doc","path",e),n instanceof Ww){const t=Sn.fromString(e,...i);return Oj(t),new Di(n,null,new ot(t))}{if(!(n instanceof Di||n instanceof qc))throw new Ne(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const t=n._path.child(Sn.fromString(e,...i));return Oj(t),new Di(n.firestore,n instanceof qc?n.converter:null,new ot(t))}}function Vj(n,e){return n=(0,an.m9)(n),e=(0,an.m9)(e),(n instanceof Di||n instanceof qc)&&(e instanceof Di||e instanceof qc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function eN(n,e){return n=(0,an.m9)(n),e=(0,an.m9)(e),n instanceof Es&&e instanceof Es&&n.firestore===e.firestore&&Ew(n._query,e._query)&&n.converter===e.converter}class k9{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new WO(this,"async_queue_retry"),this.Xc=()=>{const i=wS();i&&je("AsyncQueue","Visibility state changed to "+i.visibilityState),this.qo.Mo()};const e=wS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const i=wS();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const i=new Ur;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ve.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(i){if(!pf(i))throw i;je("AsyncQueue","Operation failed with retryable error: "+i)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const i=this.Gc.then(()=>(this.Hc=!0,e().catch(t=>{throw this.Wc=t,this.Hc=!1,hr("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(t)),t}).then(t=>(this.Hc=!1,t))));return this.Gc=i,i}enqueueAfterDelay(e,i,t){this.Zc(),this.Yc.indexOf(e)>-1&&(i=0);const r=hP.createAndSchedule(this,e,i,t,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&mt()}verifyOperationInProgress(){}sa(){var e=this;return(0,ve.Z)(function*(){let i;do{i=e.Gc,yield i}while(i!==e.Gc)})()}ia(e){for(const i of this.zc)if(i.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((i,t)=>i.targetTimeMs-t.targetTimeMs);for(const i of this.zc)if(i.skipDelay(),"all"!==e&&i.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const i=this.zc.indexOf(e);this.zc.splice(i,1)}}function tN(n){return function(e,i){if("object"!=typeof e||null===e)return!1;const t=e;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class R9{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ur,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,i,t){this._progressObserver={next:e,error:i,complete:t}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,i){return this._taskCompletionResolver.promise.then(e,i)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ii extends Ww{constructor(e,i,t,r){super(e,i,t,r),this.type="firestore",this._queue=new k9,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Uj(this),this._firestoreClient.terminate()}}function pr(n){return n._firestoreClient||Uj(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Uj(n){var e,i,t;const r=n._freezeSettings(),s=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new l8(n._databaseId,h,n._persistenceKey,(y=r).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Mj(y.experimentalLongPollingOptions),y.useFetchStreams));var h,y;n._firestoreClient=new w9(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(i=r.cache)&&void 0!==i&&i._offlineComponentProvider&&null!==(t=r.cache)&&void 0!==t&&t._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function Hj(n,e,i){const t=new Ur;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield DS(n,i),yield qP(n,e),t.resolve()}catch(r){const s=r;if(!xj(s))throw s;tl("Error enabling indexeddb cache. Falling back to memory cache: "+s),t.reject(s)}})).then(()=>t.promise)}function jj(n){if(n._initialized||n._terminated)throw new Ne(ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Wc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wc(Hr.fromBase64String(e))}catch(i){throw new Ne(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Wc(Hr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class wd{constructor(...e){for(let i=0;i<e.length;++i)if(0===e[i].length)throw new Ne(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vm{constructor(e){this._methodName=e}}class MS{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new Ne(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new Ne(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}const z9=/^__.*__$/;class $9{constructor(e,i,t){this.data=e,this.fieldMask=i,this.fieldTransforms=t}toMutation(e,i){return null!==this.fieldMask?new yd(e,this.data,this.fieldMask,i,this.fieldTransforms):new Sy(e,this.data,i,this.fieldTransforms)}}class zj{constructor(e,i,t){this.data=e,this.fieldMask=i,this.fieldTransforms=t}toMutation(e,i){return new yd(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function $j(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class kS{constructor(e,i,t,r,s,c){this.settings=e,this.databaseId=i,this.serializer=t,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new kS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var i;const t=null===(i=this.path)||void 0===i?void 0:i.child(e),r=this.aa({path:t,la:!1});return r.fa(e),r}da(e){var i;const t=null===(i=this.path)||void 0===i?void 0:i.child(e),r=this.aa({path:t,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return PS(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(i=>e.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>e.isPrefixOf(i.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if($j(this.ca)&&z9.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class G9{constructor(e,i,t){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=t||zw(e)}ya(e,i,t,r=!1){return new kS({ca:e,methodName:i,ga:t,path:tr.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Um(n){const e=n._freezeSettings(),i=zw(n._databaseId);return new G9(n._databaseId,!!e.ignoreUndefinedProperties,i)}function RS(n,e,i,t,r,s={}){const c=n.ya(s.merge||s.mergeFields?2:0,e,i,r);sN("Data must be an object, but it was:",c,t);const h=Wj(t,c);let p,y;if(s.merge)p=new zo(c.fieldMask),y=c.fieldTransforms;else if(s.mergeFields){const x=[];for(const S of s.mergeFields){const N=Kw(e,S,i);if(!c.contains(N))throw new Ne(ge.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);Yj(x,N)||x.push(N)}p=new zo(x),y=c.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=c.fieldTransforms;return new $9(new Cs(h),p,y)}class Yw extends Vm{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yw}}function Gj(n,e,i){return new kS({ca:3,ga:e.settings.ga,methodName:n._methodName,la:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class nN extends Vm{_toFieldTransform(e){return new Sw(e.path,new Dy)}isEqual(e){return e instanceof nN}}class q9 extends Vm{constructor(e,i){super(e),this.pa=i}_toFieldTransform(e){const i=Gj(this,e,!0),t=this.pa.map(s=>Hm(s,i)),r=new Mm(t);return new Sw(e.path,r)}isEqual(e){return this===e}}class W9 extends Vm{constructor(e,i){super(e),this.pa=i}_toFieldTransform(e){const i=Gj(this,e,!0),t=this.pa.map(s=>Hm(s,i)),r=new km(t);return new Sw(e.path,r)}isEqual(e){return this===e}}class Z9 extends Vm{constructor(e,i){super(e),this.Ia=i}_toFieldTransform(e){const i=new Iy(e.serializer,B3(e.serializer,this.Ia));return new Sw(e.path,i)}isEqual(e){return this===e}}function iN(n,e,i,t){const r=n.ya(1,e,i);sN("Data must be an object, but it was:",r,t);const s=[],c=Cs.empty();mf(t,(p,y)=>{const x=OS(e,p,i);y=(0,an.m9)(y);const S=r.da(x);if(y instanceof Yw)s.push(x);else{const N=Hm(y,S);null!=N&&(s.push(x),c.set(x,N))}});const h=new zo(s);return new zj(c,h,r.fieldTransforms)}function rN(n,e,i,t,r,s){const c=n.ya(1,e,i),h=[Kw(e,t,i)],p=[r];if(s.length%2!=0)throw new Ne(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<s.length;N+=2)h.push(Kw(e,s[N])),p.push(s[N+1]);const y=[],x=Cs.empty();for(let N=h.length-1;N>=0;--N)if(!Yj(y,h[N])){const H=h[N];let G=p[N];G=(0,an.m9)(G);const Q=c.da(H);if(G instanceof Yw)y.push(H);else{const ee=Hm(G,Q);null!=ee&&(y.push(H),x.set(H,ee))}}const S=new zo(y);return new zj(x,S,c.fieldTransforms)}function qj(n,e,i,t=!1){return Hm(i,n.ya(t?4:3,e))}function Hm(n,e){if(Zj(n=(0,an.m9)(n)))return sN("Unsupported field value:",e,n),Wj(n,e);if(n instanceof Vm)return function(i,t){if(!$j(t.ca))throw t._a(`${i._methodName}() can only be used with update() and set()`);if(!t.path)throw t._a(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(t);r&&t.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(i,t){const r=[];let s=0;for(const c of i){let h=Hm(c,t.wa(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(n,e)}return function(i,t){if(null===(i=(0,an.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return B3(t.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const r=Ai.fromDate(i);return{timestampValue:Ay(t.serializer,r)}}if(i instanceof Ai){const r=new Ai(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ay(t.serializer,r)}}if(i instanceof MS)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Wc)return{bytesValue:sH(t.serializer,i._byteString)};if(i instanceof Di){const r=t.databaseId,s=i.firestore._databaseId;if(!s.isEqual(r))throw t._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:wO(i.firestore._databaseId||t.databaseId,i._key.path)}}throw t._a(`Unsupported field value: ${TS(i)}`)}(n,e)}function Wj(n,e){const i={};return a3(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mf(n,(t,r)=>{const s=Hm(r,e.ha(t));null!=s&&(i[t]=s)}),{mapValue:{fields:i}}}function Zj(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ai||n instanceof MS||n instanceof Wc||n instanceof Di||n instanceof Vm)}function sN(n,e,i){if(!Zj(i)||"object"!=typeof(t=i)||null===t||Object.getPrototypeOf(t)!==Object.prototype&&null!==Object.getPrototypeOf(t)){const t=TS(i);throw e._a("an object"===t?n+" a custom object":n+" "+t)}var t}function Kw(n,e,i){if((e=(0,an.m9)(e))instanceof wd)return e._internalPath;if("string"==typeof e)return OS(n,e);throw PS("Field path arguments must be of type string or ",n,!1,void 0,i)}const Y9=new RegExp("[~\\*/\\[\\]]");function OS(n,e,i){if(e.search(Y9)>=0)throw PS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new wd(...e.split("."))._internalPath}catch{throw PS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function PS(n,e,i,t,r){const s=t&&!t.isEmpty(),c=void 0!==r;let h=`Function ${e}() called with invalid data`;i&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(s||c)&&(p+=" (found",s&&(p+=` in field ${t}`),c&&(p+=` in document ${r}`),p+=")"),new Ne(ge.INVALID_ARGUMENT,h+n+p)}function Yj(n,e){return n.some(i=>i.isEqual(e))}class Qw{constructor(e,i,t,r,s){this._firestore=e,this._userDataWriter=i,this._key=t,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Di(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new K9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(NS("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i)}}}class K9 extends Qw{data(){return super.data()}}function NS(n,e){return"string"==typeof e?OS(n,e):e instanceof wd?e._internalPath:e._delegate._internalPath}function Kj(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ne(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oN{}class Xw extends oN{}function Tf(n,e,...i){let t=[];e instanceof oN&&t.push(e),t=t.concat(i),function(r){const s=r.filter(h=>h instanceof $y).length,c=r.filter(h=>h instanceof Jw).length;if(s>1||s>0&&c>0)throw new Ne(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(t);for(const r of t)n=r._apply(n);return n}class Jw extends Xw{constructor(e,i,t){super(),this._field=e,this._op=i,this._value=t,this.type="where"}static _create(e,i,t){return new Jw(e,i,t)}_apply(e){const i=this._parse(e);return e6(e._query,i),new Es(e.firestore,e.converter,dO(e._query,i))}_parse(e){const i=Um(e.firestore);return function(r,s,c,h,p,y,x){let S;if(p.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Ne(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){Jj(x,y);const N=[];for(const H of x)N.push(Xj(h,r,H));S={arrayValue:{values:N}}}else S=Xj(h,r,x)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||Jj(x,y),S=qj(c,"where",x,"in"===y||"not-in"===y);return vn.create(p,y,S)}(e._query,0,i,e.firestore._databaseId,this._field,this._op,this._value)}}class $y extends oN{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new $y(e,i)}_parse(e){const i=this._queryConstraints.map(t=>t._parse(e)).filter(t=>t.getFilters().length>0);return 1===i.length?i[0]:Gn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return 0===i.getFilters().length?e:(function(t,r){let s=t;const c=r.getFlattenedFilters();for(const h of c)e6(s,h),s=dO(s,h)}(e._query,i),new Es(e.firestore,e.converter,dO(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class aN extends Xw{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new aN(e,i)}_apply(e){const i=function(t,r,s){if(null!==t.startAt)throw new Ne(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ne(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Cy(r,s);return function(h,p){if(null===cO(h)){const y=JI(h);null!==y&&t6(0,y,p.field)}}(t,c),c}(e._query,this._field,this._direction);return new Es(e.firestore,e.converter,function(t,r){const s=t.explicitOrderBy.concat([r]);return new gd(t.path,t.collectionGroup,s,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e._query,i))}}class FS extends Xw{constructor(e,i,t){super(),this.type=e,this._limit=i,this._limitType=t}static _create(e,i,t){return new FS(e,i,t)}_apply(e){return new Es(e.firestore,e.converter,eS(e._query,this._limit,this._limitType))}}class LS extends Xw{constructor(e,i,t){super(),this.type=e,this._docOrFields=i,this._inclusive=t}static _create(e,i,t){return new LS(e,i,t)}_apply(e){const i=Qj(e,this.type,this._docOrFields,this._inclusive);return new Es(e.firestore,e.converter,(r=i,new gd((t=e._query).path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,r,t.endAt)));var t,r}}class BS extends Xw{constructor(e,i,t){super(),this.type=e,this._docOrFields=i,this._inclusive=t}static _create(e,i,t){return new BS(e,i,t)}_apply(e){const i=Qj(e,this.type,this._docOrFields,this._inclusive);return new Es(e.firestore,e.converter,(r=i,new gd((t=e._query).path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,r)));var t,r}}function Qj(n,e,i,t){if(i[0]=(0,an.m9)(i[0]),i[0]instanceof Qw)return function(r,s,c,h,p){if(!h)throw new Ne(ge.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const y=[];for(const x of Am(r))if(x.field.isKeyField())y.push(Sm(s,h.key));else{const S=h.data.field(x.field);if(qI(S))throw new Ne(ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const N=x.field.canonicalString();throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}y.push(S)}return new wf(y,p)}(n._query,n.firestore._databaseId,e,i[0]._document,t);{const r=Um(n.firestore);return function(s,c,h,p,y,x){const S=s.explicitOrderBy;if(y.length>S.length)throw new Ne(ge.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let H=0;H<y.length;H++){const G=y[H];if(S[H].field.isKeyField()){if("string"!=typeof G)throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof G}`);if(!uO(s)&&-1!==G.indexOf("/"))throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${G}' contains a slash.`);const Q=s.path.child(Sn.fromString(G));if(!ot.isDocumentKey(Q))throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${Q}' is not because it contains an odd number of segments.`);const ee=new ot(Q);N.push(Sm(c,ee))}else{const Q=qj(h,p,G);N.push(Q)}}return new wf(N,x)}(n._query,n.firestore._databaseId,r,e,i,t)}}function Xj(n,e,i){if("string"==typeof(i=(0,an.m9)(i))){if(""===i)throw new Ne(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uO(e)&&-1!==i.indexOf("/"))throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const t=e.path.child(Sn.fromString(i));if(!ot.isDocumentKey(t))throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${t}' is not because it has an odd number of segments (${t.length}).`);return Sm(n,new ot(t))}if(i instanceof Di)return Sm(n,i._key);throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${TS(i)}.`)}function Jj(n,e){if(!Array.isArray(n)||0===n.length)throw new Ne(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e6(n,e){if(e.isInequality()){const t=JI(n),r=e.field;if(null!==t&&!t.isEqual(r))throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${t.toString()}' and '${r.toString()}'`);const s=cO(n);null!==s&&t6(0,r,s)}const i=function(t,r){for(const s of t)for(const c of s.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Ne(ge.INVALID_ARGUMENT,i===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function t6(n,e,i){if(!i.isEqual(e))throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class lN{convertValue(e,i="none"){switch(vf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(md(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 10:return this.convertObject(e.mapValue,i);default:throw mt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const t={};return mf(e,(r,s)=>{t[r]=this.convertValue(s,i)}),t}convertGeoPoint(e){return new MS(nr(e.latitude),nr(e.longitude))}convertArray(e,i){return(e.values||[]).map(t=>this.convertValue(t,i))}convertServerTimestamp(e,i){switch(i){case"previous":const t=WI(e);return null==t?null:this.convertValue(t,i);case"estimate":return this.convertTimestamp(yw(e));default:return null}}convertTimestamp(e){const i=gf(e);return new Ai(i.seconds,i.nanos)}convertDocumentKey(e,i){const t=Sn.fromString(e);xt(mH(t));const r=new _f(t.get(1),t.get(3)),s=new ot(t.popFirst(5));return r.isEqual(i)||hr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),s}}function VS(n,e,i){let t;return t=n?i&&(i.merge||i.mergeFields)?n.toFirestore(e,i):n.toFirestore(e):e,t}class sW extends lN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wc(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Di(this.firestore,null,i)}}class jm{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cd extends Qw{constructor(e,i,t,r,s,c){super(e,i,t,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new eC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const t=this._document.data.field(NS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t,i.serverTimestamps)}}}class eC extends Cd{data(e={}){return super.data(e)}}class Af{constructor(e,i,t,r){this._firestore=e,this._userDataWriter=i,this._snapshot=r,this.metadata=new jm(r.hasPendingWrites,r.fromCache),this.query=t}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,i){this._snapshot.docs.forEach(t=>{e.call(i,new eC(this._firestore,this._userDataWriter,t.key,t,new jm(this._snapshot.mutatedKeys.has(t.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Ne(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(t,r){if(t._snapshot.oldDocs.isEmpty()){let s=0;return t._snapshot.docChanges.map(c=>({type:"added",doc:new eC(t._firestore,t._userDataWriter,c.doc.key,c.doc,new jm(t._snapshot.mutatedKeys.has(c.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:s++}))}{let s=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const h=new eC(t._firestore,t._userDataWriter,c.doc.key,c.doc,new jm(t._snapshot.mutatedKeys.has(c.doc.key),t._snapshot.fromCache),t.query.converter);let p=-1,y=-1;return 0!==c.type&&(p=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),y=s.indexOf(c.doc.key)),{type:aW(c.type),doc:h,oldIndex:p,newIndex:y}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function aW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}function i6(n,e){return n instanceof Cd&&e instanceof Cd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Af&&e instanceof Af&&n._firestore===e._firestore&&eN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Mf extends lN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wc(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Di(this.firestore,null,i)}}function r6(n,e,i){n=bn(n,Di);const t=bn(n.firestore,Ii),r=VS(n.converter,e,i);return Gy(t,[RS(Um(t),"setDoc",n._key,r,null!==n.converter,i).toMutation(n._key,Mi.none())])}function s6(n,e,i,...t){n=bn(n,Di);const r=bn(n.firestore,Ii),s=Um(r);let c;return c="string"==typeof(e=(0,an.m9)(e))||e instanceof wd?rN(s,"updateDoc",n._key,e,i,t):iN(s,"updateDoc",n._key,e),Gy(r,[c.toMutation(n._key,Mi.exists(!0))])}function o6(n,...e){var i,t,r;n=(0,an.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||tN(e[c])||(s=e[c],c++);const h={includeMetadataChanges:s.includeMetadataChanges};if(tN(e[c])){const S=e[c];e[c]=null===(i=S.next)||void 0===i?void 0:i.bind(S),e[c+1]=null===(t=S.error)||void 0===t?void 0:t.bind(S),e[c+2]=null===(r=S.complete)||void 0===r?void 0:r.bind(S)}let p,y,x;if(n instanceof Di)y=bn(n.firestore,Ii),x=xy(n._key.path),p={next:S=>{e[c]&&e[c](cN(y,n,S))},error:e[c+1],complete:e[c+2]};else{const S=bn(n,Es);y=bn(S.firestore,Ii),x=S._query;const N=new Mf(y);p={next:H=>{e[c]&&e[c](new Af(y,N,S,H))},error:e[c+1],complete:e[c+2]},Kj(n._query)}return function(S,N,H,G){const Q=new xS(G),ee=new yP(N,Q,H);return S.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return fP(yield zy(S),ee)})),()=>{Q.Dc(),S.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return mP(yield zy(S),ee)}))}}(pr(y),x,h,p)}function Gy(n,e){return function(i,t){const r=new Ur;return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function t9(n,e,i){return EP.apply(this,arguments)}(yield QP(i),t,r)})),r.promise}(pr(n),e)}function cN(n,e,i){const t=i.docs.get(e._key),r=new Mf(n);return new Cd(n,r,e._key,t,new jm(i.hasPendingWrites,i.fromCache),e.converter)}const DW={maxAttempts:5};class a6{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Um(e)}set(e,i,t){this._verifyNotCommitted();const r=kf(e,this._firestore),s=VS(r.converter,i,t),c=RS(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,t);return this._mutations.push(c.toMutation(r._key,Mi.none())),this}update(e,i,t,...r){this._verifyNotCommitted();const s=kf(e,this._firestore);let c;return c="string"==typeof(i=(0,an.m9)(i))||i instanceof wd?rN(this._dataReader,"WriteBatch.update",s._key,i,t,r):iN(this._dataReader,"WriteBatch.update",s._key,i),this._mutations.push(c.toMutation(s._key,Mi.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=kf(e,this._firestore);return this._mutations=this._mutations.concat(new Ty(i._key,Mi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function kf(n,e){if((n=(0,an.m9)(n)).firestore!==e)throw new Ne(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class IW extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=Um(e)}get(e){const i=kf(e,this._firestore),t=new sW(this._firestore);return this._transaction.lookup([i._key]).then(r=>{if(!r||1!==r.length)return mt();const s=r[0];if(s.isFoundDocument())return new Qw(this._firestore,t,s.key,s,i.converter);if(s.isNoDocument())return new Qw(this._firestore,t,i._key,null,i.converter);throw mt()})}set(e,i,t){const r=kf(e,this._firestore),s=VS(r.converter,i,t),c=RS(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,t);return this._transaction.set(r._key,c),this}update(e,i,t,...r){const s=kf(e,this._firestore);let c;return c="string"==typeof(i=(0,an.m9)(i))||i instanceof wd?rN(this._dataReader,"Transaction.update",s._key,i,t,r):iN(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,c),this}delete(e){const i=kf(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,i){super(e,i),this._firestore=e}get(e){const i=kf(e,this._firestore),t=new Mf(this._firestore);return super.get(e).then(r=>new Cd(this._firestore,t,i._key,r._document,new jm(!1,!1),i.converter))}}function uN(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function c6(){if(typeof Uint8Array>"u")throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function u6(){if(!function o8(){return typeof atob<"u"}())throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){yy=Ho.SDK_VERSION,(0,Ho._registerComponent)(new G_.wA("firestore",(i,{instanceIdentifier:t,options:r})=>{const s=i.getProvider("app").getImmediate(),c=new Ii(new Aq(i.getProvider("auth-internal")),new Rq(i.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ne(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _f(h.options.projectId,p)}(s,t),s);return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,Ho.registerVersion)(jU,"3.13.0",n),(0,Ho.registerVersion)(jU,"3.13.0","esm2017")}();class tC{constructor(e){this._delegate=e}static fromBase64String(e){return u6(),new tC(Wc.fromBase64String(e))}static fromUint8Array(e){return c6(),new tC(Wc.fromUint8Array(e))}toBase64(){return u6(),this._delegate.toBase64()}toUint8Array(){return c6(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function dN(n){return function NW(n,e){if("object"!=typeof n||null===n)return!1;const i=n;for(const t of e)if(t in i&&"function"==typeof i[t])return!0;return!1}(n,["next","error","complete"])}class FW{enableIndexedDbPersistence(e,i){return function P9(n,e){jj(n=bn(n,Ii));const i=pr(n);if(i._uninitializedComponentsProvider)throw new Ne(ge.FAILED_PRECONDITION,"SDK cache is already specified.");tl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new jy;return Hj(i,r,new $P(r,t.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(e){return function N9(n){jj(n=bn(n,Ii));const e=pr(n);if(e._uninitializedComponentsProvider)throw new Ne(ge.FAILED_PRECONDITION,"SDK cache is already specified.");tl("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),t=new jy;return Hj(e,t,new Cj(t,i.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function F9(n){if(n._initialized&&!n._terminated)throw new Ne(ge.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ur;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(i=(0,ve.Z)(function*(t){if(!Bl.D())return Promise.resolve();const r=t+"main";yield Bl.delete(r)}),function(t){return i.apply(this,arguments)})(FO(n._databaseId,n._persistenceKey)),e.resolve()}catch(i){e.reject(i)}var i})),e.promise}(e._delegate)}}class d6{constructor(e,i,t){this._delegate=i,this._persistenceProvider=t,this.INTERNAL={delete:()=>this.terminate()},e instanceof _f||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const i=this._delegate._getSettings();!e.merge&&i.host!==e.host&&tl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},i),e)).merge,this._delegate._setSettings(e)}useEmulator(e,i,t={}){!function Lj(n,e,i,t={}){var r;const s=(n=bn(n,Ww))._getSettings(),c=`${e}:${i}`;if("firestore.googleapis.com"!==s.host&&s.host!==c&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:c,ssl:!1})),t.mockUserToken){let h,p;if("string"==typeof t.mockUserToken)h=t.mockUserToken,p=Kr.MOCK_USER;else{h=(0,an.Sg)(t.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const y=t.mockUserToken.sub||t.mockUserToken.user_id;if(!y)throw new Ne(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Kr(y)}n._authCredentials=new Tq(new zU(h,p))}}(this._delegate,e,i,t)}enableNetwork(){return function B9(n){return function C9(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield Dj(n),i=yield Ij(n);return e.setNetworkEnabled(!0),function(t){const r=at(t);return r.vu.delete(0),$w(r)}(i)}))}(pr(n=bn(n,Ii)))}(this._delegate)}disableNetwork(){return function V9(n){return function E9(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield Dj(n),i=yield Ij(n);return e.setNetworkEnabled(!1),(t=(0,ve.Z)(function*(r){const s=at(r);s.vu.add(0),yield Ny(s),s.bu.set("Offline")}),function(r){return t.apply(this,arguments)})(i);var t}))}(pr(n=bn(n,Ii)))}(this._delegate)}enablePersistence(e){let i=!1,t=!1;return e&&(i=!!e.synchronizeTabs,t=!!e.experimentalForceOwningTab,Rj("synchronizeTabs",i,"experimentalForceOwningTab",t)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,t)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function L9(n){return function(e){const i=new Ur;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function s9(n,e){return TP.apply(this,arguments)}(yield QP(e),i)})),i.promise}(pr(n=bn(n,Ii)))}(this._delegate)}onSnapshotsInSync(e){return function gW(n,e){return function I9(n,e){const i=new xS(e);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return t=yield zy(n),r=i,at(t).ku.add(r),void r.next();var t,r})),()=>{i.Dc(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return t=yield zy(n),r=i,void at(t).ku.delete(r);var t,r}))}}(pr(n=bn(n,Ii)),tN(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new qy(this,Bj(this._delegate,e))}catch(i){throw _o(i,"collection()","Firestore.collection()")}}doc(e){try{return new nl(this,AS(this._delegate,e))}catch(i){throw _o(i,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new yo(this,function M9(n,e){if(n=bn(n,Ww),JP("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ne(ge.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Es(n,null,(i=e,new gd(Sn.emptyPath(),i)));var i}(this._delegate,e))}catch(i){throw _o(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function SW(n,e,i){n=bn(n,Ii);const t=Object.assign(Object.assign({},DW),i);return function(r){if(r.maxAttempts<1)throw new Ne(ge.INVALID_ARGUMENT,"Max attempts must be at least 1")}(t),function(r,s,c){const h=new Ur;return r.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const p=yield function Sj(n){return IS(n).then(e=>e.datastore)}(r);new b9(r.asyncQueue,p,c,s,h).run()})),h.promise}(pr(n),r=>e(new IW(n,r)),t)}(this._delegate,i=>e(new h6(this,i)))}batch(){return pr(this._delegate),new f6(new a6(this._delegate,e=>Gy(this._delegate,e)))}loadBundle(e){return function U9(n,e){const i=pr(n=bn(n,Ii)),t=new R9;return function S9(n,e,i,t){const r=function(s,c){let h;return h="string"==typeof s?Q3().encode(s):s,p=function(p,y){if(p instanceof Uint8Array)return Ej(p,y);if(p instanceof ArrayBuffer)return Ej(new Uint8Array(p),y);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new y9(p,c);var p}(i,zw(e));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function g9(n,e,i){const t=at(n);var r;(r=(0,ve.Z)(function*(s,c,h){try{const p=yield c.getMetadata();if(yield function(N,H){const G=at(N),Q=fr(H.createTime);return G.persistence.runTransaction("hasNewerBundle","readonly",ee=>G.qs.getBundleMetadata(ee,H.id)).then(ee=>!!ee&&ee.createTime.compareTo(Q)>=0)}(s.localStore,p))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(N=p).totalDocuments,bytesLoaded:N.totalBytes,totalDocuments:N.totalDocuments,totalBytes:N.totalBytes}),Promise.resolve(new Set);h._updateProgress(fj(p));const y=new Y7(p,s.localStore,c.serializer);let x=yield c.bc();for(;x;){const N=yield y.zu(x);N&&h._updateProgress(N),x=yield c.bc()}const S=yield y.complete();return yield bd(s,S.Ju,void 0),yield function(N,H){const G=at(N);return G.persistence.runTransaction("Save bundle","readwrite",Q=>G.qs.saveBundleMetadata(Q,H))}(s.localStore,p),h._completeWith(S.progress),Promise.resolve(S.Hu)}catch(p){return tl("SyncEngine",`Loading bundle failed with ${p}`),h._failWith(p),Promise.resolve(new Set)}var N}),function(s,c,h){return r.apply(this,arguments)})(t,e,i).then(r=>{t.sharedClientState.notifyBundleLoaded(r)})}(yield QP(n),r,t)}))}(i,n._databaseId,e,t),t}(this._delegate,e)}namedQuery(e){return function H9(n,e){return function T9(n,e){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(i,t){const r=at(i);return r.persistence.runTransaction("Get named query","readonly",s=>r.qs.getNamedQuery(s,t))}(yield SS(n),e)}))}(pr(n=bn(n,Ii)),e).then(i=>i?new Es(n,null,i.query):null)}(this._delegate,e).then(i=>i?new yo(this,i):null)}}class US extends lN{constructor(e){super(),this.firestore=e}convertBytes(e){return new tC(new Wc(e))}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return nl.forKey(i,this.firestore,null)}}class h6{constructor(e,i){this._firestore=e,this._delegate=i,this._userDataWriter=new US(e)}get(e){const i=$m(e);return this._delegate.get(i).then(t=>new nC(this._firestore,new Cd(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,i.converter)))}set(e,i,t){const r=$m(e);return t?(uN("Transaction.set",t),this._delegate.set(r,i,t)):this._delegate.set(r,i),this}update(e,i,t,...r){const s=$m(e);return 2===arguments.length?this._delegate.update(s,i):this._delegate.update(s,i,t,...r),this}delete(e){const i=$m(e);return this._delegate.delete(i),this}}class f6{constructor(e){this._delegate=e}set(e,i,t){const r=$m(e);return t?(uN("WriteBatch.set",t),this._delegate.set(r,i,t)):this._delegate.set(r,i),this}update(e,i,t,...r){const s=$m(e);return 2===arguments.length?this._delegate.update(s,i):this._delegate.update(s,i,t,...r),this}delete(e){const i=$m(e);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class zm{constructor(e,i,t){this._firestore=e,this._userDataWriter=i,this._delegate=t}fromFirestore(e,i){const t=new eC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new iC(this._firestore,t),i??{})}toFirestore(e,i){return i?this._delegate.toFirestore(e,i):this._delegate.toFirestore(e)}static getInstance(e,i){const t=zm.INSTANCES;let r=t.get(e);r||(r=new WeakMap,t.set(e,r));let s=r.get(i);return s||(s=new zm(e,new US(e),i),r.set(i,s)),s}}zm.INSTANCES=new WeakMap;class nl{constructor(e,i){this.firestore=e,this._delegate=i,this._userDataWriter=new US(e)}static forPath(e,i,t){if(e.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new nl(i,new Di(i._delegate,t,new ot(e)))}static forKey(e,i,t){return new nl(i,new Di(i._delegate,t,e))}get id(){return this._delegate.id}get parent(){return new qy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new qy(this.firestore,Bj(this._delegate,e))}catch(i){throw _o(i,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,an.m9)(e))instanceof Di&&Vj(this._delegate,e)}set(e,i){i=uN("DocumentReference.set",i);try{return i?r6(this._delegate,e,i):r6(this._delegate,e)}catch(t){throw _o(t,"setDoc()","DocumentReference.set()")}}update(e,i,...t){try{return 1===arguments.length?s6(this._delegate,e):s6(this._delegate,e,i,...t)}catch(r){throw _o(r,"updateDoc()","DocumentReference.update()")}}delete(){return function pW(n){return Gy(bn(n.firestore,Ii),[new Ty(n._key,Mi.none())])}(this._delegate)}onSnapshot(...e){const i=p6(e),t=m6(e,r=>new nC(this.firestore,new Cd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return o6(this._delegate,i,t)}get(e){let i;return i="cache"===e?.source?function cW(n){n=bn(n,Di);const e=bn(n.firestore,Ii),i=pr(e),t=new Mf(e);return function x9(n,e){const i=new Ur;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(t=(0,ve.Z)(function*(r,s,c){try{const h=yield function(p,y){const x=at(p);return x.persistence.runTransaction("read document","readonly",S=>x.localDocuments.getDocument(S,y))}(r,s);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new Ne(ge.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const p=By(h,`Failed to get document '${s} from cache`);c.reject(p)}}),function(r,s,c){return t.apply(this,arguments)})(yield SS(n),e,i);var t})),i.promise}(i,n._key).then(r=>new Cd(e,t,n._key,r,new jm(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function uW(n){n=bn(n,Di);const e=bn(n.firestore,Ii);return Tj(pr(e),n._key,{source:"server"}).then(i=>cN(e,n,i))}(this._delegate):function lW(n){n=bn(n,Di);const e=bn(n.firestore,Ii);return Tj(pr(e),n._key).then(i=>cN(e,n,i))}(this._delegate),i.then(t=>new nC(this.firestore,new Cd(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter)))}withConverter(e){return new nl(this.firestore,this._delegate.withConverter(e?zm.getInstance(this.firestore,e):null))}}function _o(n,e,i){return n.message=n.message.replace(e,i),n}function p6(n){for(const e of n)if("object"==typeof e&&!dN(e))return e;return{}}function m6(n,e){var i,t;let r;return r=dN(n[0])?n[0]:dN(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(i=r.error)||void 0===i?void 0:i.bind(r),complete:null===(t=r.complete)||void 0===t?void 0:t.bind(r)}}class nC{constructor(e,i){this._firestore=e,this._delegate=i}get ref(){return new nl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,i){return this._delegate.get(e,i)}isEqual(e){return i6(this._delegate,e._delegate)}}class iC extends nC{data(e){const i=this._delegate.data(e);return function Iq(n,e){n||mt()}(void 0!==i),i}}class yo{constructor(e,i){this.firestore=e,this._delegate=i,this._userDataWriter=new US(e)}where(e,i,t){try{return new yo(this.firestore,Tf(this._delegate,function Q9(n,e,i){const t=e,r=NS("where",n);return Jw._create(r,t,i)}(e,i,t)))}catch(r){throw _o(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,i){try{return new yo(this.firestore,Tf(this._delegate,function X9(n,e="asc"){const i=e,t=NS("orderBy",n);return aN._create(t,i)}(e,i)))}catch(t){throw _o(t,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new yo(this.firestore,Tf(this._delegate,function J9(n){return Nj("limit",n),FS._create("limit",n,"F")}(e)))}catch(i){throw _o(i,"limit()","Query.limit()")}}limitToLast(e){try{return new yo(this.firestore,Tf(this._delegate,function eW(n){return Nj("limitToLast",n),FS._create("limitToLast",n,"L")}(e)))}catch(i){throw _o(i,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new yo(this.firestore,Tf(this._delegate,function tW(...n){return LS._create("startAt",n,!0)}(...e)))}catch(i){throw _o(i,"startAt()","Query.startAt()")}}startAfter(...e){try{return new yo(this.firestore,Tf(this._delegate,function nW(...n){return LS._create("startAfter",n,!1)}(...e)))}catch(i){throw _o(i,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new yo(this.firestore,Tf(this._delegate,function iW(...n){return BS._create("endBefore",n,!1)}(...e)))}catch(i){throw _o(i,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new yo(this.firestore,Tf(this._delegate,function rW(...n){return BS._create("endAt",n,!0)}(...e)))}catch(i){throw _o(i,"endAt()","Query.endAt()")}}isEqual(e){return eN(this._delegate,e._delegate)}get(e){let i;return i="cache"===e?.source?function hW(n){n=bn(n,Es);const e=bn(n.firestore,Ii),i=pr(e),t=new Mf(e);return function D9(n,e){const i=new Ur;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(t=(0,ve.Z)(function*(r,s,c){try{const h=yield _S(r,s,!0),p=new gj(s,h.ir),y=p.sc(h.documents),x=p.applyChanges(y,!1);c.resolve(x.snapshot)}catch(h){const p=By(h,`Failed to execute query '${s} against cache`);c.reject(p)}}),function(r,s,c){return t.apply(this,arguments)})(yield SS(n),e,i);var t})),i.promise}(i,n._query).then(r=>new Af(e,t,n,r))}(this._delegate):"server"===e?.source?function fW(n){n=bn(n,Es);const e=bn(n.firestore,Ii),i=pr(e),t=new Mf(e);return Aj(i,n._query,{source:"server"}).then(r=>new Af(e,t,n,r))}(this._delegate):function dW(n){n=bn(n,Es);const e=bn(n.firestore,Ii),i=pr(e),t=new Mf(e);return Kj(n._query),Aj(i,n._query).then(r=>new Af(e,t,n,r))}(this._delegate),i.then(t=>new hN(this.firestore,new Af(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot)))}onSnapshot(...e){const i=p6(e),t=m6(e,r=>new hN(this.firestore,new Af(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return o6(this._delegate,i,t)}withConverter(e){return new yo(this.firestore,this._delegate.withConverter(e?zm.getInstance(this.firestore,e):null))}}class BW{constructor(e,i){this._firestore=e,this._delegate=i}get type(){return this._delegate.type}get doc(){return new iC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class hN{constructor(e,i){this._firestore=e,this._delegate=i}get query(){return new yo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new iC(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(i=>new BW(this._firestore,i))}forEach(e,i){this._delegate.forEach(t=>{e.call(i,new iC(this._firestore,t))})}isEqual(e){return i6(this._delegate,e._delegate)}}class qy extends yo{constructor(e,i){super(e,i),this.firestore=e,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new nl(this.firestore,e):null}doc(e){try{return new nl(this.firestore,void 0===e?AS(this._delegate):AS(this._delegate,e))}catch(i){throw _o(i,"doc()","CollectionReference.doc()")}}add(e){return function mW(n,e){const i=bn(n.firestore,Ii),t=AS(n),r=VS(n.converter,e);return Gy(i,[RS(Um(n.firestore),"addDoc",t._key,r,null!==n.converter,{}).toMutation(t._key,Mi.exists(!1))]).then(()=>t)}(this._delegate,e).then(i=>new nl(this.firestore,i))}isEqual(e){return Vj(this._delegate,e._delegate)}withConverter(e){return new qy(this.firestore,this._delegate.withConverter(e?zm.getInstance(this.firestore,e):null))}}function $m(n){return bn(n,Di)}class fN{constructor(...e){this._delegate=new wd(...e)}static documentId(){return new fN(tr.keyField().canonicalString())}isEqual(e){return(e=(0,an.m9)(e))instanceof wd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Gm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function AW(){return new nN("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Gm(e)}static delete(){const e=function TW(){return new Yw("deleteField")}();return e._methodName="FieldValue.delete",new Gm(e)}static arrayUnion(...e){const i=function MW(...n){return new q9("arrayUnion",n)}(...e);return i._methodName="FieldValue.arrayUnion",new Gm(i)}static arrayRemove(...e){const i=function kW(...n){return new W9("arrayRemove",n)}(...e);return i._methodName="FieldValue.arrayRemove",new Gm(i)}static increment(e){const i=function RW(n){return new Z9("increment",n)}(e);return i._methodName="FieldValue.increment",new Gm(i)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const VW={Firestore:d6,GeoPoint:MS,Timestamp:Ai,Blob:tC,Transaction:h6,WriteBatch:f6,DocumentReference:nl,DocumentSnapshot:nC,Query:yo,QueryDocumentSnapshot:iC,QuerySnapshot:hN,CollectionReference:qy,FieldPath:fN,FieldValue:Gm,setLogLevel:function LW(n){!function Dq(n){hf.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function g6(n,e){return function jW(n,e=id.z){return new An.y(i=>{let t;return null!=e?e.schedule(()=>{t=n.onSnapshot({includeMetadataChanges:!0},i)}):t=n.onSnapshot({includeMetadataChanges:!0},i),()=>{t?.()}})}(n,e)}function pN(n,e){return g6(n,e).pipe((0,dt.U)(i=>({payload:i,type:"query"})))}function HS(n,e){return pN(n,e).pipe(ni(void 0),aR(),(0,dt.U)(([i,t])=>{const r=t.payload.docChanges(),s=r.map(c=>({type:c.type,payload:c}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((c,h)=>{const p=r.find(x=>x.doc.ref.isEqual(c.ref)),y=i?.payload.docs.find(x=>x.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&y&&JSON.stringify(y.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),s}))}function _6(n,e,i){return HS(n,i).pipe(so((t,r)=>function $W(n,e,i){return e.forEach(t=>{i.indexOf(t.type)>-1&&(n=function GW(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return mN(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const i=n.slice();return i.splice(e.oldIndex,1),i.splice(e.newIndex,0,e),i}return mN(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return mN(n,e.oldIndex,1)}return n}(n,t))}),n}(t,r.map(s=>s.payload),e),[]),(0,$p.x)(),(0,dt.U)(t=>t.map(r=>({type:r.type,payload:r}))))}function mN(n,e,i,...t){const r=n.slice();return r.splice(e,i,...t),r}function y6(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function HW(n){(function UW(n,e){n.INTERNAL.registerComponent(new G_.wA("firestore-compat",i=>{const t=i.getProvider("app-compat").getImmediate(),r=i.getProvider("firestore").getImmediate();return e(t,r)},"PUBLIC").setServiceProps(Object.assign({},VW)))})(n,(e,i)=>new d6(e,i,new FW)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(_G.Z);class v6{constructor(e,i,t){this.ref=e,this.query=i,this.afs=t}stateChanges(e){let i=HS(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(i=i.pipe((0,dt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)))),i.pipe(ni(void 0),aR(),tn(([t,r])=>r.length>0||!t),(0,dt.U)(([t,r])=>r),Rn.iC)}auditTrail(e){return this.stateChanges(e).pipe(so((i,t)=>[...i,...t],[]))}snapshotChanges(e){const i=y6(e);return _6(this.query,i,this.afs.schedulers.outsideAngular).pipe(Rn.iC)}valueChanges(e={}){return pN(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(i=>i.payload.docs.map(t=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data())),Rn.iC)}get(e){return(0,wn.D)(this.query.get(e)).pipe(Rn.iC)}add(e){return this.ref.add(e)}doc(e){return new b6(this.ref.doc(e),this.afs)}}class b6{constructor(e,i){this.ref=e,this.afs=i}set(e,i){return this.ref.set(e,i)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,i){const t=this.ref.collection(e),{ref:r,query:s}=E6(t,i);return new v6(r,s,this.afs)}snapshotChanges(){return function zW(n,e){return g6(n,e).pipe(ni(void 0),aR(),(0,dt.U)(([i,t])=>t.exists?i?.exists?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Rn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,dt.U)(({payload:i})=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data()))}get(e){return(0,wn.D)(this.ref.get(e)).pipe(Rn.iC)}}class qW{constructor(e,i){this.query=e,this.afs=i}stateChanges(e){return e&&0!==e.length?HS(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(i=>i.filter(t=>e.indexOf(t.type)>-1)),tn(i=>i.length>0),Rn.iC):HS(this.query,this.afs.schedulers.outsideAngular).pipe(Rn.iC)}auditTrail(e){return this.stateChanges(e).pipe(so((i,t)=>[...i,...t],[]))}snapshotChanges(e){const i=y6(e);return _6(this.query,i,this.afs.schedulers.outsideAngular).pipe(Rn.iC)}valueChanges(e={}){return pN(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Rn.iC)}get(e){return(0,wn.D)(this.query.get(e)).pipe(Rn.iC)}}const w6=new a.OlP("angularfire2.enableFirestorePersistence"),C6=new a.OlP("angularfire2.firestore.persistenceSettings"),WW=new a.OlP("angularfire2.firestore.settings"),ZW=new a.OlP("angularfire2.firestore.use-emulator");function E6(n,e=(i=>i)){return{query:e(n),ref:n}}let rC=(()=>{class n{constructor(i,t,r,s,c,h,p,y,x,S,N,H,G,Q,ee,ke,Ge){this.schedulers=p;const ze=(0,jo.on)(i,h,t),Ye=x;S&&U(ze,h,N,G,Q,ee,H,ke),[this.firestore,this.persistenceEnabled$]=(0,jo.cc)(`${ze.name}.firestore`,"AngularFirestore",ze.name,()=>{const It=h.runOutsideAngular(()=>ze.firestore());if(s&&It.settings(s),Ye&&It.useEmulator(...Ye),r&&!Pr(c)){const kt=()=>{try{return(0,wn.D)(It.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(dn){return typeof console<"u"&&console.warn(dn),(0,ut.of)(!1)}};return[It,h.runOutsideAngular(kt)]}return[It,(0,ut.of)(!1)]},[s,Ye,r])}collection(i,t){let r;r="string"==typeof i?this.firestore.collection(i):i;const{ref:s,query:c}=E6(r,t),h=this.schedulers.ngZone.run(()=>s);return new v6(h,c,this)}collectionGroup(i,t){const r=t||(c=>c),s=this.firestore.collectionGroup(i);return new qW(r(s),this)}doc(i){let t;t="string"==typeof i?this.firestore.doc(i):i;const r=this.schedulers.ngZone.run(()=>t);return new b6(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(i){return new(i||n)(a.LFG(jo.Dh),a.LFG(jo.xv,8),a.LFG(w6,8),a.LFG(WW,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Rn.HU),a.LFG(C6,8),a.LFG(ZW,8),a.LFG(Y,8),a.LFG(m,8),a.LFG(v,8),a.LFG(b,8),a.LFG(D,8),a.LFG(T,8),a.LFG(k,8),a.LFG(YD,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),YW=(()=>{class n{constructor(){d.Z.registerVersion("angularfire",Rn.q4.full,"fst-compat")}static enablePersistence(i){return{ngModule:n,providers:[{provide:w6,useValue:!0},{provide:C6,useValue:i}]}}}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[rC]}),n})();const x6="firebasestorage.googleapis.com",D6="storageBucket";class ji extends an.ZR{constructor(e,i,t=0){super(gN(e),`Firebase Storage: ${i} (${gN(e)})`),this.status_=t,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ji.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gN(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ki=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(ki||{});function gN(n){return"storage/"+n}function _N(){return new ji(ki.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function yN(n){return new ji(ki.INVALID_ARGUMENT,n)}function A6(){return new ji(ki.APP_DELETED,"The Firebase app was deleted.")}function sC(n,e){return new ji(ki.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function oC(n){throw new ji(ki.INTERNAL_ERROR,"Internal error: "+n)}class vo{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let t;try{t=vo.makeFromUrl(e,i)}catch{return new vo(e,"")}if(""===t.path)return t;throw function sZ(n){return new ji(ki.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,i){let t=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function y(Ye){Ye.path_=decodeURIComponent(Ye.path)}const S=i.replace(/[.]/g,"\\."),ze=[{regex:h,indices:{bucket:1,path:3},postModify:function s(Ye){"/"===Ye.path.charAt(Ye.path.length-1)&&(Ye.path_=Ye.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${S}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:y},{regex:new RegExp(`^https?://${i===x6?"(?:storage.googleapis.com|storage.cloud.google.com)":i}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:y}];for(let Ye=0;Ye<ze.length;Ye++){const It=ze[Ye],kt=It.regex.exec(e);if(kt){let Ri=kt[It.indices.path];Ri||(Ri=""),t=new vo(kt[It.indices.bucket],Ri),It.postModify(t);break}}if(null==t)throw function rZ(n){return new ji(ki.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return t}}class dZ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function jS(n){return"string"==typeof n||n instanceof String}function M6(n){return vN()&&n instanceof Blob}function vN(){return typeof Blob<"u"&&!(0,an.UG)()}function bN(n,e,i,t){if(t<e)throw yN(`Invalid value for '${n}'. Expected ${e} or greater.`);if(t>i)throw yN(`Invalid value for '${n}'. Expected ${i} or less.`)}function Ed(n,e,i){let t=e;return null==i&&(t=`https://${e}`),`${i}://${t}/v0${n}`}function k6(n){const e=encodeURIComponent;let i="?";for(const t in n)n.hasOwnProperty(t)&&(i=i+(e(t)+"=")+e(n[t])+"&");return i=i.slice(0,-1),i}var Wy=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Wy||{});class _Z{constructor(e,i,t,r,s,c,h,p,y,x,S,N=!0){this.url_=e,this.method_=i,this.headers_=t,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=x,this.connectionFactory_=S,this.retry=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,G)=>{this.resolve_=H,this.reject_=G,this.start_()})}start_(){const i=(t,r)=>{const s=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());!function pZ(n){return void 0!==n}(p)?s():s(p)}catch(p){c(p)}else if(null!==h){const p=_N();p.serverResponse=h.getErrorText(),c(this.errorCallback_?this.errorCallback_(h,p):p)}else c(r.canceled?this.appDelete_?A6():function S6(){return new ji(ki.CANCELED,"User canceled the upload/download.")}():function I6(){return new ji(ki.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?i(0,new zS(!1,null,!0)):this.backoffId_=function hZ(n,e,i){let t=1,r=null,s=null,c=!1,h=0;function p(){return 2===h}let y=!1;function x(...ee){y||(y=!0,e.apply(null,ee))}function S(ee){r=setTimeout(()=>{r=null,n(H,p())},ee)}function N(){s&&clearTimeout(s)}function H(ee,...ke){if(y)return void N();if(ee)return N(),void x.call(null,ee,...ke);if(p()||c)return N(),void x.call(null,ee,...ke);let ze;t<64&&(t*=2),1===h?(h=2,ze=0):ze=1e3*(t+Math.random()),S(ze)}let G=!1;function Q(ee){G||(G=!0,N(),!y&&(null!==r?(ee||(h=2),clearTimeout(r),S(0)):ee||(h=1)))}return S(0),s=setTimeout(()=>{c=!0,Q(!0)},i),Q}((t,r)=>{if(r)return void t(!1,new zS(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const h=s.getErrorCode()===Wy.NO_ERROR,p=s.getStatus();if(!h||function R6(n,e){const i=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return i||r||s}(p,this.additionalRetryCodes_)&&this.retry){const x=s.getErrorCode()===Wy.ABORT;return void t(!1,new zS(!1,null,x))}const y=-1!==this.successCodes_.indexOf(p);t(!0,new zS(y,s))})},i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function fZ(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class zS{constructor(e,i,t){this.wasSuccessCode=e,this.connection=i,this.canceled=!!t}}function xZ(...n){const e=function EZ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const i=new e;for(let t=0;t<n.length;t++)i.append(n[t]);return i.getBlob()}if(vN())return new Blob(n);throw new ji(ki.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Vl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wN{constructor(e,i){this.data=e,this.contentType=i||null}}function P6(n){const e=[];for(let i=0;i<n.length;i++){let t=n.charCodeAt(i);t<=127?e.push(t):t<=2047?e.push(192|t>>6,128|63&t):55296==(64512&t)?i<n.length-1&&56320==(64512&n.charCodeAt(i+1))?(t=65536|(1023&t)<<10|1023&n.charCodeAt(++i),e.push(240|t>>18,128|t>>12&63,128|t>>6&63,128|63&t)):e.push(239,191,189):56320==(64512&t)?e.push(239,191,189):e.push(224|t>>12,128|t>>6&63,128|63&t)}return new Uint8Array(e)}function N6(n,e){switch(n){case Vl.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw sC(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Vl.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw sC(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=function IZ(n){if(typeof atob>"u")throw function cZ(n){return new ji(ki.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:sC(n,"Invalid character found")}const t=new Uint8Array(i.length);for(let r=0;r<i.length;r++)t[r]=i.charCodeAt(r);return t}class F6{constructor(e){this.base64=!1,this.contentType=null;const i=e.match(/^data:([^,]+)?,/);if(null===i)throw sC(Vl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const t=i[1]||null;null!=t&&(this.base64=function MZ(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(t,";base64"),this.contentType=this.base64?t.substring(0,t.length-7):t),this.rest=e.substring(e.indexOf(",")+1)}}class xd{constructor(e,i){let t=0,r="";M6(e)?(this.data_=e,t=e.size,r=e.type):e instanceof ArrayBuffer?(i?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),t=this.data_.length):e instanceof Uint8Array&&(i?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),t=e.length),this.size_=t,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,i){if(M6(this.data_)){const r=function DZ(n,e,i){return n.webkitSlice?n.webkitSlice(e,i):n.mozSlice?n.mozSlice(e,i):n.slice?n.slice(e,i):null}(this.data_,e,i);return null===r?null:new xd(r)}{const t=new Uint8Array(this.data_.buffer,e,i-e);return new xd(t,!0)}}static getBlob(...e){if(vN()){const i=e.map(t=>t instanceof xd?t.data_:t);return new xd(xZ.apply(null,i))}{const i=e.map(c=>jS(c)?function O6(n,e){switch(n){case Vl.RAW:return new wN(P6(e));case Vl.BASE64:case Vl.BASE64URL:return new wN(N6(n,e));case Vl.DATA_URL:return new wN(function TZ(n){const e=new F6(n);return e.base64?N6(Vl.BASE64,e.rest):function SZ(n){let e;try{e=decodeURIComponent(n)}catch{throw sC(Vl.DATA_URL,"Malformed data URL.")}return P6(e)}(e.rest)}(e),function AZ(n){return new F6(n).contentType}(e))}throw _N()}(Vl.RAW,c).data:c.data_);let t=0;i.forEach(c=>{t+=c.byteLength});const r=new Uint8Array(t);let s=0;return i.forEach(c=>{for(let h=0;h<c.length;h++)r[s++]=c[h]}),new xd(r,!0)}}uploadData(){return this.data_}}function CN(n){let e;try{e=JSON.parse(n)}catch{return null}return function gZ(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function L6(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function OZ(n,e){return e}class bo{constructor(e,i,t,r){this.server=e,this.local=i||e,this.writable=!!t,this.xform=r||OZ}}let $S=null;function aC(){if($S)return $S;const n=[];n.push(new bo("bucket")),n.push(new bo("generation")),n.push(new bo("metageneration")),n.push(new bo("name","fullPath",!0));const i=new bo("name");i.xform=function e(s,c){return function PZ(n){return!jS(n)||n.length<2?n:L6(n)}(c)},n.push(i);const r=new bo("size");return r.xform=function t(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new bo("timeCreated")),n.push(new bo("updated")),n.push(new bo("md5Hash",null,!0)),n.push(new bo("cacheControl",null,!0)),n.push(new bo("contentDisposition",null,!0)),n.push(new bo("contentEncoding",null,!0)),n.push(new bo("contentLanguage",null,!0)),n.push(new bo("contentType",null,!0)),n.push(new bo("metadata","customMetadata",!0)),$S=n,$S}function B6(n,e,i){const t=CN(e);return null===t?null:function FZ(n,e,i){const t={type:"file"},r=i.length;for(let s=0;s<r;s++){const c=i[s];t[c.local]=c.xform(t,e[c.server])}return function NZ(n,e){Object.defineProperty(n,"ref",{get:function i(){const s=new vo(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(t,n),t}(n,t,i)}class Zc{constructor(e,i,t,r){this.url=e,this.method=i,this.handler=t,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Yc(n){if(!n)throw _N()}function Zy(n){return function e(i,t){let r;return r=401===i.getStatus()?i.getErrorText().includes("Firebase App Check token is invalid")?function nZ(){return new ji(ki.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function tZ(){return new ji(ki.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===i.getStatus()?function eZ(n){return new ji(ki.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===i.getStatus()?function iZ(n){return new ji(ki.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):t,r.status=i.getStatus(),r.serverResponse=t.serverResponse,r}}function $6(n,e,i,t,r){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function h(){let ze="";for(let Ye=0;Ye<2;Ye++)ze+=Math.random().toString().slice(2);return ze}();c["Content-Type"]="multipart/related; boundary="+p;const y=function z6(n,e,i){const t=Object.assign({},i);return t.fullPath=n.path,t.size=e.size(),t.contentType||(t.contentType=function qZ(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),t}(e,t,r),x=function EN(n,e){const i={},t=e.length;for(let r=0;r<t;r++){const s=e[r];s.writable&&(i[s.server]=n[s.local])}return JSON.stringify(i)}(y,i),H=xd.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+x+"\r\n--"+p+"\r\nContent-Type: "+y.contentType+"\r\n\r\n",t,"\r\n--"+p+"--");if(null===H)throw function T6(){return new ji(ki.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const G={name:y.fullPath},Q=Ed(s,n.host,n._protocol),ke=n.maxUploadRetryTime,Ge=new Zc(Q,"POST",function GS(n,e){return function i(t,r){const s=B6(n,r,e);return Yc(null!==s),s}}(n,i),ke);return Ge.urlParams=G,Ge.headers=c,Ge.body=H.uploadData(),Ge.errorHandler=Zy(e),Ge}let q6=null;class QZ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Wy.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Wy.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Wy.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,t,r){if(this.sent_)throw oC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==t?this.xhr_.send(t):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw oC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw oC("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw oC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw oC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class XZ extends QZ{initXhr(){this.xhr_.responseType="text"}}function Ul(){return q6?q6():new XZ}class qm{constructor(e,i){this._service=e,this._location=i instanceof vo?i:vo.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new qm(e,i)}get root(){const e=new vo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return L6(this._location.path)}get storage(){return this._service}get parent(){const e=function kZ(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const i=new vo(this._location.bucket,e);return new qm(this._service,i)}_throwIfRoot(e){if(""===this._location.path)throw function uZ(n){return new ji(ki.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function dY(n){n._throwIfRoot("getDownloadURL");const e=function zZ(n,e,i){const r=Ed(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new Zc(r,"GET",function HZ(n,e){return function i(t,r){const s=B6(n,r,e);return Yc(null!==s),function LZ(n,e,i,t){const r=CN(e);if(null===r||!jS(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(y=>{const S=n.fullPath;return Ed("/b/"+c(n.bucket)+"/o/"+c(S),i,t)+k6({alt:"media",token:y})})[0]}(s,r,n.host,n._protocol)}}(n,i),c);return h.errorHandler=function lC(n){const e=Zy(n);return function i(t,r){let s=e(t,r);return 404===t.getStatus()&&(s=function JW(n){return new ji(ki.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}(e),h}(n.storage,n._location,aC());return n.storage.makeRequestWithTokens(e,Ul).then(i=>{if(null===i)throw function lZ(){return new ji(ki.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return i})}function Q6(n,e){if(n instanceof SN){const i=n;if(null==i._bucket)throw function oZ(){return new ji(ki.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+D6+"' property when initializing the app?")}();const t=new qm(i,i._bucket);return null!=e?Q6(t,e):t}return void 0!==e?function K6(n,e){const i=function RZ(n,e){const i=e.split("/").filter(t=>t.length>0).join("/");return 0===n.length?i:n+"/"+i}(n._location.path,e),t=new vo(n._location.bucket,i);return new qm(n.storage,t)}(n,e):n}function X6(n,e){const i=e?.[D6];return null==i?null:vo.makeFromBucketSpec(i,n)}class SN{constructor(e,i,t,r,s){this.app=e,this._authProvider=i,this._appCheckProvider=t,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=x6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?vo.makeFromBucketSpec(r,this._host):X6(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?vo.makeFromBucketSpec(this._url,e):X6(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,ve.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const i=e._authProvider.getImmediate({optional:!0});if(i){const t=yield i.getToken();if(null!==t)return t.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,ve.Z)(function*(){const i=e._appCheckProvider.getImmediate({optional:!0});return i?(yield i.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qm(this,e)}_makeRequest(e,i,t,r,s=!0){if(this._deleted)return new dZ(A6());{const c=function CZ(n,e,i,t,r,s,c=!0){const h=k6(n.urlParams),p=n.url+h,y=Object.assign({},n.headers);return function bZ(n,e){e&&(n["X-Firebase-GMPID"]=e)}(y,e),function yZ(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(y,i),function vZ(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(y,s),function wZ(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(y,t),new _Z(p,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c)}(e,this._appId,t,r,i,this._firebaseVersion,s);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,i){var t=this;return(0,ve.Z)(function*(){const[r,s]=yield Promise.all([t._getAuthToken(),t._getAppCheckToken()]);return t._makeRequest(e,i,r,s).getPromise()})()}}const J6="@firebase/storage",t4="storage";function _Y(n,e,i){return function W6(n,e,i){n._throwIfRoot("uploadBytes");const t=$6(n.storage,n._location,aC(),new xd(e,!0),i);return n.storage.makeRequestWithTokens(t,Ul).then(r=>({metadata:r,ref:n}))}(n=(0,an.m9)(n),e,i)}function yY(n){return dY(n=(0,an.m9)(n))}function vY(n,e){return function mY(n,e){if(e&&function fY(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof SN)return function pY(n,e){return new qm(n,e)}(n,e);throw yN("To use ref(service, url), the first argument must be a Storage instance.")}return Q6(n,e)}(n=(0,an.m9)(n),e)}function n4(n=(0,Ho.getApp)(),e){n=(0,an.m9)(n);const t=(0,Ho._getProvider)(n,t4).getImmediate({identifier:e}),r=(0,an.P0)("storage");return r&&function bY(n,e,i,t={}){!function gY(n,e,i,t={}){n.host=`${e}:${i}`,n._protocol="http";const{mockUserToken:r}=t;r&&(n._overrideAuthToken="string"==typeof r?r:(0,an.Sg)(r,n.app.options.projectId))}(n,e,i,t)}(t,...r),t}function wY(n,{instanceIdentifier:e}){const i=n.getProvider("app").getImmediate(),t=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new SN(i,t,r,e,Ho.SDK_VERSION)}!function CY(){(0,Ho._registerComponent)(new G_.wA(t4,wY,"PUBLIC").setMultipleInstances(!0)),(0,Ho.registerVersion)(J6,"0.11.2",""),(0,Ho.registerVersion)(J6,"0.11.2","esm2017")}();const s4=(0,Rn.u3)(yY,!0),o4=(0,Rn.u3)(n4,!0),a4=(0,Rn.u3)(vY,!0),l4=(0,Rn.u3)(_Y,!0);let Ky=(()=>{var n;class e{constructor(t){ue(this,"store",void 0),ue(this,"todo",void 0),ue(this,"inProgress",void 0),ue(this,"done",void 0),ue(this,"dinner",void 0),this.store=t}syncTask(){this.todo=this.store.collection("todo").valueChanges({idField:"id"}),this.inProgress=this.store.collection("inProgress").valueChanges({idField:"id"}),this.done=this.store.collection("done").valueChanges({idField:"id"}),this.dinner=this.store.collection("Dinner").valueChanges({idField:"id"})}getTodo(){const t=this.store.collection("todo",r=>r.orderBy("lastUpdate","desc"));return this.todo=t.valueChanges({idField:"id"})}getTodoWithORder(){var t=this;return(0,ve.Z)(function*(){console.log("getTodoWithORder");const s=t.store.collection("todo",c=>c.orderBy("createdDT","desc")).valueChanges({idField:"id"});return s.forEach(c=>{c.forEach(h=>{const y=new Date(h.lastUpdate?.seconds||0);console.log(y.toLocaleString()+": "+h.title)})}),s})()}getInProgress(){const t=this.store.collection("inProgress",r=>r.orderBy("lastUpdate","desc"));return this.inProgress=t.valueChanges({idField:"id"})}getDone(){const r=this.store.collection("done",s=>s.limit(5).orderBy("lastUpdate","desc")).valueChanges({idField:"id"});return this.done=r}editTask(t,r,s){t.afterClosed().subscribe(c=>{c&&(c.delete?this.store.collection(r).doc(s.id).delete():this.store.collection(r).doc(s.id).update(s))})}insertTask(t,r){this.store.collection(t).add(r)}deleteTask(t,r){this.store.collection(t).doc(r.id).delete()}updateTask(t,r){this.store.collection(t).doc(r.id).update(r)}getUserList(){return this.store.collection("User").valueChanges({idField:"id"})}getReadingList(){return this.store.collection("ReadingList",r=>r.orderBy("lastUpdate","desc")).valueChanges({idField:"id"})}addReadingList(t){try{return this.store.collection("ReadingList").add(t),!0}catch(r){return console.log(r),!1}}deleteReadingText(t){var r=this;return(0,ve.Z)(function*(){null!=t&&r.store.collection("ReadingList").doc(t.id).delete()})()}updateReadingText(t){var r=this;return(0,ve.Z)(function*(){null!=t&&r.store.collection("ReadingList").doc(t.id).update(t)})()}uploadImage_v2(t){const r=o4(),s=a4(r,"folder/test123.jpg");l4(s,t).then(c=>{let h="";s4(c.ref).then(p=>(console.log("File available at",p),h=p,p))},c=>{console.log("some error here"),console.log(c.message)})}uploadImage_v3(t){const r=o4(),s=a4(r,"folder/test123.jpg"),c=l4(s,t).then(function(){var h=(0,ve.Z)(function*(p){return yield s4(p.ref).then(y=>(console.log("File available at",y),y||""))});return function(p){return h.apply(this,arguments)}}(),h=>(console.log("some error here"),console.log(h.message),""));return console.log("uploadUrl: "+c),c||""}}return n=e,ue(e,"\u0275fac",function(t){return new(t||n)(a.LFG(rC))}),ue(e,"\u0275prov",a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),e})();const SY=["*",[["mat-card-footer"]]],TY=["*","mat-card-footer"];let c4=(()=>{var n;class e{constructor(t){this._animationMode=t}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,r){2&t&&a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:TY,decls:2,vars:0,template:function(t,r){1&t&&(a.F$t(SY),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),e})(),AY=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[xn,xn]}),e})();function MY(n,e){if(1&n&&a._UZ(0,"div",1),2&n){const i=a.oxw();a.Udp("background",i.backgroundColor)}}var MN=function(n){return n[n.Category=1]="Category",n[n.Status=2]="Status",n[n.Urgency=3]="Urgency",n}(MN||{});let kY=(()=>{var n;class e{constructor(){ue(this,"bubbleType",null),ue(this,"bubbleValue",""),ue(this,"disabled",!1)}ngOnInit(){}get backgroundColor(){return this.disabled?ud.Diabled:this.bubbleType===MN.Urgency?cy.getUrgentColor(this.bubbleValue||""):this.bubbleValue||ud.Default}}return n=e,ue(e,"\u0275fac",function(t){return new(t||n)}),ue(e,"\u0275cmp",a.Xpm({type:n,selectors:[["app-type-bubble"]],inputs:{bubbleType:"bubbleType",bubbleValue:"bubbleValue",disabled:"disabled"},decls:1,vars:1,consts:[["class","bubble",3,"background",4,"ngIf"],[1,"bubble"]],template:function(t,r){1&t&&a.YNc(0,MY,1,2,"div",0),2&t&&a.Q6J("ngIf",r.bubbleValue)},dependencies:[Vn],styles:[".bubble[_ngcontent-%COMP%]{min-height:15px;min-width:15px;max-height:20px;max-width:20px;border-radius:100%;border:solid 2px #cfcfcf}"]})),e})();function RY(n,e){if(1&n&&(a.TgZ(0,"div",9),a._uU(1),a.qZA()),2&n){const i=a.oxw(2);a.Udp("background",i.task.color||"#CDCDCD")("color","WHITE"),a.xp6(1),a.hij(" ",i.task.type," ")}}function OY(n,e){if(1&n){const i=a.EpF();a.TgZ(0,"mat-card",1),a.NdJ("dblclick",function(){a.CHM(i);const r=a.oxw();return a.KtG(r.edit.emit(r.task))}),a.TgZ(1,"div",2)(2,"div",3)(3,"div",4),a._uU(4),a.qZA(),a._UZ(5,"div",5),a.YNc(6,RY,2,5,"div",6),a._UZ(7,"app-type-bubble",7),a.qZA()(),a.TgZ(8,"div",8)(9,"div")(10,"p"),a._uU(11),a.qZA()()()()}if(2&n){const i=a.oxw();a.xp6(4),a.Oqu(i.task.title),a.xp6(2),a.Q6J("ngIf",i.task.type),a.xp6(1),a.Q6J("bubbleType",i.BubbleType)("bubbleValue",i.task.urgency),a.xp6(4),a.Oqu(i.task.description)}}let PY=(()=>{var n;class e{constructor(){ue(this,"task",null),ue(this,"edit",new a.vpe),ue(this,"BubbleType",MN.Urgency)}ngOnInit(){}}return n=e,ue(e,"\u0275fac",function(t){return new(t||n)}),ue(e,"\u0275cmp",a.Xpm({type:n,selectors:[["app-task"]],inputs:{task:"task"},outputs:{edit:"edit"},decls:1,vars:1,consts:[["class","item",3,"dblclick",4,"ngIf"],[1,"item",3,"dblclick"],[1,"heading"],[1,"supportings"],[1,"title"],[1,"hori-space"],["class","task-type",3,"background","color",4,"ngIf"],[3,"bubbleType","bubbleValue"],[1,"content"],[1,"task-type"]],template:function(t,r){1&t&&a.YNc(0,OY,12,5,"mat-card",0),2&t&&a.Q6J("ngIf",r.task)},dependencies:[Vn,c4,kY],styles:["[_nghost-%COMP%]{display:block}.item[_ngcontent-%COMP%]{margin-bottom:10px;cursor:pointer;background-color:#f5f5f559}.heading[_ngcontent-%COMP%]{margin-bottom:6px}.heading[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:Helvetica Neue,Roboto,sans-serif;font-weight:500;font-size:18px;margin-bottom:6px}.heading[_ngcontent-%COMP%]   .supportings[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.heading[_ngcontent-%COMP%]   .hori-space[_ngcontent-%COMP%]{margin-left:auto}.heading[_ngcontent-%COMP%]   .task-type[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;max-width:70px;min-width:22px;border-radius:20px;padding:4px 10px;line-height:normal;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.heading[_ngcontent-%COMP%]   app-type-bubble[_ngcontent-%COMP%]{margin-left:10px}.content[_ngcontent-%COMP%]{margin-left:2px}"]})),e})();function NY(n,e){if(1&n&&(a.TgZ(0,"mat-icon"),a._uU(1),a.qZA()),2&n){const i=e.ngIf;a.xp6(1),a.Oqu(i)}}var Wm=function(n){return n[n.Small=36]="Small",n[n.Medium=100]="Medium",n[n.Large=200]="Large",n}(Wm||{}),u4=function(n){return n.key="Button",n.displayName="Button",n.ref="",n.shortcutKey="z",n.description="Button",n.icon="touch_app",n}(u4||{});let kN=(()=>{var n;class e{constructor(){ue(this,"buttonSpec",u4),ue(this,"showSelectedIcon",!0),ue(this,"displayName",void 0),ue(this,"leadingIcon",void 0),ue(this,"grid",!1),ue(this,"selected",!1),ue(this,"disabled",!1),ue(this,"ClickEvent",new a.vpe)}ngOnInit(){}get buttonColor(){return this.disabled?void 0:this.selected?"white":"DimGray"}get backgroundColor(){return this.disabled?void 0:this.selected?"grey":void 0}get buttonClass(){return this.grid?"shared-button grid":"shared-button"}get buttonHeight(){return null==this.buttonSpec?.size?Wm.Small:this.buttonSpec.size}get buttonWidth(){return this.grid&&this.buttonSpec?.size==Wm.Large?this.buttonHeight:void 0}get buttonFontSize(){return this.grid&&this.buttonSpec?.size!=Wm.Small?"large":void 0}buttonClicked(t){this.ClickEvent.emit(t)}}return n=e,ue(e,"\u0275fac",function(t){return new(t||n)}),ue(e,"\u0275cmp",a.Xpm({type:n,selectors:[["shared-button"]],inputs:{buttonSpec:"buttonSpec",showSelectedIcon:"showSelectedIcon",displayName:"displayName",leadingIcon:"leadingIcon",grid:"grid",selected:"selected",disabled:"disabled"},outputs:{ClickEvent:"ClickEvent"},decls:4,vars:19,consts:[["mat-button","",3,"disabled","click"],[4,"ngIf"]],template:function(t,r){1&t&&(a.TgZ(0,"button",0),a.NdJ("click",function(c){return r.buttonClicked(c)}),a.YNc(1,NY,2,1,"mat-icon",1),a.TgZ(2,"span"),a._uU(3),a.qZA()()),2&t&&(a.Tol(r.buttonClass),a.Udp("selected",r.selected)("color",r.buttonColor)("background",r.backgroundColor)("height",r.buttonHeight,"px")("width",r.buttonWidth,"px")("font-size",r.buttonFontSize),a.ekj("mat-stroked-button",r.selected),a.Q6J("disabled",r.disabled),a.xp6(1),a.Q6J("ngIf",r.leadingIcon||(null==r.buttonSpec?null:r.buttonSpec.icon)),a.xp6(2),a.Oqu(r.displayName||(null==r.buttonSpec?null:r.buttonSpec.displayName)))},dependencies:[Vn,hd,fi],styles:[".shared-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding-left:12px}.grid[_ngcontent-%COMP%]{align-items:center;justify-content:center}mat-icon[_ngcontent-%COMP%]{padding-right:8px}span[_ngcontent-%COMP%]{text-overflow:ellipsis}"]})),e})();function FY(n,e){1&n&&(a.TgZ(0,"p",21),a._uU(1,"Empty list"),a.qZA())}function LY(n,e){if(1&n){const i=a.EpF();a.TgZ(0,"app-task",22),a.NdJ("edit",function(r){a.CHM(i);const s=a.oxw();return a.KtG(s.editTask("todo",r))}),a.qZA()}2&n&&a.Q6J("task",e.$implicit)}function BY(n,e){1&n&&(a.TgZ(0,"p",21),a._uU(1,"Empty list"),a.qZA())}function VY(n,e){if(1&n){const i=a.EpF();a.TgZ(0,"app-task",22),a.NdJ("edit",function(r){a.CHM(i);const s=a.oxw();return a.KtG(s.editTask("inProgress",r))}),a.qZA()}2&n&&a.Q6J("task",e.$implicit)}function UY(n,e){1&n&&(a.TgZ(0,"p",21),a._uU(1,"Empty list"),a.qZA())}function HY(n,e){if(1&n){const i=a.EpF();a.TgZ(0,"app-task",22),a.NdJ("edit",function(r){a.CHM(i);const s=a.oxw();return a.KtG(s.editTask("done",r))}),a.qZA()}2&n&&a.Q6J("task",e.$implicit)}const RN=function(n,e){return[n,e]};let jY=(()=>{var n;class e{constructor(t,r,s,c){ue(this,"dialog",void 0),ue(this,"store",void 0),ue(this,"dataset",void 0),ue(this,"authService",void 0),ue(this,"isAuthenticated",void 0),ue(this,"dialogDimen",{width:"80vw",height:"80vh",maxWidth:"80vw",maxHeight:"80vh"}),ue(this,"todo",void 0),ue(this,"inProgress",void 0),ue(this,"done",void 0),this.dialog=t,this.store=r,this.dataset=s,this.authService=c}ngOnInit(){this.syncTask()}documentKeyDown(t){EV(t)||xV(t)||("r"==t.key&&this.syncTask(),"n"==t.key&&this.newTask(),DV(t))}syncTask(){console.log("start sync "+(new Date).toISOString().slice(0,19)),this.todo=this.dataset.getTodo(),this.inProgress=this.dataset.getInProgress(),this.done=this.dataset.getDone()}newTask(){null!=this.dialog&&this.dialog.closeAll(),this.dialog.open(eV,{width:this.dialogDimen.width,height:this.dialogDimen.height,maxWidth:this.dialogDimen.maxWidth,maxHeight:this.dialogDimen.maxHeight,data:{task:{},type:Bc.NEW}}).afterClosed().subscribe(r=>{if(!r)return;const s={...r.task,lastUpdate:{seconds:Date.now()},createdDT:new Date};this.dataset.insertTask("todo",{id:$0(),...s})})}editTask(t,r){null!=this.dialog&&this.dialog.closeAll(),this.dialog.open(eV,{width:this.dialogDimen.width,height:this.dialogDimen.height,maxWidth:this.dialogDimen.maxWidth,maxHeight:this.dialogDimen.maxHeight,data:{type:Bc.EDIT,task:{...r},enableDelete:!0}}).afterClosed().subscribe(c=>{c&&(c.delete?this.dataset.deleteTask(t,c.task):this.dataset.updateTask(t,c.task))})}drop(t){if(t.previousContainer===t.container||!t.previousContainer.data||!t.container.data)return;const r={...t.previousContainer.data[t.previousIndex],lastUpdate:{seconds:Date.now()}};this.store.firestore.runTransaction(()=>Promise.all([this.dataset.deleteTask(t.previousContainer.id,r),this.dataset.insertTask(t.container.id,r)])),function K$(n,e,i,t){const r=z0(i,n.length-1),s=z0(t,e.length);n.length&&e.splice(s,0,n.splice(r,1)[0])}(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex)}logout(){this.authService.logout()}}return n=e,ue(e,"\u0275fac",function(t){return new(t||n)(a.Y36(ad),a.Y36(rC),a.Y36(Ky),a.Y36(we))}),ue(e,"\u0275cmp",a.Xpm({type:n,selectors:[["app-task-management"]],hostBindings:function(t,r){1&t&&a.NdJ("keydown",function(c){return r.documentKeyDown(c)},!1,a.evT)},decls:47,vars:42,consts:[[1,"content-wrapper"],[2,"position","relative","width","100%","height","100%"],[1,"content-real","background-container",2,"background-color","#fbfbfb","align-items","center"],[1,"img-container"],["src","../../assets/media/bkg3.jpg"],[1,"content-real",2,"position","absolute"],[1,"ordinary-section","left-small-space"],["mat-raised-button","","color","primary",3,"click"],["mat-button","",3,"click"],[1,"task-list-container"],[1,"task-block-list"],[2,"padding-left","20px"],["cdkDropList","","id","todo",1,"list","task-list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["todoList","cdkDropList"],["class","empty-label",4,"ngIf"],["cdkDrag","",3,"task","edit",4,"ngFor","ngForOf"],["displayName","add","leadingIcon","add",3,"selected","disabled","showSelectedIcon","click"],["cdkDropList","","id","inProgress",1,"list","task-list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["inProgressList","cdkDropList"],["cdkDropList","","id","done",1,"list","task-list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["doneList","cdkDropList"],[1,"empty-label"],["cdkDrag","",3,"task","edit"]],template:function(t,r){if(1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),a._UZ(4,"img",4),a.qZA()(),a.TgZ(5,"div",5)(6,"div",6)(7,"button",7),a.NdJ("click",function(){return r.syncTask()}),a._uU(8," Refresh "),a.TgZ(9,"mat-icon"),a._uU(10,"refresh"),a.qZA()(),a.TgZ(11,"button",8),a.NdJ("click",function(){return r.newTask()}),a._uU(12," New Task "),a.TgZ(13,"mat-icon"),a._uU(14,"add"),a.qZA()()(),a.TgZ(15,"div",9)(16,"div",10)(17,"h2",11),a._uU(18,"Backlog"),a.qZA(),a.TgZ(19,"mat-card",12,13),a.NdJ("cdkDropListDropped",function(c){return r.drop(c)}),a.ALo(21,"async"),a.YNc(22,FY,2,0,"p",14),a.ALo(23,"async"),a.YNc(24,LY,1,1,"app-task",15),a.ALo(25,"async"),a.TgZ(26,"shared-button",16),a.NdJ("click",function(){return r.newTask()}),a.qZA()()(),a.TgZ(27,"div",10)(28,"h2",11),a._uU(29,"In progress"),a.qZA(),a.TgZ(30,"mat-card",17,18),a.NdJ("cdkDropListDropped",function(c){return r.drop(c)}),a.ALo(32,"async"),a.YNc(33,BY,2,0,"p",14),a.ALo(34,"async"),a.YNc(35,VY,1,1,"app-task",15),a.ALo(36,"async"),a.qZA()(),a.TgZ(37,"div",10)(38,"h2",11),a._uU(39,"Done"),a.qZA(),a.TgZ(40,"mat-card",19,20),a.NdJ("cdkDropListDropped",function(c){return r.drop(c)}),a.ALo(42,"async"),a.YNc(43,UY,2,0,"p",14),a.ALo(44,"async"),a.YNc(45,HY,1,1,"app-task",15),a.ALo(46,"async"),a.qZA()()()()()()),2&t){const s=a.MAs(20),c=a.MAs(31),h=a.MAs(41);let p,y,x;a.xp6(19),a.Q6J("cdkDropListData",a.lcZ(21,15,r.todo))("cdkDropListConnectedTo",a.WLB(33,RN,h,c)),a.xp6(3),a.Q6J("ngIf",0===(null==(p=a.lcZ(23,17,r.todo))?null:p.length)),a.xp6(2),a.Q6J("ngForOf",a.lcZ(25,19,r.todo)),a.xp6(2),a.Q6J("selected",!1)("disabled",!1)("showSelectedIcon",!0),a.xp6(4),a.Q6J("cdkDropListData",a.lcZ(32,21,r.inProgress))("cdkDropListConnectedTo",a.WLB(36,RN,s,h)),a.xp6(3),a.Q6J("ngIf",0===(null==(y=a.lcZ(34,23,r.inProgress))?null:y.length)),a.xp6(2),a.Q6J("ngForOf",a.lcZ(36,25,r.inProgress)),a.xp6(5),a.Q6J("cdkDropListData",a.lcZ(42,27,r.done))("cdkDropListConnectedTo",a.WLB(39,RN,s,c)),a.xp6(3),a.Q6J("ngIf",0===(null==(x=a.lcZ(44,29,r.done))?null:x.length)),a.xp6(2),a.Q6J("ngForOf",a.lcZ(46,31,r.done))}},dependencies:[zr,Vn,CV,wV,hd,c4,fi,PY,kN,Eo],styles:[".cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.content-wrapper[_ngcontent-%COMP%]{overflow:auto;height:100%}.content-real[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:inherit;max-width:100%}.background-container[_ngcontent-%COMP%]{position:absolute;width:100%;overflow:hidden;display:flex;flex-direction:row;justify-content:center}.background-container[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{flex-shrink:0;flex-grow:0}.background-container[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;height:100%;border:none}.task-list-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex:1;overflow:auto;max-width:inherit}.task-block-list[_ngcontent-%COMP%]{margin:0 25px 25px 0}.task-list[_ngcontent-%COMP%]{overflow:auto;max-width:300px;width:300px;min-height:50px;max-height:60vh;background-color:#f2f2f280}","mat-toolbar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:10px}#app[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%}#top-banner[_ngcontent-%COMP%]{flex:0 0 64px;flex-shrink:0;height:-moz-fit-content;height:fit-content}#main[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;overflow:auto}#nav[_ngcontent-%COMP%]{border-right:1px solid rgb(164,164,164);display:flex;flex-direction:column;flex:0 0 188px;flex-shrink:0;justify-content:space-between;height:100%}#nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}mat-sidenav-container[_ngcontent-%COMP%]{width:100%}#main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;overflow:auto}#content[_ngcontent-%COMP%]{height:100%}.Loading-Spinner[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;padding:10px 0}",".ordinary-section[_ngcontent-%COMP%]{padding:12px 0}.ordinary-row[_ngcontent-%COMP%]{padding:8px 4px}.ordinary-top-bottom[_ngcontent-%COMP%]{padding:8px 0}.left-small-space[_ngcontent-%COMP%]{padding-left:16px}.right-small-space[_ngcontent-%COMP%]{padding-right:16px}"]})),e})();const zY=new a.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function $Y(){return{diameter:GY}}}),GY=100;var Qy;function qY(n,e){if(1&n&&(a.O4$(),a._UZ(0,"circle",4)),2&n){const i=a.oxw(),t=a.MAs(1);a.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+i._spinnerAnimationLabel)("stroke-dashoffset",i._getStrokeDashOffset(),"px")("stroke-dasharray",i._getStrokeCircumference(),"px")("stroke-width",i._getCircleStrokeWidth(),"%")("transform-origin",i._getCircleTransformOrigin(t)),a.uIk("r",i._getCircleRadius())}}function WY(n,e){if(1&n&&(a.O4$(),a._UZ(0,"circle",4)),2&n){const i=a.oxw(),t=a.MAs(1);a.Udp("stroke-dashoffset",i._getStrokeDashOffset(),"px")("stroke-dasharray",i._getStrokeCircumference(),"px")("stroke-width",i._getCircleStrokeWidth(),"%")("transform-origin",i._getCircleTransformOrigin(t)),a.uIk("r",i._getCircleRadius())}}const YY=sm(class{constructor(n){this._elementRef=n}},"primary");class Xy extends YY{get diameter(){return this._diameter}set diameter(e){this._diameter=Fs(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=Fs(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,Fs(e)))}constructor(e,i,t,r,s,c,h,p,y){super(e),this._document=t,this._nonce=y,this._diameter=100,this._value=0,this._resizeSubscription=Ln.w0.EMPTY,this.mode="determinate";const x=Xy._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),x.has(t.head)||x.set(t.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),s&&(s.color&&(this.color=this.defaultColor=s.color),s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth)),i.isBrowser&&i.SAFARI&&h&&c&&p&&(this._resizeSubscription=h.change(150).subscribe(()=>{"indeterminate"===this.mode&&p.run(()=>c.markForCheck())}))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=c_(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){const i=50*(e.currentScale??1);return`${i}% ${i}%`}_attachStyleNode(){const e=this._styleRoot,i=this._diameter,t=Xy._diameters;let r=t.get(e);if(!r||!r.has(i)){const s=this._document.createElement("style");this._nonce&&(s.nonce=this._nonce),s.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),s.textContent=this._getAnimationText(),e.appendChild(s),r||(r=new Set,t.set(e,r)),r.add(i)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}(Qy=Xy)._diameters=new WeakMap,Qy.\u0275fac=function(e){return new(e||Qy)(a.Y36(a.SBq),a.Y36(wi),a.Y36(re,8),a.Y36(a.QbO,8),a.Y36(zY),a.Y36(a.sBO),a.Y36(Ja),a.Y36(a.R0b),a.Y36(a.Ojb,8))},Qy.\u0275cmp=a.Xpm({type:Qy,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,i){2&e&&(a.uIk("aria-valuemin","determinate"===i.mode?0:null)("aria-valuemax","determinate"===i.mode?100:null)("aria-valuenow","determinate"===i.mode?i.value:null)("mode",i.mode),a.Udp("width",i.diameter,"px")("height",i.diameter,"px"),a.ekj("_mat-animation-noopable",i._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[a.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,i){1&e&&(a.O4$(),a.TgZ(0,"svg",0,1),a.YNc(2,qY,1,11,"circle",2),a.YNc(3,WY,1,9,"circle",3),a.qZA()),2&e&&(a.Udp("width",i.diameter,"px")("height",i.diameter,"px"),a.Q6J("ngSwitch","indeterminate"===i.mode),a.uIk("viewBox",i._getViewBox()),a.xp6(2),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1))},dependencies:[Ys,Co],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let QY=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[xn,_n,xn]}),e})();function XY(n,e){1&n&&(a.TgZ(0,"h2"),a._uU(1,"Create Memo"),a.qZA())}function JY(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"You must enter a value"),a.qZA())}function eK(n,e){1&n&&a._UZ(0,"mat-spinner",13),2&n&&a.Q6J("diameter",20)}function tK(n,e){if(1&n){const i=a.EpF();a.TgZ(0,"button",14),a.NdJ("click",function(){a.CHM(i);const r=a.oxw();return a.KtG(r.openInNewTab(r.data.readingItem.img))}),a.TgZ(1,"mat-icon"),a._uU(2,"open_in_new"),a.qZA(),a._uU(3," Preview Image "),a.qZA()}}const nK=function(n){return{readingItem:n,delete:!0}};function iK(n,e){if(1&n&&(a.TgZ(0,"button",15)(1,"mat-icon"),a._uU(2,"delete"),a.qZA(),a._uU(3," Delete "),a.qZA()),2&n){const i=a.oxw();a.Q6J("mat-dialog-close",a.VKq(1,nK,i.data.readingItem))}}function rK(n,e){if(1&n&&(a.TgZ(0,"div",16),a._uU(1),a.ALo(2,"date"),a.qZA()),2&n){const i=a.oxw();a.xp6(1),a.hij("Last Update: ",a.xi3(2,1,null==i.data.readingItem.lastUpdate?null:i.data.readingItem.lastUpdate.seconds,"yyyy/MM/dd h:mm a"),"")}}var Dd=function(n){return n.width="80vw",n.height="fit-content",n.maxWidth="80vw",n.maxHeight="80vh",n}(Dd||{});let h4=(()=>{var n;class e{constructor(t,r,s){ue(this,"dialogRef",void 0),ue(this,"data",void 0),ue(this,"dataset",void 0),ue(this,"backupReadingItem",{...this.data.readingItem}),ue(this,"title",new Pt("",[Ps.required])),ue(this,"content",new Pt("")),ue(this,"url",new Pt("")),ue(this,"img",""),ue(this,"loading",!1),this.dialogRef=t,this.data=r,this.dataset=s}ngOnInit(){this.initReadingItem()}initReadingItem(){this.title.setValue(this.data.readingItem.title),this.content.setValue(this.data.readingItem.content||""),this.url.setValue(this.data.readingItem.url||""),console.log(this.data.readingItem.img)}filesSelected(t){const r=t.target?.files;r&&(this.loading=!0,this.dataset.uploadImage_v3(r[0]).then(s=>{this.data.readingItem.img=s}).finally(()=>{this.loading=!1}).catch(s=>{this.loading=!1}))}openInNewTab(t){null==t||""==t||window.open(t,"_blank")}cancel(){this.data.readingItem=this.backupReadingItem,this.dialogRef.close(this.data)}onSubmit(){this.title.errors||(this.data.readingItem.lastUpdate={seconds:Date.now()},this.data.readingItem.title=this.title.value,this.data.readingItem.content=this.content.value,this.data.readingItem.url=this.url.value,console.log("here"),console.log(this.data.readingItem),this.dialogRef.close(this.data))}}return n=e,ue(e,"\u0275fac",function(t){return new(t||n)(a.Y36(um),a.Y36(Jh),a.Y36(Ky))}),ue(e,"\u0275cmp",a.Xpm({type:n,selectors:[["app-reading-item-dialog"]],decls:29,vars:10,consts:[["id","task-form"],[4,"ngIf"],["appearance","fill","color","primary"],["matInput","",3,"formControl"],["mat-button","","color","primary",1,"upload",3,"disabled","click"],[3,"diameter",4,"ngIf"],["type","file","id","upload","accept","image/*",3,"change"],["inputfile",""],["mat-button","","class","upload","color","primary",3,"click",4,"ngIf"],[1,"ordinary-top-bottom"],["mat-button","","color","primary",3,"mat-dialog-close",4,"ngIf"],["mat-raised-button","","type","submit","color","primary",1,"save",3,"click"],["class","hint",4,"ngIf"],[3,"diameter"],["mat-button","","color","primary",1,"upload",3,"click"],["mat-button","","color","primary",3,"mat-dialog-close"],[1,"hint"]],template:function(t,r){if(1&t){const s=a.EpF();a.TgZ(0,"form",0),a.YNc(1,XY,2,0,"h2",1),a.TgZ(2,"mat-form-field",2)(3,"mat-label"),a._uU(4,"Title"),a.qZA(),a._UZ(5,"input",3),a.YNc(6,JY,2,0,"mat-error",1),a.qZA(),a.TgZ(7,"mat-form-field",2)(8,"mat-label"),a._uU(9,"Content"),a.qZA(),a._UZ(10,"textarea",3),a.qZA(),a.TgZ(11,"mat-form-field",2)(12,"mat-label"),a._uU(13,"URL"),a.qZA(),a._UZ(14,"input",3),a.qZA(),a.TgZ(15,"div")(16,"button",4),a.NdJ("click",function(){a.CHM(s);const h=a.MAs(22);return a.KtG(h.click())}),a.TgZ(17,"mat-icon"),a._uU(18,"upload"),a.qZA(),a._uU(19," Upload Memo Image "),a.qZA(),a.YNc(20,eK,1,1,"mat-spinner",5),a.TgZ(21,"input",6,7),a.NdJ("change",function(h){return r.filesSelected(h)}),a.qZA(),a.YNc(23,tK,4,0,"button",8),a.qZA(),a.TgZ(24,"div",9),a.YNc(25,iK,4,3,"button",10),a.TgZ(26,"button",11),a.NdJ("click",function(){return r.onSubmit()}),a._uU(27," Save "),a.qZA(),a.YNc(28,rK,3,4,"div",12),a.qZA()()}2&t&&(a.xp6(1),a.Q6J("ngIf",1==r.data.type),a.xp6(4),a.Q6J("formControl",r.title),a.xp6(1),a.Q6J("ngIf",r.title.invalid),a.xp6(4),a.Q6J("formControl",r.content),a.xp6(4),a.Q6J("formControl",r.url),a.xp6(2),a.Q6J("disabled",r.data.readingItem.img||r.loading),a.xp6(4),a.Q6J("ngIf",r.loading),a.xp6(3),a.Q6J("ngIf",null==r.data.readingItem?null:r.data.readingItem.img),a.xp6(2),a.Q6J("ngIf",r.data.enableDelete),a.xp6(3),a.Q6J("ngIf",r.data.enableDelete))},dependencies:[Vn,hd,fi,gD,j1,ly,ym,L0,Qu,Ic,Sh,Th,Vo,Ph,Xy,Ks],styles:["#task-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:large}#task-form[_ngcontent-%COMP%]   #close[_ngcontent-%COMP%]{margin-left:auto}#task-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin:0}#task-form[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{color:red}#task-form[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}#task-form[_ngcontent-%COMP%]   .upload[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}#task-form[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]{width:100%}#task-form[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-size:smaller}","mat-toolbar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:10px}#app[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%}#top-banner[_ngcontent-%COMP%]{flex:0 0 64px;flex-shrink:0;height:-moz-fit-content;height:fit-content}#main[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;overflow:auto}#nav[_ngcontent-%COMP%]{border-right:1px solid rgb(164,164,164);display:flex;flex-direction:column;flex:0 0 188px;flex-shrink:0;justify-content:space-between;height:100%}#nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}mat-sidenav-container[_ngcontent-%COMP%]{width:100%}#main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;overflow:auto}#content[_ngcontent-%COMP%]{height:100%}.Loading-Spinner[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;padding:10px 0}",".ordinary-section[_ngcontent-%COMP%]{padding:12px 0}.ordinary-row[_ngcontent-%COMP%]{padding:8px 4px}.ordinary-top-bottom[_ngcontent-%COMP%]{padding:8px 0}.left-small-space[_ngcontent-%COMP%]{padding-left:16px}.right-small-space[_ngcontent-%COMP%]{padding-right:16px}"]})),e})();const sK=Math.pow(2,31)-1;class ON{constructor(e,i){this._overlayRef=i,this._afterDismissed=new Xe.x,this._afterOpened=new Xe.x,this._onAction=new Xe.x,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,sK))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const f4=new a.OlP("MatSnackBarData");class WS{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const oK={snackBarState:va("state",[fo("void, hidden",ii({transform:"scale(0.8)",opacity:0})),fo("visible",ii({transform:"scale(1)",opacity:1})),Sr("* => visible",Bs("150ms cubic-bezier(0, 0, 0.2, 1)")),Sr("* => void, * => hidden",Bs("75ms cubic-bezier(0.4, 0.0, 1, 1)",ii({opacity:0})))])};let aK=0,lK=(()=>{var n;class e extends qb{constructor(t,r,s,c,h){super(),this._ngZone=t,this._elementRef=r,this._changeDetectorRef=s,this._platform=c,this.snackBarConfig=h,this._document=(0,a.f3M)(re),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Xe.x,this._onExit=new Xe.x,this._onEnter=new Xe.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+aK++,this.attachDomPortal=p=>{this._assertNotAttached();const y=this._portalOutlet.attachDomPortal(p);return this._afterPortalAttached(),y},this._live="assertive"!==h.politeness||h.announcementMessage?"off"===h.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),r}attachTemplatePortal(t){this._assertNotAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),r}onAnimationEnd(t){const{fromState:r,toState:s}=t;if(("void"===s&&"void"!==r||"hidden"===s)&&this._completeExit(),"visible"===s){const c=this._onEnter;this._ngZone.run(()=>{c.next(),c.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Cn(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const t=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(s=>t.classList.add(s)):t.classList.add(r)),this._exposeToModals()}_exposeToModals(){const t=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let s=0;s<r.length;s++){const c=r[s],h=c.getAttribute("aria-owns");this._trackedModals.add(c),h?-1===h.indexOf(t)&&c.setAttribute("aria-owns",h+" "+t):c.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{const r=t.getAttribute("aria-owns");if(r){const s=r.replace(this._liveElementId,"").trim();s.length>0?t.setAttribute("aria-owns",s):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&r){let s=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(s=document.activeElement),t.removeAttribute("aria-hidden"),r.appendChild(t),s?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(wi),a.Y36(WS))},n.\u0275dir=a.lG2({type:n,viewQuery:function(t,r){if(1&t&&a.Gf($h,7),2&t){let s;a.iGM(s=a.CRH())&&(r._portalOutlet=s.first)}},features:[a.qOj]}),e})();const p4=new a.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function cK(){return new WS}});let uK=(()=>{var n;class e{get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,r,s,c,h,p){this._overlay=t,this._live=r,this._injector=s,this._breakpointObserver=c,this._parentSnackBar=h,this._defaultConfig=p,this._snackBarRefAtThisLevel=null}openFromComponent(t,r){return this._attach(t,r)}openFromTemplate(t,r){return this._attach(t,r)}open(t,r="",s){const c={...this._defaultConfig,...s};return c.data={message:t,action:r},c.announcementMessage===t&&(c.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,c)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,r){const c=a.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:WS,useValue:r}]}),h=new em(this.snackBarContainerComponent,r.viewContainerRef,c),p=t.attach(h);return p.instance.snackBarConfig=r,p.instance}_attach(t,r){const s={...new WS,...this._defaultConfig,...r},c=this._createOverlay(s),h=this._attachSnackBarContainer(c,s),p=new ON(h,c);if(t instanceof a.Rgc){const y=new R_(t,null,{$implicit:s.data,snackBarRef:p});p.instance=h.attachTemplatePortal(y)}else{const y=this._createInjector(s,p),x=new em(t,void 0,y),S=h.attachComponentPortal(x);p.instance=S.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(En(c.detachments())).subscribe(y=>{c.overlayElement.classList.toggle(this.handsetCssClass,y.matches)}),s.announcementMessage&&h._onAnnounce.subscribe(()=>{this._live.announce(s.announcementMessage,s.politeness)}),this._animateSnackBar(p,s),this._openedSnackBarRef=p,this._openedSnackBarRef}_animateSnackBar(t,r){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),r.duration&&r.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(r.duration))}_createOverlay(t){const r=new nm;r.direction=t.direction;let s=this._overlay.position().global();const c="rtl"===t.direction,h="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!c||"end"===t.horizontalPosition&&c,p=!h&&"center"!==t.horizontalPosition;return h?s.left("0"):p?s.right("0"):s.centerHorizontally(),"top"===t.verticalPosition?s.top("0"):s.bottom("0"),r.positionStrategy=s,this._overlay.create(r)}_createInjector(t,r){return a.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:ON,useValue:r},{provide:f4,useValue:t.data}]})}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(Ls),a.LFG(I_),a.LFG(a.zs3),a.LFG(C_),a.LFG(n,12),a.LFG(p4))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),e})();function dK(n,e){if(1&n){const i=a.EpF();a.TgZ(0,"div",2)(1,"button",3),a.NdJ("click",function(){a.CHM(i);const r=a.oxw();return a.KtG(r.action())}),a._uU(2),a.qZA()()}if(2&n){const i=a.oxw();a.xp6(2),a.Oqu(i.data.action)}}function hK(n,e){}let fK=(()=>{var n;class e{constructor(t,r){this.snackBarRef=t,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(ON),a.Y36(f4))},n.\u0275cmp=a.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"span",0),a._uU(1),a.qZA(),a.YNc(2,dK,3,1,"div",1)),2&t&&(a.xp6(1),a.Oqu(r.data.message),a.xp6(1),a.Q6J("ngIf",r.hasAction))},dependencies:[Vn,fi],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),e})(),pK=(()=>{var n;class e extends lK{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return(n=e).\u0275fac=function(){let i;return function(r){return(i||(i=a.n5z(n)))(r||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,r){1&t&&a.WFA("@state.done",function(c){return r.onAnimationEnd(c)}),2&t&&a.d8E("@state",r._animationState)},features:[a.qOj],decls:3,vars:3,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.YNc(1,hK,0,0,"ng-template",1),a.qZA(),a._UZ(2,"div")),2&t&&(a.xp6(2),a.uIk("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[$h],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[oK.snackBarState]}}),e})(),m4=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[rm,tm,_n,Lc,xn,xn]}),e})(),mK=(()=>{var n;class e extends uK{constructor(t,r,s,c,h,p){super(t,r,s,c,h,p),this.simpleSnackBarComponent=fK,this.snackBarContainerComponent=pK,this.handsetCssClass="mat-snack-bar-handset"}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(Ls),a.LFG(I_),a.LFG(a.zs3),a.LFG(C_),a.LFG(n,12),a.LFG(p4))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:m4}),e})(),g4=(()=>{var n;class e{constructor(t,r){ue(this,"zone",void 0),ue(this,"notiBar",void 0),this.zone=t,this.notiBar=r}openBar(t,r=void 0,s=3e3,c=0){this.zone.run(()=>{setTimeout(()=>{this.notiBar.open(t,r,{duration:s})},c)})}}return n=e,ue(e,"\u0275fac",function(t){return new(t||n)(a.LFG(a.R0b),a.LFG(mK))}),ue(e,"\u0275prov",a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),e})();function gK(n,e){if(1&n&&(a.TgZ(0,"div",14),a._UZ(1,"img",15),a.qZA()),2&n){const i=a.oxw().$implicit;a.xp6(1),a.Q6J("src",i.img,a.LSH)}}function _K(n,e){if(1&n){const i=a.EpF();a.TgZ(0,"div",5),a.YNc(1,gK,2,1,"div",6),a.TgZ(2,"div",7)(3,"div",8),a._uU(4),a.qZA(),a.TgZ(5,"div",9),a._uU(6),a.qZA(),a.TgZ(7,"div",10),a.NdJ("click",function(){const s=a.CHM(i).$implicit,c=a.oxw();return a.KtG(c.copyText(s.url))}),a._uU(8),a.qZA()(),a.TgZ(9,"div",11)(10,"button",12),a.NdJ("click",function(){const s=a.CHM(i).$implicit,c=a.oxw();return a.KtG(c.editText(s))}),a.TgZ(11,"mat-icon"),a._uU(12,"edit"),a.qZA()(),a.TgZ(13,"button",12),a.NdJ("click",function(){const s=a.CHM(i).$implicit,c=a.oxw();return a.KtG(c.copyText(s.url))}),a.TgZ(14,"mat-icon"),a._uU(15,"content_copy"),a.qZA()(),a.TgZ(16,"button",13),a.NdJ("click",function(){const s=a.CHM(i).$implicit,c=a.oxw();return a.KtG(c.openInNewTab(s.url))}),a.TgZ(17,"mat-icon"),a._uU(18,"open_in_new"),a.qZA()()()()}if(2&n){const i=e.$implicit;a.xp6(1),a.Q6J("ngIf",i.img),a.xp6(3),a.Oqu(i.title),a.xp6(2),a.Oqu(i.content),a.xp6(2),a.Oqu(i.url),a.xp6(8),a.Q6J("disabled",!i.url)}}let yK=(()=>{var n;class e{constructor(t,r,s){ue(this,"notiBar",void 0),ue(this,"dataset",void 0),ue(this,"dialog",void 0),ue(this,"readingList",void 0),ue(this,"prologue","Two households, both alike in dignity(In fair Verona, where we lay our scene),From ancient grudge break to new mutiny,Where civil blood makes civil hands unclean.From forth the fatal loins of these two foesA pair of star-crossed lovers take their life;Whose misadventured piteous overthrowsDoth with their death bury their parents\u2019 strife.The fearful passage of their death-marked loveAnd the continuance of their parents\u2019 rage,Which, but their children\u2019s end, naught could remove,Is now the two hours\u2019 traffic of our stage;The which, if you with patient ears attend,What here shall miss, our toil shall strive to mend."),this.notiBar=t,this.dataset=r,this.dialog=s}ngOnInit(){this.syncReadingList()}syncReadingList(){this.readingList=this.dataset.getReadingList()}openToast(t){this.notiBar.openBar(t,"close")}copyText(t){var r=this;return(0,ve.Z)(function*(){try{yield navigator.clipboard.writeText(t),r.openToast("copied")}catch{r.openToast("copy failed")}})()}openInNewTab(t){window.open(t,"_blank")}filesSelected(t){const r=t.target?.files;if(!r)return;const s=this.dataset.uploadImage_v2(r[0]);void 0!==s&&this.openToast("file uploaded: "+s)}createText(){const t={id:"123",title:"Predictability",content:"Predictability in the cloud lets you move forward with confidence. Predictability can be focused on performance predictability or cost predictability. Both performance and cost predictability are heavily influenced by the Microsoft Azure Well-Architected Framework. Deploy a solution that\u2019s built around this framework and you have a solution whose cost and performance are predictable.",url:"",img:"",lastUpdate:{seconds:Date.now()}};this.dataset.addReadingList(t)}editText(t){null!=this.dialog&&this.dialog.closeAll(),this.dialog.open(h4,{width:Dd.width,height:Dd.height,maxWidth:Dd.maxWidth,maxHeight:Dd.maxHeight,data:{type:Bc.EDIT,readingItem:t,enableDelete:!0}}).afterClosed().subscribe(s=>{if(!s)return;const c={...s.readingItem};s.delete&&confirm("Are you sure to delete this dinner?")?(this.dataset.deleteReadingText(c),this.notiBar.openBar("Item deleted")):(this.dataset.updateReadingText(c),this.notiBar.openBar("Item udpated"))})}createText_v2(){null!=this.dialog&&this.dialog.closeAll(),this.dialog.open(h4,{width:Dd.width,height:Dd.height,maxWidth:Dd.maxWidth,maxHeight:Dd.maxHeight,data:{type:Bc.NEW,readingItem:{}}}).afterClosed().subscribe(r=>{if(!r)return;const s={...r.readingItem,id:$0()};console.log(s),this.dataset.addReadingList(s)?this.notiBar.openBar("Item created."):this.notiBar.openBar("Failed to create item")})}}return n=e,ue(e,"\u0275fac",function(t){return new(t||n)(a.Y36(g4),a.Y36(Ky),a.Y36(ad))}),ue(e,"\u0275cmp",a.Xpm({type:n,selectors:[["app-text-editor"]],decls:17,vars:3,consts:[[1,"ordinary-section","left-small-space","right-small-space"],["mat-raised-button","","color","primary",3,"click"],[1,"ordinary-row","url-session"],[1,"reading-item","click","ordinary-section","new-text",3,"click"],["class","reading-item",4,"ngFor","ngForOf"],[1,"reading-item"],["class","img-container",4,"ngIf"],["id","context"],[1,"title"],[1,"content"],[1,"click",3,"click"],[1,"controls"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","primary",3,"disabled","click"],[1,"img-container"],[3,"src"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"h2"),a._uU(2,"To Do List"),a.qZA(),a.TgZ(3,"button",1),a.NdJ("click",function(){return r.syncReadingList()}),a._uU(4," Refresh "),a.TgZ(5,"mat-icon"),a._uU(6,"refresh"),a.qZA()(),a.TgZ(7,"div",2)(8,"div",3),a.NdJ("click",function(){return r.createText_v2()}),a.TgZ(9,"div")(10,"mat-icon"),a._uU(11,"add"),a.qZA()(),a.TgZ(12,"div")(13,"div"),a._uU(14,"Add new text"),a.qZA()()(),a.YNc(15,_K,19,5,"div",4),a.ALo(16,"async"),a.qZA()()),2&t&&(a.xp6(15),a.Q6J("ngForOf",a.lcZ(16,1,r.readingList)))},dependencies:[zr,Vn,hd,fi,Eo],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.url-session[_ngcontent-%COMP%]{display:grid;max-width:1200px;margin:0 auto;gap:1rem}@media (min-width: 300px){.url-session[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}@media (min-width: 700px){.url-session[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (min-width: 1000px){.url-session[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}.url-session[_ngcontent-%COMP%]   .reading-item[_ngcontent-%COMP%]{background-color:#f1f1f1;border-radius:15px;max-height:13rem;display:flex;flex-direction:column;transition:background-color .3s linear}.url-session[_ngcontent-%COMP%]   .reading-item[_ngcontent-%COMP%]:hover{background-color:#e1dfdf}.url-session[_ngcontent-%COMP%]   .reading-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;border-radius:inherit}.url-session[_ngcontent-%COMP%]   .reading-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:6rem;width:auto}.url-session[_ngcontent-%COMP%]   .reading-item[_ngcontent-%COMP%]   #context[_ngcontent-%COMP%]{min-width:5rem;height:80%;padding:8px 10px 0;display:flex;flex-direction:column}.url-session[_ngcontent-%COMP%]   .reading-item[_ngcontent-%COMP%]   #context[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:500}.url-session[_ngcontent-%COMP%]   .reading-item[_ngcontent-%COMP%]   #context[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow-y:auto}.url-session[_ngcontent-%COMP%]   .reading-item[_ngcontent-%COMP%]   #context[_ngcontent-%COMP%]   .new-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}.url-session[_ngcontent-%COMP%]   .reading-item[_ngcontent-%COMP%]   #context[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{align-self:flex-end}.new-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.new-text[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:3rem}.click[_ngcontent-%COMP%]{cursor:pointer}","mat-toolbar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:10px}#app[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%}#top-banner[_ngcontent-%COMP%]{flex:0 0 64px;flex-shrink:0;height:-moz-fit-content;height:fit-content}#main[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;overflow:auto}#nav[_ngcontent-%COMP%]{border-right:1px solid rgb(164,164,164);display:flex;flex-direction:column;flex:0 0 188px;flex-shrink:0;justify-content:space-between;height:100%}#nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}mat-sidenav-container[_ngcontent-%COMP%]{width:100%}#main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;overflow:auto}#content[_ngcontent-%COMP%]{height:100%}.Loading-Spinner[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;padding:10px 0}",".ordinary-section[_ngcontent-%COMP%]{padding:12px 0}.ordinary-row[_ngcontent-%COMP%]{padding:8px 4px}.ordinary-top-bottom[_ngcontent-%COMP%]{padding:8px 0}.left-small-space[_ngcontent-%COMP%]{padding-left:16px}.right-small-space[_ngcontent-%COMP%]{padding-right:16px}"]})),e})();function vK(n,e){if(1&n){const i=a.EpF();a.TgZ(0,"shared-button",5),a.NdJ("click",function(){const s=a.CHM(i).$implicit,c=a.oxw(2);return a.KtG(c.changeRouteBP(s))}),a.qZA()}if(2&n){const i=e.$implicit;a.s9C("leadingIcon",i.icon?i.icon:"lens_blur"),a.Q6J("buttonSpec",i)("grid",!0)("showSelectedIcon",!0)("selected",!1)("disabled",!1)}}function bK(n,e){if(1&n&&(a.TgZ(0,"div")(1,"div"),a._uU(2,"Choose Task"),a.qZA(),a.TgZ(3,"div",3),a.YNc(4,vK,1,6,"shared-button",4),a.qZA()()),2&n){const i=a.oxw();a.xp6(4),a.Q6J("ngForOf",i.plannerSpecList)}}function wK(n,e){1&n&&(a.TgZ(0,"div"),a._uU(1,"/budeget-planner"),a.qZA())}function CK(n,e){1&n&&(a.TgZ(0,"div"),a._uU(1,"/paytgt"),a.qZA())}let EK=(()=>{var n;class e{constructor(t,r,s){ue(this,"route",void 0),ue(this,"authService",void 0),ue(this,"activeRoute",void 0),ue(this,"currentRoute",void 0),ue(this,"plannerSpecList",[{key:"t",displayName:"Pay Together",ref:"paytgt",size:Wm.Medium,order:0,description:"Go to PT",shortcutKey:"T",icon:"diversity_1"},{key:"p",displayName:"Planner",ref:"Planner",size:Wm.Medium,order:0,description:"Go to P",shortcutKey:"P",icon:"calendar_month"}]),this.route=t,this.authService=r,this.activeRoute=s,t.events.subscribe(c=>{this.currentRoute=t.url})}ngOnInit(){console.log("currentRoute: "+this.currentRoute)}changeRouteBP(t){this.authService.navigatePage(t.ref,!1,this.currentRoute)}logout(){this.authService.logout()}}return n=e,ue(e,"\u0275fac",function(t){return new(t||n)(a.Y36(qr),a.Y36(we),a.Y36(wc))}),ue(e,"\u0275cmp",a.Xpm({type:n,selectors:[["app-budget-planner"]],decls:5,vars:4,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[2,"display","flex","flex-direction","row"],[3,"buttonSpec","leadingIcon","grid","showSelectedIcon","selected","disabled","click",4,"ngFor","ngForOf"],[3,"buttonSpec","leadingIcon","grid","showSelectedIcon","selected","disabled","click"]],template:function(t,r){1&t&&(a.YNc(0,bK,5,1,"div",0),a.ynx(1,1),a.YNc(2,wK,2,0,"div",2),a.YNc(3,CK,2,0,"div",2),a.BQk(),a._UZ(4,"router-outlet")),2&t&&(a.Q6J("ngIf","/budget-planner"==r.currentRoute),a.xp6(1),a.Q6J("ngSwitch",r.currentRoute),a.xp6(1),a.Q6J("ngSwitchCase","/budget-planner"),a.xp6(1),a.Q6J("ngSwitchCase","/paytgt"))},dependencies:[zr,Vn,Ys,Co,ep,kN]})),e})();function _4(n,e){return e?i=>za(e.pipe(Cn(1),function xK(){return(0,ui.e)((n,e)=>{n.subscribe((0,Qn.x)(e,Ab.Z))})}()),i.pipe(_4(n))):(0,zn.z)((i,t)=>n(i,t).pipe(Cn(1),ks(i)))}function y4(n,e=id.z){const i=zb(n,e);return _4(()=>i)}const DK=["mat-menu-item",""];function IK(n,e){1&n&&(a.O4$(),a.TgZ(0,"svg",3),a._UZ(1,"polygon",4),a.qZA())}const SK=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],TK=["mat-icon, [matMenuItemIcon]","*"],PN=new a.OlP("MAT_MENU_PANEL"),AK=Wh(n0(class{}));let cC=(()=>{var n;class e extends AK{constructor(t,r,s,c,h){super(),this._elementRef=t,this._document=r,this._focusMonitor=s,this._parentMenu=c,this._changeDetectorRef=h,this.role="menuitem",this._hovered=new Xe.x,this._focused=new Xe.x,this._highlighted=!1,this._triggersSubmenu=!1,c?.addItem?.(this)}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),r=t.querySelectorAll("mat-icon, .material-icons");for(let s=0;s<r.length;s++)r[s].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(re),a.Y36(Xa),a.Y36(PN,8),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(t,r){1&t&&a.NdJ("click",function(c){return r._checkDisabled(c)})("mouseenter",function(){return r._handleMouseEnter()}),2&t&&(a.uIk("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),a.ekj("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[a.qOj],attrs:DK,ngContentSelectors:TK,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,r){1&t&&(a.F$t(SK),a.Hsn(0),a.TgZ(1,"span",0),a.Hsn(2,1),a.qZA(),a._UZ(3,"div",1),a.YNc(4,IK,2,0,"svg",2)),2&t&&(a.xp6(3),a.Q6J("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),a.xp6(1),a.Q6J("ngIf",r._triggersSubmenu))},dependencies:[Vn,Mc],encapsulation:2,changeDetection:0}),e})();const MK=new a.OlP("MatMenuContent"),ZS={transformMenu:va("transformMenu",[fo("void",ii({opacity:0,transform:"scale(0.8)"})),Sr("void => enter",Bs("120ms cubic-bezier(0, 0, 0.2, 1)",ii({opacity:1,transform:"scale(1)"}))),Sr("* => void",Bs("100ms 25ms linear",ii({opacity:0})))]),fadeInItems:va("fadeInItems",[fo("showing",ii({opacity:1})),Sr("void => *",[ii({opacity:0}),Bs("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let kK=0;const v4=new a.OlP("mat-menu-default-options",{providedIn:"root",factory:function RK(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let uC=(()=>{var n;class e{get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=Tt(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Tt(t)}set panelClass(t){const r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(s=>{this._classList[s]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(s=>{this._classList[s]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}constructor(t,r,s,c){this._elementRef=t,this._ngZone=r,this._changeDetectorRef=c,this._directDescendantItems=new a.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new Xe.x,this.closed=new a.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+kK++,this.overlayPanelClass=s.overlayPanelClass||"",this._xPosition=s.xPosition,this._yPosition=s.yPosition,this.backdropClass=s.backdropClass,this._overlapTrigger=s.overlapTrigger,this._hasBackdrop=s.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new fa(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(ni(this._directDescendantItems),(0,Pn.w)(t=>(0,Ir.T)(...t.map(r=>r._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const r=this._keyManager;if("enter"===this._panelAnimationState&&r.activeItem?._hasFocus()){const s=t.toArray(),c=Math.max(0,Math.min(s.length-1,r.activeItemIndex||0));s[c]&&!s[c].disabled?r.setActiveItem(c):r.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(ni(this._directDescendantItems),(0,Pn.w)(r=>(0,Ir.T)(...r.map(s=>s._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const r=t.keyCode,s=this._keyManager;switch(r){case 27:Uo(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===r||40===r)&&s.setFocusOrigin("keyboard"),void s.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(Cn(1)).subscribe(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){const s=this._keyManager;s.setFocusOrigin(t).setFirstItemActive(),!s.activeItem&&r&&r.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const r=Math.min(this._baseElevation+t,24),s=`${this._elevationPrefix}${r}`,c=Object.keys(this._classList).find(h=>h.startsWith(this._elevationPrefix));(!c||c===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[s]=!0,this._previousElevation=s)}setPositionClasses(t=this.xPosition,r=this.yPosition){const s=this._classList;s["mat-menu-before"]="before"===t,s["mat-menu-after"]="after"===t,s["mat-menu-above"]="above"===r,s["mat-menu-below"]="below"===r,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(ni(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(v4),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,contentQueries:function(t,r,s){if(1&t&&(a.Suo(s,MK,5),a.Suo(s,cC,5),a.Suo(s,cC,4)),2&t){let c;a.iGM(c=a.CRH())&&(r.lazyContent=c.first),a.iGM(c=a.CRH())&&(r._allItems=c),a.iGM(c=a.CRH())&&(r.items=c)}},viewQuery:function(t,r){if(1&t&&a.Gf(a.Rgc,5),2&t){let s;a.iGM(s=a.CRH())&&(r.templateRef=s.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),e})();const b4=new a.OlP("mat-menu-scroll-strategy"),PK={provide:b4,deps:[Ls],useFactory:function OK(n){return()=>n.scrollStrategies.reposition()}},w4=Rl({passive:!0});let NK=(()=>{var n;class e{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(t,r,s,c,h,p,y,x,S){this._overlay=t,this._element=r,this._viewContainerRef=s,this._menuItemInstance=p,this._dir=y,this._focusMonitor=x,this._ngZone=S,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Ln.w0.EMPTY,this._hoverSubscription=Ln.w0.EMPTY,this._menuCloseSubscription=Ln.w0.EMPTY,this._changeDetectorRef=(0,a.f3M)(a.sBO),this._handleTouchStart=N=>{Yp(N)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new a.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new a.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=c,this._parentMaterialMenu=h instanceof uC?h:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,w4)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,w4),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const r=this._createOverlay(t),s=r.getConfig(),c=s.positionStrategy;this._setPosition(t,c),s.hasBackdrop=null==t.hasBackdrop?!this.triggersSubmenu():t.hasBackdrop,r.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof uC&&(t._startAnimation(),t._directDescendantItems.changes.pipe(En(t.close)).subscribe(()=>{c.withLockedPosition(!1).reapplyLastPosition(),c.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof uC?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(tn(s=>"void"===s.toState),Cn(1),En(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let r=0,s=t.parentMenu;for(;s;)r++,s=s.parentMenu;t.setElevation(r)}}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck())}_createOverlay(t){if(!this._overlayRef){const r=this._getOverlayConfig(t);this._subscribeToPositions(t,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new nm({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,r){t.setPositionClasses&&r.positionChanges.subscribe(s=>{const c="start"===s.connectionPair.overlayX?"after":"before",h="top"===s.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(c,h)):t.setPositionClasses(c,h)})}_setPosition(t,r){let[s,c]="before"===t.xPosition?["end","start"]:["start","end"],[h,p]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[y,x]=[h,p],[S,N]=[s,c],H=0;if(this.triggersSubmenu()){if(N=s="before"===t.xPosition?"start":"end",c=S="end"===s?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const G=this._parentMaterialMenu.items.first;this._parentInnerPadding=G?G._getHostElement().offsetTop:0}H="bottom"===h?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(y="top"===h?"bottom":"top",x="top"===p?"bottom":"top");r.withPositions([{originX:s,originY:y,overlayX:S,overlayY:h,offsetY:H},{originX:c,originY:y,overlayX:N,overlayY:h,offsetY:H},{originX:s,originY:x,overlayX:S,overlayY:p,offsetY:-H},{originX:c,originY:x,overlayX:N,overlayY:p,offsetY:-H}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),r=this._overlayRef.detachments(),s=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,ut.of)(),c=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(tn(h=>h!==this._menuItemInstance),tn(()=>this._menuOpen)):(0,ut.of)();return(0,Ir.T)(t,s,c,r)}_handleMousedown(t){Zp(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const r=t.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(tn(t=>t===this._menuItemInstance&&!t.disabled),y4(0,xx)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof uC&&this.menu._isAnimating?this.menu._animationDone.pipe(Cn(1),y4(0,xx),En(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new R_(t.templateRef,this._viewContainerRef)),this._portal}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(Ls),a.Y36(a.SBq),a.Y36(a.s_b),a.Y36(b4),a.Y36(PN,8),a.Y36(cC,10),a.Y36(ms,8),a.Y36(Xa),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,hostVars:3,hostBindings:function(t,r){1&t&&a.NdJ("click",function(c){return r._handleClick(c)})("mousedown",function(c){return r._handleMousedown(c)})("keydown",function(c){return r._handleKeydown(c)}),2&t&&a.uIk("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),e})();function FK(n,e){if(1&n){const i=a.EpF();a.TgZ(0,"div",0),a.NdJ("keydown",function(r){a.CHM(i);const s=a.oxw();return a.KtG(s._handleKeydown(r))})("click",function(){a.CHM(i);const r=a.oxw();return a.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){a.CHM(i);const s=a.oxw();return a.KtG(s._onAnimationStart(r))})("@transformMenu.done",function(r){a.CHM(i);const s=a.oxw();return a.KtG(s._onAnimationDone(r))}),a.TgZ(1,"div",1),a.Hsn(2),a.qZA()()}if(2&n){const i=a.oxw();a.Q6J("id",i.panelId)("ngClass",i._classList)("@transformMenu",i._panelAnimationState),a.uIk("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby||null)("aria-describedby",i.ariaDescribedby||null)}}const C4=["*"],LK=["mat-menu-item",""];function BK(n,e){1&n&&(a.O4$(),a.TgZ(0,"svg",2),a._UZ(1,"polygon",3),a.qZA())}let VK=(()=>{var n;class e extends uC{constructor(t,r,s,c){super(t,r,s,c),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(v4),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:4,hostBindings:function(t,r){2&t&&a.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)("mat-id-collision",null)},exportAs:["matMenu"],features:[a._Bn([{provide:PN,useExisting:n}]),a.qOj],ngContentSelectors:C4,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,r){1&t&&(a.F$t(),a.YNc(0,FK,3,6,"ng-template"))},dependencies:[wo],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[ZS.transformMenu,ZS.fadeInItems]},changeDetection:0}),e})(),UK=(()=>{var n;class e extends cC{}return(n=e).\u0275fac=function(){let i;return function(r){return(i||(i=a.n5z(n)))(r||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:20,hostBindings:function(t,r){2&t&&(a.uIk("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled.toString())("disabled",r.disabled||null),a.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",r._highlighted)("mat-menu-item-submenu-trigger",r._triggersSubmenu)("mat-mdc-menu-item",!1)("mat-mdc-focus-indicator",!1)("mdc-list-item",!1)("mat-mdc-menu-item-highlighted",!1)("mat-mdc-menu-item-submenu-trigger",!1))},inputs:{disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matMenuItem"],features:[a._Bn([{provide:cC,useExisting:n}]),a.qOj],attrs:LK,ngContentSelectors:C4,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,r){1&t&&(a.F$t(),a.Hsn(0),a._UZ(1,"div",0),a.YNc(2,BK,2,0,"svg",1)),2&t&&(a.xp6(1),a.Q6J("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),a.xp6(1),a.Q6J("ngIf",r._triggersSubmenu))},dependencies:[Vn,Mc],encapsulation:2,changeDetection:0}),e})(),HK=(()=>{var n;class e extends NK{}return(n=e).\u0275fac=function(){let i;return function(r){return(i||(i=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[a.qOj]}),e})(),jK=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[PK],imports:[_n,xn,kc,rm,ga,xn]}),e})();function zK(n,e){1&n&&(a.TgZ(0,"h2"),a._uU(1,"Create Dinner"),a.qZA())}function $K(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"You must enter a value"),a.qZA())}function GK(n,e){if(1&n&&(a.TgZ(0,"mat-button-toggle",13)(1,"mat-icon",10),a._uU(2),a.qZA(),a.TgZ(3,"mat-label"),a._uU(4),a.qZA()()),2&n){const i=e.$implicit;a.Q6J("value",i)("checked",i.joinedDinner),a.xp6(1),a.Udp("color",i.color)("border","grey"),a.xp6(1),a.hij(" ",i.icon||"attribution"," "),a.xp6(2),a.hij(" ",i.Username," ")}}function qK(n,e){if(1&n&&(a.TgZ(0,"div",14),a._uU(1),a.ALo(2,"date"),a.qZA()),2&n){const i=a.oxw();a.xp6(1),a.hij("Last Update: ",a.xi3(2,1,null==i.data.dinner.lastUpdate?null:i.data.dinner.lastUpdate.seconds,"yyyy/MM/dd h:mm a"),"")}}const WK=function(n){return{dinner:n,delete:!0}};function ZK(n,e){if(1&n&&(a.TgZ(0,"button",15)(1,"mat-icon"),a._uU(2,"delete"),a.qZA(),a.TgZ(3,"span"),a._uU(4,"Delete"),a.qZA()()),2&n){const i=a.oxw();a.Q6J("mat-dialog-close",a.VKq(1,WK,i.data.dinner))}}var Ea=function(n){return n.width="80vw",n.height="fit-content",n.maxWidth="80vw",n.maxHeight="80vh",n}(Ea||{});let E4=(()=>{var n;class e{constructor(t,r,s){ue(this,"dialogRef",void 0),ue(this,"data",void 0),ue(this,"dataset",void 0),ue(this,"backupDinner",{...this.data.dinner}),ue(this,"name",new Pt("",[Ps.required])),ue(this,"member",new Pt("",[Ps.required])),ue(this,"userList",void 0),ue(this,"IconWheel",[{name:"flower",icon:"local_florist"},{name:"surf",icon:"surfing"},{name:"skateboard",icon:"skateboarding"}]),this.dialogRef=t,this.data=r,this.dataset=s}ngOnInit(){this.userList=this.dataset.getUserList(),this.initDinner()}initDinner(){this.getDinnerMember(),this.name.setValue(this.data.dinner.name)}getDinnerMember(){this.userList=this.userList?.pipe((0,dt.U)(t=>t.map(r=>({Privilege:r.Privilege,Status:r.Status,Username:r.Username,icon:r.icon,id:r.id,sum:r.sum,color:r.color,joinedDinner:!!this.data.dinner.members?.find(s=>s.id===r.id)}))))}cancel(){this.data.dinner.name=this.backupDinner.name,this.data.dinner.icon=this.backupDinner.icon,this.dialogRef.close(this.data)}onSubmit(){this.name.errors||(this.data.type==Bc.NEW&&(this.data.dinner.orders=[]),this.data.dinner.lastUpdate={seconds:Date.now()},this.data.dinner.name=this.name.value,this.dialogRef.close(this.data))}}return n=e,ue(e,"\u0275fac",function(t){return new(t||n)(a.Y36(um),a.Y36(Jh),a.Y36(Ky))}),ue(e,"\u0275cmp",a.Xpm({type:n,selectors:[["app-dinner-dialog"]],decls:22,vars:11,consts:[["id","task-form"],[4,"ngIf"],["appearance","fill","color","primary"],["matInput","",3,"formControl"],["id","colorSpec","name","colorSpec","aria-label","ColorWheel","multiple","","required","true",3,"ngModel","formControl","ngModelChange"],[3,"value","checked",4,"ngFor","ngForOf"],["class","hint",4,"ngIf"],[1,"ordinary-top-bottom"],["mat-raised-button","","type","submit","color","primary",3,"click"],["mat-icon-button","","matTooltip","More options","color","primary",3,"matMenuTriggerFor"],["color","primary"],["menu","matMenu"],["mat-menu-item","","color","primary",3,"mat-dialog-close",4,"ngIf"],[3,"value","checked"],[1,"hint"],["mat-menu-item","","color","primary",3,"mat-dialog-close"]],template:function(t,r){if(1&t&&(a.TgZ(0,"form",0),a.YNc(1,zK,2,0,"h2",1),a.TgZ(2,"mat-form-field",2)(3,"mat-label"),a._uU(4,"Dinner Name"),a.qZA(),a._UZ(5,"input",3),a.YNc(6,$K,2,0,"mat-error",1),a.qZA(),a.TgZ(7,"mat-label"),a._uU(8,"Please select eaters"),a.qZA(),a.TgZ(9,"mat-button-toggle-group",4),a.NdJ("ngModelChange",function(c){return r.data.dinner.members=c}),a.YNc(10,GK,5,8,"mat-button-toggle",5),a.ALo(11,"async"),a.qZA(),a.YNc(12,qK,3,4,"div",6),a.TgZ(13,"div",7)(14,"button",8),a.NdJ("click",function(){return r.onSubmit()}),a._uU(15," Save "),a.qZA(),a.TgZ(16,"button",9)(17,"mat-icon"),a._uU(18,"more_vert"),a.qZA()(),a.TgZ(19,"mat-menu",10,11),a.YNc(21,ZK,5,3,"button",12),a.qZA()()()),2&t){const s=a.MAs(20);a.xp6(1),a.Q6J("ngIf",1==r.data.type),a.xp6(4),a.Q6J("formControl",r.name),a.xp6(1),a.Q6J("ngIf",r.name.invalid),a.xp6(3),a.Q6J("ngModel",r.data.dinner.members)("formControl",r.member),a.xp6(1),a.Q6J("ngForOf",a.lcZ(11,9,r.userList)),a.xp6(2),a.Q6J("ngIf",r.data.enableDelete),a.xp6(4),a.Q6J("matMenuTriggerFor",s),a.xp6(5),a.Q6J("ngIf",r.data.enableDelete)}},dependencies:[zr,Vn,hd,fi,gD,j1,ly,ym,L0,Qu,Ic,Sh,Th,Ju,Vo,Ph,aI,lI,VK,UK,HK,Eo,Ks],styles:[".hint[_ngcontent-%COMP%]{font-size:smaller}","#task-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:large}#task-form[_ngcontent-%COMP%]   #close[_ngcontent-%COMP%]{margin-left:auto}#task-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin:0}#task-form[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{color:red}#task-form[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin:10px 0}#task-form[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}#task-form[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{overflow-y:auto;width:-moz-fit-content;width:fit-content;margin:10px 0}#task-form[_ngcontent-%COMP%]   .member-form-list[_ngcontent-%COMP%]{overflow:auto;display:flexbox}",".ordinary-section[_ngcontent-%COMP%]{padding:12px 0}.ordinary-row[_ngcontent-%COMP%]{padding:8px 4px}.ordinary-top-bottom[_ngcontent-%COMP%]{padding:8px 0}.left-small-space[_ngcontent-%COMP%]{padding-left:16px}.right-small-space[_ngcontent-%COMP%]{padding-right:16px}"]})),e})();function YK(n,e){1&n&&(a.TgZ(0,"h2"),a._uU(1,"New Item"),a.qZA())}function KK(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"You must enter a value"),a.qZA())}function QK(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"You must enter a numer"),a.qZA())}function XK(n,e){1&n&&(a.TgZ(0,"mat-error",10),a._uU(1,"You must pick a user"),a.qZA())}function JK(n,e){if(1&n&&(a.TgZ(0,"mat-button-toggle",11)(1,"mat-icon",12),a._uU(2),a.qZA(),a.TgZ(3,"mat-label"),a._uU(4),a.qZA()()),2&n){const i=e.$implicit;a.Q6J("value",i),a.xp6(1),a.Udp("color",i.color)("border","grey"),a.xp6(1),a.hij(" ",i.icon||"attribution"," "),a.xp6(2),a.hij(" ",i.Username," ")}}let tQ=(()=>{var n;class e{constructor(t,r,s){ue(this,"dialogRef",void 0),ue(this,"data",void 0),ue(this,"dataset",void 0),ue(this,"userList",void 0),ue(this,"name",new Pt("",[Ps.required])),ue(this,"price",new Pt("",[Ps.required,Ps.min(0),Ps.pattern("^[0-9]*$")])),ue(this,"member",new Pt("",[Ps.required])),this.dialogRef=t,this.data=r,this.dataset=s}ngOnInit(){this.userList=this.dataset.getUserList(),this.initOrder()}initOrder(){this.getOrderMember()}getOrderMember(){this.userList=this.userList?.pipe((0,dt.U)(t=>t.map(r=>({Privilege:r.Privilege,Status:r.Status,Username:r.Username,icon:r.icon,id:r.id,sum:r.sum,color:r.color,joinedDinner:!!this.data.dinner.members?.find(s=>s.id===r.id)})).filter(r=>!0===r.joinedDinner)))}onSubmit(){this.name.errors||this.price.errors||this.member.errors||(this.data.order.name=this.name.value,this.data.order.price=Number(this.price.value),this.data.order.sharedMember=this.member.value,this.dialogRef.close(this.data))}}return n=e,ue(e,"\u0275fac",function(t){return new(t||n)(a.Y36(um),a.Y36(Jh),a.Y36(Ky))}),ue(e,"\u0275cmp",a.Xpm({type:n,selectors:[["app-order-dialog"]],decls:21,vars:12,consts:[["id","task-form"],[4,"ngIf"],["appearance","fill","color","primary"],["matInput","",3,"formControl","readonly"],["matInput","","pattern","\\d*",3,"formControl","readonly"],["style","font-size: smaller;",4,"ngIf"],[1,"member-form-list"],["id","colorSpec","name","colorSpec","aria-label","ColorWheel","multiple","","required","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","type","submit","color","primary",3,"click"],[2,"font-size","smaller"],[3,"value"],["color","primary"]],template:function(t,r){1&t&&(a.TgZ(0,"form",0),a.YNc(1,YK,2,0,"h2",1),a.TgZ(2,"mat-form-field",2)(3,"mat-label"),a._uU(4,"Name"),a.qZA(),a._UZ(5,"input",3),a.YNc(6,KK,2,0,"mat-error",1),a.qZA(),a.TgZ(7,"mat-form-field",2)(8,"mat-label"),a._uU(9,"Price"),a.qZA(),a._UZ(10,"input",4),a.YNc(11,QK,2,0,"mat-error",1),a.qZA(),a.TgZ(12,"mat-label"),a._uU(13,"Please select eaters"),a.qZA(),a.YNc(14,XK,2,0,"mat-error",5),a.TgZ(15,"div",6)(16,"mat-button-toggle-group",7),a.YNc(17,JK,5,7,"mat-button-toggle",8),a.ALo(18,"async"),a.qZA()(),a.TgZ(19,"button",9),a.NdJ("click",function(){return r.onSubmit()}),a._uU(20," Save "),a.qZA()()),2&t&&(a.xp6(1),a.Q6J("ngIf",1==r.data.type),a.xp6(4),a.Q6J("formControl",r.name)("readonly",2==r.data.type),a.xp6(1),a.Q6J("ngIf",r.name.invalid),a.xp6(4),a.Q6J("formControl",r.price)("readonly",2==r.data.type),a.xp6(1),a.Q6J("ngIf",r.price.invalid),a.xp6(3),a.Q6J("ngIf",r.member.invalid),a.xp6(2),a.Q6J("formControl",r.member),a.xp6(1),a.Q6J("ngForOf",a.lcZ(18,10,r.userList)))},dependencies:[zr,Vn,hd,fi,j1,ly,ym,L0,Qu,Ic,Sh,Th,Ju,hb,Vo,Ph,aI,lI,Eo],styles:["#task-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:large}#task-form[_ngcontent-%COMP%]   #close[_ngcontent-%COMP%]{margin-left:auto}#task-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin:0}#task-form[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{color:red}#task-form[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin:10px 0}#task-form[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}#task-form[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{overflow-y:auto;width:-moz-fit-content;width:fit-content;margin:10px 0}#task-form[_ngcontent-%COMP%]   .member-form-list[_ngcontent-%COMP%]{overflow:auto;display:flexbox}"]})),e})(),nQ=(()=>{var n;class e{constructor(t){ue(this,"store",void 0),this.store=t}getDinner(){return this.store.collection("Dinner",r=>r.orderBy("lastUpdate","desc")).valueChanges({idField:"id"})}getOneDinner(t){return this.store.collection("Dinner").doc(t).valueChanges()}insertDinner(t){this.store.collection("Dinner").add(t)}insertDinnerOrder(t){var r=this;return(0,ve.Z)(function*(){const h=(yield r.store.collection("Dinner").ref.where("id","==",t.dinnerID).limit(1).get()).docs[0].data();t.dinnerID=h.id,t.id=$0(),h.orders.push(t),h.totalSum+=t.price,yield r.updateDinner(h)})()}updateDinner(t){var r=this;return(0,ve.Z)(function*(){if(null==t)return;const c=yield r.store.collection("Dinner").ref.where("id","==",t.id).limit(1).get();r.store.collection("Dinner").doc(c.docs[0].id).update(t)})()}deleteDinner(t){var r=this;return(0,ve.Z)(function*(){const c=(yield r.store.collection("Dinner").ref.where("id","==",t).limit(1).get())||null;void 0!==c.docs[0]?r.store.collection("Dinner").doc(c.docs[0].id).delete():alert("please try again")})()}deleteOrder(t){var r=this;return(0,ve.Z)(function*(){const h=(yield r.store.collection("Dinner").ref.where("id","==",t.dinnerID).limit(1).get()).docs[0].data(),p={...h,orders:h.orders.filter(y=>y.id!==t.id)};r.updateDinner(p)})()}updateDinnerMemberSum(t){}genDinnerSum(t,r){var s=this;return(0,ve.Z)(function*(){return(yield s.store.collection("Dinner").ref.where("id","==",t.id).limit(1).get()).docs[0].data().orders.filter(y=>y.sharedMember.find(x=>x.id===r.id)).reduce((y,x)=>y+x.price,0)})()}}return n=e,ue(e,"\u0275fac",function(t){return new(t||n)(a.LFG(rC))}),ue(e,"\u0275prov",a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),e})();function iQ(n,e){if(1&n&&a._UZ(0,"mat-pseudo-checkbox",5),2&n){const i=a.oxw();a.Q6J("state",i.selected?"checked":"unchecked")("disabled",i.disabled)}}function rQ(n,e){if(1&n&&(a.TgZ(0,"span",6),a._uU(1),a.qZA()),2&n){const i=a.oxw();a.xp6(1),a.hij("(",i.group.label,")")}}const sQ=["*"];let x4=(()=>{var n;class e extends kk{constructor(t,r,s,c){super(t,r,s,c)}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(nD,8),a.Y36(iD,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,r){1&t&&a.NdJ("click",function(){return r._selectViaInteraction()})("keydown",function(c){return r._handleKeydown(c)}),2&t&&(a.Ikx("id",r.id),a.uIk("tabindex",r._getTabIndex())("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),a.ekj("mat-selected",r.selected)("mat-option-multiple",r.multiple)("mat-active",r.active)("mat-option-disabled",r.disabled))},exportAs:["matOption"],features:[a.qOj],ngContentSelectors:sQ,decls:6,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["text",""],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,r){1&t&&(a.F$t(),a.YNc(0,iQ,1,2,"mat-pseudo-checkbox",0),a.TgZ(1,"span",1,2),a.Hsn(3),a.qZA(),a.YNc(4,rQ,2,1,"span",3),a._UZ(5,"div",4)),2&t&&(a.Q6J("ngIf",r.multiple),a.xp6(4),a.Q6J("ngIf",r.group&&r.group._inert),a.xp6(1),a.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[Mc,Vn,Mk],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),e})(),D4=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[kc,_n,xn,JL]}),e})();const oQ=["trigger"],aQ=["panel"];let I4=0;const S4=new a.OlP("mat-select-scroll-strategy"),dQ=new a.OlP("MAT_SELECT_CONFIG"),hQ={provide:S4,deps:[Ls],useFactory:function uQ(n){return()=>n.scrollStrategies.reposition()}},fQ=new a.OlP("MatSelectTrigger"),pQ=Wh(r0(n0(s0(class{constructor(n,e,i,t,r){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=i,this._parentFormGroup=t,this.ngControl=r,this.stateChanges=new Xe.x}}))));let mQ=(()=>{var n;class e extends pQ{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Ps.required)??!1}set required(t){this._required=Tt(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Tt(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Tt(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Fs(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}constructor(t,r,s,c,h,p,y,x,S,N,H,G,Q,ee){super(h,c,y,x,N),this._viewportRuler=t,this._changeDetectorRef=r,this._ngZone=s,this._dir=p,this._parentFormField=S,this._liveAnnouncer=Q,this._defaultOptions=ee,this._panelOpen=!1,this._compareWith=(ke,Ge)=>ke===Ge,this._uid="mat-select-"+I4++,this._triggerAriaLabelledBy=null,this._destroy=new Xe.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+I4++,this._panelDoneAnimatingStream=new Xe.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=_c(()=>{const ke=this.options;return ke?ke.changes.pipe(ni(ke),(0,Pn.w)(()=>(0,Ir.T)(...ke.map(Ge=>Ge.onSelectionChange)))):this._ngZone.onStable.pipe(Cn(1),(0,Pn.w)(()=>this.optionSelectionChanges))}),this.openedChange=new a.vpe,this._openedStream=this.openedChange.pipe(tn(ke=>ke),(0,dt.U)(()=>{})),this._closedStream=this.openedChange.pipe(tn(ke=>!ke),(0,dt.U)(()=>{})),this.selectionChange=new a.vpe,this.valueChange=new a.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=ee?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=ee.typeaheadDebounceInterval),this._scrollStrategyFactory=G,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(H)||0,this.id=this.id}ngOnInit(){this._selectionModel=new K1(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,$p.x)(),En(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(En(this._destroy)).subscribe(t=>{t.added.forEach(r=>r.select()),t.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(ni(null),En(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),r=this.ngControl;if(t!==this._triggerAriaLabelledBy){const s=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?s.setAttribute("aria-labelledby",t):s.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(void 0!==this._previousControl&&null!==r.disabled&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;const r=`${this.id}-panel`;this._trackedModal&&Rb(this._trackedModal,"aria-owns",r),function mM(n,e,i){const t=Ob(n,e);t.some(r=>r.trim()==i.trim())||(t.push(i.trim()),n.setAttribute(e,t.join(" ")))}(t,"aria-owns",r),this._trackedModal=t}_clearFromModal(){this._trackedModal&&(Rb(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const r=t.keyCode,s=40===r||38===r||37===r||39===r,c=13===r||32===r,h=this._keyManager;if(!h.isTyping()&&c&&!Uo(t)||(this.multiple||t.altKey)&&s)t.preventDefault(),this.open();else if(!this.multiple){const p=this.selected;h.onKeydown(t);const y=this.selected;y&&p!==y&&this._liveAnnouncer.announce(y.viewValue,1e4)}}_handleOpenKeydown(t){const r=this._keyManager,s=t.keyCode,c=40===s||38===s,h=r.isTyping();if(c&&t.altKey)t.preventDefault(),this.close();else if(h||13!==s&&32!==s||!r.activeItem||Uo(t))if(!h&&this._multiple&&65===s&&t.ctrlKey){t.preventDefault();const p=this.options.some(y=>!y.disabled&&!y.selected);this.options.forEach(y=>{y.disabled||(p?y.select():y.deselect())})}else{const p=r.activeItemIndex;r.onKeydown(t),this._multiple&&c&&t.shiftKey&&r.activeItem&&r.activeItemIndex!==p&&r.activeItem._selectViaInteraction()}else t.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Cn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{const r=this._selectOptionByValue(t);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const r=this.options.find(s=>{if(this._selectionModel.isSelected(s))return!1;try{return null!=s.value&&this._compareWith(s.value,t)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_skipPredicate(t){return t.disabled}_initKeyManager(){this._keyManager=new Pb(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,Ir.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(En(t)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Ir.T)(...this.options.map(r=>r._stateChanges)).pipe(En(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,r){const s=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(s!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),r&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),r&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),s!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((r,s)=>this.sortComparator?this.sortComparator(r,s,t):t.indexOf(r)-t.indexOf(s)),this.stateChanges.next()}}_propagateChanges(t){let r=null;r=this.multiple?this.selected.map(s=>s.value):this.selected?this.selected.value:t,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let r=0;r<this.options.length;r++)if(!this.options.get(r).disabled){t=r;break}this._keyManager.setActiveItem(t)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let r=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(Ja),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(Zh),a.Y36(a.SBq),a.Y36(ms,8),a.Y36(Vo,8),a.Y36(Xu,8),a.Y36(XD,8),a.Y36(co,10),a.$8M("tabindex"),a.Y36(S4),a.Y36(I_),a.Y36(dQ,8))},n.\u0275dir=a.lG2({type:n,viewQuery:function(t,r){if(1&t&&(a.Gf(oQ,5),a.Gf(aQ,5),a.Gf(Kb,5)),2&t){let s;a.iGM(s=a.CRH())&&(r.trigger=s.first),a.iGM(s=a.CRH())&&(r.panel=s.first),a.iGM(s=a.CRH())&&(r._overlayDir=s.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[a.qOj,a.TTD]}),e})();function gQ(n,e){if(1&n&&(a.TgZ(0,"span",8),a._uU(1),a.qZA()),2&n){const i=a.oxw();a.xp6(1),a.Oqu(i.placeholder)}}function _Q(n,e){if(1&n&&(a.TgZ(0,"span",12),a._uU(1),a.qZA()),2&n){const i=a.oxw(2);a.xp6(1),a.Oqu(i.triggerValue)}}function yQ(n,e){1&n&&a.Hsn(0,0,["*ngSwitchCase","true"])}function vQ(n,e){if(1&n&&(a.TgZ(0,"span",9),a.YNc(1,_Q,2,1,"span",10),a.YNc(2,yQ,1,0,"ng-content",11),a.qZA()),2&n){const i=a.oxw();a.Q6J("ngSwitch",!!i.customTrigger),a.xp6(2),a.Q6J("ngSwitchCase",!0)}}function bQ(n,e){if(1&n){const i=a.EpF();a.TgZ(0,"div",13)(1,"div",14,15),a.NdJ("@transformPanel.done",function(r){a.CHM(i);const s=a.oxw();return a.KtG(s._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){a.CHM(i);const s=a.oxw();return a.KtG(s._handleKeydown(r))}),a.Hsn(3,1),a.qZA()()}if(2&n){const i=a.oxw();a.Q6J("@transformPanelWrap",void 0),a.xp6(1),a.Gre("mat-select-panel ",i._getPanelTheme(),""),a.Udp("transform-origin",i._transformOrigin)("font-size",i._triggerFontSize,"px"),a.Q6J("ngClass",i.panelClass)("@transformPanel",i.multiple?"showing-multiple":"showing"),a.uIk("id",i.id+"-panel")("aria-multiselectable",i.multiple)("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby())}}const wQ=[[["mat-select-trigger"]],"*"],CQ=["mat-select-trigger","*"],T4={transformPanelWrap:va("transformPanelWrap",[Sr("* => void",U_("@transformPanel",[Xh()],{optional:!0}))]),transformPanel:va("transformPanel",[fo("void",ii({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),fo("showing",ii({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),fo("showing-multiple",ii({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Sr("void => *",Bs("120ms cubic-bezier(0, 0, 0.2, 1)")),Sr("* => void",Bs("100ms 25ms linear",ii({opacity:0})))])};class DQ{constructor(e,i){this.source=e,this.value=i}}let IQ=(()=>{var n;class e extends mQ{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,r,s){const c=this._getItemHeight();return Math.min(Math.max(0,c*t-r+c/2),s)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(En(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Cn(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const r=om(t,this.options,this.optionGroups),s=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===r?0:function Ok(n,e,i,t){return n<i?n:n+e>i+t?Math.max(0,n-t+e):i}((t+r)*s,s,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new DQ(this,t)}_getOverlayMinWidth(){return this._triggerRect?.width}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),r=this._viewportRuler.getViewportSize(),s=this._isRtl(),c=this.multiple?56:32;let h;if(this.multiple)h=40;else if(this.disableOptionCentering)h=16;else{let x=this._selectionModel.selected[0]||this.options.first;h=x&&x.group?32:16}s||(h*=-1);const p=0-(t.left+h-(s?c:0)),y=t.right+h-r.width+(s?0:c);p>0?h+=p+8:y>0&&(h-=y+8),this._overlayDir.offsetX=Math.round(h),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,r,s){const c=this._getItemHeight(),h=(c-this._triggerRect.height)/2,p=Math.floor(256/c);let y;return this.disableOptionCentering?0:(y=0===this._scrollTop?t*c:this._scrollTop===s?(t-(this._getItemCount()-p))*c+(c-(this._getItemCount()*c-256)%c):r-c/2,Math.round(-1*y-h))}_checkOverlayWithinViewport(t){const r=this._getItemHeight(),s=this._viewportRuler.getViewportSize(),c=this._triggerRect.top-8,h=s.height-this._triggerRect.bottom-8,p=Math.abs(this._offsetY),x=Math.min(this._getItemCount()*r,256)-p-this._triggerRect.height;x>h?this._adjustPanelUp(x,h):p>c?this._adjustPanelDown(p,c,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,r){const s=Math.round(t-r);this._scrollTop-=s,this._offsetY-=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,r,s){const c=Math.round(t-r);if(this._scrollTop+=c,this._offsetY+=c,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=s)return this._scrollTop=s,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),r=this._getItemCount(),s=Math.min(r*t,256),h=r*t-s;let p;p=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),p+=om(p,this.options,this.optionGroups);const y=s/2;this._scrollTop=this._calculateOverlayScroll(p,y,h),this._offsetY=this._calculateOverlayOffsetY(p,y,h),this._checkOverlayWithinViewport(h)}_getOriginBasedOnOption(){const t=this._getItemHeight(),r=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-r+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return(n=e).\u0275fac=function(){let i;return function(r){return(i||(i=a.n5z(n)))(r||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,r,s){if(1&t&&(a.Suo(s,fQ,5),a.Suo(s,x4,5),a.Suo(s,iD,5)),2&t){let c;a.iGM(c=a.CRH())&&(r.customTrigger=c.first),a.iGM(c=a.CRH())&&(r.options=c),a.iGM(c=a.CRH())&&(r.optionGroups=c)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true","ngSkipHydration","",1,"mat-select"],hostVars:19,hostBindings:function(t,r){1&t&&a.NdJ("keydown",function(c){return r._handleKeydown(c)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&t&&(a.uIk("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),a.ekj("mat-select-disabled",r.disabled)("mat-select-invalid",r.errorState)("mat-select-required",r.required)("mat-select-empty",r.empty)("mat-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[a._Bn([{provide:ay,useExisting:n},{provide:nD,useExisting:n}]),a.qOj],ngContentSelectors:CQ,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,r){if(1&t&&(a.F$t(wQ),a.TgZ(0,"div",0,1),a.NdJ("click",function(){return r.toggle()}),a.TgZ(3,"div",2),a.YNc(4,gQ,2,1,"span",3),a.YNc(5,vQ,3,2,"span",4),a.qZA(),a.TgZ(6,"div",5),a._UZ(7,"div",6),a.qZA()(),a.YNc(8,bQ,4,14,"ng-template",7),a.NdJ("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&t){const s=a.MAs(1);a.uIk("aria-owns",r.panelOpen?r.id+"-panel":null),a.xp6(3),a.Q6J("ngSwitch",r.empty),a.uIk("id",r._valueId),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1),a.xp6(3),a.Q6J("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",s)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayMinWidth",r._getOverlayMinWidth())("cdkConnectedOverlayOffsetY",r._offsetY)}},dependencies:[wo,Ys,Co,Ad,Kb,Gx],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[T4.transformPanelWrap,T4.transformPanel]},changeDetection:0}),e})(),SQ=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[hQ],imports:[_n,rm,D4,xn,ga,z1,D4,xn]}),e})();function TQ(n,e){1&n&&(a.TgZ(0,"div",16),a._UZ(1,"mat-spinner",17),a.qZA()),2&n&&(a.xp6(1),a.Q6J("diameter",30))}function AQ(n,e){1&n&&(a.TgZ(0,"mat-option",18),a._uU(1,"Loading.."),a.qZA()),2&n&&a.Q6J("disabled",!0)}function MQ(n,e){if(1&n&&(a.TgZ(0,"mat-option",19),a._uU(1),a.qZA()),2&n){const i=e.$implicit;a.Q6J("value",i.id),a.xp6(1),a.hij(" ",i.name," ")}}function kQ(n,e){if(1&n){const i=a.EpF();a.TgZ(0,"button",20),a.NdJ("click",function(){a.CHM(i);const r=a.oxw();return a.KtG(r.AddNewOrder_v2())}),a._uU(1," Add New Order "),a.TgZ(2,"mat-icon"),a._uU(3,"add"),a.qZA()()}}function RQ(n,e){if(1&n){const i=a.EpF();a.TgZ(0,"button",21),a.NdJ("click",function(){a.CHM(i);const r=a.oxw();return a.KtG(r.ViewDinner())}),a._uU(1," Edit Dinner "),a.TgZ(2,"mat-icon"),a._uU(3,"edit"),a.qZA()()}}function OQ(n,e){if(1&n){const i=a.EpF();a.TgZ(0,"div",32),a.NdJ("click",function(){const s=a.CHM(i).$implicit,c=a.oxw(2);return a.KtG(c.getUserSum(s))}),a.TgZ(1,"div"),a._uU(2),a.qZA(),a.TgZ(3,"div")(4,"mat-icon",33),a._uU(5),a.qZA()()()}if(2&n){const i=e.$implicit;a.xp6(2),a.Oqu(i.Username),a.xp6(2),a.Udp("color",i.color),a.xp6(1),a.Oqu(i.icon)}}function PQ(n,e){if(1&n&&(a.TgZ(0,"div",37)(1,"mat-icon",33),a._uU(2),a.qZA()()),2&n){const i=e.$implicit;a.xp6(1),a.Udp("color",i.color),a.xp6(1),a.hij(" ",i.icon," ")}}function NQ(n,e){if(1&n){const i=a.EpF();a.TgZ(0,"div",34)(1,"mat-label"),a._uU(2),a.qZA(),a.TgZ(3,"mat-label"),a._uU(4),a.qZA(),a.TgZ(5,"div",35),a.YNc(6,PQ,3,3,"div",36),a.qZA(),a.TgZ(7,"button",5),a.NdJ("click",function(){const s=a.CHM(i).$implicit,c=a.oxw(2);return a.KtG(c.deleteOrder(s))}),a.TgZ(8,"mat-icon"),a._uU(9,"clear"),a.qZA()()()}if(2&n){const i=e.$implicit;a.xp6(2),a.hij(" ",i.name," "),a.xp6(2),a.hij(" $ ",i.price," "),a.xp6(2),a.Q6J("ngForOf",i.sharedMember)}}function FQ(n,e){if(1&n){const i=a.EpF();a.TgZ(0,"button",38),a.NdJ("click",function(){a.CHM(i);const r=a.oxw(2);return a.KtG(r.AddNewOrder_v2())}),a._uU(1," Click to add order "),a.qZA()}}function LQ(n,e){if(1&n&&(a.TgZ(0,"div",22)(1,"div",23),a._uU(2," Your Members "),a.qZA(),a.TgZ(3,"div",24),a.YNc(4,OQ,6,4,"div",25),a.ALo(5,"async"),a.qZA(),a.TgZ(6,"div",26)(7,"div",23),a._uU(8," Your Orders "),a.qZA(),a.TgZ(9,"div",27)(10,"div"),a._uU(11,"Items"),a.qZA(),a.TgZ(12,"div"),a._uU(13,"Price"),a.qZA(),a.TgZ(14,"div",28),a._uU(15,"Users"),a.qZA(),a._UZ(16,"div"),a.qZA(),a.YNc(17,NQ,10,3,"div",29),a.TgZ(18,"div",26),a.YNc(19,FQ,2,0,"button",30),a.qZA()(),a.TgZ(20,"div",26)(21,"div",31)(22,"div"),a._uU(23,"Total"),a.qZA(),a.TgZ(24,"div"),a._uU(25),a.qZA(),a._UZ(26,"div"),a.qZA()()()),2&n){const i=e.ngIf,t=a.oxw();let r;a.xp6(4),a.Q6J("ngForOf",null==(r=a.lcZ(5,4,t.dinner$))?null:r.members),a.xp6(13),a.Q6J("ngForOf",i.orders),a.xp6(2),a.Q6J("ngIf",i),a.xp6(6),a.hij("$ ",i.totalSum,"")}}const BQ=[{path:"",pathMatch:"full",redirectTo:"project-management"},{path:"signIn",pathMatch:"full",component:F5},{path:"project-management",component:jY},{path:"text-editor",component:yK},{path:"budget-planner",component:EK,children:[{path:"paytgt",component:(()=>{var n;class e{constructor(t,r,s,c,h){ue(this,"dialog",void 0),ue(this,"service",void 0),ue(this,"authService",void 0),ue(this,"notiBar",void 0),ue(this,"loadingData",!1),ue(this,"dinnerList",void 0),ue(this,"dinner$",void 0),ue(this,"dinner",void 0),this.dialog=t,this.service=s,this.authService=c,this.notiBar=h}ngOnInit(){this.syncDinner()}syncDinner(){this.loadingData=!1,this.dinnerList=this.service.getDinner(),this.dinnerList.subscribe(t=>{t.length>0&&(this.loadingData=!0)})}SelectDinner(t){console.log("event: "+t),this.SetCurrentDinner(String(t))}SetCurrentDinner(t){this.dinner$=this.service.getOneDinner(t),this.dinner$.forEach(r=>{this.dinner=r}),console.log("current dinner: "+this.dinner?.name)}ViewDinner(){null!=this.dialog&&this.dialog.closeAll(),this.dialog.open(E4,{width:Ea.width,height:Ea.height,maxWidth:Ea.maxWidth,maxHeight:Ea.maxHeight,data:{type:Bc.EDIT,dinner:this.dinner,enableDelete:!0}}).afterClosed().subscribe(r=>{if(!r)return;const s={...r.dinner};r.delete&&confirm("Are you sure to delete this dinner?")?this.service.deleteDinner(s.id):this.service.updateDinner(s)})}NewDinner(){null!=this.dialog&&this.dialog.closeAll(),this.dialog.open(E4,{width:Ea.width,height:Ea.height,maxWidth:Ea.maxWidth,maxHeight:Ea.maxHeight,data:{type:Bc.NEW,dinner:{}}}).afterClosed().subscribe(r=>{if(!r)return;const s={...r.dinner,id:$0(),dinnerID:r.dinner.name.replace(" ","_"),totalSum:0};this.service.insertDinner(s),this.notiBar.openBar(s.name+" is created."),this.SetCurrentDinner(s.dinnerID)})}DeleteDinner(t){this.service.deleteDinner(t)}documentKeyDown(t){EV(t)||xV(t)||("r"==t.key&&this.syncDinner(),"n"==t.key&&this.AddNewOrder_v2(),DV(t))}AddNewOrder(){if(null==this.dinner)return;const t={id:$0(),name:"dinner 0410 (3)",price:123,dinnerID:this.dinner.dinnerID,sharedMember:this.dinner.members};this.service.insertDinnerOrder(t)}AddNewOrder_v2(){null!=this.dialog&&this.dialog.closeAll(),this.dialog.open(tQ,{width:Ea.width,height:Ea.height,maxWidth:Ea.maxWidth,maxHeight:Ea.maxHeight,data:{type:Bc.NEW,order:{},dinner:this.dinner}}).afterClosed().subscribe(r=>{if(!r||null==this.dinner)return;const s={...r.order,dinnerID:this.dinner.id};this.service.insertDinnerOrder(s),this.notiBar.openBar(r.order.name+" is created.")})}deleteOrder(t){null!=this.dinner&&confirm("Sure to delete?")&&this.service.deleteOrder(t)}getUserSum(t){var r=this;return(0,ve.Z)(function*(){if(void 0===r.dinner)return 0;const s=yield r.service.genDinnerSum(r.dinner,t);return r.notiBar.openBar(t.Username+"'s Total: $"+s),s})()}updateLocalUserSum(){var t=this;try{this.loadingData=!0,this.dinner?.members.map(function(){var r=(0,ve.Z)(function*(s){const c=Number((yield t.getUserSum(s)).toString());return console.log(c),s.sum=c,s});return function(s){return r.apply(this,arguments)}}()),console.log(this.dinner?.members),this.service.updateDinner(this.dinner)}catch{this.notiBar.openBar("Please try again")}finally{this.loadingData=!1}}testUpdateDinner(){}get getColor(){return cy.RandomColor}}return n=e,ue(e,"\u0275fac",function(t){return new(t||n)(a.Y36(ad),a.Y36(rC),a.Y36(nQ),a.Y36(we),a.Y36(g4))}),ue(e,"\u0275cmp",a.Xpm({type:n,selectors:[["app-paytgt"]],hostBindings:function(t,r){1&t&&a.NdJ("keydown",function(c){return r.documentKeyDown(c)},!1,a.evT)},decls:27,vars:10,consts:[[1,"content-wrapper"],[1,"content-real"],[1,"content"],[1,"page-title-text","ordinary-section",2,"align-items","center","justify-content","space-between"],["style","padding-left: 10px;",4,"ngIf"],["mat-icon-button","","color","primary",3,"click"],["appearance","fill","id","dinner-option"],[3,"valueChange"],[3,"disabled",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[3,"click"],[1,"ordinary-section"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","color","primary",3,"click",4,"ngIf"],["class","ordinary-section order",4,"ngIf"],[2,"visibility","hidden"],[2,"padding-left","10px"],[3,"diameter"],[3,"disabled"],[3,"value"],["mat-raised-button","","color","primary",3,"click"],["mat-button","","color","primary",3,"click"],[1,"ordinary-section","order"],[1,"page-title-text","ordinary-section"],[1,"order-section","member-list"],["class","member",3,"click",4,"ngFor","ngForOf"],[1,"order-section"],[1,"order-group","header"],[2,"justify-content","flex-end"],["class","order-group",4,"ngFor","ngForOf"],["mat-button","","color","primary","class","order-section",3,"click",4,"ngIf"],[1,"sum"],[1,"member",3,"click"],["color","primary"],[1,"order-group"],[1,"icon"],["class","member",4,"ngFor","ngForOf"],[1,"member"],["mat-button","","color","primary",1,"order-section",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),a._uU(4," Pick the Occasion "),a.YNc(5,TQ,2,1,"div",4),a.TgZ(6,"button",5),a.NdJ("click",function(){return r.syncDinner()}),a.TgZ(7,"mat-icon"),a._uU(8,"refresh"),a.qZA()()(),a.TgZ(9,"mat-form-field",6)(10,"mat-label"),a._uU(11,"Choose One ~"),a.qZA(),a.TgZ(12,"mat-select",7),a.NdJ("valueChange",function(c){return r.SelectDinner(c)}),a.YNc(13,AQ,2,1,"mat-option",8),a.YNc(14,MQ,2,2,"mat-option",9),a.ALo(15,"async"),a.TgZ(16,"mat-option",10),a.NdJ("click",function(){return r.NewDinner()}),a.TgZ(17,"mat-icon"),a._uU(18,"add"),a.qZA(),a._uU(19," New Dinner "),a.qZA()()(),a.TgZ(20,"div",11),a.YNc(21,kQ,4,0,"button",12),a.YNc(22,RQ,4,0,"button",13),a.qZA(),a.YNc(23,LQ,27,6,"div",14),a.ALo(24,"async"),a.qZA(),a.TgZ(25,"pre",15),a._uU(26,"Occasion: (dropdown to choose dinner)\n    \n    Members: (circles here)\n    \n    -----------------------------------\n    show dishes details here + price            member icon\n    \n    \n    -----------------------------------\n                                                total price\n    \n                    (Button)  Generate Result\n    -----------------------------------\n                                    Paid\n    member icon:            sum     (checkbox)\n    member icon:            sum     (checkbox)\n    member icon:            sum     (checkbox)\n    ----------------------------\n    3 Members               total sum\n    "),a.qZA()()()),2&t&&(a.xp6(5),a.Q6J("ngIf",!r.loadingData),a.xp6(8),a.Q6J("ngIf",!r.loadingData),a.xp6(1),a.Q6J("ngForOf",a.lcZ(15,6,r.dinnerList)),a.xp6(7),a.Q6J("ngIf",r.dinner),a.xp6(1),a.Q6J("ngIf",r.dinner),a.xp6(1),a.Q6J("ngIf",a.lcZ(24,8,r.dinner$)))},dependencies:[zr,Vn,hd,fi,ly,ym,Xy,IQ,x4,Eo],styles:[".content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;padding:4px 12px}.page-title-text[_ngcontent-%COMP%]{font-family:Montserrat,Roboto,monospace;font-size:x-large;color:#4d362e;display:flex;flex-direction:row}#dinner-option[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:0!important}.order[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.order[_ngcontent-%COMP%]   .order-section[_ngcontent-%COMP%]{min-height:50px;width:100%}.order[_ngcontent-%COMP%]   .member-list[_ngcontent-%COMP%]{display:flex;flex-direction:row}.order[_ngcontent-%COMP%]   .member-list[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]{padding:0 10px;display:flex;flex-direction:column;align-items:center;cursor:pointer}.order[_ngcontent-%COMP%]   .order-group[_ngcontent-%COMP%]{display:grid;grid-template-columns:4fr 2fr 2fr 36px;padding:8px;font-size:larger}.order[_ngcontent-%COMP%]   .order-group[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;flex-direction:row}.order[_ngcontent-%COMP%]   .order-group[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-left:10px}.order[_ngcontent-%COMP%]   .order-group[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{max-height:15px;width:auto;margin-bottom:4px}.order[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-weight:500;color:#795548;background-color:#7955481c}.order[_ngcontent-%COMP%]   .sum[_ngcontent-%COMP%]{padding:8px;border-top:solid 2px #795548;font-weight:500;color:#795548;display:grid;grid-template-columns:4fr 2fr 2fr;font-size:larger}","mat-toolbar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:10px}#app[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%}#top-banner[_ngcontent-%COMP%]{flex:0 0 64px;flex-shrink:0;height:-moz-fit-content;height:fit-content}#main[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;overflow:auto}#nav[_ngcontent-%COMP%]{border-right:1px solid rgb(164,164,164);display:flex;flex-direction:column;flex:0 0 188px;flex-shrink:0;justify-content:space-between;height:100%}#nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}mat-sidenav-container[_ngcontent-%COMP%]{width:100%}#main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;overflow:auto}#content[_ngcontent-%COMP%]{height:100%}.Loading-Spinner[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;padding:10px 0}",".ordinary-section[_ngcontent-%COMP%]{padding:12px 0}.ordinary-row[_ngcontent-%COMP%]{padding:8px 4px}.ordinary-top-bottom[_ngcontent-%COMP%]{padding:8px 0}.left-small-space[_ngcontent-%COMP%]{padding-left:16px}.right-small-space[_ngcontent-%COMP%]{padding-right:16px}",".cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.content-wrapper[_ngcontent-%COMP%]{overflow:auto;height:100%}.content-real[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:inherit;max-width:100%}.background-container[_ngcontent-%COMP%]{position:absolute;width:100%;overflow:hidden;display:flex;flex-direction:row;justify-content:center}.background-container[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{flex-shrink:0;flex-grow:0}.background-container[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;height:100%;border:none}.task-list-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex:1;overflow:auto;max-width:inherit}.task-block-list[_ngcontent-%COMP%]{margin:0 25px 25px 0}.task-list[_ngcontent-%COMP%]{overflow:auto;max-width:300px;width:300px;min-height:50px;max-height:60vh;background-color:#f2f2f280}"]})),e})(),pathMatch:"full"}]},{path:"404",redirectTo:"signIn",pathMatch:"full"},{path:"**",redirectTo:"project-management",pathMatch:"full"}];let VQ=(()=>{var n;class e{}return n=e,ue(e,"\u0275fac",function(t){return new(t||n)}),ue(e,"\u0275mod",a.oAB({type:n})),ue(e,"\u0275inj",a.cJS({imports:[Dc.forRoot(BQ,{useHash:!0}),Dc]})),e})();const UQ=["*",[["mat-toolbar-row"]]],HQ=["*","mat-toolbar-row"],jQ=sm(class{constructor(n){this._elementRef=n}});let zQ=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),e})(),$Q=(()=>{var n;class e extends jQ{constructor(t,r,s){super(t),this._platform=r,this._document=s}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(wi),a.Y36(re))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,s){if(1&t&&a.Suo(s,zQ,5),2&t){let c;a.iGM(c=a.CRH())&&(r._toolbarRows=c)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&a.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[a.qOj],ngContentSelectors:HQ,decls:2,vars:0,template:function(t,r){1&t&&(a.F$t(UQ),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0}),e})(),GQ=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[xn,xn]}),e})();const KS=["*"],qQ=["content"];function WQ(n,e){if(1&n){const i=a.EpF();a.TgZ(0,"div",2),a.NdJ("click",function(){a.CHM(i);const r=a.oxw();return a.KtG(r._onBackdropClicked())}),a.qZA()}if(2&n){const i=a.oxw();a.ekj("mat-drawer-shown",i._isShowingBackdrop())}}function ZQ(n,e){1&n&&(a.TgZ(0,"mat-drawer-content"),a.Hsn(1,2),a.qZA())}const YQ=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],KQ=["mat-drawer","mat-drawer-content","*"];function QQ(n,e){if(1&n){const i=a.EpF();a.TgZ(0,"div",2),a.NdJ("click",function(){a.CHM(i);const r=a.oxw();return a.KtG(r._onBackdropClicked())}),a.qZA()}if(2&n){const i=a.oxw();a.ekj("mat-drawer-shown",i._isShowingBackdrop())}}function XQ(n,e){1&n&&(a.TgZ(0,"mat-sidenav-content"),a.Hsn(1,2),a.qZA())}const JQ=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],eX=["mat-sidenav","mat-sidenav-content","*"],M4={transformDrawer:va("transform",[fo("open, open-instant",ii({transform:"none",visibility:"visible"})),fo("void",ii({"box-shadow":"none",visibility:"hidden"})),Sr("void => open-instant",Bs("0ms")),Sr("void <=> open, open-instant => void",Bs("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},nX=new a.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function iX(){return!1}}),NN=new a.OlP("MAT_DRAWER_CONTAINER");let QS=(()=>{var n;class e extends Jp{constructor(t,r,s,c,h){super(s,c,h),this._changeDetectorRef=t,this._container=r}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36((0,a.Gpc)(()=>R4)),a.Y36(a.SBq),a.Y36(Xp),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,r){2&t&&a.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[a._Bn([{provide:Jp,useExisting:n}]),a.qOj],ngContentSelectors:KS,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),e})(),k4=(()=>{var n;class e{get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Tt(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=Tt(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(Tt(t))}constructor(t,r,s,c,h,p,y,x){this._elementRef=t,this._focusTrapFactory=r,this._focusMonitor=s,this._platform=c,this._ngZone=h,this._interactivityChecker=p,this._doc=y,this._container=x,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Xe.x,this._animationEnd=new Xe.x,this._animationState="void",this.openedChange=new a.vpe(!0),this._openedStream=this.openedChange.pipe(tn(S=>S),(0,dt.U)(()=>{})),this.openedStart=this._animationStarted.pipe(tn(S=>S.fromState!==S.toState&&0===S.toState.indexOf("open")),ks(void 0)),this._closedStream=this.openedChange.pipe(tn(S=>!S),(0,dt.U)(()=>{})),this.closedStart=this._animationStarted.pipe(tn(S=>S.fromState!==S.toState&&"void"===S.toState),ks(void 0)),this._destroyed=new Xe.x,this.onPositionChanged=new a.vpe,this._modeChanged=new Xe.x,this.openedChange.subscribe(S=>{S?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Vh(this._elementRef.nativeElement,"keydown").pipe(tn(S=>27===S.keyCode&&!this.disableClose&&!Uo(S)),En(this._destroyed)).subscribe(S=>this._ngZone.run(()=>{this.close(),S.stopPropagation(),S.preventDefault()}))}),this._animationEnd.pipe((0,$p.x)((S,N)=>S.fromState===N.fromState&&S.toState===N.toState)).subscribe(S=>{const{fromState:N,toState:H}=S;(0===H.indexOf("open")&&"void"===N||"void"===H&&0===N.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{t.removeEventListener("blur",s),t.removeEventListener("mousedown",s),t.removeAttribute("tabindex")};t.addEventListener("blur",s),t.addEventListener("mousedown",s)})),t.focus(r)}_focusByCssSelector(t,r){let s=this._elementRef.nativeElement.querySelector(t);s&&this._forceFocus(s,r)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{!r&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,r){t&&r&&(this._openedVia=r);const s=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),s}_setOpen(t,r,s){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",r&&this._restoreFocus(s)),this._updateFocusTrapState(),new Promise(c=>{this.openedChange.pipe(Cn(1)).subscribe(h=>c(h?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(t){const r=this._elementRef.nativeElement,s=r.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),s.insertBefore(this._anchor,r)),s.appendChild(r)):this._anchor&&this._anchor.parentNode.insertBefore(r,this._anchor)}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(x_),a.Y36(Xa),a.Y36(wi),a.Y36(a.R0b),a.Y36(Bh),a.Y36(re,8),a.Y36(NN,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,r){if(1&t&&a.Gf(qQ,5),2&t){let s;a.iGM(s=a.CRH())&&(r._content=s.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(t,r){1&t&&a.WFA("@transform.start",function(c){return r._animationStarted.next(c)})("@transform.done",function(c){return r._animationEnd.next(c)}),2&t&&(a.uIk("align",null),a.d8E("@transform",r._animationState),a.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:KS,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,r){1&t&&(a.F$t(),a.TgZ(0,"div",0,1),a.Hsn(2),a.qZA())},dependencies:[Jp],encapsulation:2,data:{animation:[M4.transformDrawer]},changeDetection:0}),e})(),R4=(()=>{var n;class e{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Tt(t)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(t){this._backdropOverride=null==t?null:Tt(t)}get scrollable(){return this._userContent||this._content}constructor(t,r,s,c,h,p=!1,y){this._dir=t,this._element=r,this._ngZone=s,this._changeDetectorRef=c,this._animationMode=y,this._drawers=new a.n_E,this.backdropClick=new a.vpe,this._destroyed=new Xe.x,this._doCheckSubject=new Xe.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Xe.x,t&&t.change.pipe(En(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),h.change().pipe(En(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=p}ngAfterContentInit(){this._allDrawers.changes.pipe(ni(this._allDrawers),En(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(r=>!r._container||r._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(ni(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(zp(10),En(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,r=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const s=this._left._getWidth();t+=s,r-=s}if(this._right&&this._right.opened)if("side"==this._right.mode)r+=this._right._getWidth();else if("push"==this._right.mode){const s=this._right._getWidth();r+=s,t-=s}t=t||null,r=r||null,(t!==this._contentMargins.left||r!==this._contentMargins.right)&&(this._contentMargins={left:t,right:r},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(tn(r=>r.fromState!==r.toState),En(this._drawers.changes)).subscribe(r=>{"open-instant"!==r.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(En(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(En(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Cn(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(En((0,Ir.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const r=this._element.nativeElement.classList,s="mat-drawer-container-has-open";t?r.add(s):r.remove(s)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._drawerHasBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(t){return null!=t&&t.opened}_drawerHasBackdrop(t){return null==this._backdropOverride?!!t&&"side"!==t.mode:this._backdropOverride}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(ms,8),a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(a.sBO),a.Y36(Ja),a.Y36(nX),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,r,s){if(1&t&&(a.Suo(s,QS,5),a.Suo(s,k4,5)),2&t){let c;a.iGM(c=a.CRH())&&(r._content=c.first),a.iGM(c=a.CRH())&&(r._allDrawers=c)}},viewQuery:function(t,r){if(1&t&&a.Gf(QS,5),2&t){let s;a.iGM(s=a.CRH())&&(r._userContent=s.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,r){2&t&&a.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[a._Bn([{provide:NN,useExisting:n}])],ngContentSelectors:KQ,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,r){1&t&&(a.F$t(YQ),a.YNc(0,WQ,1,2,"div",0),a.Hsn(1),a.Hsn(2,1),a.YNc(3,ZQ,2,0,"mat-drawer-content",1)),2&t&&(a.Q6J("ngIf",r.hasBackdrop),a.xp6(3),a.Q6J("ngIf",!r._content))},dependencies:[Vn,QS],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),e})(),FN=(()=>{var n;class e extends QS{constructor(t,r,s,c,h){super(t,r,s,c,h)}}return(n=e).\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36((0,a.Gpc)(()=>P4)),a.Y36(a.SBq),a.Y36(Xp),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,r){2&t&&a.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[a._Bn([{provide:Jp,useExisting:n}]),a.qOj],ngContentSelectors:KS,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),e})(),O4=(()=>{var n;class e extends k4{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=Tt(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=Fs(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=Fs(t)}}return(n=e).\u0275fac=function(){let i;return function(r){return(i||(i=a.n5z(n)))(r||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,r){2&t&&(a.uIk("align",null),a.Udp("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),a.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened)("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[a.qOj],ngContentSelectors:KS,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,r){1&t&&(a.F$t(),a.TgZ(0,"div",0,1),a.Hsn(2),a.qZA())},dependencies:[Jp],encapsulation:2,data:{animation:[M4.transformDrawer]},changeDetection:0}),e})(),P4=(()=>{var n;class e extends R4{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}}return(n=e).\u0275fac=function(){let i;return function(r){return(i||(i=a.n5z(n)))(r||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(t,r,s){if(1&t&&(a.Suo(s,FN,5),a.Suo(s,O4,5)),2&t){let c;a.iGM(c=a.CRH())&&(r._content=c.first),a.iGM(c=a.CRH())&&(r._allDrawers=c)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,r){2&t&&a.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],features:[a._Bn([{provide:NN,useExisting:n}]),a.qOj],ngContentSelectors:eX,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,r){1&t&&(a.F$t(JQ),a.YNc(0,QQ,1,2,"div",0),a.Hsn(1),a.Hsn(2,1),a.YNc(3,XQ,2,0,"mat-sidenav-content",1)),2&t&&(a.Q6J("ngIf",r.hasBackdrop),a.xp6(3),a.Q6J("ngIf",!r._content))},dependencies:[Vn,FN],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),e})(),rX=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[_n,xn,ga,ga,xn]}),e})();function sX(n,e){if(1&n){const i=a.EpF();a.TgZ(0,"shared-button",14),a.NdJ("ClickEvent",function(){const s=a.CHM(i).$implicit,c=a.oxw();return a.KtG(c.changeRoute(s))}),a.qZA()}if(2&n){const i=e.$implicit;a.s9C("leadingIcon",i.icon?i.icon:"lens_blur"),a.Q6J("buttonSpec",i)("selected",!1)("disabled",!1)("showSelectedIcon",!0)}}function oX(n,e){if(1&n){const i=a.EpF();a.TgZ(0,"button",15),a.NdJ("click",function(){a.CHM(i);const r=a.oxw();return a.KtG(r.logout())}),a._uU(1," Log Out "),a.TgZ(2,"mat-icon"),a._uU(3,"logout"),a.qZA()()}}let aX=(()=>{var n;class e{constructor(t,r){ue(this,"route",void 0),ue(this,"authService",void 0),ue(this,"title","FinNote"),ue(this,"mode",new Pt("push")),ue(this,"opened",!1),ue(this,"browserName",""),ue(this,"buttonSpecList",[{key:"p",displayName:"Project Management",ref:"project-management",order:0,description:"Go to PM",shortcutKey:"P",icon:"today"},{key:"d",displayName:"DO & WATCH",ref:"text-editor",order:1,description:"Go to To Do List/ To Watch List",shortcutKey:"D",icon:"checklist"},{key:"t",displayName:"Budget Planner",ref:"budget-planner",order:1,description:"Go to C",shortcutKey:"C",color:"yellow",icon:"account_balance_wallet"}]),this.route=t,this.authService=r}ngOnInit(){this.authService?.currentAuthStatus?.subscribe(t=>{this.opened=null!==t}),this.checkBrowser()}checkBrowser(){const t=window.navigator.userAgent;if(t.match(/iPhone/i))return this.browserName="iPhone, will close",void(this.opened=!1);if(t.match(/firefox|fxios/i))this.browserName="firefox";else if(t.match(/chrome|chromium|crios/i))this.browserName="chrome";else if(t.match(/safari/i))this.browserName="safari";else if(t.match(/opr\//i))this.browserName="opera";else{if(!t.match(/edg/i))return this.browserName="No browser detection",void(this.opened=!1);this.browserName="edge"}this.opened=!0}changeRoute(t){console.log("changeRoute app"),null!=t.ref?this.authService.navigatePage(t.ref):this.logout()}logout(){this.authService.logout()}get loginStatus(){return new An.y(s=>{const c=null!==this.authService.getUserProfile();s.next(c)}).subscribe(s=>{this.opened=s}),this.checkBrowser(),null!==this.authService.getUserProfile()}}return n=e,ue(e,"\u0275fac",function(t){return new(t||n)(a.Y36(qr),a.Y36(we))}),ue(e,"\u0275cmp",a.Xpm({type:n,selectors:[["app-root"]],decls:21,vars:5,consts:[["id","app"],["id","top-banner",3,"click"],["color","primary"],[2,"visibility","hidden"],["id","main"],["mode","side",3,"opened","openedChange"],["sidenav",""],["id","nav"],[1,"ordinary-section"],[3,"buttonSpec","selected","disabled","leadingIcon","showSelectedIcon","ClickEvent",4,"ngFor","ngForOf"],["id","nav-control"],["mat-button","",3,"click",4,"ngIf"],["id","main-content"],["id","content"],[3,"buttonSpec","selected","disabled","leadingIcon","showSelectedIcon","ClickEvent"],["mat-button","",3,"click"]],template:function(t,r){if(1&t){const s=a.EpF();a.TgZ(0,"div",0)(1,"div",1),a.NdJ("click",function(){a.CHM(s);const h=a.MAs(12);return a.KtG(h.toggle())}),a.TgZ(2,"mat-toolbar",2)(3,"mat-icon"),a._uU(4,"pix"),a.qZA(),a.TgZ(5,"span"),a._uU(6,"Fin Note"),a.qZA(),a.TgZ(7,"div",3),a._uU(8),a.qZA()()(),a.TgZ(9,"div",4)(10,"mat-sidenav-container")(11,"mat-sidenav",5,6),a.NdJ("openedChange",function(h){return r.opened=h}),a.TgZ(13,"div",7)(14,"div",8),a.YNc(15,sX,1,5,"shared-button",9),a.qZA(),a.TgZ(16,"div",10),a.YNc(17,oX,4,0,"button",11),a.qZA()()(),a.TgZ(18,"mat-sidenav-content",12)(19,"div",13),a._UZ(20,"router-outlet"),a.qZA()()()()()}2&t&&(a.xp6(8),a.AsE(" loginStatus: ",r.loginStatus," opened: ",r.opened," "),a.xp6(3),a.Q6J("opened",r.opened),a.xp6(4),a.Q6J("ngForOf",r.buttonSpecList),a.xp6(2),a.Q6J("ngIf",r.loginStatus))},dependencies:[zr,Vn,ep,$Q,hd,fi,O4,P4,FN,kN],styles:["mat-toolbar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:10px}#app[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%}#top-banner[_ngcontent-%COMP%]{flex:0 0 64px;flex-shrink:0;height:-moz-fit-content;height:fit-content}#main[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;overflow:auto}#nav[_ngcontent-%COMP%]{border-right:1px solid rgb(164,164,164);display:flex;flex-direction:column;flex:0 0 188px;flex-shrink:0;justify-content:space-between;height:100%}#nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}mat-sidenav-container[_ngcontent-%COMP%]{width:100%}#main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;overflow:auto}#content[_ngcontent-%COMP%]{height:100%}.Loading-Spinner[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;padding:10px 0}",".ordinary-section[_ngcontent-%COMP%]{padding:12px 0}.ordinary-row[_ngcontent-%COMP%]{padding:8px 4px}.ordinary-top-bottom[_ngcontent-%COMP%]{padding:8px 0}.left-small-space[_ngcontent-%COMP%]{padding-left:16px}.right-small-space[_ngcontent-%COMP%]{padding-right:16px}"]})),e})();const LN_firebase={projectId:"finnote2-70a8c",appId:"1:811871768518:web:9ab62469434dab2ff32cc7",storageBucket:"finnote2-70a8c.appspot.com",locationId:"us-central",apiKey:"AIzaSyCKXh9pjACUKNh4yQtlCj4XKMgKvvC2PqQ",authDomain:"finnote2-70a8c.firebaseapp.com",messagingSenderId:"811871768518"};function N4(n){return new a.vHH(3e3,!1)}function Rf(n){switch(n.length){case 0:return new am;case 1:return n[0];default:return new lD(n)}}function F4(n,e,i=new Map,t=new Map){const r=[],s=[];let c=-1,h=null;if(e.forEach(p=>{const y=p.get("offset"),x=y==c,S=x&&h||new Map;p.forEach((N,H)=>{let G=H,Q=N;if("offset"!==H)switch(G=n.normalizePropertyName(G,r),Q){case"!":Q=i.get(H);break;case ya:Q=t.get(H);break;default:Q=n.normalizeStyleValue(H,G,Q,r)}S.set(G,Q)}),x||s.push(S),h=S,c=y}),r.length)throw function MX(n){return new a.vHH(3502,!1)}();return s}function BN(n,e,i,t){switch(e){case"start":n.onStart(()=>t(i&&VN(i,"start",n)));break;case"done":n.onDone(()=>t(i&&VN(i,"done",n)));break;case"destroy":n.onDestroy(()=>t(i&&VN(i,"destroy",n)))}}function VN(n,e,i){const s=UN(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i.totalTime??n.totalTime,!!i.disabled),c=n._data;return null!=c&&(s._data=c),s}function UN(n,e,i,t,r="",s=0,c){return{element:n,triggerName:e,fromState:i,toState:t,phaseName:r,totalTime:s,disabled:!!c}}function xa(n,e,i){let t=n.get(e);return t||n.set(e,t=i),t}function L4(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const jX=(()=>typeof document>"u"?null:document.documentElement)();function HN(n){const e=n.parentNode||n.host||null;return e===jX?null:e}let Zm=null,B4=!1;function V4(n,e){for(;e;){if(e===n)return!0;e=HN(e)}return!1}function U4(n,e,i){if(i)return Array.from(n.querySelectorAll(e));const t=n.querySelector(e);return t?[t]:[]}let H4=(()=>{var n;class e{validateStyleProperty(t){return function $X(n){Zm||(Zm=function GX(){return typeof document<"u"?document.body:null}()||{},B4=!!Zm.style&&"WebkitAppearance"in Zm.style);let e=!0;return Zm.style&&!function zX(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Zm.style,!e&&B4&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Zm.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return V4(t,r)}getParentElement(t){return HN(t)}query(t,r,s){return U4(t,r,s)}computeStyle(t,r,s){return s||""}animate(t,r,s,c,h,p=[],y){return new am(s,c)}}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),e})(),jN=(()=>{class e{}return e.NOOP=new H4,e})();const qX=1e3,zN="ng-enter",XS="ng-leave",JS="ng-trigger",eT=".ng-trigger",z4="ng-animating",$N=".ng-animating";function Id(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:GN(parseFloat(e[1]),e[2])}function GN(n,e){return"s"===e?n*qX:n}function tT(n,e,i){return n.hasOwnProperty("duration")?n:function ZX(n,e,i){let r,s=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(N4()),{duration:0,delay:0,easing:""};r=GN(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(s=GN(parseFloat(p),h[4]));const y=h[5];y&&(c=y)}else r=n;if(!i){let h=!1,p=e.length;r<0&&(e.push(function lX(){return new a.vHH(3100,!1)}()),h=!0),s<0&&(e.push(function cX(){return new a.vHH(3101,!1)}()),h=!0),h&&e.splice(p,0,N4())}return{duration:r,delay:s,easing:c}}(n,e,i)}function hC(n,e={}){return Object.keys(n).forEach(i=>{e[i]=n[i]}),e}function $4(n){const e=new Map;return Object.keys(n).forEach(i=>{e.set(i,n[i])}),e}function Of(n,e=new Map,i){if(i)for(let[t,r]of i)e.set(t,r);for(let[t,r]of n)e.set(t,r);return e}function Kc(n,e,i){e.forEach((t,r)=>{const s=WN(r);i&&!i.has(r)&&i.set(r,n.style[s]),n.style[s]=t})}function Ym(n,e){e.forEach((i,t)=>{const r=WN(t);n.style[r]=""})}function fC(n){return Array.isArray(n)?1==n.length?n[0]:d0(n):n}const qN=new RegExp("{{\\s*(.+?)\\s*}}","g");function q4(n){let e=[];if("string"==typeof n){let i;for(;i=qN.exec(n);)e.push(i[1]);qN.lastIndex=0}return e}function pC(n,e,i){const t=n.toString(),r=t.replace(qN,(s,c)=>{let h=e[c];return null==h&&(i.push(function dX(n){return new a.vHH(3003,!1)}()),h=""),h.toString()});return r==t?n:r}function nT(n){const e=[];let i=n.next();for(;!i.done;)e.push(i.value),i=n.next();return e}const QX=/-+([a-z0-9])/g;function WN(n){return n.replace(QX,(...e)=>e[1].toUpperCase())}function Da(n,e,i){switch(e.type){case 7:return n.visitTrigger(e,i);case 0:return n.visitState(e,i);case 1:return n.visitTransition(e,i);case 2:return n.visitSequence(e,i);case 3:return n.visitGroup(e,i);case 4:return n.visitAnimate(e,i);case 5:return n.visitKeyframes(e,i);case 6:return n.visitStyle(e,i);case 8:return n.visitReference(e,i);case 9:return n.visitAnimateChild(e,i);case 10:return n.visitAnimateRef(e,i);case 11:return n.visitQuery(e,i);case 12:return n.visitStagger(e,i);default:throw function hX(n){return new a.vHH(3004,!1)}()}}function W4(n,e){return window.getComputedStyle(n)[e]}const iT="*";function eJ(n,e){const i=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(t=>function tJ(n,e,i){if(":"==n[0]){const p=function nJ(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,t)=>parseFloat(t)>parseFloat(i);case":decrement":return(i,t)=>parseFloat(t)<parseFloat(i);default:return e.push(function IX(n){return new a.vHH(3016,!1)}()),"* => *"}}(n,i);if("function"==typeof p)return void e.push(p);n=p}const t=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==t||t.length<4)return i.push(function DX(n){return new a.vHH(3015,!1)}()),e;const r=t[1],s=t[2],c=t[3];e.push(Z4(r,c));"<"==s[0]&&!(r==iT&&c==iT)&&e.push(Z4(c,r))}(t,i,e)):i.push(n),i}const rT=new Set(["true","1"]),sT=new Set(["false","0"]);function Z4(n,e){const i=rT.has(n)||sT.has(n),t=rT.has(e)||sT.has(e);return(r,s)=>{let c=n==iT||n==r,h=e==iT||e==s;return!c&&i&&"boolean"==typeof r&&(c=r?rT.has(n):sT.has(n)),!h&&t&&"boolean"==typeof s&&(h=s?rT.has(e):sT.has(e)),c&&h}}const iJ=new RegExp("s*:selfs*,?","g");function ZN(n,e,i,t){return new rJ(n).build(e,i,t)}class rJ{constructor(e){this._driver=e}build(e,i,t){const r=new aJ(i);return this._resetContextStyleTimingState(r),Da(this,fC(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,i){let t=i.queryCount=0,r=i.depCount=0;const s=[],c=[];return"@"==e.name.charAt(0)&&i.errors.push(function pX(){return new a.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(i),0==h.type){const p=h,y=p.name;y.toString().split(/\s*,\s*/).forEach(x=>{p.name=x,s.push(this.visitState(p,i))}),p.name=y}else if(1==h.type){const p=this.visitTransition(h,i);t+=p.queryCount,r+=p.depCount,c.push(p)}else i.errors.push(function mX(){return new a.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:c,queryCount:t,depCount:r,options:null}}visitState(e,i){const t=this.visitStyle(e.styles,i),r=e.options&&e.options.params||null;if(t.containsDynamicStyles){const s=new Set,c=r||{};t.styles.forEach(h=>{h instanceof Map&&h.forEach(p=>{q4(p).forEach(y=>{c.hasOwnProperty(y)||s.add(y)})})}),s.size&&(nT(s.values()),i.errors.push(function gX(n,e){return new a.vHH(3008,!1)}()))}return{type:0,name:e.name,style:t,options:r?{params:r}:null}}visitTransition(e,i){i.queryCount=0,i.depCount=0;const t=Da(this,fC(e.animation),i);return{type:1,matchers:eJ(e.expr,i.errors),animation:t,queryCount:i.queryCount,depCount:i.depCount,options:Km(e.options)}}visitSequence(e,i){return{type:2,steps:e.steps.map(t=>Da(this,t,i)),options:Km(e.options)}}visitGroup(e,i){const t=i.currentTime;let r=0;const s=e.steps.map(c=>{i.currentTime=t;const h=Da(this,c,i);return r=Math.max(r,i.currentTime),h});return i.currentTime=r,{type:3,steps:s,options:Km(e.options)}}visitAnimate(e,i){const t=function cJ(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return YN(tT(n,e).duration,0,"");const i=n;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=YN(0,0,"");return s.dynamic=!0,s.strValue=i,s}const r=tT(i,e);return YN(r.duration,r.delay,r.easing)}(e.timings,i.errors);i.currentAnimateTimings=t;let r,s=e.styles?e.styles:ii({});if(5==s.type)r=this.visitKeyframes(s,i);else{let c=e.styles,h=!1;if(!c){h=!0;const y={};t.easing&&(y.easing=t.easing),c=ii(y)}i.currentTime+=t.duration+t.delay;const p=this.visitStyle(c,i);p.isEmptyStep=h,r=p}return i.currentAnimateTimings=null,{type:4,timings:t,style:r,options:null}}visitStyle(e,i){const t=this._makeStyleAst(e,i);return this._validateStyleAst(t,i),t}_makeStyleAst(e,i){const t=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of r)"string"==typeof h?h===ya?t.push(h):i.errors.push(new a.vHH(3002,!1)):t.push($4(h));let s=!1,c=null;return t.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(c=h.get("easing"),h.delete("easing")),!s))for(let p of h.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:t,easing:c,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,i){const t=i.currentAnimateTimings;let r=i.currentTime,s=i.currentTime;t&&s>0&&(s-=t.duration+t.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((h,p)=>{const y=i.collectedStyles.get(i.currentQuerySelector),x=y.get(p);let S=!0;x&&(s!=r&&s>=x.startTime&&r<=x.endTime&&(i.errors.push(function yX(n,e,i,t,r){return new a.vHH(3010,!1)}()),S=!1),s=x.startTime),S&&y.set(p,{startTime:s,endTime:r}),i.options&&function KX(n,e,i){const t=e.params||{},r=q4(n);r.length&&r.forEach(s=>{t.hasOwnProperty(s)||i.push(function uX(n){return new a.vHH(3001,!1)}())})}(h,i.options,i.errors)})})}visitKeyframes(e,i){const t={type:5,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push(function vX(){return new a.vHH(3011,!1)}()),t;let s=0;const c=[];let h=!1,p=!1,y=0;const x=e.steps.map(ke=>{const Ge=this._makeStyleAst(ke,i);let ze=null!=Ge.offset?Ge.offset:function lJ(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(i=>{if(i instanceof Map&&i.has("offset")){const t=i;e=parseFloat(t.get("offset")),t.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const i=n;e=parseFloat(i.get("offset")),i.delete("offset")}return e}(Ge.styles),Ye=0;return null!=ze&&(s++,Ye=Ge.offset=ze),p=p||Ye<0||Ye>1,h=h||Ye<y,y=Ye,c.push(Ye),Ge});p&&i.errors.push(function bX(){return new a.vHH(3012,!1)}()),h&&i.errors.push(function wX(){return new a.vHH(3200,!1)}());const S=e.steps.length;let N=0;s>0&&s<S?i.errors.push(function CX(){return new a.vHH(3202,!1)}()):0==s&&(N=1/(S-1));const H=S-1,G=i.currentTime,Q=i.currentAnimateTimings,ee=Q.duration;return x.forEach((ke,Ge)=>{const ze=N>0?Ge==H?1:N*Ge:c[Ge],Ye=ze*ee;i.currentTime=G+Q.delay+Ye,Q.duration=Ye,this._validateStyleAst(ke,i),ke.offset=ze,t.styles.push(ke)}),t}visitReference(e,i){return{type:8,animation:Da(this,fC(e.animation),i),options:Km(e.options)}}visitAnimateChild(e,i){return i.depCount++,{type:9,options:Km(e.options)}}visitAnimateRef(e,i){return{type:10,animation:this.visitReference(e.animation,i),options:Km(e.options)}}visitQuery(e,i){const t=i.currentQuerySelector,r=e.options||{};i.queryCount++,i.currentQuery=e;const[s,c]=function sJ(n){const e=!!n.split(/\s*,\s*/).find(i=>":self"==i);return e&&(n=n.replace(iJ,"")),n=n.replace(/@\*/g,eT).replace(/@\w+/g,i=>eT+"-"+i.slice(1)).replace(/:animating/g,$N),[n,e]}(e.selector);i.currentQuerySelector=t.length?t+" "+s:s,xa(i.collectedStyles,i.currentQuerySelector,new Map);const h=Da(this,fC(e.animation),i);return i.currentQuery=null,i.currentQuerySelector=t,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:h,originalSelector:e.selector,options:Km(e.options)}}visitStagger(e,i){i.currentQuery||i.errors.push(function EX(){return new a.vHH(3013,!1)}());const t="full"===e.timings?{duration:0,delay:0,easing:"full"}:tT(e.timings,i.errors,!0);return{type:12,animation:Da(this,fC(e.animation),i),timings:t,options:null}}}class aJ{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Km(n){return n?(n=hC(n)).params&&(n.params=function oJ(n){return n?hC(n):null}(n.params)):n={},n}function YN(n,e,i){return{duration:n,delay:e,easing:i}}function KN(n,e,i,t,r,s,c=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:i,postStyleProps:t,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:h}}class oT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,i){let t=this._map.get(e);t||this._map.set(e,t=[]),t.push(...i)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const hJ=new RegExp(":enter","g"),pJ=new RegExp(":leave","g");function QN(n,e,i,t,r,s=new Map,c=new Map,h,p,y=[]){return(new mJ).buildKeyframes(n,e,i,t,r,s,c,h,p,y)}class mJ{buildKeyframes(e,i,t,r,s,c,h,p,y,x=[]){y=y||new oT;const S=new XN(e,i,y,r,s,x,[]);S.options=p;const N=p.delay?Id(p.delay):0;S.currentTimeline.delayNextStep(N),S.currentTimeline.setStyles([c],null,S.errors,p),Da(this,t,S);const H=S.timelines.filter(G=>G.containsAnimation());if(H.length&&h.size){let G;for(let Q=H.length-1;Q>=0;Q--){const ee=H[Q];if(ee.element===i){G=ee;break}}G&&!G.allowOnlyTimelineStyles()&&G.setStyles([h],null,S.errors,p)}return H.length?H.map(G=>G.buildKeyframes()):[KN(i,[],[],[],0,N,"",!1)]}visitTrigger(e,i){}visitState(e,i){}visitTransition(e,i){}visitAnimateChild(e,i){const t=i.subInstructions.get(i.element);if(t){const r=i.createSubContext(e.options),s=i.currentTimeline.currentTime,c=this._visitSubInstructions(t,r,r.options);s!=c&&i.transformIntoNewTimeline(c)}i.previousNode=e}visitAnimateRef(e,i){const t=i.createSubContext(e.options);t.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],i,t),this.visitReference(e.animation,t),i.transformIntoNewTimeline(t.currentTimeline.currentTime),i.previousNode=e}_applyAnimationRefDelays(e,i,t){for(const r of e){const s=r?.delay;if(s){const c="number"==typeof s?s:Id(pC(s,r?.params??{},i.errors));t.delayNextStep(c)}}}_visitSubInstructions(e,i,t){let s=i.currentTimeline.currentTime;const c=null!=t.duration?Id(t.duration):null,h=null!=t.delay?Id(t.delay):null;return 0!==c&&e.forEach(p=>{const y=i.appendInstructionToTimeline(p,c,h);s=Math.max(s,y.duration+y.delay)}),s}visitReference(e,i){i.updateOptions(e.options,!0),Da(this,e.animation,i),i.previousNode=e}visitSequence(e,i){const t=i.subContextCount;let r=i;const s=e.options;if(s&&(s.params||s.delay)&&(r=i.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=aT);const c=Id(s.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Da(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>t&&r.transformIntoNewTimeline()),i.previousNode=e}visitGroup(e,i){const t=[];let r=i.currentTimeline.currentTime;const s=e.options&&e.options.delay?Id(e.options.delay):0;e.steps.forEach(c=>{const h=i.createSubContext(e.options);s&&h.delayNextStep(s),Da(this,c,h),r=Math.max(r,h.currentTimeline.currentTime),t.push(h.currentTimeline)}),t.forEach(c=>i.currentTimeline.mergeTimelineCollectedStyles(c)),i.transformIntoNewTimeline(r),i.previousNode=e}_visitTiming(e,i){if(e.dynamic){const t=e.strValue;return tT(i.params?pC(t,i.params,i.errors):t,i.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,i){const t=i.currentAnimateTimings=this._visitTiming(e.timings,i),r=i.currentTimeline;t.delay&&(i.incrementTime(t.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,i):(i.incrementTime(t.duration),this.visitStyle(s,i),r.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=e}visitStyle(e,i){const t=i.currentTimeline,r=i.currentAnimateTimings;!r&&t.hasCurrentStyleProperties()&&t.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?t.applyEmptyStep(s):t.setStyles(e.styles,s,i.errors,i.options),i.previousNode=e}visitKeyframes(e,i){const t=i.currentAnimateTimings,r=i.currentTimeline.duration,s=t.duration,h=i.createSubContext().currentTimeline;h.easing=t.easing,e.styles.forEach(p=>{h.forwardTime((p.offset||0)*s),h.setStyles(p.styles,p.easing,i.errors,i.options),h.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(h),i.transformIntoNewTimeline(r+s),i.previousNode=e}visitQuery(e,i){const t=i.currentTimeline.currentTime,r=e.options||{},s=r.delay?Id(r.delay):0;s&&(6===i.previousNode.type||0==t&&i.currentTimeline.hasCurrentStyleProperties())&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=aT);let c=t;const h=i.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,i.errors);i.currentQueryTotal=h.length;let p=null;h.forEach((y,x)=>{i.currentQueryIndex=x;const S=i.createSubContext(e.options,y);s&&S.delayNextStep(s),y===i.element&&(p=S.currentTimeline),Da(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,S.currentTimeline.currentTime)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(c),p&&(i.currentTimeline.mergeTimelineCollectedStyles(p),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=e}visitStagger(e,i){const t=i.parentContext,r=i.currentTimeline,s=e.timings,c=Math.abs(s.duration),h=c*(i.currentQueryTotal-1);let p=c*i.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=h-p;break;case"full":p=t.currentStaggerTime}const x=i.currentTimeline;p&&x.delayNextStep(p);const S=x.currentTime;Da(this,e.animation,i),i.previousNode=e,t.currentStaggerTime=r.currentTime-S+(r.startTime-t.currentTimeline.startTime)}}const aT={};class XN{constructor(e,i,t,r,s,c,h,p){this._driver=e,this.element=i,this.subInstructions=t,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=aT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new lT(this._driver,i,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,i){if(!e)return;const t=e;let r=this.options;null!=t.duration&&(r.duration=Id(t.duration)),null!=t.delay&&(r.delay=Id(t.delay));const s=t.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(h=>{(!i||!c.hasOwnProperty(h))&&(c[h]=pC(s[h],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const i=this.options.params;if(i){const t=e.params={};Object.keys(i).forEach(r=>{t[r]=i[r]})}}return e}createSubContext(e=null,i,t){const r=i||this.element,s=new XN(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,t||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=aT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,i,t){const r={duration:i??e.duration,delay:this.currentTimeline.currentTime+(t??0)+e.delay,easing:""},s=new gJ(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,i,t,r,s,c){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(hJ,"."+this._enterClassName)).replace(pJ,"."+this._leaveClassName);let y=this._driver.query(this.element,e,1!=t);0!==t&&(y=t<0?y.slice(y.length+t,y.length):y.slice(0,t)),h.push(...y)}return!s&&0==h.length&&c.push(function xX(n){return new a.vHH(3014,!1)}()),h}}class lT{constructor(e,i,t,r){this._driver=e,this.element=i,this.startTime=t,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const i=1===this._keyframes.size&&this._pendingStyles.size;this.duration||i?(this.forwardTime(this.currentTime+e),i&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,i){return this.applyStylesToKeyframe(),new lT(this._driver,e,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,i){this._localTimelineStyles.set(e,i),this._globalTimelineStyles.set(e,i),this._styleSummary.set(e,{time:this.currentTime,value:i})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[i,t]of this._globalTimelineStyles)this._backFill.set(i,t||ya),this._currentKeyframe.set(i,ya);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,i,t,r){i&&this._previousKeyframe.set("easing",i);const s=r&&r.params||{},c=function _J(n,e){const i=new Map;let t;return n.forEach(r=>{if("*"===r){t=t||e.keys();for(let s of t)i.set(s,ya)}else Of(r,i)}),i}(e,this._globalTimelineStyles);for(let[h,p]of c){const y=pC(p,s,t);this._pendingStyles.set(h,y),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??ya),this._updateStyle(h,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,i)=>{this._currentKeyframe.set(i,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,i)=>{this._currentKeyframe.has(i)||this._currentKeyframe.set(i,e)}))}snapshotCurrentStyles(){for(let[e,i]of this._localTimelineStyles)this._pendingStyles.set(e,i),this._updateStyle(e,i)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let i in this._currentKeyframe)e.push(i);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((i,t)=>{const r=this._styleSummary.get(t);(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,i=new Set,t=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,p)=>{const y=Of(h,new Map,this._backFill);y.forEach((x,S)=>{"!"===x?e.add(S):x===ya&&i.add(S)}),t||y.set("offset",p/this.duration),r.push(y)});const s=e.size?nT(e.values()):[],c=i.size?nT(i.values()):[];if(t){const h=r[0],p=new Map(h);h.set("offset",0),p.set("offset",1),r=[h,p]}return KN(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class gJ extends lT{constructor(e,i,t,r,s,c,h=!1){super(e,i,c.delay),this.keyframes=t,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:i,duration:t,easing:r}=this.timings;if(this._stretchStartingKeyframe&&i){const s=[],c=t+i,h=i/c,p=Of(e[0]);p.set("offset",0),s.push(p);const y=Of(e[0]);y.set("offset",Q4(h)),s.push(y);const x=e.length-1;for(let S=1;S<=x;S++){let N=Of(e[S]);const H=N.get("offset");N.set("offset",Q4((i+H*t)/c)),s.push(N)}t=c,i=0,r="",e=s}return KN(this.element,e,this.preStyleProps,this.postStyleProps,t,i,r,!0)}}function Q4(n,e=3){const i=Math.pow(10,e-1);return Math.round(n*i)/i}class JN{}const yJ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class vJ extends JN{normalizePropertyName(e,i){return WN(e)}normalizeStyleValue(e,i,t,r){let s="";const c=t.toString().trim();if(yJ.has(i)&&0!==t&&"0"!==t)if("number"==typeof t)s="px";else{const h=t.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function fX(n,e){return new a.vHH(3005,!1)}())}return c+s}}function X4(n,e,i,t,r,s,c,h,p,y,x,S,N){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:i,fromStyles:s,toState:t,toStyles:c,timelines:h,queriedElements:p,preStyleProps:y,postStyleProps:x,totalTime:S,errors:N}}const eF={};class J4{constructor(e,i,t){this._triggerName=e,this.ast=i,this._stateStyles=t}match(e,i,t,r){return function bJ(n,e,i,t,r){return n.some(s=>s(e,i,t,r))}(this.ast.matchers,e,i,t,r)}buildStyles(e,i,t){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(i,t):new Map}build(e,i,t,r,s,c,h,p,y,x){const S=[],N=this.ast.options&&this.ast.options.params||eF,G=this.buildStyles(t,h&&h.params||eF,S),Q=p&&p.params||eF,ee=this.buildStyles(r,Q,S),ke=new Set,Ge=new Map,ze=new Map,Ye="void"===r,It={params:wJ(Q,N),delay:this.ast.options?.delay},kt=x?[]:QN(e,i,this.ast.animation,s,c,G,ee,It,y,S);let dn=0;if(kt.forEach(xs=>{dn=Math.max(xs.duration+xs.delay,dn)}),S.length)return X4(i,this._triggerName,t,r,Ye,G,ee,[],[],Ge,ze,dn,S);kt.forEach(xs=>{const Sd=xs.element,yz=xa(Ge,Sd,new Set);xs.preStyleProps.forEach(Qm=>yz.add(Qm));const gC=xa(ze,Sd,new Set);xs.postStyleProps.forEach(Qm=>gC.add(Qm)),Sd!==i&&ke.add(Sd)});const Ri=nT(ke.values());return X4(i,this._triggerName,t,r,Ye,G,ee,kt,Ri,Ge,ze,dn)}}function wJ(n,e){const i=hC(e);for(const t in n)n.hasOwnProperty(t)&&null!=n[t]&&(i[t]=n[t]);return i}class CJ{constructor(e,i,t){this.styles=e,this.defaultParams=i,this.normalizer=t}buildStyles(e,i){const t=new Map,r=hC(this.defaultParams);return Object.keys(e).forEach(s=>{const c=e[s];null!==c&&(r[s]=c)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,h)=>{c&&(c=pC(c,r,i));const p=this.normalizer.normalizePropertyName(h,i);c=this.normalizer.normalizeStyleValue(h,p,c,i),t.set(h,c)})}),t}}class xJ{constructor(e,i,t){this.name=e,this.ast=i,this._normalizer=t,this.transitionFactories=[],this.states=new Map,i.states.forEach(r=>{this.states.set(r.name,new CJ(r.style,r.options&&r.options.params||{},t))}),ez(this.states,"true","1"),ez(this.states,"false","0"),i.transitions.forEach(r=>{this.transitionFactories.push(new J4(e,r,this.states))}),this.fallbackTransition=function DJ(n,e,i){return new J4(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,i,t,r){return this.transitionFactories.find(c=>c.match(e,i,t,r))||null}matchStyles(e,i,t){return this.fallbackTransition.buildStyles(e,i,t)}}function ez(n,e,i){n.has(e)?n.has(i)||n.set(i,n.get(e)):n.has(i)&&n.set(e,n.get(i))}const IJ=new oT;class SJ{constructor(e,i,t){this.bodyNode=e,this._driver=i,this._normalizer=t,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,i){const t=[],s=ZN(this._driver,i,t,[]);if(t.length)throw function kX(n){return new a.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,i,t){const r=e.element,s=F4(this._normalizer,e.keyframes,i,t);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,i,t={}){const r=[],s=this._animations.get(e);let c;const h=new Map;if(s?(c=QN(this._driver,i,s,zN,XS,new Map,new Map,t,IJ,r),c.forEach(x=>{const S=xa(h,x.element,new Map);x.postStyleProps.forEach(N=>S.set(N,null))})):(r.push(function RX(){return new a.vHH(3300,!1)}()),c=[]),r.length)throw function OX(n){return new a.vHH(3504,!1)}();h.forEach((x,S)=>{x.forEach((N,H)=>{x.set(H,this._driver.computeStyle(S,H,ya))})});const y=Rf(c.map(x=>{const S=h.get(x.element);return this._buildPlayer(x,new Map,S)}));return this._playersById.set(e,y),y.onDestroy(()=>this.destroy(e)),this.players.push(y),y}destroy(e){const i=this._getPlayer(e);i.destroy(),this._playersById.delete(e);const t=this.players.indexOf(i);t>=0&&this.players.splice(t,1)}_getPlayer(e){const i=this._playersById.get(e);if(!i)throw function PX(n){return new a.vHH(3301,!1)}();return i}listen(e,i,t,r){const s=UN(i,"","","");return BN(this._getPlayer(e),t,s,r),()=>{}}command(e,i,t,r){if("register"==t)return void this.register(e,r[0]);if("create"==t)return void this.create(e,i,r[0]||{});const s=this._getPlayer(e);switch(t){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const tz="ng-animate-queued",tF="ng-animate-disabled",RJ=[],nz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},OJ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hl="__ng_removed";class nF{get params(){return this.options.params}constructor(e,i=""){this.namespaceId=i;const t=e&&e.hasOwnProperty("value");if(this.value=function LJ(n){return n??null}(t?e.value:e),t){const s=hC(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const i=e.params;if(i){const t=this.options.params;Object.keys(i).forEach(r=>{null==t[r]&&(t[r]=i[r])})}}}const mC="void",iF=new nF(mC);class PJ{constructor(e,i,t){this.id=e,this.hostElement=i,this._engine=t,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,il(i,this._hostClassName)}listen(e,i,t,r){if(!this._triggers.has(i))throw function NX(n,e){return new a.vHH(3302,!1)}();if(null==t||0==t.length)throw function FX(n){return new a.vHH(3303,!1)}();if(!function BJ(n){return"start"==n||"done"==n}(t))throw function LX(n,e){return new a.vHH(3400,!1)}();const s=xa(this._elementListeners,e,[]),c={name:i,phase:t,callback:r};s.push(c);const h=xa(this._engine.statesByElement,e,new Map);return h.has(i)||(il(e,JS),il(e,JS+"-"+i),h.set(i,iF)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers.has(i)||h.delete(i)})}}register(e,i){return!this._triggers.has(e)&&(this._triggers.set(e,i),!0)}_getTrigger(e){const i=this._triggers.get(e);if(!i)throw function BX(n){return new a.vHH(3401,!1)}();return i}trigger(e,i,t,r=!0){const s=this._getTrigger(i),c=new rF(this.id,i,e);let h=this._engine.statesByElement.get(e);h||(il(e,JS),il(e,JS+"-"+i),this._engine.statesByElement.set(e,h=new Map));let p=h.get(i);const y=new nF(t,this.id);if(!(t&&t.hasOwnProperty("value"))&&p&&y.absorbOptions(p.options),h.set(i,y),p||(p=iF),y.value!==mC&&p.value===y.value){if(!function HJ(n,e){const i=Object.keys(n),t=Object.keys(e);if(i.length!=t.length)return!1;for(let r=0;r<i.length;r++){const s=i[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(p.params,y.params)){const Q=[],ee=s.matchStyles(p.value,p.params,Q),ke=s.matchStyles(y.value,y.params,Q);Q.length?this._engine.reportError(Q):this._engine.afterFlush(()=>{Ym(e,ee),Kc(e,ke)})}return}const N=xa(this._engine.playersByElement,e,[]);N.forEach(Q=>{Q.namespaceId==this.id&&Q.triggerName==i&&Q.queued&&Q.destroy()});let H=s.matchTransition(p.value,y.value,e,y.params),G=!1;if(!H){if(!r)return;H=s.fallbackTransition,G=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:H,fromState:p,toState:y,player:c,isFallbackTransition:G}),G||(il(e,tz),c.onStart(()=>{ev(e,tz)})),c.onDone(()=>{let Q=this.players.indexOf(c);Q>=0&&this.players.splice(Q,1);const ee=this._engine.playersByElement.get(e);if(ee){let ke=ee.indexOf(c);ke>=0&&ee.splice(ke,1)}}),this.players.push(c),N.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(i=>i.delete(e)),this._elementListeners.forEach((i,t)=>{this._elementListeners.set(t,i.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const i=this._engine.playersByElement.get(e);i&&(i.forEach(t=>t.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,i){const t=this._engine.driver.query(e,eT,!0);t.forEach(r=>{if(r[Hl])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,i,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>t.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,i,t,r){const s=this._engine.statesByElement.get(e),c=new Map;if(s){const h=[];if(s.forEach((p,y)=>{if(c.set(y,p.value),this._triggers.has(y)){const x=this.trigger(e,y,mC,r);x&&h.push(x)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,i,c),t&&Rf(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const i=this._elementListeners.get(e),t=this._engine.statesByElement.get(e);if(i&&t){const r=new Set;i.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const p=this._triggers.get(c).fallbackTransition,y=t.get(c)||iF,x=new nF(mC),S=new rF(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:p,fromState:y,toState:x,player:S,isFallbackTransition:!0})})}}removeNode(e,i){const t=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,i),this.triggerLeaveAnimation(e,i,!0))return;let r=!1;if(t.totalAnimations){const s=t.players.length?t.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(t.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)t.markElementAsRemoved(this.id,e,!1,i);else{const s=e[Hl];(!s||s===nz)&&(t.afterFlush(()=>this.clearElementCache(e)),t.destroyInnerAnimations(e),t._onRemovalComplete(e,i))}}insertNode(e,i){il(e,this._hostClassName)}drainQueuedTransitions(e){const i=[];return this._queue.forEach(t=>{const r=t.player;if(r.destroyed)return;const s=t.element,c=this._elementListeners.get(s);c&&c.forEach(h=>{if(h.name==t.triggerName){const p=UN(s,t.triggerName,t.fromState.value,t.toState.value);p._data=e,BN(t.player,h.phase,p,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):i.push(t)}),this._queue=[],i.sort((t,r)=>{const s=t.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(t.element,r.element)?1:-1})}destroy(e){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class NJ{_onRemovalComplete(e,i){this.onRemovalComplete(e,i)}constructor(e,i,t){this.bodyNode=e,this.driver=i,this._normalizer=t,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(i=>{i.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,i){const t=new PJ(e,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(t,i):(this.newHostElements.set(i,t),this.collectEnterElement(i)),this._namespaceLookup[e]=t}_balanceNamespaceList(e,i){const t=this._namespaceList,r=this.namespacesByHostElement;if(t.length-1>=0){let c=!1,h=this.driver.getParentElement(i);for(;h;){const p=r.get(h);if(p){const y=t.indexOf(p);t.splice(y+1,0,e),c=!0;break}h=this.driver.getParentElement(h)}c||t.unshift(e)}else t.push(e);return r.set(i,e),e}register(e,i){let t=this._namespaceLookup[e];return t||(t=this.createNamespace(e,i)),t}registerTrigger(e,i,t){let r=this._namespaceLookup[e];r&&r.register(i,t)&&this.totalAnimations++}destroy(e,i){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const t=this._fetchNamespace(e);this.namespacesByHostElement.delete(t.hostElement);const r=this._namespaceList.indexOf(t);r>=0&&this._namespaceList.splice(r,1),t.destroy(i),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const i=new Set,t=this.statesByElement.get(e);if(t)for(let r of t.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&i.add(s)}return i}trigger(e,i,t,r){if(cT(i)){const s=this._fetchNamespace(e);if(s)return s.trigger(i,t,r),!0}return!1}insertNode(e,i,t,r){if(!cT(i))return;const s=i[Hl];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(i);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(i,t)}r&&this.collectEnterElement(i)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,i){i?this.disabledNodes.has(e)||(this.disabledNodes.add(e),il(e,tF)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ev(e,tF))}removeNode(e,i,t){if(cT(i)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(i,t):this.markElementAsRemoved(e,i,!1,t);const s=this.namespacesByHostElement.get(i);s&&s.id!==e&&s.removeNode(i,t)}else this._onRemovalComplete(i,t)}markElementAsRemoved(e,i,t,r,s){this.collectedLeaveElements.push(i),i[Hl]={namespaceId:e,setForRemoval:r,hasAnimation:t,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,i,t,r,s){return cT(i)?this._fetchNamespace(e).listen(i,t,r,s):()=>{}}_buildInstruction(e,i,t,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,t,r,e.fromState.options,e.toState.options,i,s)}destroyInnerAnimations(e){let i=this.driver.query(e,eT,!0);i.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(i=this.driver.query(e,$N,!0),i.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(e){const i=this.playersByElement.get(e);i&&i.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(e){const i=this.playersByQueriedElement.get(e);i&&i.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Rf(this.players).onDone(()=>e());e()})}processLeaveNode(e){const i=e[Hl];if(i&&i.setForRemoval){if(e[Hl]=nz,i.namespaceId){this.destroyInnerAnimations(e);const t=this._fetchNamespace(i.namespaceId);t&&t.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}e.classList?.contains(tF)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(e=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,r)=>this._balanceNamespaceList(t,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let t=0;t<this.collectedEnterElements.length;t++)il(this.collectedEnterElements[t],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const t=[];try{i=this._flushAnimations(t,e)}finally{for(let r=0;r<t.length;r++)t[r]()}}else for(let t=0;t<this.collectedLeaveElements.length;t++)this.processLeaveNode(this.collectedLeaveElements[t]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],i.length?Rf(i).onDone(()=>{t.forEach(r=>r())}):t.forEach(r=>r())}}reportError(e){throw function VX(n){return new a.vHH(3402,!1)}()}_flushAnimations(e,i){const t=new oT,r=[],s=new Map,c=[],h=new Map,p=new Map,y=new Map,x=new Set;this.disabledNodes.forEach(bt=>{x.add(bt);const Nt=this.driver.query(bt,".ng-animate-queued",!0);for(let Gt=0;Gt<Nt.length;Gt++)x.add(Nt[Gt])});const S=this.bodyNode,N=Array.from(this.statesByElement.keys()),H=sz(N,this.collectedEnterElements),G=new Map;let Q=0;H.forEach((bt,Nt)=>{const Gt=zN+Q++;G.set(Nt,Gt),bt.forEach(Mn=>il(Mn,Gt))});const ee=[],ke=new Set,Ge=new Set;for(let bt=0;bt<this.collectedLeaveElements.length;bt++){const Nt=this.collectedLeaveElements[bt],Gt=Nt[Hl];Gt&&Gt.setForRemoval&&(ee.push(Nt),ke.add(Nt),Gt.hasAnimation?this.driver.query(Nt,".ng-star-inserted",!0).forEach(Mn=>ke.add(Mn)):Ge.add(Nt))}const ze=new Map,Ye=sz(N,Array.from(ke));Ye.forEach((bt,Nt)=>{const Gt=XS+Q++;ze.set(Nt,Gt),bt.forEach(Mn=>il(Mn,Gt))}),e.push(()=>{H.forEach((bt,Nt)=>{const Gt=G.get(Nt);bt.forEach(Mn=>ev(Mn,Gt))}),Ye.forEach((bt,Nt)=>{const Gt=ze.get(Nt);bt.forEach(Mn=>ev(Mn,Gt))}),ee.forEach(bt=>{this.processLeaveNode(bt)})});const It=[],kt=[];for(let bt=this._namespaceList.length-1;bt>=0;bt--)this._namespaceList[bt].drainQueuedTransitions(i).forEach(Gt=>{const Mn=Gt.player,Jr=Gt.element;if(It.push(Mn),this.collectedEnterElements.length){const $s=Jr[Hl];if($s&&$s.setForMove){if($s.previousTriggersValues&&$s.previousTriggersValues.has(Gt.triggerName)){const Xm=$s.previousTriggersValues.get(Gt.triggerName),rl=this.statesByElement.get(Gt.element);if(rl&&rl.has(Gt.triggerName)){const hT=rl.get(Gt.triggerName);hT.value=Xm,rl.set(Gt.triggerName,hT)}}return void Mn.destroy()}}const Qc=!S||!this.driver.containsElement(S,Jr),Ia=ze.get(Jr),Pf=G.get(Jr),zi=this._buildInstruction(Gt,t,Pf,Ia,Qc);if(zi.errors&&zi.errors.length)return void kt.push(zi);if(Qc)return Mn.onStart(()=>Ym(Jr,zi.fromStyles)),Mn.onDestroy(()=>Kc(Jr,zi.toStyles)),void r.push(Mn);if(Gt.isFallbackTransition)return Mn.onStart(()=>Ym(Jr,zi.fromStyles)),Mn.onDestroy(()=>Kc(Jr,zi.toStyles)),void r.push(Mn);const wz=[];zi.timelines.forEach($s=>{$s.stretchStartingKeyframe=!0,this.disabledNodes.has($s.element)||wz.push($s)}),zi.timelines=wz,t.append(Jr,zi.timelines),c.push({instruction:zi,player:Mn,element:Jr}),zi.queriedElements.forEach($s=>xa(h,$s,[]).push(Mn)),zi.preStyleProps.forEach(($s,Xm)=>{if($s.size){let rl=p.get(Xm);rl||p.set(Xm,rl=new Set),$s.forEach((hT,lF)=>rl.add(lF))}}),zi.postStyleProps.forEach(($s,Xm)=>{let rl=y.get(Xm);rl||y.set(Xm,rl=new Set),$s.forEach((hT,lF)=>rl.add(lF))})});if(kt.length){const bt=[];kt.forEach(Nt=>{bt.push(function UX(n,e){return new a.vHH(3505,!1)}())}),It.forEach(Nt=>Nt.destroy()),this.reportError(bt)}const dn=new Map,Ri=new Map;c.forEach(bt=>{const Nt=bt.element;t.has(Nt)&&(Ri.set(Nt,Nt),this._beforeAnimationBuild(bt.player.namespaceId,bt.instruction,dn))}),r.forEach(bt=>{const Nt=bt.element;this._getPreviousPlayers(Nt,!1,bt.namespaceId,bt.triggerName,null).forEach(Mn=>{xa(dn,Nt,[]).push(Mn),Mn.destroy()})});const xs=ee.filter(bt=>az(bt,p,y)),Sd=new Map;rz(Sd,this.driver,Ge,y,ya).forEach(bt=>{az(bt,p,y)&&xs.push(bt)});const gC=new Map;H.forEach((bt,Nt)=>{rz(gC,this.driver,new Set(bt),p,"!")}),xs.forEach(bt=>{const Nt=Sd.get(bt),Gt=gC.get(bt);Sd.set(bt,new Map([...Nt?.entries()??[],...Gt?.entries()??[]]))});const Qm=[],vz=[],bz={};c.forEach(bt=>{const{element:Nt,player:Gt,instruction:Mn}=bt;if(t.has(Nt)){if(x.has(Nt))return Gt.onDestroy(()=>Kc(Nt,Mn.toStyles)),Gt.disabled=!0,Gt.overrideTotalTime(Mn.totalTime),void r.push(Gt);let Jr=bz;if(Ri.size>1){let Ia=Nt;const Pf=[];for(;Ia=Ia.parentNode;){const zi=Ri.get(Ia);if(zi){Jr=zi;break}Pf.push(Ia)}Pf.forEach(zi=>Ri.set(zi,Jr))}const Qc=this._buildAnimation(Gt.namespaceId,Mn,dn,s,gC,Sd);if(Gt.setRealPlayer(Qc),Jr===bz)Qm.push(Gt);else{const Ia=this.playersByElement.get(Jr);Ia&&Ia.length&&(Gt.parentPlayer=Rf(Ia)),r.push(Gt)}}else Ym(Nt,Mn.fromStyles),Gt.onDestroy(()=>Kc(Nt,Mn.toStyles)),vz.push(Gt),x.has(Nt)&&r.push(Gt)}),vz.forEach(bt=>{const Nt=s.get(bt.element);if(Nt&&Nt.length){const Gt=Rf(Nt);bt.setRealPlayer(Gt)}}),r.forEach(bt=>{bt.parentPlayer?bt.syncPlayerEvents(bt.parentPlayer):bt.destroy()});for(let bt=0;bt<ee.length;bt++){const Nt=ee[bt],Gt=Nt[Hl];if(ev(Nt,XS),Gt&&Gt.hasAnimation)continue;let Mn=[];if(h.size){let Qc=h.get(Nt);Qc&&Qc.length&&Mn.push(...Qc);let Ia=this.driver.query(Nt,$N,!0);for(let Pf=0;Pf<Ia.length;Pf++){let zi=h.get(Ia[Pf]);zi&&zi.length&&Mn.push(...zi)}}const Jr=Mn.filter(Qc=>!Qc.destroyed);Jr.length?VJ(this,Nt,Jr):this.processLeaveNode(Nt)}return ee.length=0,Qm.forEach(bt=>{this.players.push(bt),bt.onDone(()=>{bt.destroy();const Nt=this.players.indexOf(bt);this.players.splice(Nt,1)}),bt.play()}),Qm}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,i,t,r,s){let c=[];if(i){const h=this.playersByQueriedElement.get(e);h&&(c=h)}else{const h=this.playersByElement.get(e);if(h){const p=!s||s==mC;h.forEach(y=>{y.queued||!p&&y.triggerName!=r||c.push(y)})}}return(t||r)&&(c=c.filter(h=>!(t&&t!=h.namespaceId||r&&r!=h.triggerName))),c}_beforeAnimationBuild(e,i,t){const s=i.element,c=i.isRemovalTransition?void 0:e,h=i.isRemovalTransition?void 0:i.triggerName;for(const p of i.timelines){const y=p.element,x=y!==s,S=xa(t,y,[]);this._getPreviousPlayers(y,x,c,h,i.toState).forEach(H=>{const G=H.getRealPlayer();G.beforeDestroy&&G.beforeDestroy(),H.destroy(),S.push(H)})}Ym(s,i.fromStyles)}_buildAnimation(e,i,t,r,s,c){const h=i.triggerName,p=i.element,y=[],x=new Set,S=new Set,N=i.timelines.map(G=>{const Q=G.element;x.add(Q);const ee=Q[Hl];if(ee&&ee.removedBeforeQueried)return new am(G.duration,G.delay);const ke=Q!==p,Ge=function UJ(n){const e=[];return oz(n,e),e}((t.get(Q)||RJ).map(dn=>dn.getRealPlayer())).filter(dn=>!!dn.element&&dn.element===Q),ze=s.get(Q),Ye=c.get(Q),It=F4(this._normalizer,G.keyframes,ze,Ye),kt=this._buildPlayer(G,It,Ge);if(G.subTimeline&&r&&S.add(Q),ke){const dn=new rF(e,h,Q);dn.setRealPlayer(kt),y.push(dn)}return kt});y.forEach(G=>{xa(this.playersByQueriedElement,G.element,[]).push(G),G.onDone(()=>function FJ(n,e,i){let t=n.get(e);if(t){if(t.length){const r=t.indexOf(i);t.splice(r,1)}0==t.length&&n.delete(e)}return t}(this.playersByQueriedElement,G.element,G))}),x.forEach(G=>il(G,z4));const H=Rf(N);return H.onDestroy(()=>{x.forEach(G=>ev(G,z4)),Kc(p,i.toStyles)}),S.forEach(G=>{xa(r,G,[]).push(H)}),H}_buildPlayer(e,i,t){return i.length>0?this.driver.animate(e.element,i,e.duration,e.delay,e.easing,t):new am(e.duration,e.delay)}}class rF{constructor(e,i,t){this.namespaceId=e,this.triggerName=i,this.element=t,this._player=new am,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((i,t)=>{i.forEach(r=>BN(e,t,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const i=this._player;i.triggerCallback&&e.onStart(()=>i.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,i){xa(this._queuedCallbacks,e,[]).push(i)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const i=this._player;i.triggerCallback&&i.triggerCallback(e)}}function cT(n){return n&&1===n.nodeType}function iz(n,e){const i=n.style.display;return n.style.display=e??"none",i}function rz(n,e,i,t,r){const s=[];i.forEach(p=>s.push(iz(p)));const c=[];t.forEach((p,y)=>{const x=new Map;p.forEach(S=>{const N=e.computeStyle(y,S,r);x.set(S,N),(!N||0==N.length)&&(y[Hl]=OJ,c.push(y))}),n.set(y,x)});let h=0;return i.forEach(p=>iz(p,s[h++])),c}function sz(n,e){const i=new Map;if(n.forEach(h=>i.set(h,[])),0==e.length)return i;const r=new Set(e),s=new Map;function c(h){if(!h)return 1;let p=s.get(h);if(p)return p;const y=h.parentNode;return p=i.has(y)?y:r.has(y)?1:c(y),s.set(h,p),p}return e.forEach(h=>{const p=c(h);1!==p&&i.get(p).push(h)}),i}function il(n,e){n.classList?.add(e)}function ev(n,e){n.classList?.remove(e)}function VJ(n,e,i){Rf(i).onDone(()=>n.processLeaveNode(e))}function oz(n,e){for(let i=0;i<n.length;i++){const t=n[i];t instanceof lD?oz(t.players,e):e.push(t)}}function az(n,e,i){const t=i.get(n);if(!t)return!1;let r=e.get(n);return r?t.forEach(s=>r.add(s)):e.set(n,t),i.delete(n),!0}class uT{constructor(e,i,t){this.bodyNode=e,this._driver=i,this._normalizer=t,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new NJ(e,i,t),this._timelineEngine=new SJ(e,i,t),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,i,t,r,s){const c=e+"-"+r;let h=this._triggerCache[c];if(!h){const p=[],x=ZN(this._driver,s,p,[]);if(p.length)throw function AX(n,e){return new a.vHH(3404,!1)}();h=function EJ(n,e,i){return new xJ(n,e,i)}(r,x,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(i,r,h)}register(e,i){this._transitionEngine.register(e,i)}destroy(e,i){this._transitionEngine.destroy(e,i)}onInsert(e,i,t,r){this._transitionEngine.insertNode(e,i,t,r)}onRemove(e,i,t){this._transitionEngine.removeNode(e,i,t)}disableAnimations(e,i){this._transitionEngine.markElementAsDisabled(e,i)}process(e,i,t,r){if("@"==t.charAt(0)){const[s,c]=L4(t);this._timelineEngine.command(s,i,c,r)}else this._transitionEngine.trigger(e,i,t,r)}listen(e,i,t,r,s){if("@"==t.charAt(0)){const[c,h]=L4(t);return this._timelineEngine.listen(c,i,h,s)}return this._transitionEngine.listen(e,i,t,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let zJ=(()=>{class e{constructor(t,r,s){this._element=t,this._startStyles=r,this._endStyles=s,this._state=0;let c=e.initialStylesByElement.get(t);c||e.initialStylesByElement.set(t,c=new Map),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&Kc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Kc(this._element,this._initialStyles),this._endStyles&&(Kc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Ym(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ym(this._element,this._endStyles),this._endStyles=null),Kc(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function sF(n){let e=null;return n.forEach((i,t)=>{(function $J(n){return"display"===n||"position"===n})(t)&&(e=e||new Map,e.set(t,i))}),e}class lz{constructor(e,i,t,r){this.element=e,this.keyframes=i,this.options=t,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=t.duration,this._delay=t.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const i=[];return e.forEach(t=>{i.push(Object.fromEntries(t))}),i}_triggerWebAnimation(e,i,t){return e.animate(this._convertKeyframesToObject(i),t)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((t,r)=>{"offset"!==r&&e.set(r,this._finished?t:W4(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const i="start"===e?this._onStartFns:this._onDoneFns;i.forEach(t=>t()),i.length=0}}class GJ{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,i){return!1}containsElement(e,i){return V4(e,i)}getParentElement(e){return HN(e)}query(e,i,t){return U4(e,i,t)}computeStyle(e,i,t){return window.getComputedStyle(e)[i]}animate(e,i,t,r,s,c=[]){const p={duration:t,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const y=new Map,x=c.filter(H=>H instanceof lz);(function XX(n,e){return 0===n||0===e})(t,r)&&x.forEach(H=>{H.currentSnapshot.forEach((G,Q)=>y.set(Q,G))});let S=function YX(n){return n.length?n[0]instanceof Map?n:n.map(e=>$4(e)):[]}(i).map(H=>Of(H));S=function JX(n,e,i){if(i.size&&e.length){let t=e[0],r=[];if(i.forEach((s,c)=>{t.has(c)||r.push(c),t.set(c,s)}),r.length)for(let s=1;s<e.length;s++){let c=e[s];r.forEach(h=>c.set(h,W4(n,h)))}}return e}(e,S,y);const N=function jJ(n,e){let i=null,t=null;return Array.isArray(e)&&e.length?(i=sF(e[0]),e.length>1&&(t=sF(e[e.length-1]))):e instanceof Map&&(i=sF(e)),i||t?new zJ(n,i,t):null}(e,S);return new lz(e,S,p,N)}}let qJ=(()=>{var n;class e extends c0{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(t)?d0(t):t;return cz(this._renderer,null,r,"register",[s]),new WJ(r,this._renderer)}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),e})();class WJ extends sD{constructor(e,i){super(),this._id=e,this._renderer=i}create(e,i){return new ZJ(this._id,e,i||{},this._renderer)}}class ZJ{constructor(e,i,t,r){this.id=e,this.element=i,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",t)}_listen(e,i){return this._renderer.listen(this.element,`@@${this.id}:${e}`,i)}_command(e,...i){return cz(this._renderer,this.element,this.id,e,i)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function cz(n,e,i,t,r){return n.setProperty(e,`@@${i}:${t}`,r)}const uz="@.disabled";let YJ=(()=>{var n;class e{constructor(t,r,s){this.delegate=t,this.engine=r,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(c,h)=>{const p=h?.parentNode(c);p&&h.removeChild(p,c)}}createRenderer(t,r){const c=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let S=this._rendererCache.get(c);return S||(S=new dz("",c,this.engine,()=>this._rendererCache.delete(c)),this._rendererCache.set(c,S)),S}const h=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const y=S=>{Array.isArray(S)?S.forEach(y):this.engine.registerTrigger(h,p,t,S.name,S)};return r.data.animation.forEach(y),new KJ(this,p,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,s){t>=0&&t<this._microtaskId?this._zone.run(()=>r(s)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[h,p]=c;h(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(uT),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),e})();class dz{constructor(e,i,t,r){this.namespaceId=e,this.delegate=i,this.engine=t,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,i){return this.delegate.createElement(e,i)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,i){this.delegate.appendChild(e,i),this.engine.onInsert(this.namespaceId,i,e,!1)}insertBefore(e,i,t,r=!0){this.delegate.insertBefore(e,i,t),this.engine.onInsert(this.namespaceId,i,e,r)}removeChild(e,i,t){this.engine.onRemove(this.namespaceId,i,this.delegate)}selectRootElement(e,i){return this.delegate.selectRootElement(e,i)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,i,t,r){this.delegate.setAttribute(e,i,t,r)}removeAttribute(e,i,t){this.delegate.removeAttribute(e,i,t)}addClass(e,i){this.delegate.addClass(e,i)}removeClass(e,i){this.delegate.removeClass(e,i)}setStyle(e,i,t,r){this.delegate.setStyle(e,i,t,r)}removeStyle(e,i,t){this.delegate.removeStyle(e,i,t)}setProperty(e,i,t){"@"==i.charAt(0)&&i==uz?this.disableAnimations(e,!!t):this.delegate.setProperty(e,i,t)}setValue(e,i){this.delegate.setValue(e,i)}listen(e,i,t){return this.delegate.listen(e,i,t)}disableAnimations(e,i){this.engine.disableAnimations(e,i)}}class KJ extends dz{constructor(e,i,t,r,s){super(i,t,r,s),this.factory=e,this.namespaceId=i}setProperty(e,i,t){"@"==i.charAt(0)?"."==i.charAt(1)&&i==uz?this.disableAnimations(e,t=void 0===t||!!t):this.engine.process(this.namespaceId,e,i.slice(1),t):this.delegate.setProperty(e,i,t)}listen(e,i,t){if("@"==i.charAt(0)){const r=function QJ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=i.slice(1),c="";return"@"!=s.charAt(0)&&([s,c]=function XJ(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,t,h)})}return this.delegate.listen(e,i,t)}}let JJ=(()=>{var n;class e extends uT{constructor(t,r,s,c){super(t.body,r,s)}ngOnDestroy(){this.flush()}}return(n=e).\u0275fac=function(t){return new(t||n)(a.LFG(re),a.LFG(jN),a.LFG(JN),a.LFG(a.z2F))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),e})();const hz=[{provide:c0,useClass:qJ},{provide:JN,useFactory:function eee(){return new vJ}},{provide:uT,useClass:JJ},{provide:a.FYo,useFactory:function tee(n,e,i){return new YJ(n,e,i)},deps:[To,uT,a.R0b]}],oF=[{provide:jN,useFactory:()=>new GJ},{provide:a.QbO,useValue:"BrowserAnimations"},...hz],fz=[{provide:jN,useClass:H4},{provide:a.QbO,useValue:"NoopAnimations"},...hz];let nee=(()=>{var n;class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?fz:oF}}}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:oF,imports:[pl]}),e})();const _z=new a.OlP("mat-chips-default-options");let pee=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Zh,{provide:_z,useValue:{separatorKeyCodes:[13]}}],imports:[xn]}),e})(),mee=(()=>{var n;class e{}return n=e,ue(e,"\u0275fac",function(t){return new(t||n)}),ue(e,"\u0275mod",a.oAB({type:n})),ue(e,"\u0275inj",a.cJS({imports:[_n,nee,GQ,w$,AY,Lc,Lc,Zk,N5,RA,FE,rX,O$,m4,QY,SQ,pee,B$,jK]})),e})(),gee=(()=>{var n;class e{}return n=e,ue(e,"\u0275fac",function(t){return new(t||n)}),ue(e,"\u0275mod",a.oAB({type:n})),ue(e,"\u0275inj",a.cJS({imports:[_n]})),e})();n4((0,$_.ZF)(LN_firebase),"gs://finnote2-70a8c.appspot.com/");let yee=(()=>{var n;class e{}return n=e,ue(e,"\u0275fac",function(t){return new(t||n)}),ue(e,"\u0275mod",a.oAB({type:n,bootstrap:[aX]})),ue(e,"\u0275inj",a.cJS({providers:[we,Ky],imports:[pl,VQ,lG,mee,jo.hO.initializeApp(LN_firebase),jo.hO,YW,gee]})),e})();(0,a.G48)(),cc().bootstrapModule(yee).catch(n=>console.error(n))},6304:(gt,Se,B)=>{B.d(Se,{Dh:()=>Re,GT:()=>re,cc:()=>Me,hO:()=>Be,on:()=>z,pX:()=>le,xv:()=>be});var a=B(5879),j=B(7142),O=B(8186);gt=B.hmd(gt);const te=["ngOnDestroy"],le=(Le,vt,ht,ie={})=>new Proxy(Le,{get:(xe,de)=>ht.runOutsideAngular(()=>{var De;if(Le[de])return!(null===(De=ie?.spy)||void 0===De)&&De.get&&ie.spy.get(de,Le[de]),Le[de];if(te.indexOf(de)>-1)return()=>{};const Ve=vt.toPromise().then(oe=>{const ft=oe&&oe[de];return"function"==typeof ft?ft.bind(oe):ft&&ft.then?ft.then(wt=>ht.run(()=>wt)):ht.run(()=>ft)});return new Proxy(()=>{},{get:(oe,ft)=>Ve[ft],apply:(oe,ft,wt)=>Ve.then(Kt=>{var mi;const ir=Kt&&Kt(...wt);return!(null===(mi=ie?.spy)||void 0===mi)&&mi.apply&&ie.spy.apply(de,wt,ir),ir})})})}),re=(Le,vt)=>{vt.forEach(ht=>{Object.getOwnPropertyNames(ht.prototype||ht).forEach(ie=>{Object.defineProperty(Le.prototype,ie,Object.getOwnPropertyDescriptor(ht.prototype||ht,ie))})})};class Ce{constructor(vt){return vt}}const Re=new a.OlP("angularfire2.app.options"),be=new a.OlP("angularfire2.app.name");function z(Le,vt,ht){const xe="object"==typeof ht&&ht||{};xe.name=xe.name||"string"==typeof ht&&ht||"[DEFAULT]";const De=j.Z.apps.filter(Ve=>Ve&&Ve.name===xe.name)[0]||vt.runOutsideAngular(()=>j.Z.initializeApp(Le,xe));try{JSON.stringify(Le)!==JSON.stringify(De.options)&&W("error",`${De.name} Firebase App already initialized with different options${gt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ce(De)}const W=(Le,...vt)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Le](...vt)},se={provide:Ce,useFactory:z,deps:[Re,a.R0b,[new a.FiY,be]]};let Be=(()=>{class Le{constructor(ht){j.Z.registerVersion("angularfire",O.q4.full,"core"),j.Z.registerVersion("angularfire",O.q4.full,"app-compat"),j.Z.registerVersion("angular",a.q4F.full,ht.toString())}static initializeApp(ht,ie){return{ngModule:Le,providers:[{provide:Re,useValue:ht},{provide:be,useValue:ie}]}}}return Le.\u0275fac=function(ht){return new(ht||Le)(a.LFG(a.Lbi))},Le.\u0275mod=a.oAB({type:Le}),Le.\u0275inj=a.cJS({providers:[se]}),Le})();function Me(Le,vt,ht,ie,xe){const[,de,De]=globalThis.\u0275AngularfireInstanceCache.find(Ve=>Ve[0]===Le)||[];if(de)return function et(Le,vt){try{return Le.toString()===vt.toString()}catch{return Le===vt}}(xe,De)||(Ke("error",`${vt} was already initialized on the ${ht} Firebase App with different settings.${Oe?" You may need to reload as Firebase is not HMR aware.":""}`),Ke("warn",{is:xe,was:De})),de;{const Ve=ie();return globalThis.\u0275AngularfireInstanceCache.push([Le,Ve,xe]),Ve}}const Oe=!!gt.hot,Ke=(Le,...vt)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Le](...vt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(gt,Se,B)=>{B.d(Se,{q4:()=>Po,iC:()=>oa,HU:()=>bc,vb:()=>Fo,JM:()=>vc,u3:()=>Xn});var a=B(5879),j=B(3182),O=B(5861),te=B(534),le=B(9058),re=B(4537),Ce=B(7879);const Re=(C,I)=>I.some(A=>C instanceof A);let be,z;const Be=new WeakMap,Me=new WeakMap,et=new WeakMap,Oe=new WeakMap,Ke=new WeakMap;let ht={get(C,I,A){if(C instanceof IDBTransaction){if("done"===I)return Me.get(C);if("objectStoreNames"===I)return C.objectStoreNames||et.get(C);if("store"===I)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return De(C[I])},set:(C,I,A)=>(C[I]=A,!0),has:(C,I)=>C instanceof IDBTransaction&&("done"===I||"store"===I)||I in C};function de(C){return"function"==typeof C?function xe(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function se(){return z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...I){return C.apply(Ve(this),I),De(Be.get(this))}:function(...I){return De(C.apply(Ve(this),I))}:function(I,...A){const L=C.call(Ve(this),I,...A);return et.set(L,I.sort?I.sort():[I]),De(L)}}(C):(C instanceof IDBTransaction&&function vt(C){if(Me.has(C))return;const I=new Promise((A,L)=>{const Z=()=>{C.removeEventListener("complete",J),C.removeEventListener("error",fe),C.removeEventListener("abort",fe)},J=()=>{A(),Z()},fe=()=>{L(C.error||new DOMException("AbortError","AbortError")),Z()};C.addEventListener("complete",J),C.addEventListener("error",fe),C.addEventListener("abort",fe)});Me.set(C,I)}(C),Re(C,function W(){return be||(be=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,ht):C)}function De(C){if(C instanceof IDBRequest)return function Le(C){const I=new Promise((A,L)=>{const Z=()=>{C.removeEventListener("success",J),C.removeEventListener("error",fe)},J=()=>{A(De(C.result)),Z()},fe=()=>{L(C.error),Z()};C.addEventListener("success",J),C.addEventListener("error",fe)});return I.then(A=>{A instanceof IDBCursor&&Be.set(A,C)}).catch(()=>{}),Ke.set(I,C),I}(C);if(Oe.has(C))return Oe.get(C);const I=de(C);return I!==C&&(Oe.set(C,I),Ke.set(I,C)),I}const Ve=C=>Ke.get(C),wt=["get","getKey","getAll","getAllKeys","count"],Kt=["put","add","delete","clear"],mi=new Map;function ir(C,I){if(!(C instanceof IDBDatabase)||I in C||"string"!=typeof I)return;if(mi.get(I))return mi.get(I);const A=I.replace(/FromIndex$/,""),L=I!==A,Z=Kt.includes(A);if(!(A in(L?IDBIndex:IDBObjectStore).prototype)||!Z&&!wt.includes(A))return;const J=function(){var fe=(0,O.Z)(function*(Je,...qe){const pt=this.transaction(Je,Z?"readwrite":"readonly");let Bt=pt.store;return L&&(Bt=Bt.index(qe.shift())),(yield Promise.all([Bt[A](...qe),Z&&pt.done]))[0]});return function(qe){return fe.apply(this,arguments)}}();return mi.set(I,J),J}!function ie(C){ht=C(ht)}(C=>({...C,get:(I,A,L)=>ir(I,A)||C.get(I,A,L),has:(I,A)=>!!ir(I,A)||C.has(I,A)}));const Ds="@firebase/installations",On="0.6.4",jr=1e4,Gs=`w:${On}`,pe="FIS_v2",_e="https://firebaseinstallations.googleapis.com/v1",Ee=36e5,nt=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ze(C){return C instanceof le.ZR&&C.code.includes("request-failed")}function pn({projectId:C}){return`${_e}/projects/${C}/installations`}function St(C){return{token:C.token,requestStatus:2,expiresIn:ri(C.expiresIn),creationTime:Date.now()}}function ln(C,I){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,O.Z)(function*(C,I){const L=(yield I.json()).error;return nt.create("request-failed",{requestName:C,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function mn({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Bn(C){return fn.apply(this,arguments)}function fn(){return(fn=(0,O.Z)(function*(C){const I=yield C();return I.status>=500&&I.status<600?C():I})).apply(this,arguments)}function ri(C){return Number(C.replace("s","000"))}function Oi(){return(Oi=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:I},{fid:A}){const L=pn(C),Z=mn(C),J=I.getImmediate({optional:!0});if(J){const pt=yield J.getHeartbeatsHeader();pt&&Z.append("x-firebase-client",pt)}const Je={method:"POST",headers:Z,body:JSON.stringify({fid:A,authVersion:pe,appId:C.appId,sdkVersion:Gs})},qe=yield Bn(()=>fetch(L,Je));if(qe.ok){const pt=yield qe.json();return{fid:pt.fid||A,registrationStatus:2,refreshToken:pt.refreshToken,authToken:St(pt.authToken)}}throw yield ln("Create Installation",qe)})).apply(this,arguments)}function Wn(C){return new Promise(I=>{setTimeout(I,C)})}const Is=/^[cdef][\w-]{21}$/,yt="";function Ut(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const A=function Ft(C){return function rr(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Is.test(A)?A:yt}catch{return yt}}function Qt(C){return`${C.appName}!${C.appId}`}const si=new Map;function mr(C,I){const A=Qt(C);Ss(A,I),function hn(C,I){const A=function Ht(){return!gr&&"BroadcastChannel"in self&&(gr=new BroadcastChannel("[Firebase] FID Change"),gr.onmessage=C=>{Ss(C.data.key,C.data.fid)}),gr}();A&&A.postMessage({key:C,fid:I}),function Zn(){0===si.size&&gr&&(gr.close(),gr=null)}()}(A,I)}function Ss(C,I){const A=si.get(C);if(A)for(const L of A)L(I)}let gr=null;const es="firebase-installations-database",ts=1,$i="firebase-installations-store";let oi=null;function ai(){return oi||(oi=function oe(C,I,{blocked:A,upgrade:L,blocking:Z,terminated:J}={}){const fe=indexedDB.open(C,I),Je=De(fe);return L&&fe.addEventListener("upgradeneeded",qe=>{L(De(fe.result),qe.oldVersion,qe.newVersion,De(fe.transaction))}),A&&fe.addEventListener("blocked",()=>A()),Je.then(qe=>{J&&qe.addEventListener("close",()=>J()),Z&&qe.addEventListener("versionchange",()=>Z())}).catch(()=>{}),Je}(es,ts,{upgrade:(C,I)=>{0===I&&C.createObjectStore($i)}})),oi}function li(C,I){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,O.Z)(function*(C,I){const A=Qt(C),Z=(yield ai()).transaction($i,"readwrite"),J=Z.objectStore($i),fe=yield J.get(A);return yield J.put(I,A),yield Z.done,(!fe||fe.fid!==I.fid)&&mr(C,I.fid),I})).apply(this,arguments)}function Fn(C){return ns.apply(this,arguments)}function ns(){return(ns=(0,O.Z)(function*(C){const I=Qt(C),L=(yield ai()).transaction($i,"readwrite");yield L.objectStore($i).delete(I),yield L.done})).apply(this,arguments)}function Pi(C,I){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,O.Z)(function*(C,I){const A=Qt(C),Z=(yield ai()).transaction($i,"readwrite"),J=Z.objectStore($i),fe=yield J.get(A),Je=I(fe);return void 0===Je?yield J.delete(A):yield J.put(Je,A),yield Z.done,Je&&(!fe||fe.fid!==Je.fid)&&mr(C,Je.fid),Je})).apply(this,arguments)}function q(C){return $.apply(this,arguments)}function $(){return $=(0,O.Z)(function*(C){let I;const A=yield Pi(C.appConfig,L=>{const Z=function F(C){return it(C||{fid:Ut(),registrationStatus:0})}(L),J=function V(C,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(nt.create("app-offline"))};const A={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function R(C,I){return X.apply(this,arguments)}(C,A);return{installationEntry:A,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Ie(C)}:{installationEntry:I}}(C,Z);return I=J.registrationPromise,J.installationEntry});return A.fid===yt?{installationEntry:yield I}:{installationEntry:A,registrationPromise:I}}),$.apply(this,arguments)}function X(){return X=(0,O.Z)(function*(C,I){try{const A=yield function kr(C,I){return Oi.apply(this,arguments)}(C,I);return li(C.appConfig,A)}catch(A){throw Ze(A)&&409===A.customData.serverCode?yield Fn(C.appConfig):yield li(C.appConfig,{fid:I.fid,registrationStatus:0}),A}}),X.apply(this,arguments)}function Ie(C){return $e.apply(this,arguments)}function $e(){return($e=(0,O.Z)(function*(C){let I=yield At(C.appConfig);for(;1===I.registrationStatus;)yield Wn(100),I=yield At(C.appConfig);if(0===I.registrationStatus){const{installationEntry:A,registrationPromise:L}=yield q(C);return L||A}return I})).apply(this,arguments)}function At(C){return Pi(C,I=>{if(!I)throw nt.create("installation-not-found");return it(I)})}function it(C){return function cn(C){return 1===C.registrationStatus&&C.registrationTime+jr<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function gn(){return(gn=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:I},A){const L=function qt(C,{fid:I}){return`${pn(C)}/${I}/authTokens:generate`}(C,A),Z=function qn(C,{refreshToken:I}){const A=mn(C);return A.append("Authorization",function Mr(C){return`${pe} ${C}`}(I)),A}(C,A),J=I.getImmediate({optional:!0});if(J){const pt=yield J.getHeartbeatsHeader();pt&&Z.append("x-firebase-client",pt)}const Je={method:"POST",headers:Z,body:JSON.stringify({installation:{sdkVersion:Gs,appId:C.appId}})},qe=yield Bn(()=>fetch(L,Je));if(qe.ok)return St(yield qe.json());throw yield ln("Generate Auth Token",qe)})).apply(this,arguments)}function Ni(C){return qs.apply(this,arguments)}function qs(){return qs=(0,O.Z)(function*(C,I=!1){let A;const L=yield Pi(C.appConfig,J=>{if(!jt(J))throw nt.create("not-registered");const fe=J.authToken;if(!I&&function un(C){return 2===C.requestStatus&&!function gi(C){const I=Date.now();return I<C.creationTime||C.creationTime+C.expiresIn<I+Ee}(C)}(fe))return J;if(1===fe.requestStatus)return A=function ye(C,I){return ae.apply(this,arguments)}(C,I),J;{if(!navigator.onLine)throw nt.create("app-offline");const Je=function Yn(C){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:I})}(J);return A=function ct(C,I){return tt.apply(this,arguments)}(C,Je),Je}});return A?yield A:L.authToken}),qs.apply(this,arguments)}function ae(){return(ae=(0,O.Z)(function*(C,I){let A=yield Fe(C.appConfig);for(;1===A.authToken.requestStatus;)yield Wn(100),A=yield Fe(C.appConfig);const L=A.authToken;return 0===L.requestStatus?Ni(C,I):L})).apply(this,arguments)}function Fe(C){return Pi(C,I=>{if(!jt(I))throw nt.create("not-registered");return function qi(C){return 1===C.requestStatus&&C.requestTime+jr<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function tt(){return tt=(0,O.Z)(function*(C,I){try{const A=yield function Rt(C,I){return gn.apply(this,arguments)}(C,I),L=Object.assign(Object.assign({},I),{authToken:A});return yield li(C.appConfig,L),A}catch(A){if(!Ze(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield li(C.appConfig,L)}else yield Fn(C.appConfig);throw A}}),tt.apply(this,arguments)}function jt(C){return void 0!==C&&2===C.registrationStatus}function Sa(){return(Sa=(0,O.Z)(function*(C){const I=C,{installationEntry:A,registrationPromise:L}=yield q(I);return L?L.catch(console.error):Ni(I).catch(console.error),A.fid})).apply(this,arguments)}function wo(){return wo=(0,O.Z)(function*(C,I=!1){const A=C;return yield function Zs(C){return qo.apply(this,arguments)}(A),(yield Ni(A,I)).token}),wo.apply(this,arguments)}function qo(){return(qo=(0,O.Z)(function*(C){const{registrationPromise:I}=yield q(C);I&&(yield I)})).apply(this,arguments)}function Ys(C){return nt.create("missing-app-config-values",{valueName:C})}const Co="installations",ol=C=>{const I=C.getProvider("app").getImmediate(),A=function _r(C){if(!C||!C.options)throw Ys("App Configuration");if(!C.name)throw Ys("App Name");const I=["projectId","apiKey","appId"];for(const A of I)if(!C.options[A])throw Ys(A);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(I);return{app:I,appConfig:A,heartbeatServiceProvider:(0,te._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Jc=C=>{const I=C.getProvider("app").getImmediate(),A=(0,te._getProvider)(I,Co).getImmediate();return{getId:()=>function Ws(C){return Sa.apply(this,arguments)}(A),getToken:Z=>function Xc(C){return wo.apply(this,arguments)}(A,Z)}};(function Md(){(0,te._registerComponent)(new re.wA(Co,ol,"PUBLIC")),(0,te._registerComponent)(new re.wA("installations-internal",Jc,"PRIVATE"))})(),(0,te.registerVersion)(Ds,On),(0,te.registerVersion)(Ds,On,"esm2017");const jl="@firebase/remote-config",Wi=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class zt{constructor(I,A,L,Z){this.client=I,this.storage=A,this.storageCache=L,this.logger=Z}isCachedDataFresh(I,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-A,Z=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${Z}.`),Z}fetch(I){var A=this;return(0,O.Z)(function*(){const[L,Z]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(Z&&A.isCachedDataFresh(I.cacheMaxAgeMillis,L))return Z;I.eTag=Z&&Z.eTag;const J=yield A.client.fetch(I),fe=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===J.status&&fe.push(A.storage.setLastSuccessfulFetchResponse(J)),yield Promise.all(fe),J})()}}function kn(C=navigator){return C.languages&&C.languages[0]||C.language}class Or{constructor(I,A,L,Z,J,fe){this.firebaseInstallations=I,this.sdkVersion=A,this.namespace=L,this.projectId=Z,this.apiKey=J,this.appId=fe}fetch(I){var A=this;return(0,O.Z)(function*(){const[L,Z]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),fe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,Je={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},qe={sdk_version:A.sdkVersion,app_instance_id:L,app_instance_id_token:Z,app_id:A.appId,language_code:kn()},pt={method:"POST",headers:Je,body:JSON.stringify(qe)},Bt=fetch(fe,pt),Mt=new Promise((Dr,us)=>{I.signal.addEventListener(()=>{const Ru=new Error("The operation was aborted.");Ru.name="AbortError",us(Ru)})});let yn;try{yield Promise.race([Bt,Mt]),yn=yield Bt}catch(Dr){let us="fetch-client-network";throw"AbortError"===Dr?.name&&(us="fetch-timeout"),Wi.create(us,{originalErrorMessage:Dr?.message})}let di=yn.status;const xr=yn.headers.get("ETag")||void 0;let ah,ao;if(200===yn.status){let Dr;try{Dr=yield yn.json()}catch(us){throw Wi.create("fetch-client-parse",{originalErrorMessage:us?.message})}ah=Dr.entries,ao=Dr.state}if("INSTANCE_STATE_UNSPECIFIED"===ao?di=500:"NO_CHANGE"===ao?di=304:("NO_TEMPLATE"===ao||"EMPTY_CONFIG"===ao)&&(ah={}),304!==di&&200!==di)throw Wi.create("fetch-status",{httpStatus:di});return{status:di,eTag:xr,config:ah}})()}}class Zo{constructor(I,A){this.client=I,this.storage=A}fetch(I){var A=this;return(0,O.Z)(function*(){const L=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:A,backoffCount:L}){var Z=this;return(0,O.Z)(function*(){yield function Qs(C,I){return new Promise((A,L)=>{const Z=Math.max(I-Date.now(),0),J=setTimeout(A,Z);C.addEventListener(()=>{clearTimeout(J),L(Wi.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,A);try{const J=yield Z.client.fetch(I);return yield Z.storage.deleteThrottleMetadata(),J}catch(J){if(!function sr(C){if(!(C instanceof le.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(J))throw J;const fe={throttleEndTimeMillis:Date.now()+(0,le.$s)(L),backoffCount:L+1};return yield Z.storage.setThrottleMetadata(fe),Z.attemptFetch(I,fe)}})()}}class Do{constructor(I,A,L,Z,J){this.app=I,this._client=A,this._storageCache=L,this._storage=Z,this._logger=J,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Et(C,I){const A=C.target.error||void 0;return Wi.create(I,{originalErrorMessage:A&&A?.message})}const is="app_namespace_store";class Ma{constructor(I,A,L,Z=function yi(){return new Promise((C,I)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=L=>{I(Et(L,"storage-open"))},A.onsuccess=L=>{C(L.target.result)},A.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(is,{keyPath:"compositeKey"})}}catch(A){I(Wi.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=I,this.appName=A,this.namespace=L,this.openDbPromise=Z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var A=this;return(0,O.Z)(function*(){const L=yield A.openDbPromise;return new Promise((Z,J)=>{const Je=L.transaction([is],"readonly").objectStore(is),qe=A.createCompositeKey(I);try{const pt=Je.get(qe);pt.onerror=Bt=>{J(Et(Bt,"storage-get"))},pt.onsuccess=Bt=>{const Mt=Bt.target.result;Z(Mt?Mt.value:void 0)}}catch(pt){J(Wi.create("storage-get",{originalErrorMessage:pt?.message}))}})})()}set(I,A){var L=this;return(0,O.Z)(function*(){const Z=yield L.openDbPromise;return new Promise((J,fe)=>{const qe=Z.transaction([is],"readwrite").objectStore(is),pt=L.createCompositeKey(I);try{const Bt=qe.put({compositeKey:pt,value:A});Bt.onerror=Mt=>{fe(Et(Mt,"storage-set"))},Bt.onsuccess=()=>{J()}}catch(Bt){fe(Wi.create("storage-set",{originalErrorMessage:Bt?.message}))}})})()}delete(I){var A=this;return(0,O.Z)(function*(){const L=yield A.openDbPromise;return new Promise((Z,J)=>{const Je=L.transaction([is],"readwrite").objectStore(is),qe=A.createCompositeKey(I);try{const pt=Je.delete(qe);pt.onerror=Bt=>{J(Et(Bt,"storage-delete"))},pt.onsuccess=()=>{Z()}}catch(pt){J(Wi.create("storage-delete",{originalErrorMessage:pt?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Nr{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,O.Z)(function*(){const A=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),Z=I.storage.getActiveConfig(),J=yield A;J&&(I.lastFetchStatus=J);const fe=yield L;fe&&(I.lastSuccessfulFetchTimestampMillis=fe);const Je=yield Z;Je&&(I.activeConfig=Je)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Yo(){return rs.apply(this,arguments)}function rs(){return(rs=(0,O.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}!function or(){(0,te._registerComponent)(new re.wA("remote-config",function C(I,{instanceIdentifier:A}){const L=I.getProvider("app").getImmediate(),Z=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Wi.create("registration-window");if(!(0,le.hl)())throw Wi.create("indexed-db-unavailable");const{projectId:J,apiKey:fe,appId:Je}=L.options;if(!J)throw Wi.create("registration-project-id");if(!fe)throw Wi.create("registration-api-key");if(!Je)throw Wi.create("registration-app-id");const qe=new Ma(Je,L.name,A=A||"firebase"),pt=new Nr(qe),Bt=new Ce.Yd(jl);Bt.logLevel=Ce.in.ERROR;const Mt=new Or(Z,te.SDK_VERSION,A,J,fe,Je),yn=new Zo(Mt,qe),di=new zt(yn,qe,pt,Bt),xr=new Do(L,di,pt,qe,Bt);return function Fi(C){const I=(0,le.m9)(C);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(xr),xr},"PUBLIC").setMultipleInstances(!0)),(0,te.registerVersion)(jl,"0.4.4"),(0,te.registerVersion)(jl,"0.4.4","esm2017")}();const ru=(C,I)=>I.some(A=>C instanceof A);let $r,Xt;const ka=new WeakMap,Bi=new WeakMap,Zi=new WeakMap,So=new WeakMap,Ko=new WeakMap;let Yi={get(C,I,A){if(C instanceof IDBTransaction){if("done"===I)return Bi.get(C);if("objectStoreNames"===I)return C.objectStoreNames||Zi.get(C);if("store"===I)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return Fr(C[I])},set:(C,I,A)=>(C[I]=A,!0),has:(C,I)=>C instanceof IDBTransaction&&("done"===I||"store"===I)||I in C};function Js(C){return"function"==typeof C?function au(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ou(){return Xt||(Xt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...I){return C.apply(vr(this),I),Fr(ka.get(this))}:function(...I){return Fr(C.apply(vr(this),I))}:function(I,...A){const L=C.call(vr(this),I,...A);return Zi.set(L,I.sort?I.sort():[I]),Fr(L)}}(C):(C instanceof IDBTransaction&&function Rd(C){if(Bi.has(C))return;const I=new Promise((A,L)=>{const Z=()=>{C.removeEventListener("complete",J),C.removeEventListener("error",fe),C.removeEventListener("abort",fe)},J=()=>{A(),Z()},fe=()=>{L(C.error||new DOMException("AbortError","AbortError")),Z()};C.addEventListener("complete",J),C.addEventListener("error",fe),C.addEventListener("abort",fe)});Bi.set(C,I)}(C),ru(C,function su(){return $r||($r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Yi):C)}function Fr(C){if(C instanceof IDBRequest)return function vi(C){const I=new Promise((A,L)=>{const Z=()=>{C.removeEventListener("success",J),C.removeEventListener("error",fe)},J=()=>{A(Fr(C.result)),Z()},fe=()=>{L(C.error),Z()};C.addEventListener("success",J),C.addEventListener("error",fe)});return I.then(A=>{A instanceof IDBCursor&&ka.set(A,C)}).catch(()=>{}),Ko.set(I,C),I}(C);if(So.has(C))return So.get(C);const I=Js(C);return I!==C&&(So.set(C,I),Ko.set(I,C)),I}const vr=C=>Ko.get(C);function Qo(C,I,{blocked:A,upgrade:L,blocking:Z,terminated:J}={}){const fe=indexedDB.open(C,I),Je=Fr(fe);return L&&fe.addEventListener("upgradeneeded",qe=>{L(Fr(fe.result),qe.oldVersion,qe.newVersion,Fr(fe.transaction))}),A&&fe.addEventListener("blocked",()=>A()),Je.then(qe=>{J&&qe.addEventListener("close",()=>J()),Z&&qe.addEventListener("versionchange",()=>Z())}).catch(()=>{}),Je}function al(C,{blocked:I}={}){const A=indexedDB.deleteDatabase(C);return I&&A.addEventListener("blocked",()=>I()),Fr(A).then(()=>{})}const Od=["get","getKey","getAll","getAllKeys","count"],Ff=["put","add","delete","clear"],lu=new Map;function Zl(C,I){if(!(C instanceof IDBDatabase)||I in C||"string"!=typeof I)return;if(lu.get(I))return lu.get(I);const A=I.replace(/FromIndex$/,""),L=I!==A,Z=Ff.includes(A);if(!(A in(L?IDBIndex:IDBObjectStore).prototype)||!Z&&!Od.includes(A))return;const J=function(){var fe=(0,O.Z)(function*(Je,...qe){const pt=this.transaction(Je,Z?"readwrite":"readonly");let Bt=pt.store;return L&&(Bt=Bt.index(qe.shift())),(yield Promise.all([Bt[A](...qe),Z&&pt.done]))[0]});return function(qe){return fe.apply(this,arguments)}}();return lu.set(I,J),J}!function ar(C){Yi=C(Yi)}(C=>({...C,get:(I,A,L)=>Zl(I,A)||C.get(I,A,L),has:(I,A)=>!!Zl(I,A)||C.has(I,A)}));const cu="/firebase-messaging-sw.js",Pd="/firebase-cloud-messaging-push-scope",Lf="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Bf="https://fcmregistrations.googleapis.com/v1",Un="google.c.a.c_id",Vf="google.c.a.c_l",tv="google.c.a.ts";var Yl=function(C){return C.PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",C}(Yl||{});function ss(C){const I=new Uint8Array(C);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Hf(C){const A=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(A),Z=new Uint8Array(L.length);for(let J=0;J<L.length;++J)Z[J]=L.charCodeAt(J);return Z}const Ra="fcm_token_details_db",Oa=5,ng="fcm_token_object_Store";function uu(){return uu=(0,O.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(J=>J.name).includes(Ra))return null;let I=null;return(yield Qo(Ra,Oa,{upgrade:(L=(0,O.Z)(function*(Z,J,fe,Je){var qe;if(J<2||!Z.objectStoreNames.contains(ng))return;const pt=Je.objectStore(ng),Bt=yield pt.index("fcmSenderId").get(C);if(yield pt.clear(),Bt)if(2===J){const Mt=Bt;if(!Mt.auth||!Mt.p256dh||!Mt.endpoint)return;I={token:Mt.fcmToken,createTime:null!==(qe=Mt.createTime)&&void 0!==qe?qe:Date.now(),subscriptionOptions:{auth:Mt.auth,p256dh:Mt.p256dh,endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:"string"==typeof Mt.vapidKey?Mt.vapidKey:ss(Mt.vapidKey)}}}else if(3===J){const Mt=Bt;I={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:ss(Mt.auth),p256dh:ss(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:ss(Mt.vapidKey)}}}else if(4===J){const Mt=Bt;I={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:ss(Mt.auth),p256dh:ss(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:ss(Mt.vapidKey)}}}}),function(J,fe,Je,qe){return L.apply(this,arguments)})})).close(),yield al(Ra),yield al("fcm_vapid_details_db"),yield al("undefined"),function eo(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:I}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}(I)?I:null;var L}),uu.apply(this,arguments)}const Nd="firebase-messaging-database",Kl=1,br="firebase-messaging-store";let ll=null;function Fd(){return ll||(ll=Qo(Nd,Kl,{upgrade:(C,I)=>{0===I&&C.createObjectStore(br)}})),ll}function cl(C){return Ql.apply(this,arguments)}function Ql(){return Ql=(0,O.Z)(function*(C){const I=bi(C),L=yield(yield Fd()).transaction(br).objectStore(br).get(I);if(L)return L;{const Z=yield function jf(C){return uu.apply(this,arguments)}(C.appConfig.senderId);if(Z)return yield du(C,Z),Z}}),Ql.apply(this,arguments)}function du(C,I){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,O.Z)(function*(C,I){const A=bi(C),Z=(yield Fd()).transaction(br,"readwrite");return yield Z.objectStore(br).put(I,A),yield Z.done,I})).apply(this,arguments)}function to(){return(to=(0,O.Z)(function*(C){const I=bi(C),L=(yield Fd()).transaction(br,"readwrite");yield L.objectStore(br).delete(I),yield L.done})).apply(this,arguments)}function bi({appConfig:C}){return C.appId}const Vi=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Bd(C,I){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,O.Z)(function*(C,I){const A=yield ul(C),L=fu(I),Z={method:"POST",headers:A,body:JSON.stringify(L)};let J;try{J=yield(yield fetch(Jl(C.appConfig),Z)).json()}catch(fe){throw Vi.create("token-subscribe-failed",{errorInfo:fe?.toString()})}if(J.error)throw Vi.create("token-subscribe-failed",{errorInfo:J.error.message});if(!J.token)throw Vi.create("token-subscribe-no-token");return J.token})).apply(this,arguments)}function Xl(){return(Xl=(0,O.Z)(function*(C,I){const A=yield ul(C),L=fu(I.subscriptionOptions),Z={method:"PATCH",headers:A,body:JSON.stringify(L)};let J;try{J=yield(yield fetch(`${Jl(C.appConfig)}/${I.token}`,Z)).json()}catch(fe){throw Vi.create("token-update-failed",{errorInfo:fe?.toString()})}if(J.error)throw Vi.create("token-update-failed",{errorInfo:J.error.message});if(!J.token)throw Vi.create("token-update-no-token");return J.token})).apply(this,arguments)}function ig(C,I){return Na.apply(this,arguments)}function Na(){return(Na=(0,O.Z)(function*(C,I){const L={method:"DELETE",headers:yield ul(C)};try{const J=yield(yield fetch(`${Jl(C.appConfig)}/${I}`,L)).json();if(J.error)throw Vi.create("token-unsubscribe-failed",{errorInfo:J.error.message})}catch(Z){throw Vi.create("token-unsubscribe-failed",{errorInfo:Z?.toString()})}})).apply(this,arguments)}function Jl({projectId:C}){return`${Bf}/projects/${C}/registrations`}function ul(C){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,O.Z)(function*({appConfig:C,installations:I}){const A=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function fu({p256dh:C,auth:I,endpoint:A,vapidKey:L}){const Z={web:{endpoint:A,auth:I,p256dh:C}};return L!==Lf&&(Z.web.applicationPubKey=L),Z}const iv=6048e5;function Vd(){return Vd=(0,O.Z)(function*(C){const I=yield function tc(C,I){return nc.apply(this,arguments)}(C.swRegistration,C.vapidKey),A={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:I.endpoint,auth:ss(I.getKey("auth")),p256dh:ss(I.getKey("p256dh"))},L=yield cl(C.firebaseDependencies);if(L){if(function ic(C,I){return I.vapidKey===C.vapidKey&&I.endpoint===C.endpoint&&I.auth===C.auth&&I.p256dh===C.p256dh}(L.subscriptionOptions,A))return Date.now()>=L.createTime+iv?function Hd(C,I){return ec.apply(this,arguments)}(C,{token:L.token,createTime:Date.now(),subscriptionOptions:A}):L.token;try{yield ig(C.firebaseDependencies,L.token)}catch(Z){console.warn(Z)}return Xo(C.firebaseDependencies,A)}return Xo(C.firebaseDependencies,A)}),Vd.apply(this,arguments)}function pu(){return pu=(0,O.Z)(function*(C){const I=yield cl(C.firebaseDependencies);I&&(yield ig(C.firebaseDependencies,I.token),yield function Ts(C){return to.apply(this,arguments)}(C.firebaseDependencies));const A=yield C.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()}),pu.apply(this,arguments)}function ec(){return ec=(0,O.Z)(function*(C,I){try{const A=yield function hu(C,I){return Xl.apply(this,arguments)}(C.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:A,createTime:Date.now()});return yield du(C.firebaseDependencies,L),A}catch(A){throw yield function Ud(C){return pu.apply(this,arguments)}(C),A}}),ec.apply(this,arguments)}function Xo(C,I){return mu.apply(this,arguments)}function mu(){return(mu=(0,O.Z)(function*(C,I){const L={token:yield Bd(C,I),createTime:Date.now(),subscriptionOptions:I};return yield du(C,L),L.token})).apply(this,arguments)}function nc(){return(nc=(0,O.Z)(function*(C,I){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Hf(I)})})).apply(this,arguments)}function La(C){const I={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function gu(C,I){if(!I.notification)return;C.notification={};const A=I.notification.title;A&&(C.notification.title=A);const L=I.notification.body;L&&(C.notification.body=L);const Z=I.notification.image;Z&&(C.notification.image=Z);const J=I.notification.icon;J&&(C.notification.icon=J)}(I,C),function _u(C,I){I.data&&(C.data=I.data)}(I,C),function no(C,I){var A,L,Z,J,fe;if(!(I.fcmOptions||null!==(A=I.notification)&&void 0!==A&&A.click_action))return;C.fcmOptions={};const Je=null!==(Z=null===(L=I.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==Z?Z:null===(J=I.notification)||void 0===J?void 0:J.click_action;Je&&(C.fcmOptions.link=Je);const qe=null===(fe=I.fcmOptions)||void 0===fe?void 0:fe.analytics_label;qe&&(C.fcmOptions.analyticsLabel=qe)}(I,C),I}function yu(C,I){const A=[];for(let L=0;L<C.length;L++)A.push(C.charAt(L)),L<I.length&&A.push(I.charAt(L));return A.join("")}function vu(C){return Vi.create("missing-app-config-values",{valueName:C})}yu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),yu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class rc{constructor(I,A,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Z=function Dn(C){if(!C||!C.options)throw vu("App Configuration Object");if(!C.name)throw vu("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:A}=C;for(const L of I)if(!A[L])throw vu(L);return{appName:C.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:Z,installations:A,analyticsProvider:L}}_delete(){return Promise.resolve()}}function bu(){return(bu=(0,O.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(cu,{scope:Pd}),C.swRegistration.update().catch(()=>{})}catch(I){throw Vi.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function Ki(){return(Ki=(0,O.Z)(function*(C,I){if(!I&&!C.swRegistration&&(yield function Ui(C){return bu.apply(this,arguments)}(C)),I||!C.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Vi.create("invalid-sw-registration");C.swRegistration=I}})).apply(this,arguments)}function wu(){return(wu=(0,O.Z)(function*(C,I){I?C.vapidKey=I:C.vapidKey||(C.vapidKey=Lf)})).apply(this,arguments)}function Cu(){return Cu=(0,O.Z)(function*(C,I){if(!navigator)throw Vi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Vi.create("permission-blocked");return yield function Qi(C,I){return wu.apply(this,arguments)}(C,I?.vapidKey),yield function Ba(C,I){return Ki.apply(this,arguments)}(C,I?.serviceWorkerRegistration),function $f(C){return Vd.apply(this,arguments)}(C)}),Cu.apply(this,arguments)}function sc(){return(sc=(0,O.Z)(function*(C,I,A){const L=function Gf(C){switch(C){case Yl.NOTIFICATION_CLICKED:return"notification_open";case Yl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(I);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:A[Un],message_name:A[Vf],message_time:A[tv],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function To(){return To=(0,O.Z)(function*(C,I){const A=I.data;if(!A.isFirebaseMessaging)return;C.onMessageHandler&&A.messageType===Yl.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(La(A)):C.onMessageHandler.next(La(A)));const L=A.data;(function jd(C){return"object"==typeof C&&!!C&&Un in C})(L)&&"1"===L["google.c.a.e"]&&(yield function Jo(C,I,A){return sc.apply(this,arguments)}(C,A.messageType,L))}),To.apply(this,arguments)}const hl="@firebase/messaging",Ot=C=>{const I=new rc(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function dl(C,I){return To.apply(this,arguments)}(I,A)),I},Eu=C=>{const I=C.getProvider("messaging").getImmediate();return{getToken:L=>function zd(C,I){return Cu.apply(this,arguments)}(I,L)}};function oc(){return xu.apply(this,arguments)}function xu(){return(xu=(0,O.Z)(function*(){try{yield(0,le.eu)()}catch{return!1}return typeof window<"u"&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function rg(){(0,te._registerComponent)(new re.wA("messaging",Ot,"PUBLIC")),(0,te._registerComponent)(new re.wA("messaging-internal",Eu,"PRIVATE")),(0,te.registerVersion)(hl,"0.12.4"),(0,te.registerVersion)(hl,"0.12.4","esm2017")}();const Ae="analytics",en="firebase_id",Gd="origin",lc=6e4,Si="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cc="https://www.googletagmanager.com/gtag/js",Hn=new Ce.Yd("@firebase/analytics"),ti=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function pl(C){if(!C.startsWith(cc)){const I=ti.create("invalid-gtag-resource",{gtagURL:C});return Hn.warn(I.message),""}return C}function ml(C){return Promise.all(C.map(I=>I.catch(A=>A)))}function ea(){return(ea=(0,O.Z)(function*(C,I,A,L,Z,J){const fe=L[Z];try{if(fe)yield I[fe];else{const qe=(yield ml(A)).find(pt=>pt.measurementId===Z);qe&&(yield I[qe.appId])}}catch(Je){Hn.error(Je)}C("config",Z,J)})).apply(this,arguments)}function Br(){return(Br=(0,O.Z)(function*(C,I,A,L,Z){try{let J=[];if(Z&&Z.send_to){let fe=Z.send_to;Array.isArray(fe)||(fe=[fe]);const Je=yield ml(A);for(const qe of fe){const pt=Je.find(Mt=>Mt.measurementId===qe),Bt=pt&&I[pt.appId];if(!Bt){J=[];break}J.push(Bt)}}0===J.length&&(J=Object.values(I)),yield Promise.all(J),C("event",L,Z||{})}catch(J){Hn.error(J)}})).apply(this,arguments)}const sv=30,Su=new class Zd{constructor(I={},A=1e3){this.throttleMetadata=I,this.intervalMillis=A}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,A){this.throttleMetadata[I]=A}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Yd(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Tu(){return(Tu=(0,O.Z)(function*(C){var I;const{appId:A,apiKey:L}=C,Z={method:"GET",headers:Yd(L)},J=Si.replace("{app-id}",A),fe=yield fetch(J,Z);if(200!==fe.status&&304!==fe.status){let Je="";try{const qe=yield fe.json();null!==(I=qe.error)&&void 0!==I&&I.message&&(Je=qe.error.message)}catch{}throw ti.create("config-fetch-failed",{httpStatus:fe.status,responseMessage:Je})}return fe.json()})).apply(this,arguments)}function Au(){return(Au=(0,O.Z)(function*(C,I=Su,A){const{appId:L,apiKey:Z,measurementId:J}=C.options;if(!L)throw ti.create("no-app-id");if(!Z){if(J)return{measurementId:J,appId:L};throw ti.create("no-api-key")}const fe=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Je=new Qd;return setTimeout((0,O.Z)(function*(){Je.abort()}),void 0!==A?A:lc),Kd({appId:L,apiKey:Z,measurementId:J},fe,Je,I)})).apply(this,arguments)}function Kd(C,I,A){return Ua.apply(this,arguments)}function Ua(){return Ua=(0,O.Z)(function*(C,{throttleEndTimeMillis:I,backoffCount:A},L,Z=Su){var J;const{appId:fe,measurementId:Je}=C;try{yield function dc(C,I){return new Promise((A,L)=>{const Z=Math.max(I-Date.now(),0),J=setTimeout(A,Z);C.addEventListener(()=>{clearTimeout(J),L(ti.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(L,I)}catch(qe){if(Je)return Hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Je} provided in the "measurementId" field in the local Firebase config. [${qe?.message}]`),{appId:fe,measurementId:Je};throw qe}try{const qe=yield function ag(C){return Tu.apply(this,arguments)}(C);return Z.deleteThrottleMetadata(fe),qe}catch(qe){const pt=qe;if(!function hc(C){if(!(C instanceof le.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(pt)){if(Z.deleteThrottleMetadata(fe),Je)return Hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Je} provided in the "measurementId" field in the local Firebase config. [${pt?.message}]`),{appId:fe,measurementId:Je};throw qe}const Bt=503===Number(null===(J=pt?.customData)||void 0===J?void 0:J.httpStatus)?(0,le.$s)(A,Z.intervalMillis,sv):(0,le.$s)(A,Z.intervalMillis),Mt={throttleEndTimeMillis:Date.now()+Bt,backoffCount:A+1};return Z.setThrottleMetadata(fe,Mt),Hn.debug(`Calling attemptFetch again in ${Bt} millis`),Kd(C,Mt,L,Z)}}),Ua.apply(this,arguments)}class Qd{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let Xd,ko;function Mo(){return(Mo=(0,O.Z)(function*(C,I,A,L,Z){if(Z&&Z.global)C("event",A,L);else{const J=yield I;C("event",A,Object.assign(Object.assign({},L),{send_to:J}))}})).apply(this,arguments)}function Ha(){return(Ha=(0,O.Z)(function*(){if(!(0,le.hl)())return Hn.warn(ti.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(C){return Hn.warn(ti.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function io(){return io=(0,O.Z)(function*(C,I,A,L,Z,J,fe){var Je;const qe=function gl(C){return Au.apply(this,arguments)}(C);qe.then(di=>{A[di.measurementId]=di.appId,C.options.measurementId&&di.measurementId!==C.options.measurementId&&Hn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${di.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(di=>Hn.error(di)),I.push(qe);const pt=function lr(){return Ha.apply(this,arguments)}().then(di=>{if(di)return L.getId()}),[Bt,Mt]=yield Promise.all([qe,pt]);(function Wd(C){const I=window.document.getElementsByTagName("script");for(const A of Object.values(I))if(A.src&&A.src.includes(cc)&&A.src.includes(C))return A;return null})(J)||function qf(C,I){const A=function Du(C,I){let A;return window.trustedTypes&&(A=window.trustedTypes.createPolicy(C,I)),A}("firebase-js-sdk-policy",{createScriptURL:pl}),L=document.createElement("script"),Z=`${cc}?l=${C}&id=${I}`;L.src=A?A?.createScriptURL(Z):Z,L.async=!0,document.head.appendChild(L)}(J,Bt.measurementId),ko&&(Z("consent","default",ko),function wn(C){ko=C}(void 0)),Z("js",new Date);const yn=null!==(Je=fe?.config)&&void 0!==Je?Je:{};return yn[Gd]="firebase",yn.update=!0,null!=Mt&&(yn[en]=Mt),Z("config",Bt.measurementId,yn),Xd&&(Z("set",Xd),function ut(C){Xd=C}(void 0)),Bt.measurementId}),io.apply(this,arguments)}class Ro{constructor(I){this.app=I}_delete(){return delete cr[this.app.options.appId],Promise.resolve()}}let cr={},th=[];const mc={};let ih,Gr,dt="dataLayer",Oo=!1;function _l(C,I,A){!function Qn(){const C=[];if((0,le.ru)()&&C.push("This is a browser extension environment."),(0,le.zI)()||C.push("Cookies are not available."),C.length>0){const I=C.map((L,Z)=>`(${Z+1}) ${L}`).join(" "),A=ti.create("invalid-analytics-context",{errorInfo:I});Hn.warn(A.message)}}();const L=C.options.appId;if(!L)throw ti.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw ti.create("no-api-key");Hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=cr[L])throw ti.create("already-exists",{id:L});if(!Oo){!function Hi(C){let I=[];Array.isArray(window[C])?I=window[C]:window[C]=I}(dt);const{wrappedGtag:J,gtagCore:fe}=function uc(C,I,A,L,Z){let J=function(...fe){window[L].push(arguments)};return window[Z]&&"function"==typeof window[Z]&&(J=window[Z]),window[Z]=function qd(C,I,A,L){function J(){return J=(0,O.Z)(function*(fe,...Je){try{if("event"===fe){const[qe,pt]=Je;yield function Lr(C,I,A,L,Z){return Br.apply(this,arguments)}(C,I,A,qe,pt)}else if("config"===fe){const[qe,pt]=Je;yield function as(C,I,A,L,Z,J){return ea.apply(this,arguments)}(C,I,A,L,qe,pt)}else if("consent"===fe){const[qe]=Je;C("consent","update",qe)}else if("get"===fe){const[qe,pt,Bt]=Je;C("get",qe,pt,Bt)}else if("set"===fe){const[qe]=Je;C("set",qe)}else C(fe,...Je)}catch(qe){Hn.error(qe)}}),J.apply(this,arguments)}return function Z(fe){return J.apply(this,arguments)}}(J,C,I,A),{gtagCore:J,wrappedGtag:window[Z]}}(cr,th,mc,dt,"gtag");Gr=J,ih=fe,Oo=!0}return cr[L]=function eh(C,I,A,L,Z,J,fe){return io.apply(this,arguments)}(C,th,mc,I,ih,dt,A),new Ro(C)}function gc(){return As.apply(this,arguments)}function As(){return(As=(0,O.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}const Ln="@firebase/analytics";!function bl(){(0,te._registerComponent)(new re.wA(Ae,(I,{options:A})=>_l(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,te._registerComponent)(new re.wA("analytics-internal",function C(I){try{const A=I.getProvider(Ae).getImmediate();return{logEvent:(L,Z,J)=>function ro(C,I,A,L){C=(0,le.m9)(C),function wr(C,I,A,L,Z){return Mo.apply(this,arguments)}(Gr,cr[C.app.options.appId],I,A,L).catch(Z=>Hn.error(Z))}(A,L,Z,J)}}catch(A){throw ti.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,te.registerVersion)(Ln,"0.10.0"),(0,te.registerVersion)(Ln,"0.10.0","esm2017")}();var ku=B(1954),Pn=B(2631);const ni=new class Cn extends Pn.v{}(class Xe extends ku.o{constructor(I,A){super(I,A),this.scheduler=I,this.work=A}schedule(I,A=0){return A>0?super.schedule(I,A):(this.delay=A,this.state=I,this.scheduler.flush(this),this)}execute(I,A){return A>0||this.closed?super.execute(I,A):this._execute(I,A)}requestAsyncId(I,A,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(I,A,L):I.flush(this)}});var zn=B(6321),ia=B(5592),wl=B(9397),Cl=B(5137),Er=B(3093);const Po=new a.GfV("7.6.1"),nn="__angularfire_symbol__analyticsIsSupportedValue",ls="__angularfire_symbol__analyticsIsSupported",El="__angularfire_symbol__remoteConfigIsSupportedValue",so="__angularfire_symbol__remoteConfigIsSupported",xl="__angularfire_symbol__messagingIsSupportedValue",Dl="__angularfire_symbol__messagingIsSupported";function vc(C,I,A){if(I){if(1===I.length)return I[0];const J=I.filter(fe=>fe.app===A);if(1===J.length)return J[0]}return A.container.getProvider(C).getImmediate({optional:!0})}globalThis[ls]||(globalThis[ls]=gc().then(C=>globalThis[nn]=C).catch(()=>globalThis[nn]=!1)),globalThis[Dl]||(globalThis[Dl]=oc().then(C=>globalThis[xl]=C).catch(()=>globalThis[xl]=!1)),globalThis[so]||(globalThis[so]=Yo().then(C=>globalThis[El]=C).catch(()=>globalThis[El]=!1));const Fo=(C,I)=>{const A=I?[I]:(0,j.C6)(),L=[];return A.forEach(Z=>{Z.container.getProvider(C).instances.forEach(fe=>{L.includes(fe)||L.push(fe)})}),L};function cs(){}class sh{constructor(I,A=ni){this.zone=I,this.delegate=A}now(){return this.delegate.now()}schedule(I,A,L){const Z=this.zone;return this.delegate.schedule(function(fe){Z.runGuarded(()=>{I.apply(this,[fe])})},A,L)}}class Rs{constructor(I){this.zone=I,this.task=null}call(I,A){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",cs,{},cs,cs)),A.pipe((0,wl.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bc=(()=>{class C{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new sh(Zone.current)),this.insideAngular=A.run(()=>new sh(Zone.current,zn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(A){return new(A||C)(a.LFG(a.R0b))},C.\u0275prov=a.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function ra(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function $a(C){return ra().ngZone.run(()=>C())}function oa(C){return ra(),function oh(C){return function(A){return(A=A.lift(new Rs(C.ngZone))).pipe((0,Cl.R)(C.outsideAngular),(0,Er.Q)(C.insideAngular))}}(ra())(C)}const Wf=(C,I)=>function(){const L=arguments;return I&&setTimeout(()=>{"scheduled"===I.state&&I.invoke()},10),$a(()=>C.apply(void 0,L))},Xn=(C,I)=>function(){let A;const L=arguments;for(let J=0;J<arguments.length;J++)"function"==typeof L[J]&&(I&&(A||(A=$a(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",cs,{},cs,cs)))),L[J]=Wf(L[J],A));const Z=function sa(C){return ra().ngZone.runOutsideAngular(()=>C())}(()=>C.apply(this,L));if(!I){if(Z instanceof ia.y){const J=ra();return Z.pipe((0,Cl.R)(J.outsideAngular),(0,Er.Q)(J.insideAngular))}return $a(()=>Z)}return Z instanceof ia.y?Z.pipe(oa):Z instanceof Promise?$a(()=>new Promise((J,fe)=>Z.then(Je=>$a(()=>J(Je)),Je=>$a(()=>fe(Je))))):"function"==typeof Z&&A?function(){return setTimeout(()=>{A&&"scheduled"===A.state&&A.invoke()},10),Z.apply(this,arguments)}:$a(()=>Z)}},6878:(gt,Se,B)=>{B.d(Se,{$:()=>cu,A:()=>W,B:()=>Ui,D:()=>Me,I:()=>Td,J:()=>ol,L:()=>Qe,N:()=>Pi,P:()=>eh,Q:()=>Ma,R:()=>lg,U:()=>Wl,V:()=>Yo,W:()=>rs,X:()=>Io,Y:()=>su,Z:()=>ou,_:()=>Ko,a:()=>Ao,a0:()=>Lf,a1:()=>Un,a2:()=>nv,a3:()=>ng,a4:()=>uu,a5:()=>Nd,a6:()=>br,a7:()=>Fd,a8:()=>Ql,a9:()=>Ld,aA:()=>oe,aB:()=>ls,aC:()=>Fn,aD:()=>Rr,aE:()=>wl,aF:()=>yc,aG:()=>_c,aH:()=>Kn,aL:()=>Va,aO:()=>$r,aa:()=>Ts,ab:()=>bi,ac:()=>zf,ad:()=>hu,ae:()=>ig,af:()=>Jl,ai:()=>iv,aj:()=>Vd,ak:()=>Ud,an:()=>au,ao:()=>gu,aq:()=>wu,ar:()=>hl,as:()=>wt,at:()=>it,au:()=>Ie,av:()=>ie,aw:()=>Mt,ax:()=>Dl,ay:()=>cn,az:()=>xe,b:()=>$d,c:()=>Gr,d:()=>_l,e:()=>cg,f:()=>Ln,g:()=>Cn,h:()=>ku,i:()=>Iu,j:()=>zn,k:()=>ao,l:()=>ue,m:()=>Ru,o:()=>mg,p:()=>Re,r:()=>Cr,s:()=>fc,u:()=>lr,x:()=>Dn});var a=B(5861),j=B(9058),O=B(534),te=B(7582),le=B(7879),re=B(4537);const Re={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},W={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Me=function se(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},et=function Be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Oe=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Le=new le.Yd("@firebase/auth");function ht(w,...g){Le.logLevel<=le.in.ERROR&&Le.error(`Auth (${O.SDK_VERSION}): ${w}`,...g)}function ie(w,...g){throw Ve(w,...g)}function xe(w,...g){return Ve(w,...g)}function de(w,g,_){const E=Object.assign(Object.assign({},et()),{[g]:_});return new j.LL("auth","Firebase",E).create(g,{appName:w.name})}function De(w,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&ie(w,"argument-error"),de(w,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ve(w,...g){if("string"!=typeof w){const _=g[0],E=[...g.slice(1)];return E[0]&&(E[0].appName=w.name),w._errorFactory.create(_,...E)}return Oe.create(w,...g)}function oe(w,g,..._){if(!w)throw Ve(g,..._)}function ft(w){const g="INTERNAL ASSERTION FAILED: "+w;throw ht(g),new Error(g)}function wt(w,g){w||ft(g)}function Kt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function mi(){return"http:"===ir()||"https:"===ir()}function ir(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class jr{constructor(g,_){this.shortDelay=g,this.longDelay=_,wt(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function Ds(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(mi()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gs(w,g){wt(w.emulator,"Emulator should always be set here");const{url:_}=w.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class pe{static initialize(g,_,E){this.fetchImpl=g,_&&(this.headersImpl=_),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ft("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ft("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ft("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ee=new jr(3e4,6e4);function he(w,g){return w.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:w.tenantId}):g}function Te(w,g,_,E){return He.apply(this,arguments)}function He(){return(He=(0,a.Z)(function*(w,g,_,E,M={}){return nt(w,M,(0,a.Z)(function*(){let P={},K={};E&&("GET"===g?K=E:P={body:JSON.stringify(E)});const me=(0,j.xO)(Object.assign({key:w.config.apiKey},K)).slice(1),We=yield w._getAdditionalHeaders();return We["Content-Type"]="application/json",w.languageCode&&(We["X-Firebase-Locale"]=w.languageCode),pe.fetch()(ln(w,w.config.apiHost,_,me),Object.assign({method:g,headers:We,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function nt(w,g,_){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,a.Z)(function*(w,g,_){w._canInitEmulator=!1;const E=Object.assign(Object.assign({},_e),g);try{const M=new Vt(w),P=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const K=yield P.json();if("needConfirmation"in K)throw mn(w,"account-exists-with-different-credential",K);if(P.ok&&!("errorMessage"in K))return K;{const me=P.ok?K.errorMessage:K.error.message,[We,rt]=me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===We)throw mn(w,"credential-already-in-use",K);if("EMAIL_EXISTS"===We)throw mn(w,"email-already-in-use",K);if("USER_DISABLED"===We)throw mn(w,"user-disabled",K);const _t=E[We]||We.toLowerCase().replace(/[_\s]+/g,"-");if(rt)throw de(w,_t,rt);ie(w,_t)}}catch(M){if(M instanceof j.ZR)throw M;ie(w,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function pn(w,g,_,E){return St.apply(this,arguments)}function St(){return(St=(0,a.Z)(function*(w,g,_,E,M={}){const P=yield Te(w,g,_,E,M);return"mfaPendingCredential"in P&&ie(w,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function ln(w,g,_,E){const M=`${g}${_}?${E}`;return w.config.emulator?Gs(w.config,M):`${w.config.apiScheme}://${M}`}class Vt{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,E)=>{this.timer=setTimeout(()=>E(xe(this.auth,"network-request-failed")),Ee.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mn(w,g,_){const E={appName:w.name};_.email&&(E.email=_.email),_.phoneNumber&&(E.phoneNumber=_.phoneNumber);const M=xe(w,g,E);return M.customData._tokenResponse=_,M}function Bn(){return(Bn=(0,a.Z)(function*(w,g){return Te(w,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function ri(){return(ri=(0,a.Z)(function*(w,g){return Te(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function kr(){return(kr=(0,a.Z)(function*(w,g){return Te(w,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Oi(w){if(w)try{const g=new Date(Number(w));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Is(){return(Is=(0,a.Z)(function*(w,g=!1){const _=(0,j.m9)(w),E=yield _.getIdToken(g),M=Ut(E);oe(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const P="object"==typeof M.firebase?M.firebase:void 0,K=P?.sign_in_provider;return{claims:M,token:E,authTime:Oi(yt(M.auth_time)),issuedAtTime:Oi(yt(M.iat)),expirationTime:Oi(yt(M.exp)),signInProvider:K||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function yt(w){return 1e3*Number(w)}function Ut(w){const[g,_,E]=w.split(".");if(void 0===g||void 0===_||void 0===E)return ht("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,j.tV)(_);return M?JSON.parse(M):(ht("Failed to decode base64 JWT payload"),null)}catch(M){return ht("Caught error parsing JWT payload as JSON",M?.toString()),null}}function Qt(w,g){return si.apply(this,arguments)}function si(){return(si=(0,a.Z)(function*(w,g,_=!1){if(_)return g;try{return yield g}catch(E){throw E instanceof j.ZR&&function mr({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(E)&&w.auth.currentUser===w&&(yield w.auth.signOut()),E}})).apply(this,arguments)}class Wt{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const E=this.getInterval(g);this.timerId=setTimeout((0,a.Z)(function*(){yield _.iteration()}),E)}iteration(){var g=this;return(0,a.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&g.schedule(!0))}g.schedule()})()}}class Jn{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oi(this.lastLoginAt),this.creationTime=Oi(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ss(w){return hn.apply(this,arguments)}function hn(){return hn=(0,a.Z)(function*(w){var g;const _=w.auth,E=yield w.getIdToken(),M=yield Qt(w,function Mr(w,g){return kr.apply(this,arguments)}(_,{idToken:E}));oe(M?.users.length,_,"internal-error");const P=M.users[0];w._notifyReloadListener(P);const K=null!==(g=P.providerUserInfo)&&void 0!==g&&g.length?function es(w){return w.map(g=>{var{providerId:_}=g,E=(0,te._T)(g,["providerId"]);return{providerId:_,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(P.providerUserInfo):[],me=function Zn(w,g){return[...w.filter(E=>!g.some(M=>M.providerId===E.providerId)),...g]}(w.providerData,K),_t=!!w.isAnonymous&&!(w.email&&P.passwordHash||me?.length),on={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:me,metadata:new Jn(P.createdAt,P.lastLoginAt),isAnonymous:_t};Object.assign(w,on)}),hn.apply(this,arguments)}function Ht(){return(Ht=(0,a.Z)(function*(w){const g=(0,j.m9)(w);yield Ss(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function $i(){return($i=(0,a.Z)(function*(w,g){const _=yield nt(w,{},(0,a.Z)(function*(){const E=(0,j.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:M,apiKey:P}=w.config,K=ln(w,M,"/v1/token",`key=${P}`),me=yield w._getAdditionalHeaders();return me["Content-Type"]="application/x-www-form-urlencoded",pe.fetch()(K,{method:"POST",headers:me,body:E})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class oi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){oe(g.idToken,"internal-error"),oe(typeof g.idToken<"u","internal-error"),oe(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Ft(w){const g=Ut(w);return oe(g,"internal-error"),oe(typeof g.exp<"u","internal-error"),oe(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var E=this;return(0,a.Z)(function*(){return oe(!E.accessToken||E.refreshToken,g,"user-token-expired"),_||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(g,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var E=this;return(0,a.Z)(function*(){const{accessToken:M,refreshToken:P,expiresIn:K}=yield function ts(w,g){return $i.apply(this,arguments)}(g,_);E.updateTokensAndExpiration(M,P,Number(K))})()}updateTokensAndExpiration(g,_,E){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(g,_){const{refreshToken:E,accessToken:M,expirationTime:P}=_,K=new oi;return E&&(oe("string"==typeof E,"internal-error",{appName:g}),K.refreshToken=E),M&&(oe("string"==typeof M,"internal-error",{appName:g}),K.accessToken=M),P&&(oe("number"==typeof P,"internal-error",{appName:g}),K.expirationTime=P),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new oi,this.toJSON())}_performRefresh(){return ft("not implemented")}}function ai(w,g){oe("string"==typeof w||typeof w>"u","internal-error",{appName:g})}class li{constructor(g){var{uid:_,auth:E,stsTokenManager:M}=g,P=(0,te._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=E,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Jn(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,a.Z)(function*(){const E=yield Qt(_,_.stsTokenManager.getToken(_.auth,g));return oe(E,_.auth,"internal-error"),_.accessToken!==E&&(_.accessToken=E,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),E})()}getIdTokenResult(g){return function rr(w){return Is.apply(this,arguments)}(this,g)}reload(){return function gr(w){return Ht.apply(this,arguments)}(this)}_assign(g){this!==g&&(oe(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const _=new li(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(g){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var E=this;return(0,a.Z)(function*(){let M=!1;g.idToken&&g.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(g),M=!0),_&&(yield Ss(E)),yield E.auth._persistUserIfCurrent(E),M&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var g=this;return(0,a.Z)(function*(){const _=yield g.getIdToken();return yield Qt(g,function qn(w,g){return Bn.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var E,M,P,K,me,We,rt,_t;const on=null!==(E=_.displayName)&&void 0!==E?E:void 0,ur=null!==(M=_.email)&&void 0!==M?M:void 0,aa=null!==(P=_.phoneNumber)&&void 0!==P?P:void 0,Fu=null!==(K=_.photoURL)&&void 0!==K?K:void 0,Il=null!==(me=_.tenantId)&&void 0!==me?me:void 0,gg=null!==(We=_._redirectEventId)&&void 0!==We?We:void 0,Lu=null!==(rt=_.createdAt)&&void 0!==rt?rt:void 0,lv=null!==(_t=_.lastLoginAt)&&void 0!==_t?_t:void 0,{uid:uh,emailVerified:Yf,isAnonymous:qa,providerData:lo,stsTokenManager:Kf}=_;oe(uh&&Kf,g,"internal-error");const la=oi.fromJSON(this.name,Kf);oe("string"==typeof uh,g,"internal-error"),ai(on,g.name),ai(ur,g.name),oe("boolean"==typeof Yf,g,"internal-error"),oe("boolean"==typeof qa,g,"internal-error"),ai(aa,g.name),ai(Fu,g.name),ai(Il,g.name),ai(gg,g.name),ai(Lu,g.name),ai(lv,g.name);const Bu=new li({uid:uh,auth:g,email:ur,emailVerified:Yf,displayName:on,isAnonymous:qa,photoURL:Fu,phoneNumber:aa,tenantId:Il,stsTokenManager:la,createdAt:Lu,lastLoginAt:lv});return lo&&Array.isArray(lo)&&(Bu.providerData=lo.map(dh=>Object.assign({},dh))),gg&&(Bu._redirectEventId=gg),Bu}static _fromIdTokenResponse(g,_,E=!1){return(0,a.Z)(function*(){const M=new oi;M.updateFromServerResponse(_);const P=new li({uid:_.localId,auth:g,stsTokenManager:M,isAnonymous:E});return yield Ss(P),P})()}}const Gi=new Map;function Fn(w){wt(w instanceof Function,"Expected a class definition");let g=Gi.get(w);return g?(wt(g instanceof w,"Instance stored in cache mismatched with class"),g):(g=new w,Gi.set(w,g),g)}const Pi=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(_,E){var M=this;return(0,a.Z)(function*(){M.storage[_]=E})()}_get(_){var E=this;return(0,a.Z)(function*(){const M=E.storage[_];return void 0===M?null:M})()}_remove(_){var E=this;return(0,a.Z)(function*(){delete E.storage[_]})()}_addListener(_,E){}_removeListener(_,E){}}return w.type="NONE",w})();function Rr(w,g,_){return`firebase:${w}:${g}:${_}`}class q{constructor(g,_,E){this.persistence=g,this.auth=_,this.userKey=E;const{config:M,name:P}=this.auth;this.fullUserKey=Rr(this.userKey,M.apiKey,P),this.fullPersistenceKey=Rr("persistence",M.apiKey,P),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,a.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?li._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,a.Z)(function*(){if(_.persistence===g)return;const E=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,E?_.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,E="authUser"){return(0,a.Z)(function*(){if(!_.length)return new q(Fn(Pi),g,E);const M=(yield Promise.all(_.map(function(){var rt=(0,a.Z)(function*(_t){if(yield _t._isAvailable())return _t});return function(_t){return rt.apply(this,arguments)}}()))).filter(rt=>rt);let P=M[0]||Fn(Pi);const K=Rr(E,g.config.apiKey,g.name);let me=null;for(const rt of _)try{const _t=yield rt._get(K);if(_t){const on=li._fromJSON(g,_t);rt!==P&&(me=on),P=rt;break}}catch{}const We=M.filter(rt=>rt._shouldAllowMigration);return P._shouldAllowMigration&&We.length?(P=We[0],me&&(yield P._set(K,me.toJSON())),yield Promise.all(_.map(function(){var rt=(0,a.Z)(function*(_t){if(_t!==P)try{yield _t._remove(K)}catch{}});return function(_t){return rt.apply(this,arguments)}}())),new q(P,g,E)):new q(P,g,E)})()}}function $(w){const g=w.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(X(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(F(g))return"Firefox";if(g.includes("silk/"))return"Silk";if($e(g))return"Blackberry";if(At(g))return"Webos";if(V(g))return"Safari";if((g.includes("chrome/")||R(g))&&!g.includes("edge/"))return"Chrome";if(Ie(g))return"Android";{const E=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function F(w=(0,j.z$)()){return/firefox\//i.test(w)}function V(w=(0,j.z$)()){const g=w.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function R(w=(0,j.z$)()){return/crios\//i.test(w)}function X(w=(0,j.z$)()){return/iemobile/i.test(w)}function Ie(w=(0,j.z$)()){return/android/i.test(w)}function $e(w=(0,j.z$)()){return/blackberry/i.test(w)}function At(w=(0,j.z$)()){return/webos/i.test(w)}function it(w=(0,j.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function cn(w=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function qt(w=(0,j.z$)()){return it(w)||Ie(w)||At(w)||$e(w)||/windows phone/i.test(w)||X(w)}function qs(w,g=[]){let _;switch(w){case"Browser":_=$((0,j.z$)());break;case"Worker":_=`${$((0,j.z$)())}-${w}`;break;default:_=w}const E=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${O.SDK_VERSION}/${E}`}function ae(){return(ae=(0,a.Z)(function*(w){return(yield Te(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Fe(w,g){return ct.apply(this,arguments)}function ct(){return(ct=(0,a.Z)(function*(w,g){return Te(w,"GET","/v2/recaptchaConfig",he(w,g))})).apply(this,arguments)}function tt(w){return void 0!==w&&void 0!==w.getResponse}function jt(w){return void 0!==w&&void 0!==w.enterprise}class un{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function Yn(w){return new Promise((g,_)=>{const E=document.createElement("script");E.setAttribute("src",w),E.onload=g,E.onerror=M=>{const P=xe("internal-error");P.customData=M,_(P)},E.type="text/javascript",E.charset="UTF-8",function gi(){var w,g;return null!==(g=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==g?g:document}().appendChild(E)})}function qi(w){return`__${w}${Math.floor(1e6*Math.random())}`}class wo{constructor(g){this.type="recaptcha-enterprise",this.auth=Kn(g)}verify(g="verify",_=!1){var E=this;return(0,a.Z)(function*(){function P(){return P=(0,a.Z)(function*(me){if(!_){if(null==me.tenantId&&null!=me._agentRecaptchaConfig)return me._agentRecaptchaConfig.siteKey;if(null!=me.tenantId&&void 0!==me._tenantRecaptchaConfigs[me.tenantId])return me._tenantRecaptchaConfigs[me.tenantId].siteKey}return new Promise(function(){var We=(0,a.Z)(function*(rt,_t){Fe(me,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(on=>{if(void 0!==on.recaptchaKey){const ur=new un(on);return null==me.tenantId?me._agentRecaptchaConfig=ur:me._tenantRecaptchaConfigs[me.tenantId]=ur,rt(ur.siteKey)}_t(new Error("recaptcha Enterprise site key undefined"))}).catch(on=>{_t(on)})});return function(rt,_t){return We.apply(this,arguments)}}())}),P.apply(this,arguments)}function K(me,We,rt){const _t=window.grecaptcha;jt(_t)?_t.enterprise.ready(()=>{_t.enterprise.execute(me,{action:g}).then(on=>{We(on)}).catch(()=>{We("NO_RECAPTCHA")})}):rt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((me,We)=>{(function M(me){return P.apply(this,arguments)})(E.auth).then(rt=>{if(!_&&jt(window.grecaptcha))K(rt,me,We);else{if(typeof window>"u")return void We(new Error("RecaptchaVerifier is only supported in browser"));Yn("https://www.google.com/recaptcha/enterprise.js?render="+rt).then(()=>{K(rt,me,We)}).catch(_t=>{We(_t)})}}).catch(rt=>{We(rt)})})})()}}function Zs(w,g,_){return qo.apply(this,arguments)}function qo(){return(qo=(0,a.Z)(function*(w,g,_,E=!1){const M=new wo(w);let P;try{P=yield M.verify(_)}catch{P=yield M.verify(_,!0)}const K=Object.assign({},g);return Object.assign(K,E?{captchaResp:P}:{captchaResponse:P}),Object.assign(K,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(K,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),K})).apply(this,arguments)}class sl{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const E=P=>new Promise((K,me)=>{try{K(g(P))}catch(We){me(We)}});E.onAbort=_,this.queue.push(E);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,a.Z)(function*(){if(_.auth.currentUser===g)return;const E=[];try{for(const M of _.queue)yield M(g),M.onAbort&&E.push(M.onAbort)}catch(M){E.reverse();for(const P of E)try{P()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class zr{constructor(g,_,E,M){this.app=g,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=E,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jm(this),this.idTokenSubscription=new Jm(this),this.beforeStateQueue=new sl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Oe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(g,_){var E=this;return _&&(this._popupRedirectResolver=Fn(_)),this._initializationPromise=this.queue((0,a.Z)(function*(){var M,P;if(!E._deleted&&(E.persistenceManager=yield q.create(E,g),!E._deleted)){if(null!==(M=E._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(_),E.lastNotifiedUid=(null===(P=E.currentUser)||void 0===P?void 0:P.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,a.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,a.Z)(function*(){var E;const M=yield _.assertedPersistence.getCurrentUser();let P=M,K=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const me=null===(E=_.redirectUser)||void 0===E?void 0:E._redirectEventId,We=P?._redirectEventId,rt=yield _.tryRedirectSignIn(g);(!me||me===We)&&rt?.user&&(P=rt.user,K=!0)}if(!P)return _.directlySetCurrentUser(null);if(!P._redirectEventId){if(K)try{yield _.beforeStateQueue.runMiddleware(P)}catch(me){P=M,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(me))}return P?_.reloadAndSetCurrentUserOrClear(P):_.directlySetCurrentUser(null)}return oe(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===P._redirectEventId?_.directlySetCurrentUser(P):_.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(g){var _=this;return(0,a.Z)(function*(){let E=null;try{E=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,a.Z)(function*(){try{yield Ss(g)}catch(E){if("auth/network-request-failed"!==E?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function On(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var g=this;return(0,a.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,a.Z)(function*(){const E=g?(0,j.m9)(g):null;return E&&oe(E.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(E&&E._clone(_))})()}_updateCurrentUser(g,_=!1){var E=this;return(0,a.Z)(function*(){if(!E._deleted)return g&&oe(E.tenantId===g.tenantId,E,"tenant-id-mismatch"),_||(yield E.beforeStateQueue.runMiddleware(g)),E.queue((0,a.Z)(function*(){yield E.directlySetCurrentUser(g),E.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,a.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,a.Z)(function*(){yield _.assertedPersistence.setPersistence(Fn(g))}))}initializeRecaptchaConfig(){var g=this;return(0,a.Z)(function*(){const _=yield Fe(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new un(_);null==g.tenantId?g._agentRecaptchaConfig=E:g._tenantRecaptchaConfigs[g.tenantId]=E,E.emailPasswordEnabled&&new wo(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new j.LL("auth","Firebase",g())}onAuthStateChanged(g,_,E){return this.registerStateListener(this.authStateSubscription,g,_,E)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,E){return this.registerStateListener(this.idTokenSubscription,g,_,E)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var E=this;return(0,a.Z)(function*(){const M=yield E.getOrInitRedirectPersistenceManager(_);return null===g?M.removeCurrentUser():M.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,a.Z)(function*(){if(!_.redirectPersistenceManager){const E=g&&Fn(g)||_._popupRedirectResolver;oe(E,_,"argument-error"),_.redirectPersistenceManager=yield q.create(_,[Fn(E._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,a.Z)(function*(){var E,M;return _._isInitialized&&(yield _.queue((0,a.Z)(function*(){}))),(null===(E=_._currentUser)||void 0===E?void 0:E._redirectEventId)===g?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,a.Z)(function*(){if(g===_.currentUser)return _.queue((0,a.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,E,M){if(this._deleted)return()=>{};const P="function"==typeof _?_:_.next.bind(_),K=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(K,this,"internal-error"),K.then(()=>P(this.currentUser)),"function"==typeof _?g.addObserver(_,E,M):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,a.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=qs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,a.Z)(function*(){var _;const E={"X-Client-Version":g.clientVersion};g.app.options.appId&&(E["X-Firebase-gmpid"]=g.app.options.appId);const M=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();M&&(E["X-Firebase-Client"]=M);const P=yield g._getAppCheckToken();return P&&(E["X-Firebase-AppCheck"]=P),E})()}_getAppCheckToken(){var g=this;return(0,a.Z)(function*(){var _;const E=yield null===(_=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return E?.error&&function vt(w,...g){Le.logLevel<=le.in.WARN&&Le.warn(`Auth (${O.SDK_VERSION}): ${w}`,...g)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function Kn(w){return(0,j.m9)(w)}class Jm{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,j.ne)(_=>this.observer=_)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Td(w,g,_){const E=Kn(w);oe(E._canInitEmulator,E,"emulator-config-failed"),oe(/^https?:\/\//.test(g),E,"invalid-emulator-scheme");const M=!!_?.disableWarnings,P=_r(g),{host:K,port:me}=function Ys(w){const g=_r(w),_=/(\/\/)?([^?#/]+)/.exec(w.substr(g.length));if(!_)return{host:"",port:null};const E=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(E);if(M){const P=M[1];return{host:P,port:Co(E.substr(P.length+1))}}{const[P,K]=E.split(":");return{host:P,port:Co(K)}}}(g);E.config.emulator={url:`${P}//${K}${null===me?"":`:${me}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:K,port:me,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Ad(){function w(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function _r(w){const g=w.indexOf(":");return g<0?"":w.substr(0,g+1)}function Co(w){if(!w)return null;const g=Number(w);return isNaN(g)?null:g}class ol{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return ft("not implemented")}_getIdTokenResponse(g){return ft("not implemented")}_linkToIdToken(g,_){return ft("not implemented")}_getReauthenticationResolver(g){return ft("not implemented")}}function Jc(w,g){return Md.apply(this,arguments)}function Md(){return(Md=(0,a.Z)(function*(w,g){return Te(w,"POST","/v1/accounts:resetPassword",he(w,g))})).apply(this,arguments)}function jl(w,g){return eu.apply(this,arguments)}function eu(){return(eu=(0,a.Z)(function*(w,g){return Te(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function yr(){return(yr=(0,a.Z)(function*(w,g){return Te(w,"POST","/v1/accounts:update",he(w,g))})).apply(this,arguments)}function zl(w,g){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,a.Z)(function*(w,g){return pn(w,"POST","/v1/accounts:signInWithPassword",he(w,g))})).apply(this,arguments)}function $l(w,g){return tu.apply(this,arguments)}function tu(){return(tu=(0,a.Z)(function*(w,g){return Te(w,"POST","/v1/accounts:sendOobCode",he(w,g))})).apply(this,arguments)}function Gl(){return(Gl=(0,a.Z)(function*(w,g){return $l(w,g)})).apply(this,arguments)}function ql(w,g){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,a.Z)(function*(w,g){return $l(w,g)})).apply(this,arguments)}function nu(w,g){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,a.Z)(function*(w,g){return $l(w,g)})).apply(this,arguments)}function Fi(){return(Fi=(0,a.Z)(function*(w,g){return $l(w,g)})).apply(this,arguments)}function Li(){return(Li=(0,a.Z)(function*(w,g){return pn(w,"POST","/v1/accounts:signInWithEmailLink",he(w,g))})).apply(this,arguments)}function iu(){return(iu=(0,a.Z)(function*(w,g){return pn(w,"POST","/v1/accounts:signInWithEmailLink",he(w,g))})).apply(this,arguments)}class Wo extends ol{constructor(g,_,E,M=null){super("password",E),this._email=g,this._password=_,this._tenantId=M}static _fromEmailAndPassword(g,_){return new Wo(g,_,"password")}static _fromEmailAndCode(g,_,E=null){return new Wo(g,_,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,a.Z)(function*(){var E;switch(_.signInMethod){case"password":const M={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=g._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const P=yield Zs(g,M,"signInWithPassword");return zl(g,P)}return zl(g,M).catch(function(){var P=(0,a.Z)(function*(K){if("auth/missing-recaptcha-token"===K.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const me=yield Zs(g,M,"signInWithPassword");return zl(g,me)}return Promise.reject(K)});return function(K){return P.apply(this,arguments)}}());case"emailLink":return function Ks(w,g){return Li.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:ie(g,"internal-error")}})()}_linkToIdToken(g,_){var E=this;return(0,a.Z)(function*(){switch(E.signInMethod){case"password":return jl(g,{idToken:_,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Nf(w,g){return iu.apply(this,arguments)}(g,{idToken:_,email:E._email,oobCode:E._password});default:ie(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function xo(w,g){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,a.Z)(function*(w,g){return pn(w,"POST","/v1/accounts:signInWithIdp",he(w,g))})).apply(this,arguments)}class Qe extends ol{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new Qe(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):ie("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:M}=_,P=(0,te._T)(_,["providerId","signInMethod"]);if(!E||!M)return null;const K=new Qe(E,M);return K.idToken=P.idToken||void 0,K.accessToken=P.accessToken||void 0,K.secret=P.secret,K.nonce=P.nonce,K.pendingToken=P.pendingToken||null,K}_getIdTokenResponse(g){return xo(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,xo(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,xo(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,j.xO)(_)}return g}}function kn(){return(kn=(0,a.Z)(function*(w,g){return Te(w,"POST","/v1/accounts:sendVerificationCode",he(w,g))})).apply(this,arguments)}function Qs(){return(Qs=(0,a.Z)(function*(w,g){return pn(w,"POST","/v1/accounts:signInWithPhoneNumber",he(w,g))})).apply(this,arguments)}function Zo(){return(Zo=(0,a.Z)(function*(w,g){const _=yield pn(w,"POST","/v1/accounts:signInWithPhoneNumber",he(w,g));if(_.temporaryProof)throw mn(w,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const _n={USER_NOT_FOUND:"user-not-found"};function Do(){return(Do=(0,a.Z)(function*(w,g){return pn(w,"POST","/v1/accounts:signInWithPhoneNumber",he(w,Object.assign(Object.assign({},g),{operation:"REAUTH"})),_n)})).apply(this,arguments)}class Et extends ol{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new Et({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new Et({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function Or(w,g){return Qs.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function sr(w,g){return Zo.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Xs(w,g){return Do.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:E,verificationCode:M}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:E,code:M}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:E,phoneNumber:M,temporaryProof:P}=g;return E||_||M||P?new Et({verificationId:_,verificationCode:E,phoneNumber:M,temporaryProof:P}):null}}class Pr{constructor(g){var _,E,M,P,K,me;const We=(0,j.zd)((0,j.pd)(g)),rt=null!==(_=We.apiKey)&&void 0!==_?_:null,_t=null!==(E=We.oobCode)&&void 0!==E?E:null,on=function is(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=We.mode)&&void 0!==M?M:null);oe(rt&&_t&&on,"argument-error"),this.apiKey=rt,this.operation=on,this.code=_t,this.continueUrl=null!==(P=We.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(K=We.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(me=We.tenantId)&&void 0!==me?me:null}static parseLink(g){const _=function kd(w){const g=(0,j.zd)((0,j.pd)(w)).link,_=g?(0,j.zd)((0,j.pd)(g)).deep_link_id:null,E=(0,j.zd)((0,j.pd)(w)).deep_link_id;return(E?(0,j.zd)((0,j.pd)(E)).link:null)||E||_||g||w}(g);try{return new Pr(_)}catch{return null}}}let Ma=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(_,E){return Wo._fromEmailAndPassword(_,E)}static credentialWithLink(_,E){const M=Pr.parseLink(E);return oe(M,"argument-error"),Wo._fromEmailAndCode(_,M.code,M.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Nr{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class or extends Nr{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Io extends or{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return oe("providerId"in _&&"signInMethod"in _,"argument-error"),Qe._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return oe(g.idToken||g.accessToken,"argument-error"),Qe._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Io.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Io.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:E,oauthTokenSecret:M,pendingToken:P,nonce:K,providerId:me}=g;if(!E&&!M&&!_&&!P||!me)return null;try{return new Io(me)._credential({idToken:_,accessToken:E,nonce:K,pendingToken:P})}catch{return null}}}let Wl=(()=>{class w extends or{constructor(){super("facebook.com")}static credential(_){return Qe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return w.credential(_.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Yo=(()=>{class w extends or{constructor(){super("google.com"),this.addScope("profile")}static credential(_,E){return Qe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:E})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:M}=_;if(!E&&!M)return null;try{return w.credential(E,M)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),rs=(()=>{class w extends or{constructor(){super("github.com")}static credential(_){return Qe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return w.credential(_.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class $r extends ol{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return xo(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,xo(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,xo(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:M,pendingToken:P}=_;return E&&M&&P&&E===M?new $r(E,P):null}static _create(g,_){return new $r(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class su extends Nr{constructor(g){oe(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return su.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return su.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=$r.fromJSON(g);return oe(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:E}=g;if(!_||!E)return null;try{return $r._create(E,_)}catch{return null}}}let ou=(()=>{class w extends or{constructor(){super("twitter.com")}static credential(_,E){return Qe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:E})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:E,oauthTokenSecret:M}=_;if(!E||!M)return null;try{return w.credential(E,M)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function ka(w,g){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,a.Z)(function*(w,g){return pn(w,"POST","/v1/accounts:signUp",he(w,g))})).apply(this,arguments)}class Zi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,E,M=!1){return(0,a.Z)(function*(){const P=yield li._fromIdTokenResponse(g,E,M),K=So(E);return new Zi({user:P,providerId:K,_tokenResponse:E,operationType:_})})()}static _forOperation(g,_,E){return(0,a.Z)(function*(){yield g._updateTokensIfNecessary(E,!0);const M=So(E);return new Zi({user:g,providerId:M,_tokenResponse:E,operationType:_})})()}}function So(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Ko(w){return vi.apply(this,arguments)}function vi(){return(vi=(0,a.Z)(function*(w){var g;const _=Kn(w);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new Zi({user:_.currentUser,providerId:null,operationType:"signIn"});const E=yield ka(_,{returnSecureToken:!0}),M=yield Zi._fromIdTokenResponse(_,"signIn",E,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Rd extends j.ZR{constructor(g,_,E,M){var P;super(_.code,_.message),this.operationType=E,this.user=M,Object.setPrototypeOf(this,Rd.prototype),this.customData={appName:g.name,tenantId:null!==(P=g.tenantId)&&void 0!==P?P:void 0,_serverResponse:_.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(g,_,E,M){return new Rd(g,_,E,M)}}function Yi(w,g,_,E){return("reauthenticate"===g?_._getReauthenticationResolver(w):_._getIdTokenResponse(w)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Rd._fromErrorAndOperation(w,P,g,E):P})}function ar(w){return new Set(w.map(({providerId:g})=>g).filter(g=>!!g))}function au(w,g){return Js.apply(this,arguments)}function Js(){return Js=(0,a.Z)(function*(w,g){const _=(0,j.m9)(w);yield Qo(!0,_,g);const{providerUserInfo:E}=yield function fn(w,g){return ri.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),M=ar(E||[]);return _.providerData=_.providerData.filter(P=>M.has(P.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Js.apply(this,arguments)}function Fr(w,g){return vr.apply(this,arguments)}function vr(){return(vr=(0,a.Z)(function*(w,g,_=!1){const E=yield Qt(w,g._linkToIdToken(w.auth,yield w.getIdToken()),_);return Zi._forOperation(w,"link",E)})).apply(this,arguments)}function Qo(w,g,_){return al.apply(this,arguments)}function al(){return(al=(0,a.Z)(function*(w,g,_){yield Ss(g);const M=!1===w?"provider-already-linked":"no-such-provider";oe(ar(g.providerData).has(_)===w,g.auth,M)})).apply(this,arguments)}function Od(w,g){return Ff.apply(this,arguments)}function Ff(){return(Ff=(0,a.Z)(function*(w,g,_=!1){const{auth:E}=w,M="reauthenticate";try{const P=yield Qt(w,Yi(E,M,g,w),_);oe(P.idToken,E,"internal-error");const K=Ut(P.idToken);oe(K,E,"internal-error");const{sub:me}=K;return oe(w.uid===me,E,"user-mismatch"),Zi._forOperation(w,M,P)}catch(P){throw"auth/user-not-found"===P?.code&&ie(E,"user-mismatch"),P}})).apply(this,arguments)}function lu(w,g){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,a.Z)(function*(w,g,_=!1){const E="signIn",M=yield Yi(w,E,g),P=yield Zi._fromIdTokenResponse(w,E,M);return _||(yield w._updateCurrentUser(P.user)),P})).apply(this,arguments)}function cu(w,g){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,a.Z)(function*(w,g){return lu(Kn(w),g)})).apply(this,arguments)}function Lf(w,g){return Bf.apply(this,arguments)}function Bf(){return(Bf=(0,a.Z)(function*(w,g){const _=(0,j.m9)(w);return yield Qo(!1,_,g.providerId),Fr(_,g)})).apply(this,arguments)}function Un(w,g){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,a.Z)(function*(w,g){return Od((0,j.m9)(w),g)})).apply(this,arguments)}function Uf(){return(Uf=(0,a.Z)(function*(w,g){return pn(w,"POST","/v1/accounts:signInWithCustomToken",he(w,g))})).apply(this,arguments)}function nv(w,g){return Yl.apply(this,arguments)}function Yl(){return Yl=(0,a.Z)(function*(w,g){const _=Kn(w),E=yield function tv(w,g){return Uf.apply(this,arguments)}(_,{token:g,returnSecureToken:!0}),M=yield Zi._fromIdTokenResponse(_,"signIn",E);return yield _._updateCurrentUser(M.user),M}),Yl.apply(this,arguments)}class ss{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?Hf._fromServerResponse(g,_):"totpInfo"in _?Ra._fromServerResponse(g,_):ie(g,"internal-error")}}class Hf extends ss{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new Hf(_)}}class Ra extends ss{constructor(g){super("totp",g)}static _fromServerResponse(g,_){return new Ra(_)}}function Oa(w,g,_){var E;oe((null===(E=_.url)||void 0===E?void 0:E.length)>0,w,"invalid-continue-uri"),oe(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(oe(_.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(oe(_.android.packageName.length>0,w,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function ng(w,g,_){return jf.apply(this,arguments)}function jf(){return jf=(0,a.Z)(function*(w,g,_){var E;const M=Kn(w),P={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=M._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const K=yield Zs(M,P,"getOobCode",!0);_&&Oa(M,K,_),yield ql(M,K)}else _&&Oa(M,P,_),yield ql(M,P).catch(function(){var K=(0,a.Z)(function*(me){if("auth/missing-recaptcha-token"!==me.code)return Promise.reject(me);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const We=yield Zs(M,P,"getOobCode",!0);_&&Oa(M,We,_),yield ql(M,We)}});return function(me){return K.apply(this,arguments)}}())}),jf.apply(this,arguments)}function uu(w,g,_){return eo.apply(this,arguments)}function eo(){return(eo=(0,a.Z)(function*(w,g,_){yield Jc((0,j.m9)(w),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Nd(w,g){return Kl.apply(this,arguments)}function Kl(){return Kl=(0,a.Z)(function*(w,g){yield function tg(w,g){return yr.apply(this,arguments)}((0,j.m9)(w),{oobCode:g})}),Kl.apply(this,arguments)}function br(w,g){return ll.apply(this,arguments)}function ll(){return(ll=(0,a.Z)(function*(w,g){const _=(0,j.m9)(w),E=yield Jc(_,{oobCode:g}),M=E.requestType;switch(oe(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(E.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(E.mfaInfo,_,"internal-error");default:oe(E.email,_,"internal-error")}let P=null;return E.mfaInfo&&(P=ss._fromServerResponse(Kn(_),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:P},operation:M}})).apply(this,arguments)}function Fd(w,g){return cl.apply(this,arguments)}function cl(){return(cl=(0,a.Z)(function*(w,g){const{data:_}=yield br((0,j.m9)(w),g);return _.email})).apply(this,arguments)}function Ql(w,g,_){return du.apply(this,arguments)}function du(){return du=(0,a.Z)(function*(w,g,_){var E;const M=Kn(w),P={returnSecureToken:!0,email:g,password:_,clientType:"CLIENT_TYPE_WEB"};let K;if(null!==(E=M._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const rt=yield Zs(M,P,"signUpPassword");K=ka(M,rt)}else K=ka(M,P).catch(function(){var rt=(0,a.Z)(function*(_t){if("auth/missing-recaptcha-token"===_t.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const on=yield Zs(M,P,"signUpPassword");return ka(M,on)}return Promise.reject(_t)});return function(_t){return rt.apply(this,arguments)}}());const me=yield K.catch(rt=>Promise.reject(rt)),We=yield Zi._fromIdTokenResponse(M,"signIn",me);return yield M._updateCurrentUser(We.user),We}),du.apply(this,arguments)}function Ld(w,g,_){return cu((0,j.m9)(w),Ma.credential(g,_))}function Ts(w,g,_){return to.apply(this,arguments)}function to(){return to=(0,a.Z)(function*(w,g,_){var E;const M=Kn(w),P={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function K(me,We){oe(We.handleCodeInApp,M,"argument-error"),We&&Oa(M,me,We)}if(null!==(E=M._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const me=yield Zs(M,P,"getOobCode",!0);K(me,_),yield nu(M,me)}else K(P,_),yield nu(M,P).catch(function(){var me=(0,a.Z)(function*(We){if("auth/missing-recaptcha-token"!==We.code)return Promise.reject(We);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const rt=yield Zs(M,P,"getOobCode",!0);K(rt,_),yield nu(M,rt)}});return function(We){return me.apply(this,arguments)}}())}),to.apply(this,arguments)}function bi(w,g){const _=Pr.parseLink(g);return"EMAIL_SIGNIN"===_?.operation}function zf(w,g,_){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,a.Z)(function*(w,g,_){const E=(0,j.m9)(w),M=Ma.credentialWithLink(g,_||Kt());return oe(M._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),cu(E,M)})).apply(this,arguments)}function Pa(){return(Pa=(0,a.Z)(function*(w,g){return Te(w,"POST","/v1/accounts:createAuthUri",he(w,g))})).apply(this,arguments)}function hu(w,g){return Xl.apply(this,arguments)}function Xl(){return Xl=(0,a.Z)(function*(w,g){const E={identifier:g,continueUri:mi()?Kt():"http://localhost"},{signinMethods:M}=yield function Bd(w,g){return Pa.apply(this,arguments)}((0,j.m9)(w),E);return M||[]}),Xl.apply(this,arguments)}function ig(w,g){return Na.apply(this,arguments)}function Na(){return Na=(0,a.Z)(function*(w,g){const _=(0,j.m9)(w),M={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};g&&Oa(_.auth,M,g);const{email:P}=yield function Eo(w,g){return Gl.apply(this,arguments)}(_.auth,M);P!==w.email&&(yield w.reload())}),Na.apply(this,arguments)}function Jl(w,g,_){return ul.apply(this,arguments)}function ul(){return ul=(0,a.Z)(function*(w,g,_){const E=(0,j.m9)(w),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:g};_&&Oa(E.auth,P,_);const{email:K}=yield function _i(w,g){return Fi.apply(this,arguments)}(E.auth,P);K!==w.email&&(yield w.reload())}),ul.apply(this,arguments)}function fu(){return(fu=(0,a.Z)(function*(w,g){return Te(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function iv(w,g){return $f.apply(this,arguments)}function $f(){return $f=(0,a.Z)(function*(w,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const E=(0,j.m9)(w),P={idToken:yield E.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},K=yield Qt(E,function Fa(w,g){return fu.apply(this,arguments)}(E.auth,P));E.displayName=K.displayName||null,E.photoURL=K.photoUrl||null;const me=E.providerData.find(({providerId:We})=>"password"===We);me&&(me.displayName=E.displayName,me.photoURL=E.photoURL),yield E._updateTokensIfNecessary(K)}),$f.apply(this,arguments)}function Vd(w,g){return pu((0,j.m9)(w),g,null)}function Ud(w,g){return pu((0,j.m9)(w),null,g)}function pu(w,g,_){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,a.Z)(function*(w,g,_){const{auth:E}=w,P={idToken:yield w.getIdToken(),returnSecureToken:!0};g&&(P.email=g),_&&(P.password=_);const K=yield Qt(w,jl(E,P));yield w._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class Xo{constructor(g,_,E={}){this.isNewUser=g,this.providerId=_,this.profile=E}}class mu extends Xo{constructor(g,_,E,M){super(g,_,E),this.username=M}}class tc extends Xo{constructor(g,_){super(g,"facebook.com",_)}}class nc extends mu{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class ic extends Xo{constructor(g,_){super(g,"google.com",_)}}class La extends mu{constructor(g,_,E){super(g,"twitter.com",_,E)}}function gu(w){const{user:g,_tokenResponse:_}=w;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function ec(w){var g,_;if(!w)return null;const{providerId:E}=w,M=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},P=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!E&&w?.idToken){const K=null===(_=null===(g=Ut(w.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(K)return new Xo(P,"anonymous"!==K&&"custom"!==K?K:null)}if(!E)return null;switch(E){case"facebook.com":return new tc(P,M);case"github.com":return new nc(P,M);case"google.com":return new ic(P,M);case"twitter.com":return new La(P,M,w.screenName||null);case"custom":case"anonymous":return new Xo(P,null);default:return new Xo(P,E,M)}}(_)}function Dn(w,g,_,E){return(0,j.m9)(w).onAuthStateChanged(g,_,E)}function Ui(w){return(0,j.m9)(w).signOut()}class Ki{constructor(g,_,E){this.type=g,this.credential=_,this.auth=E}static _fromIdtoken(g,_){return new Ki("enroll",g,_)}static _fromMfaPendingCredential(g){return new Ki("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,E;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Ki._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(E=g.multiFactorSession)&&void 0!==E&&E.idToken)return Ki._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Qi{constructor(g,_,E){this.session=g,this.hints=_,this.signInResolver=E}static _fromError(g,_){const E=Kn(g),M=_.customData._serverResponse,P=(M.mfaInfo||[]).map(me=>ss._fromServerResponse(E,me));oe(M.mfaPendingCredential,E,"internal-error");const K=Ki._fromMfaPendingCredential(M.mfaPendingCredential);return new Qi(K,P,function(){var me=(0,a.Z)(function*(We){const rt=yield We._process(E,K);delete M.mfaInfo,delete M.mfaPendingCredential;const _t=Object.assign(Object.assign({},M),{idToken:rt.idToken,refreshToken:rt.refreshToken});switch(_.operationType){case"signIn":const on=yield Zi._fromIdTokenResponse(E,_.operationType,_t);return yield E._updateCurrentUser(on.user),on;case"reauthenticate":return oe(_.user,E,"internal-error"),Zi._forOperation(_.user,_.operationType,_t);default:ie(E,"internal-error")}});return function(We){return me.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,a.Z)(function*(){return _.signInResolver(g)})()}}function wu(w,g){var _;const E=(0,j.m9)(w),M=g;return oe(g.customData.operationType,E,"argument-error"),oe(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,E,"argument-error"),Qi._fromError(E,M)}class dl{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(E=>ss._fromServerResponse(g.auth,E)))})}static _fromUser(g){return new dl(g)}getSession(){var g=this;return(0,a.Z)(function*(){return Ki._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var E=this;return(0,a.Z)(function*(){const M=g,P=yield E.getSession(),K=yield Qt(E.user,M._process(E.user.auth,P,_));return yield E.user._updateTokensIfNecessary(K),E.user.reload()})()}unenroll(g){var _=this;return(0,a.Z)(function*(){const E="string"==typeof g?g:g.uid,M=yield _.user.getIdToken();try{const P=yield Qt(_.user,function Gf(w,g){return Te(w,"POST","/v2/accounts/mfaEnrollment:withdraw",he(w,g))}(_.user.auth,{idToken:M,mfaEnrollmentId:E}));_.enrolledFactors=_.enrolledFactors.filter(({uid:K})=>K!==E),yield _.user._updateTokensIfNecessary(P),yield _.user.reload()}catch(P){throw P}})()}}const To=new WeakMap;function hl(w){const g=(0,j.m9)(w);return To.has(g)||To.set(g,dl._fromUser(g)),To.get(g)}const fl="__sak";class Ot{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(fl,"1"),this.storage.removeItem(fl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const $d=(()=>{class w extends Ot{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,E)=>this.onStorageEvent(_,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Eu(){const w=(0,j.z$)();return V(w)||it(w)}()&&function Ni(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=qt(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const E of Object.keys(this.listeners)){const M=this.storage.getItem(E),P=this.localCache[E];M!==P&&_(E,P,M)}}onStorageEvent(_,E=!1){if(!_.key)return void this.forAllChangedKeys((me,We,rt)=>{this.notifyListeners(me,rt)});const M=_.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const me=this.storage.getItem(M);if(_.newValue!==me)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!E)return}const P=()=>{const me=this.storage.getItem(M);!E&&this.localCache[M]===me||this.notifyListeners(M,me)},K=this.storage.getItem(M);!function gn(){return(0,j.w1)()&&10===document.documentMode}()||K===_.newValue||_.newValue===_.oldValue?P():setTimeout(P,10)}notifyListeners(_,E){this.localCache[_]=E;const M=this.listeners[_];if(M)for(const P of Array.from(M))P(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,E,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:E,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,E){var M=()=>super._set,P=this;return(0,a.Z)(function*(){yield M().call(P,_,E),P.localCache[_]=JSON.stringify(E)})()}_get(_){var E=()=>super._get,M=this;return(0,a.Z)(function*(){const P=yield E().call(M,_);return M.localCache[_]=JSON.stringify(P),P})()}_remove(_){var E=()=>super._remove,M=this;return(0,a.Z)(function*(){yield E().call(M,_),delete M.localCache[_]})()}}return w.type="LOCAL",w})(),Ao=(()=>{class w extends Ot{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,E){}_removeListener(_,E){}}return w.type="SESSION",w})();let og=(()=>{class w{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const E=this.receivers.find(P=>P.isListeningto(_));if(E)return E;const M=new w(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var E=this;return(0,a.Z)(function*(){const M=_,{eventId:P,eventType:K,data:me}=M.data,We=E.handlersMap[K];if(!We?.size)return;M.ports[0].postMessage({status:"ack",eventId:P,eventType:K});const rt=Array.from(We).map(function(){var on=(0,a.Z)(function*(ur){return ur(M.origin,me)});return function(ur){return on.apply(this,arguments)}}()),_t=yield function sg(w){return Promise.all(w.map(function(){var g=(0,a.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(E){return{fulfilled:!1,reason:E}}});return function(_){return g.apply(this,arguments)}}()))}(rt);M.ports[0].postMessage({status:"done",eventId:P,eventType:K,response:_t})})()}_subscribe(_,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(E)}_unsubscribe(_,E){this.handlersMap[_]&&E&&this.handlersMap[_].delete(E),(!E||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Va(w="",g=10){let _="";for(let E=0;E<g;E++)_+=Math.floor(10*Math.random());return w+_}class rv{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,E=50){var M=this;return(0,a.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let K,me;return new Promise((We,rt)=>{const _t=Va("",20);P.port1.start();const on=setTimeout(()=>{rt(new Error("unsupported_event"))},E);me={messageChannel:P,onMessage(ur){const aa=ur;if(aa.data.eventId===_t)switch(aa.data.status){case"ack":clearTimeout(on),K=setTimeout(()=>{rt(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),We(aa.data.response);break;default:clearTimeout(on),clearTimeout(K),rt(new Error("invalid_response"))}}},M.handlers.add(me),P.port1.addEventListener("message",me.onMessage),M.target.postMessage({eventType:g,eventId:_t,data:_},[P.port2])}).finally(()=>{me&&M.removeMessageHandler(me)})})()}}function ci(){return window}function en(){return typeof ci().WorkerGlobalScope<"u"&&"function"==typeof ci().importScripts}function lc(){return(lc=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Hn="firebaseLocalStorageDb",ti="firebaseLocalStorage",pl="fbase_key";class ml{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Du(w,g){return w.transaction([ti],g?"readwrite":"readonly").objectStore(ti)}function Hi(){const w=indexedDB.open(Hn,1);return new Promise((g,_)=>{w.addEventListener("error",()=>{_(w.error)}),w.addEventListener("upgradeneeded",()=>{const E=w.result;try{E.createObjectStore(ti,{keyPath:pl})}catch(M){_(M)}}),w.addEventListener("success",(0,a.Z)(function*(){const E=w.result;E.objectStoreNames.contains(ti)?g(E):(E.close(),yield function qf(){const w=indexedDB.deleteDatabase(Hn);return new ml(w).toPromise()}(),g(yield Hi()))}))})}function as(w,g,_){return ea.apply(this,arguments)}function ea(){return(ea=(0,a.Z)(function*(w,g,_){const E=Du(w,!0).put({[pl]:g,value:_});return new ml(E).toPromise()})).apply(this,arguments)}function Br(){return(Br=(0,a.Z)(function*(w,g){const _=Du(w,!1).get(g),E=yield new ml(_).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function qd(w,g){const _=Du(w,!0).delete(g);return new ml(_).toPromise()}const Iu=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,a.Z)(function*(){return _.db||(_.db=yield Hi()),_.db})()}_withRetries(_){var E=this;return(0,a.Z)(function*(){let M=0;for(;;)try{const P=yield E._openDb();return yield _(P)}catch(P){if(M++>3)throw P;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,a.Z)(function*(){return en()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,a.Z)(function*(){_.receiver=og._getInstance(function cc(){return en()?self:null}()),_.receiver._subscribe("keyChanged",function(){var E=(0,a.Z)(function*(M,P){return{keyProcessed:(yield _._poll()).includes(P.key)}});return function(M,P){return E.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var E=(0,a.Z)(function*(M,P){return["keyChanged"]});return function(M,P){return E.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,a.Z)(function*(){var E,M;if(_.activeServiceWorker=yield function Gd(){return lc.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new rv(_.activeServiceWorker);const P=yield _.sender._send("ping",{},800);P&&null!==(E=P[0])&&void 0!==E&&E.fulfilled&&null!==(M=P[0])&&void 0!==M&&M.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var E=this;return(0,a.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Si(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:_},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Hi();return yield as(_,fl,"1"),yield qd(_,fl),!0}catch{}return!1})()}_withPendingWrite(_){var E=this;return(0,a.Z)(function*(){E.pendingWrites++;try{yield _()}finally{E.pendingWrites--}})()}_set(_,E){var M=this;return(0,a.Z)(function*(){return M._withPendingWrite((0,a.Z)(function*(){return yield M._withRetries(P=>as(P,_,E)),M.localCache[_]=E,M.notifyServiceWorker(_)}))})()}_get(_){var E=this;return(0,a.Z)(function*(){const M=yield E._withRetries(P=>function Lr(w,g){return Br.apply(this,arguments)}(P,_));return E.localCache[_]=M,M})()}_remove(_){var E=this;return(0,a.Z)(function*(){return E._withPendingWrite((0,a.Z)(function*(){return yield E._withRetries(M=>qd(M,_)),delete E.localCache[_],E.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,a.Z)(function*(){const E=yield _._withRetries(K=>{const me=Du(K,!1).getAll();return new ml(me).toPromise()});if(!E)return[];if(0!==_.pendingWrites)return[];const M=[],P=new Set;for(const{fbase_key:K,value:me}of E)P.add(K),JSON.stringify(_.localCache[K])!==JSON.stringify(me)&&(_.notifyListeners(K,me),M.push(K));for(const K of Object.keys(_.localCache))_.localCache[K]&&!P.has(K)&&(_.notifyListeners(K,null),M.push(K));return M})()}notifyListeners(_,E){this.localCache[_]=E;const M=this.listeners[_];if(M)for(const P of Array.from(M))P(E)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),gl=1e12;class Au{constructor(g){this.auth=g,this.counter=gl,this._widgets=new Map}render(g,_){const E=this.counter;return this._widgets.set(E,new Kd(g,this.auth.name,_||{})),this.counter++,E}reset(g){var _;const E=g||gl;null===(_=this._widgets.get(E))||void 0===_||_.delete(),this._widgets.delete(E)}getResponse(g){var _;return(null===(_=this._widgets.get(g||gl))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,a.Z)(function*(){var E;return null===(E=_._widgets.get(g||gl))||void 0===E||E.execute(),""})()}}class Kd{constructor(g,_,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof g?document.getElementById(g):g;oe(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ua(w){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<w;E++)g.push(_.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const dc=qi("rcb"),hc=new jr(3e4,6e4);class Xd{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=ci().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return oe(function wr(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(_),g,"argument-error"),this.shouldResolveImmediately(_)&&tt(ci().grecaptcha)?Promise.resolve(ci().grecaptcha):new Promise((E,M)=>{const P=ci().setTimeout(()=>{M(xe(g,"network-request-failed"))},hc.get());ci()[dc]=()=>{ci().clearTimeout(P),delete ci()[dc];const me=ci().grecaptcha;if(!me||!tt(me))return void M(xe(g,"internal-error"));const We=me.render;me.render=(rt,_t)=>{const on=We(rt,_t);return this.counter++,on},this.hostLanguage=_,E(me)},Yn(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:dc,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(P),M(xe(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=ci().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Mo{load(g){return(0,a.Z)(function*(){return new Au(g)})()}clearedOneInstance(){}}const jn="recaptcha",Mu={theme:"light",type:"image"};class lg{constructor(g,_=Object.assign({},Mu),E){this.parameters=_,this.type=jn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Kn(E),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof g?document.getElementById(g):g;oe(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Mo:new Xd,this.validateStartingState()}verify(){var g=this;return(0,a.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),E=g.getAssertedRecaptcha();return E.getResponse(_)||new Promise(P=>{const K=me=>{me&&(g.tokenChangeListeners.delete(K),P(me))};g.tokenChangeListeners.add(K),g.isInvisible&&E.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(E=>E(_)),"function"==typeof g)g(_);else if("string"==typeof g){const E=ci()[g];"function"==typeof E&&E(_)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,a.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const E=document.createElement("div");_.appendChild(E),_=E}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,a.Z)(function*(){oe(mi()&&!en(),g.auth,"internal-error"),yield function Jd(){let w=null;return new Promise(g=>{"complete"!==document.readyState?(w=()=>g(),window.addEventListener("load",w)):g()}).catch(g=>{throw w&&window.removeEventListener("load",w),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function ye(w){return ae.apply(this,arguments)}(g.auth);oe(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ta{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=Et._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function fc(w,g,_){return pc.apply(this,arguments)}function pc(){return(pc=(0,a.Z)(function*(w,g,_){const E=Kn(w),M=yield wn(E,g,(0,j.m9)(_));return new ta(M,P=>cu(E,P))})).apply(this,arguments)}function ue(w,g,_){return An.apply(this,arguments)}function An(){return(An=(0,a.Z)(function*(w,g,_){const E=(0,j.m9)(w);yield Qo(!1,E,"phone");const M=yield wn(E.auth,g,(0,j.m9)(_));return new ta(M,P=>Lf(E,P))})).apply(this,arguments)}function Cr(w,g,_){return ko.apply(this,arguments)}function ko(){return(ko=(0,a.Z)(function*(w,g,_){const E=(0,j.m9)(w),M=yield wn(E.auth,g,(0,j.m9)(_));return new ta(M,P=>Un(E,P))})).apply(this,arguments)}function wn(w,g,_){return ut.apply(this,arguments)}function ut(){return ut=(0,a.Z)(function*(w,g,_){var E;const M=yield _.verify();try{let P;if(oe("string"==typeof M,w,"argument-error"),oe(_.type===jn,w,"argument-error"),P="string"==typeof g?{phoneNumber:g}:g,"session"in P){const K=P.session;if("phoneNumber"in P)return oe("enroll"===K.type,w,"internal-error"),(yield function zd(w,g){return Te(w,"POST","/v2/accounts/mfaEnrollment:start",he(w,g))}(w,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{oe("signin"===K.type,w,"internal-error");const me=(null===(E=P.multiFactorHint)||void 0===E?void 0:E.uid)||P.multiFactorUid;return oe(me,w,"missing-multi-factor-info"),(yield function Zd(w,g){return Te(w,"POST","/v2/accounts/mfaSignIn:start",he(w,g))}(w,{mfaPendingCredential:K.credential,mfaEnrollmentId:me,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield function zt(w,g){return kn.apply(this,arguments)}(w,{phoneNumber:P.phoneNumber,recaptchaToken:M});return K}}finally{_._reset()}}),ut.apply(this,arguments)}function lr(w,g){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,a.Z)(function*(w,g){yield Fr((0,j.m9)(w),g)})).apply(this,arguments)}let eh=(()=>{class w{constructor(_){this.providerId=w.PROVIDER_ID,this.auth=Kn(_)}verifyPhoneNumber(_,E){return wn(this.auth,_,(0,j.m9)(E))}static credential(_,E){return Et._fromVerification(_,E)}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:E,temporaryProof:M}=_;return E&&M?Et._fromTokenResponse(E,M):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function io(w,g){return g?Fn(g):(oe(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Ro extends ol{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return xo(g,this._buildIdpRequest())}_linkToIdToken(g,_){return xo(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return xo(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function cr(w){return lu(w.auth,new Ro(w),w.bypassAuthState)}function th(w){const{auth:g,user:_}=w;return oe(_,g,"internal-error"),Od(_,new Ro(w),w.bypassAuthState)}function mc(w){return dt.apply(this,arguments)}function dt(){return(dt=(0,a.Z)(function*(w){const{auth:g,user:_}=w;return oe(_,g,"internal-error"),Fr(_,new Ro(w),w.bypassAuthState)})).apply(this,arguments)}class nh{constructor(g,_,E,M,P=!1){this.auth=g,this.resolver=E,this.user=M,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,a.Z)(function*(E,M){g.pendingPromise={resolve:E,reject:M};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(P){g.reject(P)}});return function(E,M){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,a.Z)(function*(){const{urlResponse:E,sessionId:M,postBody:P,tenantId:K,error:me,type:We}=g;if(me)return void _.reject(me);const rt={auth:_.auth,requestUri:E,sessionId:M,tenantId:K||void 0,postBody:P||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(We)(rt))}catch(_t){_.reject(_t)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return cr;case"linkViaPopup":case"linkViaRedirect":return mc;case"reauthViaPopup":case"reauthViaRedirect":return th;default:ie(this.auth,"internal-error")}}resolve(g){wt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){wt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ih=new jr(2e3,1e4);function Gr(w,g,_){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,a.Z)(function*(w,g,_){const E=Kn(w);De(w,g,Nr);const M=io(E,_);return new na(E,"signInViaPopup",g,M).executeNotNull()})).apply(this,arguments)}function cg(w,g,_){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,a.Z)(function*(w,g,_){const E=(0,j.m9)(w);De(E.auth,g,Nr);const M=io(E.auth,_);return new na(E.auth,"reauthViaPopup",g,M,E).executeNotNull()})).apply(this,arguments)}function _l(w,g,_){return yl.apply(this,arguments)}function yl(){return(yl=(0,a.Z)(function*(w,g,_){const E=(0,j.m9)(w);De(E.auth,g,Nr);const M=io(E.auth,_);return new na(E.auth,"linkViaPopup",g,M,E).executeNotNull()})).apply(this,arguments)}let na=(()=>{class w extends nh{constructor(_,E,M,P,K){super(_,E,P,K),this.provider=M,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var _=this;return(0,a.Z)(function*(){const E=yield _.execute();return oe(E,_.auth,"internal-error"),E})()}onExecution(){var _=this;return(0,a.Z)(function*(){wt(1===_.filter.length,"Popup operations only handle one event");const E=Va();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],E),_.authWindow.associatedEvent=E,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(xe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const _=()=>{var E,M;this.pollId=null!==(M=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(xe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,ih.get())};_()}}return w.currentPopupAction=null,w})();const gc="pendingRedirect",As=new Map;class rh extends nh{constructor(g,_,E=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,E),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,a.Z)(function*(){let E=As.get(_.auth._key());if(!E){try{const P=(yield function vl(w,g){return ja.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;E=()=>Promise.resolve(P)}catch(M){E=()=>Promise.reject(M)}As.set(_.auth._key(),E)}return _.bypassAuthState||As.set(_.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,E=this;return(0,a.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(E,g);if("unknown"!==g.type){if(g.eventId){const M=yield E.auth._redirectUserForId(g.eventId);if(M)return E.user=M,_().call(E,g);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function ja(){return(ja=(0,a.Z)(function*(w,g){const _=Ms(g),E=ro(w);if(!(yield E._isAvailable()))return!1;const M="true"===(yield E._get(_));return yield E._remove(_),M})).apply(this,arguments)}function za(w,g){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,a.Z)(function*(w,g){return ro(w)._set(Ms(g),"true")})).apply(this,arguments)}function _c(){As.clear()}function yc(w,g){As.set(w._key(),g)}function ro(w){return Fn(w._redirectPersistence)}function Ms(w){return Rr(gc,w.config.apiKey,w.name)}function Ln(w,g,_){return function ui(w,g,_){return bl.apply(this,arguments)}(w,g,_)}function bl(){return(bl=(0,a.Z)(function*(w,g,_){const E=Kn(w);De(w,g,Nr),yield E._initializationPromise;const M=io(E,_);return yield za(M,E),M._openRedirect(E,g,"signInViaRedirect")})).apply(this,arguments)}function ku(w,g,_){return function Xe(w,g,_){return Pn.apply(this,arguments)}(w,g,_)}function Pn(){return(Pn=(0,a.Z)(function*(w,g,_){const E=(0,j.m9)(w);De(E.auth,g,Nr),yield E.auth._initializationPromise;const M=io(E.auth,_);yield za(M,E.auth);const P=yield Er(E);return M._openRedirect(E.auth,g,"reauthViaRedirect",P)})).apply(this,arguments)}function Cn(w,g,_){return function ni(w,g,_){return tn.apply(this,arguments)}(w,g,_)}function tn(){return(tn=(0,a.Z)(function*(w,g,_){const E=(0,j.m9)(w);De(E.auth,g,Nr),yield E.auth._initializationPromise;const M=io(E.auth,_);yield Qo(!1,E,g.providerId),yield za(M,E.auth);const P=yield Er(E);return M._openRedirect(E.auth,g,"linkViaRedirect",P)})).apply(this,arguments)}function zn(w,g){return ia.apply(this,arguments)}function ia(){return(ia=(0,a.Z)(function*(w,g){return yield Kn(w)._initializationPromise,wl(w,g,!1)})).apply(this,arguments)}function wl(w,g){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,a.Z)(function*(w,g,_=!1){const E=Kn(w),M=io(E,g),K=yield new rh(E,M,_).execute();return K&&!_&&(delete K.user._redirectEventId,yield E._persistUserIfCurrent(K.user),yield E._setRedirectUser(null,g)),K})).apply(this,arguments)}function Er(w){return Po.apply(this,arguments)}function Po(){return(Po=(0,a.Z)(function*(w){const g=Va(`${w.uid}:::`);return w._redirectEventId=g,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),g})).apply(this,arguments)}class ls{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(g,E)&&(_=!0,this.sendToConsumer(g,E),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function xl(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return so(w);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var E;if(g.error&&!so(g)){const M=(null===(E=g.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";_.onError(xe(this.auth,M))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const E=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&E}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(El(g))}saveEventToCache(g){this.cachedEventUids.add(El(g)),this.lastProcessedEventTime=Date.now()}}function El(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(g=>g).join("-")}function so({type:w,error:g}){return"unknown"===w&&"auth/no-auth-event"===g?.code}function Dl(w){return ks.apply(this,arguments)}function ks(){return(ks=(0,a.Z)(function*(w,g={}){return Te(w,"GET","/v1/projects",g)})).apply(this,arguments)}const No=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lt=/^https?/;function vc(){return(vc=(0,a.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:g}=yield Dl(w);for(const _ of g)try{if(Fo(_))return}catch{}ie(w,"unauthorized-domain")})).apply(this,arguments)}function Fo(w){const g=Kt(),{protocol:_,hostname:E}=new URL(g);if(w.startsWith("chrome-extension://")){const K=new URL(w);return""===K.hostname&&""===E?"chrome-extension:"===_&&w.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&K.hostname===E}if(!Lt.test(_))return!1;if(No.test(w))return E===w;const M=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(E)}const cs=new jr(3e4,6e4);function sh(){const w=ci().___jsl;if(w?.H)for(const g of Object.keys(w.H))if(w.H[g].r=w.H[g].r||[],w.H[g].L=w.H[g].L||[],w.H[g].r=[...w.H[g].L],w.CP)for(let _=0;_<w.CP.length;_++)w.CP[_]=null}let bc=null;const sa=new jr(5e3,15e3),$a="__/auth/iframe",ug="emulator/auth/iframe",dg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oh(w){const g=w.config;oe(g.authDomain,w,"auth-domain-config-required");const _=g.emulator?Gs(g,ug):`https://${w.config.authDomain}/${$a}`,E={apiKey:g.apiKey,appName:w.name,v:O.SDK_VERSION},M=oa.get(w.config.apiHost);M&&(E.eid=M);const P=w._getFrameworks();return P.length&&(E.fw=P.join(",")),`${_}?${(0,j.xO)(E).slice(1)}`}function Xn(){return Xn=(0,a.Z)(function*(w){const g=yield function ra(w){return bc=bc||function Rs(w){return new Promise((g,_)=>{var E,M,P;function K(){sh(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{sh(),_(xe(w,"network-request-failed"))},timeout:cs.get()})}if(null!==(M=null===(E=ci().gapi)||void 0===E?void 0:E.iframes)&&void 0!==M&&M.Iframe)g(gapi.iframes.getContext());else{if(null===(P=ci().gapi)||void 0===P||!P.load){const me=qi("iframefcb");return ci()[me]=()=>{gapi.load?K():_(xe(w,"network-request-failed"))},Yn(`https://apis.google.com/js/api.js?onload=${me}`).catch(We=>_(We))}K()}}).catch(g=>{throw bc=null,g})}(w),bc}(w),_=ci().gapi;return oe(_,w,"internal-error"),g.open({where:document.body,url:oh(w),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dg,dontclear:!0},E=>new Promise(function(){var M=(0,a.Z)(function*(P,K){yield E.restyle({setHideOnLeave:!1});const me=xe(w,"network-request-failed"),We=ci().setTimeout(()=>{K(me)},sa.get());function rt(){ci().clearTimeout(We),P(E)}E.ping(rt).then(rt,()=>{K(me)})});return function(P,K){return M.apply(this,arguments)}}()))}),Xn.apply(this,arguments)}const C={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class J{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const qe="__/auth/handler",pt="emulator/auth/handler",Bt=encodeURIComponent("fac");function Mt(w,g,_,E,M,P){return yn.apply(this,arguments)}function yn(){return(yn=(0,a.Z)(function*(w,g,_,E,M,P){oe(w.config.authDomain,w,"auth-domain-config-required"),oe(w.config.apiKey,w,"invalid-api-key");const K={apiKey:w.config.apiKey,appName:w.name,authType:_,redirectUrl:E,v:O.SDK_VERSION,eventId:M};if(g instanceof Nr){g.setDefaultLanguage(w.languageCode),K.providerId=g.providerId||"",(0,j.xb)(g.getCustomParameters())||(K.customParameters=JSON.stringify(g.getCustomParameters()));for(const[_t,on]of Object.entries(P||{}))K[_t]=on}if(g instanceof or){const _t=g.getScopes().filter(on=>""!==on);_t.length>0&&(K.scopes=_t.join(","))}w.tenantId&&(K.tid=w.tenantId);const me=K;for(const _t of Object.keys(me))void 0===me[_t]&&delete me[_t];const We=yield w._getAppCheckToken(),rt=We?`#${Bt}=${encodeURIComponent(We)}`:"";return`${function di({config:w}){return w.emulator?Gs(w,pt):`https://${w.authDomain}/${qe}`}(w)}?${(0,j.xO)(me).slice(1)}${rt}`})).apply(this,arguments)}const xr="webStorageSupport",ao=class ah{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ao,this._completeRedirectFn=wl,this._overrideRedirectResult=yc}_openPopup(g,_,E,M){var P=this;return(0,a.Z)(function*(){var K;wt(null===(K=P.eventManagers[g._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const me=yield Mt(g,_,E,Kt(),M);return function fe(w,g,_,E=500,M=600){const P=Math.max((window.screen.availHeight-M)/2,0).toString(),K=Math.max((window.screen.availWidth-E)/2,0).toString();let me="";const We=Object.assign(Object.assign({},C),{width:E.toString(),height:M.toString(),top:P,left:K}),rt=(0,j.z$)().toLowerCase();_&&(me=R(rt)?"_blank":_),F(rt)&&(g=g||"http://localhost",We.scrollbars="yes");const _t=Object.entries(We).reduce((ur,[aa,Fu])=>`${ur}${aa}=${Fu},`,"");if(function Rt(w=(0,j.z$)()){var g;return it(w)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(rt)&&"_self"!==me)return function Je(w,g){const _=document.createElement("a");_.href=w,_.target=g;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(E)}(g||"",me),new J(null);const on=window.open(g||"",me,_t);oe(on,w,"popup-blocked");try{on.focus()}catch{}return new J(on)}(g,me,Va())})()}_openRedirect(g,_,E,M){var P=this;return(0,a.Z)(function*(){return yield P._originValidation(g),function Ae(w){ci().location.href=w}(yield Mt(g,_,E,Kt(),M)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:M,promise:P}=this.eventManagers[_];return M?Promise.resolve(M):(wt(P,"If manager is not set, promise should be"),P)}const E=this.initAndGetManager(g);return this.eventManagers[_]={promise:E},E.catch(()=>{delete this.eventManagers[_]}),E}initAndGetManager(g){var _=this;return(0,a.Z)(function*(){const E=yield function Wf(w){return Xn.apply(this,arguments)}(g),M=new ls(g);return E.register("authEvent",P=>(oe(P?.authEvent,g,"invalid-auth-event"),{status:M.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:M},_.iframes[g._key()]=E,M})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(xr,{type:xr},M=>{var P;const K=null===(P=M?.[0])||void 0===P?void 0:P[xr];void 0!==K&&_(!!K),ie(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function oo(w){return vc.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return qt()||V()||it()}};class Dr{constructor(g){this.factorId=g}_process(g,_,E){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,E);case"signin":return this._finalizeSignIn(g,_.credential);default:return ft("unexpected MultiFactorSessionType")}}}class us extends Dr{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new us(g)}_finalizeEnroll(g,_,E){return function Cu(w,g){return Te(w,"POST","/v2/accounts/mfaEnrollment:finalize",he(w,g))}(g,{idToken:_,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function Su(w,g){return Te(w,"POST","/v2/accounts/mfaSignIn:finalize",he(w,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ru=(()=>{class w{constructor(){}static assertion(_){return us._fromCredential(_)}}return w.FACTOR_ID="phone",w})();var Ou="@firebase/auth";class lh{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,a.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(E=>{g(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);_&&(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const pg=(0,j.Pz)("authIdTokenMaxAge")||300;let Pu=null;const Nu=w=>function(){var g=(0,a.Z)(function*(_){const E=_&&(yield _.getIdTokenResult()),M=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(M&&M>pg)return;const P=E?.token;Pu!==P&&(Pu=P,yield fetch(w,{method:P?"POST":"DELETE",headers:P?{Authorization:`Bearer ${P}`}:{}}))});return function(_){return g.apply(this,arguments)}}();function mg(w=(0,O.getApp)()){const g=(0,O._getProvider)(w,"auth");if(g.isInitialized())return g.getImmediate();const _=function Vn(w,g){const _=(0,O._getProvider)(w,"auth");if(_.isInitialized()){const M=_.getImmediate(),P=_.getOptions();if((0,j.vZ)(P,g??{}))return M;ie(M,"already-initialized")}return _.initialize({options:g})}(w,{popupRedirectResolver:ao,persistence:[Iu,$d,Ao]}),E=(0,j.Pz)("authTokenSyncURL");if(E){const P=Nu(E);(function yu(w,g,_){(0,j.m9)(w).beforeAuthStateChanged(g,_)})(_,P,()=>P(_.currentUser)),function jd(w,g,_,E){(0,j.m9)(w).onIdTokenChanged(g,_,E)}(_,K=>P(K))}const M=(0,j.q4)("auth");return M&&Td(_,`http://${M}`),_}!function ch(w){(0,O._registerComponent)(new re.wA("auth",(g,{options:_})=>{const E=g.getProvider("app").getImmediate(),M=g.getProvider("heartbeat"),P=g.getProvider("app-check-internal"),{apiKey:K,authDomain:me}=E.options;oe(K&&!K.includes(":"),"invalid-api-key",{appName:E.name});const We={apiKey:K,authDomain:me,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qs(w)},rt=new zr(E,M,P,We);return function eg(w,g){const _=g?.persistence||[],E=(Array.isArray(_)?_:[_]).map(Fn);g?.errorMap&&w._updateErrorMap(g.errorMap),w._initializeWithPersistence(E,g?.popupRedirectResolver)}(rt,_),rt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,E)=>{g.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new re.wA("auth-internal",g=>{const _=Kn(g.getProvider("auth").getImmediate());return new lh(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(Ou,"0.23.2",function ov(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,O.registerVersion)(Ou,"0.23.2","esm2017")}("Browser")},9058:(gt,Se,B)=>{B.d(Se,{$s:()=>Fn,BH:()=>de,G6:()=>Gs,L:()=>be,LL:()=>He,P0:()=>ht,Pz:()=>xe,Sg:()=>De,UG:()=>ft,US:()=>re,ZB:()=>se,ZR:()=>Te,aH:()=>ie,b$:()=>mi,eu:()=>_e,hl:()=>pe,jU:()=>wt,m9:()=>Rr,ne:()=>Qt,pd:()=>Ut,q4:()=>vt,r3:()=>fn,ru:()=>Kt,tV:()=>z,uI:()=>oe,vZ:()=>Oi,w1:()=>Ds,xO:()=>Is,xb:()=>Mr,z$:()=>Ve,zI:()=>Ee,zd:()=>yt});const te=function(q){const $=[];let F=0;for(let V=0;V<q.length;V++){let R=q.charCodeAt(V);R<128?$[F++]=R:R<2048?($[F++]=R>>6|192,$[F++]=63&R|128):55296==(64512&R)&&V+1<q.length&&56320==(64512&q.charCodeAt(V+1))?(R=65536+((1023&R)<<10)+(1023&q.charCodeAt(++V)),$[F++]=R>>18|240,$[F++]=R>>12&63|128,$[F++]=R>>6&63|128,$[F++]=63&R|128):($[F++]=R>>12|224,$[F++]=R>>6&63|128,$[F++]=63&R|128)}return $},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,$){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const F=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let R=0;R<q.length;R+=3){const X=q[R],Ie=R+1<q.length,$e=Ie?q[R+1]:0,At=R+2<q.length,it=At?q[R+2]:0;let gn=(15&$e)<<2|it>>6,qt=63&it;At||(qt=64,Ie||(gn=64)),V.push(F[X>>2],F[(3&X)<<4|$e>>4],F[gn],F[qt])}return V.join("")},encodeString(q,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(q):this.encodeByteArray(te(q),$)},decodeString(q,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(q):function(q){const $=[];let F=0,V=0;for(;F<q.length;){const R=q[F++];if(R<128)$[V++]=String.fromCharCode(R);else if(R>191&&R<224){const X=q[F++];$[V++]=String.fromCharCode((31&R)<<6|63&X)}else if(R>239&&R<365){const At=((7&R)<<18|(63&q[F++])<<12|(63&q[F++])<<6|63&q[F++])-65536;$[V++]=String.fromCharCode(55296+(At>>10)),$[V++]=String.fromCharCode(56320+(1023&At))}else{const X=q[F++],Ie=q[F++];$[V++]=String.fromCharCode((15&R)<<12|(63&X)<<6|63&Ie)}}return $.join("")}(this.decodeStringToByteArray(q,$))},decodeStringToByteArray(q,$){this.init_();const F=$?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let R=0;R<q.length;){const X=F[q.charAt(R++)],$e=R<q.length?F[q.charAt(R)]:0;++R;const it=R<q.length?F[q.charAt(R)]:64;++R;const Rt=R<q.length?F[q.charAt(R)]:64;if(++R,null==X||null==$e||null==it||null==Rt)throw new Ce;V.push(X<<2|$e>>4),64!==it&&(V.push($e<<4&240|it>>2),64!==Rt&&V.push(it<<6&192|Rt))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}};class Ce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const be=function(q){return function(q){const $=te(q);return re.encodeByteArray($,!0)}(q).replace(/\./g,"")},z=function(q){try{return re.decodeString(q,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function se(q,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return $}for(const F in $)!$.hasOwnProperty(F)||!Be(F)||(q[F]=se(q[F],$[F]));return q}function Be(q){return"__proto__"!==q}const Le=()=>{try{return function Me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const q=process.env.__FIREBASE_DEFAULTS__;return q?JSON.parse(q):void 0})()||(()=>{if(typeof document>"u")return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=q&&z(q[1]);return $&&JSON.parse($)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},vt=q=>{var $,F;return null===(F=null===($=Le())||void 0===$?void 0:$.emulatorHosts)||void 0===F?void 0:F[q]},ht=q=>{const $=vt(q);if(!$)return;const F=$.lastIndexOf(":");if(F<=0||F+1===$.length)throw new Error(`Invalid host ${$} with no separate hostname and port!`);const V=parseInt($.substring(F+1),10);return"["===$[0]?[$.substring(1,F-1),V]:[$.substring(0,F),V]},ie=()=>{var q;return null===(q=Le())||void 0===q?void 0:q.config},xe=q=>{var $;return null===($=Le())||void 0===$?void 0:$[`_${q}`]};class de{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,F)=>{this.resolve=$,this.reject=F})}wrapCallback($){return(F,V)=>{F?this.reject(F):this.resolve(V),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(F):$(F,V))}}}function De(q,$){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=$||"demo-project",R=q.iat||0,X=q.sub||q.user_id;if(!X)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ie=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:R,exp:R+3600,auth_time:R,sub:X,user_id:X,firebase:{sign_in_provider:"custom",identities:{}}},q);return[be(JSON.stringify({alg:"none",type:"JWT"})),be(JSON.stringify(Ie)),""].join(".")}function Ve(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function ft(){var q;const $=null===(q=Le())||void 0===q?void 0:q.forceEnvironment;if("node"===$)return!0;if("browser"===$)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function wt(){return"object"==typeof self&&self.self===self}function Kt(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function mi(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ds(){const q=Ve();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Gs(){return!ft()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pe(){try{return"object"==typeof indexedDB}catch{return!1}}function _e(){return new Promise((q,$)=>{try{let F=!0;const V="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(V);R.onsuccess=()=>{R.result.close(),F||self.indexedDB.deleteDatabase(V),q(!0)},R.onupgradeneeded=()=>{F=!1},R.onerror=()=>{var X;$((null===(X=R.error)||void 0===X?void 0:X.message)||"")}}catch(F){$(F)}})}function Ee(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Te extends Error{constructor($,F,V){super(F),this.code=$,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,Te.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,He.prototype.create)}}class He{constructor($,F,V){this.service=$,this.serviceName=F,this.errors=V}create($,...F){const V=F[0]||{},R=`${this.service}/${$}`,X=this.errors[$],Ie=X?function nt(q,$){return q.replace(Ze,(F,V)=>{const R=$[V];return null!=R?String(R):`<${V}?>`})}(X,V):"Error";return new Te(R,`${this.serviceName}: ${Ie} (${R}).`,V)}}const Ze=/\{\$([^}]+)}/g;function fn(q,$){return Object.prototype.hasOwnProperty.call(q,$)}function Mr(q){for(const $ in q)if(Object.prototype.hasOwnProperty.call(q,$))return!1;return!0}function Oi(q,$){if(q===$)return!0;const F=Object.keys(q),V=Object.keys($);for(const R of F){if(!V.includes(R))return!1;const X=q[R],Ie=$[R];if(Wn(X)&&Wn(Ie)){if(!Oi(X,Ie))return!1}else if(X!==Ie)return!1}for(const R of V)if(!F.includes(R))return!1;return!0}function Wn(q){return null!==q&&"object"==typeof q}function Is(q){const $=[];for(const[F,V]of Object.entries(q))Array.isArray(V)?V.forEach(R=>{$.push(encodeURIComponent(F)+"="+encodeURIComponent(R))}):$.push(encodeURIComponent(F)+"="+encodeURIComponent(V));return $.length?"&"+$.join("&"):""}function yt(q){const $={};return q.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[R,X]=V.split("=");$[decodeURIComponent(R)]=decodeURIComponent(X)}}),$}function Ut(q){const $=q.indexOf("?");if(!$)return"";const F=q.indexOf("#",$);return q.substring($,F>0?F:void 0)}function Qt(q,$){const F=new si(q,$);return F.subscribe.bind(F)}class si{constructor($,F){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=F,this.task.then(()=>{$(this)}).catch(V=>{this.error(V)})}next($){this.forEachObserver(F=>{F.next($)})}error($){this.forEachObserver(F=>{F.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,F,V){let R;if(void 0===$&&void 0===F&&void 0===V)throw new Error("Missing Observer.");R=function Wt(q,$){if("object"!=typeof q||null===q)return!1;for(const F of $)if(F in q&&"function"==typeof q[F])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:F,complete:V},void 0===R.next&&(R.next=Jn),void 0===R.error&&(R.error=Jn),void 0===R.complete&&(R.complete=Jn);const X=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch{}}),this.observers.push(R),X}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let F=0;F<this.observers.length;F++)this.sendOne(F,$)}sendOne($,F){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{F(this.observers[$])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jn(){}const oi=1e3,ai=2,li=144e5,Gi=.5;function Fn(q,$=oi,F=ai){const V=$*Math.pow(F,q),R=Math.round(Gi*V*(Math.random()-.5)*2);return Math.min(li,V+R)}function Rr(q){return q&&q._delegate?q._delegate:q}},5619:(gt,Se,B)=>{B.d(Se,{X:()=>j});var a=B(8645);class j extends a.x{constructor(te){super(),this._value=te}get value(){return this.getValue()}_subscribe(te){const le=super._subscribe(te);return!le.closed&&te.next(this._value),le}getValue(){const{hasError:te,thrownError:le,_value:re}=this;if(te)throw le;return this._throwIfClosed(),re}next(te){super.next(this._value=te)}}},5592:(gt,Se,B)=>{B.d(Se,{y:()=>Re});var a=B(305),j=B(7394),O=B(4850),te=B(8407),le=B(2653),re=B(4674),Ce=B(1441);let Re=(()=>{class se{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const et=new se;return et.source=this,et.operator=Me,et}subscribe(Me,et,Oe){const Ke=function W(se){return se&&se instanceof a.Lv||function z(se){return se&&(0,re.m)(se.next)&&(0,re.m)(se.error)&&(0,re.m)(se.complete)}(se)&&(0,j.Nn)(se)}(Me)?Me:new a.Hp(Me,et,Oe);return(0,Ce.x)(()=>{const{operator:Le,source:vt}=this;Ke.add(Le?Le.call(Ke,vt):vt?this._subscribe(Ke):this._trySubscribe(Ke))}),Ke}_trySubscribe(Me){try{return this._subscribe(Me)}catch(et){Me.error(et)}}forEach(Me,et){return new(et=be(et))((Oe,Ke)=>{const Le=new a.Hp({next:vt=>{try{Me(vt)}catch(ht){Ke(ht),Le.unsubscribe()}},error:Ke,complete:Oe});this.subscribe(Le)})}_subscribe(Me){var et;return null===(et=this.source)||void 0===et?void 0:et.subscribe(Me)}[O.L](){return this}pipe(...Me){return(0,te.U)(Me)(this)}toPromise(Me){return new(Me=be(Me))((et,Oe)=>{let Ke;this.subscribe(Le=>Ke=Le,Le=>Oe(Le),()=>et(Ke))})}}return se.create=Be=>new se(Be),se})();function be(se){var Be;return null!==(Be=se??le.config.Promise)&&void 0!==Be?Be:Promise}},8645:(gt,Se,B)=>{B.d(Se,{x:()=>Ce});var a=B(5592),j=B(7394);const te=(0,B(2306).d)(be=>function(){be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=B(9039),re=B(1441);let Ce=(()=>{class be extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const se=new Re(this,this);return se.operator=W,se}_throwIfClosed(){if(this.closed)throw new te}next(W){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const se of this.currentObservers)se.next(W)}})}error(W){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:se}=this;for(;se.length;)se.shift().error(W)}})}complete(){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:se,isStopped:Be,observers:Me}=this;return se||Be?j.Lc:(this.currentObservers=null,Me.push(W),new j.w0(()=>{this.currentObservers=null,(0,le.P)(Me,W)}))}_checkFinalizedStatuses(W){const{hasError:se,thrownError:Be,isStopped:Me}=this;se?W.error(Be):Me&&W.complete()}asObservable(){const W=new a.y;return W.source=this,W}}return be.create=(z,W)=>new Re(z,W),be})();class Re extends Ce{constructor(z,W){super(),this.destination=z,this.source=W}next(z){var W,se;null===(se=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===se||se.call(W,z)}error(z){var W,se;null===(se=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===se||se.call(W,z)}complete(){var z,W;null===(W=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===W||W.call(z)}_subscribe(z){var W,se;return null!==(se=null===(W=this.source)||void 0===W?void 0:W.subscribe(z))&&void 0!==se?se:j.Lc}}},305:(gt,Se,B)=>{B.d(Se,{Hp:()=>Oe,Lv:()=>se});var a=B(4674),j=B(7394),O=B(2653),te=B(3894),le=B(2420);const re=be("C",void 0,void 0);function be(ie,xe,de){return{kind:ie,value:xe,error:de}}var z=B(7599),W=B(1441);class se extends j.w0{constructor(xe){super(),this.isStopped=!1,xe?(this.destination=xe,(0,j.Nn)(xe)&&xe.add(this)):this.destination=ht}static create(xe,de,De){return new Oe(xe,de,De)}next(xe){this.isStopped?vt(function Re(ie){return be("N",ie,void 0)}(xe),this):this._next(xe)}error(xe){this.isStopped?vt(function Ce(ie){return be("E",void 0,ie)}(xe),this):(this.isStopped=!0,this._error(xe))}complete(){this.isStopped?vt(re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(xe){this.destination.next(xe)}_error(xe){try{this.destination.error(xe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Be=Function.prototype.bind;function Me(ie,xe){return Be.call(ie,xe)}class et{constructor(xe){this.partialObserver=xe}next(xe){const{partialObserver:de}=this;if(de.next)try{de.next(xe)}catch(De){Ke(De)}}error(xe){const{partialObserver:de}=this;if(de.error)try{de.error(xe)}catch(De){Ke(De)}else Ke(xe)}complete(){const{partialObserver:xe}=this;if(xe.complete)try{xe.complete()}catch(de){Ke(de)}}}class Oe extends se{constructor(xe,de,De){let Ve;if(super(),(0,a.m)(xe)||!xe)Ve={next:xe??void 0,error:de??void 0,complete:De??void 0};else{let oe;this&&O.config.useDeprecatedNextContext?(oe=Object.create(xe),oe.unsubscribe=()=>this.unsubscribe(),Ve={next:xe.next&&Me(xe.next,oe),error:xe.error&&Me(xe.error,oe),complete:xe.complete&&Me(xe.complete,oe)}):Ve=xe}this.destination=new et(Ve)}}function Ke(ie){O.config.useDeprecatedSynchronousErrorHandling?(0,W.O)(ie):(0,te.h)(ie)}function vt(ie,xe){const{onStoppedNotification:de}=O.config;de&&z.z.setTimeout(()=>de(ie,xe))}const ht={closed:!0,next:le.Z,error:function Le(ie){throw ie},complete:le.Z}},7394:(gt,Se,B)=>{B.d(Se,{Lc:()=>re,w0:()=>le,Nn:()=>Ce});var a=B(4674);const O=(0,B(2306).d)(be=>function(W){be(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((se,Be)=>`${Be+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var te=B(9039);class le{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const Me of W)Me.remove(this);else W.remove(this);const{initialTeardown:se}=this;if((0,a.m)(se))try{se()}catch(Me){z=Me instanceof O?Me.errors:[Me]}const{_finalizers:Be}=this;if(Be){this._finalizers=null;for(const Me of Be)try{Re(Me)}catch(et){z=z??[],et instanceof O?z=[...z,...et.errors]:z.push(et)}}if(z)throw new O(z)}}add(z){var W;if(z&&z!==this)if(this.closed)Re(z);else{if(z instanceof le){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(z)}}_hasParent(z){const{_parentage:W}=this;return W===z||Array.isArray(W)&&W.includes(z)}_addParent(z){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(z),W):W?[W,z]:z}_removeParent(z){const{_parentage:W}=this;W===z?this._parentage=null:Array.isArray(W)&&(0,te.P)(W,z)}remove(z){const{_finalizers:W}=this;W&&(0,te.P)(W,z),z instanceof le&&z._removeParent(this)}}le.EMPTY=(()=>{const be=new le;return be.closed=!0,be})();const re=le.EMPTY;function Ce(be){return be instanceof le||be&&"closed"in be&&(0,a.m)(be.remove)&&(0,a.m)(be.add)&&(0,a.m)(be.unsubscribe)}function Re(be){(0,a.m)(be)?be():be.unsubscribe()}},2653:(gt,Se,B)=>{B.d(Se,{config:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(gt,Se,B)=>{B.d(Se,{E:()=>j});const j=new(B(5592).y)(le=>le.complete())},2459:(gt,Se,B)=>{B.d(Se,{D:()=>xe});var a=B(4829),j=B(3093),O=B(5137),re=B(5592),Re=B(4971),be=B(4674),z=B(7103);function se(de,De){if(!de)throw new Error("Iterable cannot be null");return new re.y(Ve=>{(0,z.f)(Ve,De,()=>{const oe=de[Symbol.asyncIterator]();(0,z.f)(Ve,De,()=>{oe.next().then(ft=>{ft.done?Ve.complete():Ve.next(ft.value)})},0,!0)})})}var Be=B(8382),Me=B(4026),et=B(4266),Oe=B(3664),Ke=B(5726),Le=B(9853),vt=B(541);function xe(de,De){return De?function ie(de,De){if(null!=de){if((0,Be.c)(de))return function te(de,De){return(0,a.Xf)(de).pipe((0,O.R)(De),(0,j.Q)(De))}(de,De);if((0,et.z)(de))return function Ce(de,De){return new re.y(Ve=>{let oe=0;return De.schedule(function(){oe===de.length?Ve.complete():(Ve.next(de[oe++]),Ve.closed||this.schedule())})})}(de,De);if((0,Me.t)(de))return function le(de,De){return(0,a.Xf)(de).pipe((0,O.R)(De),(0,j.Q)(De))}(de,De);if((0,Ke.D)(de))return se(de,De);if((0,Oe.T)(de))return function W(de,De){return new re.y(Ve=>{let oe;return(0,z.f)(Ve,De,()=>{oe=de[Re.h](),(0,z.f)(Ve,De,()=>{let ft,wt;try{({value:ft,done:wt}=oe.next())}catch(Kt){return void Ve.error(Kt)}wt?Ve.complete():Ve.next(ft)},0,!0)}),()=>(0,be.m)(oe?.return)&&oe.return()})}(de,De);if((0,vt.L)(de))return function ht(de,De){return se((0,vt.Q)(de),De)}(de,De)}throw(0,Le.z)(de)}(de,De):(0,a.Xf)(de)}},4829:(gt,Se,B)=>{B.d(Se,{Xf:()=>Be});var a=B(7582),j=B(4266),O=B(4026),te=B(5592),le=B(8382),re=B(5726),Ce=B(9853),Re=B(3664),be=B(541),z=B(4674),W=B(3894),se=B(4850);function Be(ie){if(ie instanceof te.y)return ie;if(null!=ie){if((0,le.c)(ie))return function Me(ie){return new te.y(xe=>{const de=ie[se.L]();if((0,z.m)(de.subscribe))return de.subscribe(xe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ie);if((0,j.z)(ie))return function et(ie){return new te.y(xe=>{for(let de=0;de<ie.length&&!xe.closed;de++)xe.next(ie[de]);xe.complete()})}(ie);if((0,O.t)(ie))return function Oe(ie){return new te.y(xe=>{ie.then(de=>{xe.closed||(xe.next(de),xe.complete())},de=>xe.error(de)).then(null,W.h)})}(ie);if((0,re.D)(ie))return Le(ie);if((0,Re.T)(ie))return function Ke(ie){return new te.y(xe=>{for(const de of ie)if(xe.next(de),xe.closed)return;xe.complete()})}(ie);if((0,be.L)(ie))return function vt(ie){return Le((0,be.Q)(ie))}(ie)}throw(0,Ce.z)(ie)}function Le(ie){return new te.y(xe=>{(function ht(ie,xe){var de,De,Ve,oe;return(0,a.mG)(this,void 0,void 0,function*(){try{for(de=(0,a.KL)(ie);!(De=yield de.next()).done;)if(xe.next(De.value),xe.closed)return}catch(ft){Ve={error:ft}}finally{try{De&&!De.done&&(oe=de.return)&&(yield oe.call(de))}finally{if(Ve)throw Ve.error}}xe.complete()})})(ie,xe).catch(de=>xe.error(de))})}},3019:(gt,Se,B)=>{B.d(Se,{T:()=>re});var a=B(7537),j=B(4829),O=B(6232),te=B(9940),le=B(2459);function re(...Ce){const Re=(0,te.yG)(Ce),be=(0,te._6)(Ce,1/0),z=Ce;return z.length?1===z.length?(0,j.Xf)(z[0]):(0,a.J)(be)((0,le.D)(z,Re)):O.E}},2096:(gt,Se,B)=>{B.d(Se,{of:()=>O});var a=B(9940),j=B(2459);function O(...te){const le=(0,a.yG)(te);return(0,j.D)(te,le)}},8251:(gt,Se,B)=>{B.d(Se,{x:()=>j});var a=B(305);function j(te,le,re,Ce,Re){return new O(te,le,re,Ce,Re)}class O extends a.Lv{constructor(le,re,Ce,Re,be,z){super(le),this.onFinalize=be,this.shouldUnsubscribe=z,this._next=re?function(W){try{re(W)}catch(se){le.error(se)}}:super._next,this._error=Re?function(W){try{Re(W)}catch(se){le.error(se)}finally{this.unsubscribe()}}:super._error,this._complete=Ce?function(){try{Ce()}catch(W){le.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:re}=this;super.unsubscribe(),!re&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},3997:(gt,Se,B)=>{B.d(Se,{x:()=>te});var a=B(2737),j=B(9360),O=B(8251);function te(re,Ce=a.y){return re=re??le,(0,j.e)((Re,be)=>{let z,W=!0;Re.subscribe((0,O.x)(be,se=>{const Be=Ce(se);(W||!re(z,Be))&&(W=!1,z=Be,be.next(se))}))})}function le(re,Ce){return re===Ce}},7398:(gt,Se,B)=>{B.d(Se,{U:()=>O});var a=B(9360),j=B(8251);function O(te,le){return(0,a.e)((re,Ce)=>{let Re=0;re.subscribe((0,j.x)(Ce,be=>{Ce.next(te.call(le,be,Re++))}))})}},7537:(gt,Se,B)=>{B.d(Se,{J:()=>O});var a=B(1631),j=B(2737);function O(te=1/0){return(0,a.z)(j.y,te)}},1631:(gt,Se,B)=>{B.d(Se,{z:()=>Re});var a=B(7398),j=B(4829),O=B(9360),te=B(7103),le=B(8251),Ce=B(4674);function Re(be,z,W=1/0){return(0,Ce.m)(z)?Re((se,Be)=>(0,a.U)((Me,et)=>z(se,Me,Be,et))((0,j.Xf)(be(se,Be))),W):("number"==typeof z&&(W=z),(0,O.e)((se,Be)=>function re(be,z,W,se,Be,Me,et,Oe){const Ke=[];let Le=0,vt=0,ht=!1;const ie=()=>{ht&&!Ke.length&&!Le&&z.complete()},xe=De=>Le<se?de(De):Ke.push(De),de=De=>{Me&&z.next(De),Le++;let Ve=!1;(0,j.Xf)(W(De,vt++)).subscribe((0,le.x)(z,oe=>{Be?.(oe),Me?xe(oe):z.next(oe)},()=>{Ve=!0},void 0,()=>{if(Ve)try{for(Le--;Ke.length&&Le<se;){const oe=Ke.shift();et?(0,te.f)(z,et,()=>de(oe)):de(oe)}ie()}catch(oe){z.error(oe)}}))};return be.subscribe((0,le.x)(z,xe,()=>{ht=!0,ie()})),()=>{Oe?.()}}(se,Be,be,W)))}},3093:(gt,Se,B)=>{B.d(Se,{Q:()=>te});var a=B(7103),j=B(9360),O=B(8251);function te(le,re=0){return(0,j.e)((Ce,Re)=>{Ce.subscribe((0,O.x)(Re,be=>(0,a.f)(Re,le,()=>Re.next(be),re),()=>(0,a.f)(Re,le,()=>Re.complete(),re),be=>(0,a.f)(Re,le,()=>Re.error(be),re)))})}},3020:(gt,Se,B)=>{B.d(Se,{B:()=>le});var a=B(4829),j=B(8645),O=B(305),te=B(9360);function le(Ce={}){const{connector:Re=(()=>new j.x),resetOnError:be=!0,resetOnComplete:z=!0,resetOnRefCountZero:W=!0}=Ce;return se=>{let Be,Me,et,Oe=0,Ke=!1,Le=!1;const vt=()=>{Me?.unsubscribe(),Me=void 0},ht=()=>{vt(),Be=et=void 0,Ke=Le=!1},ie=()=>{const xe=Be;ht(),xe?.unsubscribe()};return(0,te.e)((xe,de)=>{Oe++,!Le&&!Ke&&vt();const De=et=et??Re();de.add(()=>{Oe--,0===Oe&&!Le&&!Ke&&(Me=re(ie,W))}),De.subscribe(de),!Be&&Oe>0&&(Be=new O.Hp({next:Ve=>De.next(Ve),error:Ve=>{Le=!0,vt(),Me=re(ht,be,Ve),De.error(Ve)},complete:()=>{Ke=!0,vt(),Me=re(ht,z),De.complete()}}),(0,a.Xf)(xe).subscribe(Be))})(se)}}function re(Ce,Re,...be){if(!0===Re)return void Ce();if(!1===Re)return;const z=new O.Hp({next:()=>{z.unsubscribe(),Ce()}});return Re(...be).subscribe(z)}},5137:(gt,Se,B)=>{B.d(Se,{R:()=>j});var a=B(9360);function j(O,te=0){return(0,a.e)((le,re)=>{re.add(O.schedule(()=>le.subscribe(re),te))})}},4664:(gt,Se,B)=>{B.d(Se,{w:()=>te});var a=B(4829),j=B(9360),O=B(8251);function te(le,re){return(0,j.e)((Ce,Re)=>{let be=null,z=0,W=!1;const se=()=>W&&!be&&Re.complete();Ce.subscribe((0,O.x)(Re,Be=>{be?.unsubscribe();let Me=0;const et=z++;(0,a.Xf)(le(Be,et)).subscribe(be=(0,O.x)(Re,Oe=>Re.next(re?re(Be,Oe,et,Me++):Oe),()=>{be=null,se()}))},()=>{W=!0,se()}))})}},9397:(gt,Se,B)=>{B.d(Se,{b:()=>le});var a=B(4674),j=B(9360),O=B(8251),te=B(2737);function le(re,Ce,Re){const be=(0,a.m)(re)||Ce||Re?{next:re,error:Ce,complete:Re}:re;return be?(0,j.e)((z,W)=>{var se;null===(se=be.subscribe)||void 0===se||se.call(be);let Be=!0;z.subscribe((0,O.x)(W,Me=>{var et;null===(et=be.next)||void 0===et||et.call(be,Me),W.next(Me)},()=>{var Me;Be=!1,null===(Me=be.complete)||void 0===Me||Me.call(be),W.complete()},Me=>{var et;Be=!1,null===(et=be.error)||void 0===et||et.call(be,Me),W.error(Me)},()=>{var Me,et;Be&&(null===(Me=be.unsubscribe)||void 0===Me||Me.call(be)),null===(et=be.finalize)||void 0===et||et.call(be)}))}):te.y}},1954:(gt,Se,B)=>{B.d(Se,{o:()=>le});var a=B(7394);class j extends a.w0{constructor(Ce,Re){super()}schedule(Ce,Re=0){return this}}const O={setInterval(re,Ce,...Re){const{delegate:be}=O;return be?.setInterval?be.setInterval(re,Ce,...Re):setInterval(re,Ce,...Re)},clearInterval(re){const{delegate:Ce}=O;return(Ce?.clearInterval||clearInterval)(re)},delegate:void 0};var te=B(9039);class le extends j{constructor(Ce,Re){super(Ce,Re),this.scheduler=Ce,this.work=Re,this.pending=!1}schedule(Ce,Re=0){if(this.closed)return this;this.state=Ce;const be=this.id,z=this.scheduler;return null!=be&&(this.id=this.recycleAsyncId(z,be,Re)),this.pending=!0,this.delay=Re,this.id=this.id||this.requestAsyncId(z,this.id,Re),this}requestAsyncId(Ce,Re,be=0){return O.setInterval(Ce.flush.bind(Ce,this),be)}recycleAsyncId(Ce,Re,be=0){if(null!=be&&this.delay===be&&!1===this.pending)return Re;O.clearInterval(Re)}execute(Ce,Re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const be=this._execute(Ce,Re);if(be)return be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ce,Re){let z,be=!1;try{this.work(Ce)}catch(W){be=!0,z=W||new Error("Scheduled action threw falsy error")}if(be)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:Ce,scheduler:Re}=this,{actions:be}=Re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,te.P)(be,this),null!=Ce&&(this.id=this.recycleAsyncId(Re,Ce,null)),this.delay=null,super.unsubscribe()}}}},2631:(gt,Se,B)=>{B.d(Se,{v:()=>O});var a=B(4552);class j{constructor(le,re=j.now){this.schedulerActionCtor=le,this.now=re}schedule(le,re=0,Ce){return new this.schedulerActionCtor(this,le).schedule(Ce,re)}}j.now=a.l.now;class O extends j{constructor(le,re=j.now){super(le,re),this.actions=[],this._active=!1,this._scheduled=void 0}flush(le){const{actions:re}=this;if(this._active)return void re.push(le);let Ce;this._active=!0;do{if(Ce=le.execute(le.state,le.delay))break}while(le=re.shift());if(this._active=!1,Ce){for(;le=re.shift();)le.unsubscribe();throw Ce}}}},6321:(gt,Se,B)=>{B.d(Se,{P:()=>te,z:()=>O});var a=B(1954);const O=new(B(2631).v)(a.o),te=O},4552:(gt,Se,B)=>{B.d(Se,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},7599:(gt,Se,B)=>{B.d(Se,{z:()=>a});const a={setTimeout(j,O,...te){const{delegate:le}=a;return le?.setTimeout?le.setTimeout(j,O,...te):setTimeout(j,O,...te)},clearTimeout(j){const{delegate:O}=a;return(O?.clearTimeout||clearTimeout)(j)},delegate:void 0}},4971:(gt,Se,B)=>{B.d(Se,{h:()=>j});const j=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(gt,Se,B)=>{B.d(Se,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(gt,Se,B)=>{B.d(Se,{_6:()=>re,jO:()=>te,yG:()=>le});var a=B(4674),j=B(671);function O(Ce){return Ce[Ce.length-1]}function te(Ce){return(0,a.m)(O(Ce))?Ce.pop():void 0}function le(Ce){return(0,j.K)(O(Ce))?Ce.pop():void 0}function re(Ce,Re){return"number"==typeof O(Ce)?Ce.pop():Re}},9039:(gt,Se,B)=>{function a(j,O){if(j){const te=j.indexOf(O);0<=te&&j.splice(te,1)}}B.d(Se,{P:()=>a})},2306:(gt,Se,B)=>{function a(j){const te=j(le=>{Error.call(le),le.stack=(new Error).stack});return te.prototype=Object.create(Error.prototype),te.prototype.constructor=te,te}B.d(Se,{d:()=>a})},1441:(gt,Se,B)=>{B.d(Se,{O:()=>te,x:()=>O});var a=B(2653);let j=null;function O(le){if(a.config.useDeprecatedSynchronousErrorHandling){const re=!j;if(re&&(j={errorThrown:!1,error:null}),le(),re){const{errorThrown:Ce,error:Re}=j;if(j=null,Ce)throw Re}}else le()}function te(le){a.config.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=le)}},7103:(gt,Se,B)=>{function a(j,O,te,le=0,re=!1){const Ce=O.schedule(function(){te(),re?j.add(this.schedule(null,le)):this.unsubscribe()},le);if(j.add(Ce),!re)return Ce}B.d(Se,{f:()=>a})},2737:(gt,Se,B)=>{function a(j){return j}B.d(Se,{y:()=>a})},4266:(gt,Se,B)=>{B.d(Se,{z:()=>a});const a=j=>j&&"number"==typeof j.length&&"function"!=typeof j},5726:(gt,Se,B)=>{B.d(Se,{D:()=>j});var a=B(4674);function j(O){return Symbol.asyncIterator&&(0,a.m)(O?.[Symbol.asyncIterator])}},4674:(gt,Se,B)=>{function a(j){return"function"==typeof j}B.d(Se,{m:()=>a})},8382:(gt,Se,B)=>{B.d(Se,{c:()=>O});var a=B(4850),j=B(4674);function O(te){return(0,j.m)(te[a.L])}},3664:(gt,Se,B)=>{B.d(Se,{T:()=>O});var a=B(4971),j=B(4674);function O(te){return(0,j.m)(te?.[a.h])}},4026:(gt,Se,B)=>{B.d(Se,{t:()=>j});var a=B(4674);function j(O){return(0,a.m)(O?.then)}},541:(gt,Se,B)=>{B.d(Se,{L:()=>te,Q:()=>O});var a=B(7582),j=B(4674);function O(le){return(0,a.FC)(this,arguments,function*(){const Ce=le.getReader();try{for(;;){const{value:Re,done:be}=yield(0,a.qq)(Ce.read());if(be)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(Re)}}finally{Ce.releaseLock()}})}function te(le){return(0,j.m)(le?.getReader)}},671:(gt,Se,B)=>{B.d(Se,{K:()=>j});var a=B(4674);function j(O){return O&&(0,a.m)(O.schedule)}},9360:(gt,Se,B)=>{B.d(Se,{A:()=>j,e:()=>O});var a=B(4674);function j(te){return(0,a.m)(te?.lift)}function O(te){return le=>{if(j(le))return le.lift(function(re){try{return te(re,this)}catch(Ce){this.error(Ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(gt,Se,B)=>{function a(){}B.d(Se,{Z:()=>a})},8407:(gt,Se,B)=>{B.d(Se,{U:()=>O,z:()=>j});var a=B(2737);function j(...te){return O(te)}function O(te){return 0===te.length?a.y:1===te.length?te[0]:function(re){return te.reduce((Ce,Re)=>Re(Ce),re)}}},3894:(gt,Se,B)=>{B.d(Se,{h:()=>O});var a=B(2653),j=B(7599);function O(te){j.z.setTimeout(()=>{const{onUnhandledError:le}=a.config;if(!le)throw te;le(te)})}},9853:(gt,Se,B)=>{function a(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(Se,{z:()=>a})},5879:(gt,Se,B)=>{B.d(Se,{$8M:()=>ks,$WT:()=>Ks,$Z:()=>uA,AFp:()=>lE,ALo:()=>Yh,AaK:()=>se,AsE:()=>Lb,BQk:()=>Ib,CHM:()=>Gd,CRH:()=>Vk,EJc:()=>I2,EiD:()=>Og,EpF:()=>iM,F$t:()=>cM,F4k:()=>rM,FYo:()=>eA,FiY:()=>lh,G48:()=>C1,Gf:()=>Lk,GfV:()=>tA,Gpc:()=>et,Gre:()=>Kp,HDt:()=>r1,Hsn:()=>uM,Ikx:()=>T_,JOm:()=>vg,JVY:()=>LT,JZr:()=>ht,KtG:()=>lc,L6k:()=>BT,LAX:()=>UT,LFG:()=>$e,LSH:()=>Av,Lbi:()=>Fv,Lck:()=>Yx,MAs:()=>JA,MMx:()=>hk,NdJ:()=>JE,O4$:()=>Mu,Ojb:()=>Sc,OlP:()=>In,Oqu:()=>D_,P3R:()=>JC,PXZ:()=>v0,Q6J:()=>YE,QGY:()=>XE,QbO:()=>Ic,Qsj:()=>IF,R0b:()=>_s,RDi:()=>zC,Rgc:()=>B_,SBq:()=>Yg,Sil:()=>M2,Suo:()=>Bk,TTD:()=>ec,TgZ:()=>Eb,Tol:()=>Bh,Udp:()=>E_,VKq:()=>wk,VuI:()=>F0,WFA:()=>ex,WLB:()=>Ck,X6Q:()=>E0,XFs:()=>yt,Xpm:()=>zl,Xq5:()=>HE,Xts:()=>xh,Y36:()=>Ip,YKP:()=>Zx,YNc:()=>KA,Yjl:()=>nu,Yz7:()=>Vt,Z0I:()=>fn,ZZ4:()=>Nc,_Bn:()=>Wx,_UZ:()=>QE,_Vd:()=>vp,_c5:()=>R1,_uU:()=>Zp,aQg:()=>k0,c2e:()=>q_,cJS:()=>qn,cg1:()=>jb,d8E:()=>Hb,dDg:()=>X2,dqk:()=>Wt,eBb:()=>VT,eFA:()=>MD,eJc:()=>dD,ekj:()=>Pb,eoX:()=>g1,evT:()=>zv,f3M:()=>it,g9A:()=>uE,h0i:()=>sd,hGG:()=>O1,hij:()=>Pl,iGM:()=>lm,ifc:()=>Fe,ip1:()=>wD,jDz:()=>pk,kL8:()=>BM,lG2:()=>Ta,lcZ:()=>Jx,lqb:()=>Ya,lri:()=>p1,mCW:()=>Mg,n5z:()=>El,n_E:()=>kc,oAB:()=>Eo,oxw:()=>lM,pB0:()=>HT,q3G:()=>xc,q4F:()=>vE,qFp:()=>gB,qLn:()=>Ku,qOj:()=>Ns,qZA:()=>xb,qzn:()=>$u,rWj:()=>m1,rg0:()=>Vd,s9C:()=>tx,sBO:()=>x1,s_b:()=>l0,soG:()=>W_,tb:()=>_0,tp0:()=>ch,uIk:()=>jE,vHH:()=>ie,vpe:()=>_a,wAp:()=>jh,xi3:()=>o0,xp6:()=>DE,ynx:()=>Db,z2F:()=>rf,z3N:()=>Cc,zSh:()=>Ov,zs3:()=>Lo});var a=B(8645),j=B(7394),O=B(5619),te=B(5592),le=B(3019),re=B(2096),Ce=B(3020),Re=B(4664),be=B(3997);function z(o){for(let l in o)if(o[l]===z)return l;throw Error("Could not find renamed property on target object.")}function W(o,l){for(const u in l)l.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=l[u])}function se(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(se).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const l=o.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function Be(o,l){return null==o||""===o?null===l?"":l:null==l||""===l?o:o+" "+l}const Me=z({__forward_ref__:z});function et(o){return o.__forward_ref__=et,o.toString=function(){return se(this())},o}function Oe(o){return Ke(o)?o():o}function Ke(o){return"function"==typeof o&&o.hasOwnProperty(Me)&&o.__forward_ref__===et}function Le(o){return o&&!!o.\u0275providers}const ht="https://g.co/ng/security#xss";class ie extends Error{constructor(l,u){super(function xe(o,l){return`NG0${Math.abs(o)}${l?": "+l:""}`}(l,u)),this.code=l}}function de(o){return"string"==typeof o?o:null==o?"":String(o)}function wt(o,l){throw new ie(-201,!1)}function nt(o,l){null==o&&function Ze(o,l,u,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${u} ${d} ${l} <=Actual]`))}(l,o,null,"!=")}function Vt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function qn(o){return{providers:o.providers||[],imports:o.imports||[]}}function Bn(o){return ri(o,Oi)||ri(o,rr)}function fn(o){return null!==Bn(o)}function ri(o,l){return o.hasOwnProperty(l)?o[l]:null}function kr(o){return o&&(o.hasOwnProperty(Wn)||o.hasOwnProperty(Is))?o[Wn]:null}const Oi=z({\u0275prov:z}),Wn=z({\u0275inj:z}),rr=z({ngInjectableDef:z}),Is=z({ngInjectorDef:z});var yt=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(yt||{});let Ut;function Qt(o){const l=Ut;return Ut=o,l}function si(o,l,u){const d=Bn(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&yt.Optional?null:void 0!==l?l:void wt(se(o))}const Wt=globalThis,Fn={},ns="__NG_DI_FLAG__",Pi="ngTempTokenPath",q=/\n/gm,F="__source";let V;function X(o){const l=V;return V=o,l}function Ie(o,l=yt.Default){if(void 0===V)throw new ie(-203,!1);return null===V?si(o,void 0,l):V.get(o,l&yt.Optional?null:void 0,l)}function $e(o,l=yt.Default){return(function Ft(){return Ut}()||Ie)(Oe(o),l)}function it(o,l=yt.Default){return $e(o,cn(l))}function cn(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Rt(o){const l=[];for(let u=0;u<o.length;u++){const d=Oe(o[u]);if(Array.isArray(d)){if(0===d.length)throw new ie(900,!1);let f,m=yt.Default;for(let v=0;v<d.length;v++){const b=d[v],D=qt(b);"number"==typeof D?-1===D?f=b.token:m|=D:f=b}l.push($e(f,m))}else l.push($e(d))}return l}function gn(o,l){return o[ns]=l,o.prototype[ns]=l,o}function qt(o){return o[ns]}function ye(o){return{toString:o}.toString()}var ae=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(ae||{}),Fe=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(Fe||{});const ct={},tt=[],jt=z({\u0275cmp:z}),un=z({\u0275dir:z}),gi=z({\u0275pipe:z}),Yn=z({\u0275mod:z}),qi=z({\u0275fac:z}),Ws=z({__NG_ELEMENT_ID__:z}),Sa=z({__NG_ENV_ID__:z});function Xc(o,l,u){let d=o.length;for(;;){const f=o.indexOf(l,u);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const m=l.length;if(f+m===d||o.charCodeAt(f+m)<=32)return f}u=f+1}}function wo(o,l,u){let d=0;for(;d<u.length;){const f=u[d];if("number"==typeof f){if(0!==f)break;d++;const m=u[d++],v=u[d++],b=u[d++];o.setAttribute(l,v,b,m)}else{const m=f,v=u[++d];qo(m)?o.setProperty(l,m,v):o.setAttribute(l,m,v),d++}}return d}function Zs(o){return 3===o||4===o||6===o}function qo(o){return 64===o.charCodeAt(0)}function sl(o,l){if(null!==l&&0!==l.length)if(null===o||0===o.length)o=l.slice();else{let u=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?u=f:0===u||zr(o,u,f,null,-1===u||2===u?l[++d]:null)}}return o}function zr(o,l,u,d,f){let m=0,v=o.length;if(-1===l)v=-1;else for(;m<o.length;){const b=o[m++];if("number"==typeof b){if(b===l){v=-1;break}if(b>l){v=m-1;break}}}for(;m<o.length;){const b=o[m];if("number"==typeof b)break;if(b===u){if(null===d)return void(null!==f&&(o[m+1]=f));if(d===o[m+1])return void(o[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==v&&(o.splice(v,0,l),m=v+1),o.splice(m++,0,u),null!==d&&o.splice(m++,0,d),null!==f&&o.splice(m++,0,f)}const Kn="ng-template";function Jm(o,l,u){let d=0,f=!0;for(;d<o.length;){let m=o[d++];if("string"==typeof m&&f){const v=o[d++];if(u&&"class"===m&&-1!==Xc(v.toLowerCase(),l,0))return!0}else{if(1===m){for(;d<o.length&&"string"==typeof(m=o[d++]);)if(m.toLowerCase()===l)return!0;return!1}"number"==typeof m&&(f=!1)}}return!1}function Vn(o){return 4===o.type&&o.value!==Kn}function eg(o,l,u){return l===(4!==o.type||u?o.value:Kn)}function Td(o,l,u){let d=4;const f=o.attrs||[],m=function ol(o){for(let l=0;l<o.length;l++)if(Zs(o[l]))return l;return o.length}(f);let v=!1;for(let b=0;b<l.length;b++){const D=l[b];if("number"!=typeof D){if(!v)if(4&d){if(d=2|1&d,""!==D&&!eg(o,D,u)||""===D&&1===l.length){if(_r(d))return!1;v=!0}}else{const T=8&d?D:l[++b];if(8&d&&null!==o.attrs){if(!Jm(o.attrs,T,u)){if(_r(d))return!1;v=!0}continue}const U=Ys(8&d?"class":D,f,Vn(o),u);if(-1===U){if(_r(d))return!1;v=!0;continue}if(""!==T){let Y;Y=U>m?"":f[U+1].toLowerCase();const ne=8&d?Y:null;if(ne&&-1!==Xc(ne,T,0)||2&d&&T!==Y){if(_r(d))return!1;v=!0}}}}else{if(!v&&!_r(d)&&!_r(D))return!1;if(v&&_r(D))continue;v=!1,d=D|1&d}}return _r(d)||v}function _r(o){return 0==(1&o)}function Ys(o,l,u,d){if(null===l)return-1;let f=0;if(d||!u){let m=!1;for(;f<l.length;){const v=l[f];if(v===o)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let b=l[++f];for(;"string"==typeof b;)b=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function Jc(o,l){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const d=o[u];if("number"==typeof d)return-1;if(d===l)return u;u++}return-1}(l,o)}function Co(o,l,u=!1){for(let d=0;d<l.length;d++)if(Td(o,l[d],u))return!0;return!1}function Md(o,l){e:for(let u=0;u<l.length;u++){const d=l[u];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function jl(o,l){return o?":not("+l.trim()+")":l}function eu(o){let l=o[0],u=1,d=2,f="",m=!1;for(;u<o.length;){let v=o[u];if("string"==typeof v)if(2&d){const b=o[++u];f+="["+v+(b.length>0?'="'+b+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!_r(v)&&(l+=jl(m,f),f=""),d=v,m=m||!_r(d);u++}return""!==f&&(l+=jl(m,f)),l}function zl(o){return ye(()=>{const l=Nf(o),u={...l,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===ae.OnPush,directiveDefs:null,pipeDefs:null,dependencies:l.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||Fe.Emulated,styles:o.styles||tt,_:null,schemas:o.schemas||null,tView:null,id:""};iu(u);const d=o.dependencies;return u.directiveDefs=Wo(d,!1),u.pipeDefs=Wo(d,!0),u.id=function Aa(o){let l=0;const u=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const f of u)l=Math.imul(31,l)+f.charCodeAt(0)<<0;return l+=2147483648,"c"+l}(u),u})}function $l(o){return Jt(o)||_i(o)}function tu(o){return null!==o}function Eo(o){return ye(()=>({type:o.type,bootstrap:o.bootstrap||tt,declarations:o.declarations||tt,imports:o.imports||tt,exports:o.exports||tt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function ql(o,l){if(null==o)return ct;const u={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),u[f]=d,l&&(l[f]=m)}return u}function Ta(o){return ye(()=>{const l=Nf(o);return iu(l),l})}function nu(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Jt(o){return o[jt]||null}function _i(o){return o[un]||null}function Fi(o){return o[gi]||null}function Ks(o){const l=Jt(o)||_i(o)||Fi(o);return null!==l&&l.standalone}function Li(o,l){const u=o[Yn]||null;if(!u&&!0===l)throw new Error(`Type ${se(o)} does not have '\u0275mod' property.`);return u}function Nf(o){const l={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:l,inputTransforms:null,inputConfig:o.inputs||ct,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||tt,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ql(o.inputs,l),outputs:ql(o.outputs)}}function iu(o){o.features?.forEach(l=>l(o))}function Wo(o,l){if(!o)return null;const u=l?Fi:$l;return()=>("function"==typeof o?o():o).map(d=>u(d)).filter(tu)}const ei=0,Qe=1,zt=2,kn=3,Or=4,Qs=5,sr=6,Zo=7,_n=8,Xs=9,Do=10,Et=11,is=12,kd=13,Pr=14,yi=15,Ma=16,Nr=17,or=18,Io=19,Wl=20,Yo=21,rs=22,ru=23,$r=24,Xt=25,ou=1,ka=2,Bi=7,So=9,vi=11;function Yi(o){return Array.isArray(o)&&"object"==typeof o[ou]}function ar(o){return Array.isArray(o)&&!0===o[ou]}function au(o){return 0!=(4&o.flags)}function Js(o){return o.componentOffset>-1}function Fr(o){return 1==(1&o.flags)}function vr(o){return!!o.template}function Qo(o){return 0!=(512&o[zt])}function eo(o,l){return o.hasOwnProperty(qi)?o[qi]:null}let cl=Wt.WeakRef??class Fd{constructor(l){this.ref=l}deref(){return this.ref}},Ld=0,Ts=null,to=!1;function bi(o){const l=Ts;return Ts=o,l}class zf{constructor(){this.id=Ld++,this.ref=function Ql(o){return new cl(o)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[l,u]of this.producers){const d=u.producerNode.deref();if(null!=d&&u.atTrackingVersion===this.trackingVersion){if(d.producerPollStatus(u.seenValueVersion))return!0}else this.producers.delete(l),d?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const l=to;to=!0;try{for(const[u,d]of this.consumers){const f=d.consumerNode.deref();null!=f&&f.trackingVersion===d.atTrackingVersion?f.onConsumerDependencyMayHaveChanged():(this.consumers.delete(u),f?.producers.delete(this.id))}}finally{to=l}}producerAccessed(){if(to)throw new Error("");if(null===Ts)return;let l=Ts.producers.get(this.id);void 0===l?(l={consumerNode:Ts.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Ts.trackingVersion},Ts.producers.set(this.id,l),this.consumers.set(Ts.id,l)):(l.seenValueVersion=this.valueVersion,l.atTrackingVersion=Ts.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Ts?.consumerAllowSignalWrites}producerPollStatus(l){return this.valueVersion!==l||(this.onProducerUpdateValueVersion(),this.valueVersion!==l)}}let Na=null;function Vd(o){const l=bi(null);try{return o()}finally{bi(l)}}const Ud=()=>{};class pu extends zf{constructor(l,u,d){super(),this.watch=l,this.schedule=u,this.dirty=!1,this.cleanupFn=Ud,this.registerOnCleanup=f=>{this.cleanupFn=f},this.consumerAllowSignalWrites=d}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const l=bi(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Ud,this.watch(this.registerOnCleanup)}finally{bi(l)}}cleanup(){this.cleanupFn()}}class Hd{constructor(l,u,d){this.previousValue=l,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function ec(){return Xo}function Xo(o){return o.type.prototype.ngOnChanges&&(o.setInput=tc),mu}function mu(){const o=ic(this),l=o?.current;if(l){const u=o.previous;if(u===ct)o.previous=l;else for(let d in l)u[d]=l[d];o.current=null,this.ngOnChanges(l)}}function tc(o,l,u,d){const f=this.declaredInputs[u],m=ic(o)||function La(o,l){return o[nc]=l}(o,{previous:ct,current:null}),v=m.current||(m.current={}),b=m.previous,D=b[f];v[f]=new Hd(D&&D.currentValue,l,b===ct),o[d]=l}ec.ngInherit=!0;const nc="__ngSimpleChanges__";function ic(o){return o[nc]||null}const no=function(o,l,u){},jd="svg";function Dn(o){for(;Array.isArray(o);)o=o[ei];return o}function rc(o,l){return Dn(l[o])}function Ui(o,l){return Dn(l[o.index])}function Ba(o,l){return o.data[l]}function Ki(o,l){return o[l]}function Qi(o,l){const u=l[o];return Yi(u)?u:u[ei]}function Jo(o,l){return null==l?null:o[l]}function sc(o){o[Nr]=0}function Gf(o){1024&o[zt]||(o[zt]|=1024,To(o,1))}function dl(o){1024&o[zt]&&(o[zt]&=-1025,To(o,-1))}function To(o,l){let u=o[kn];if(null===u)return;u[Qs]+=l;let d=u;for(u=u[kn];null!==u&&(1===l&&1===d[Qs]||-1===l&&0===d[Qs]);)u[Qs]+=l,d=u,u=u[kn]}const Ot={lFrame:Kd(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ac(){return Ot.bindingsEnabled}function Ao(){return null!==Ot.skipHydrationRootTNode}function Ae(){return Ot.lFrame.lView}function en(){return Ot.lFrame.tView}function Gd(o){return Ot.lFrame.contextLView=o,o[_n]}function lc(o){return Ot.lFrame.contextLView=null,o}function Si(){let o=cc();for(;null!==o&&64===o.type;)o=o.parent;return o}function cc(){return Ot.lFrame.currentTNode}function os(o,l){const u=Ot.lFrame;u.currentTNode=o,u.isParent=l}function ti(){return Ot.lFrame.isParent}function pl(){Ot.lFrame.isParent=!1}function Hi(){const o=Ot.lFrame;let l=o.bindingRootIndex;return-1===l&&(l=o.bindingRootIndex=o.tView.bindingStartIndex),l}function Lr(){return Ot.lFrame.bindingIndex++}function Br(o){const l=Ot.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+o,u}function Wd(o,l){const u=Ot.lFrame;u.bindingIndex=u.bindingRootIndex=o,Iu(l)}function Iu(o){Ot.lFrame.currentDirectiveIndex=o}function Zd(o){const l=Ot.lFrame.currentDirectiveIndex;return-1===l?null:o[l]}function Su(){return Ot.lFrame.currentQueryIndex}function Yd(o){Ot.lFrame.currentQueryIndex=o}function ag(o){const l=o[Qe];return 2===l.type?l.declTNode:1===l.type?o[sr]:null}function Tu(o,l,u){if(u&yt.SkipSelf){let f=l,m=o;for(;!(f=f.parent,null!==f||u&yt.Host||(f=ag(m),null===f||(m=m[Pr],10&f.type))););if(null===f)return!1;l=f,o=m}const d=Ot.lFrame=Au();return d.currentTNode=l,d.lView=o,!0}function gl(o){const l=Au(),u=o[Qe];Ot.lFrame=l,l.currentTNode=u.firstChild,l.lView=o,l.tView=u,l.contextLView=o,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function Au(){const o=Ot.lFrame,l=null===o?null:o.child;return null===l?Kd(o):l}function Kd(o){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=l),l}function Ua(){const o=Ot.lFrame;return Ot.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const dc=Ua;function hc(){const o=Ua();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function wr(){return Ot.lFrame.selectedIndex}function Mo(o){Ot.lFrame.selectedIndex=o}function jn(){const o=Ot.lFrame;return Ba(o.tView,o.selectedIndex)}function Mu(){Ot.lFrame.currentNamespace=jd}let pc=!0;function ue(){return pc}function An(o){pc=o}function ko(o,l){for(let u=l.directiveStart,d=l.directiveEnd;u<d;u++){const m=o.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:b,ngAfterViewInit:D,ngAfterViewChecked:T,ngOnDestroy:k}=m;v&&(o.contentHooks??=[]).push(-u,v),b&&((o.contentHooks??=[]).push(u,b),(o.contentCheckHooks??=[]).push(u,b)),D&&(o.viewHooks??=[]).push(-u,D),T&&((o.viewHooks??=[]).push(u,T),(o.viewCheckHooks??=[]).push(u,T)),null!=k&&(o.destroyHooks??=[]).push(u,k)}}function wn(o,l,u){Ha(o,l,3,u)}function ut(o,l,u,d){(3&o[zt])===u&&Ha(o,l,u,d)}function lr(o,l){let u=o[zt];(3&u)===l&&(u&=8191,u+=1,o[zt]=u)}function Ha(o,l,u,d){const m=d??-1,v=l.length-1;let b=0;for(let D=void 0!==d?65535&o[Nr]:0;D<v;D++)if("number"==typeof l[D+1]){if(b=l[D],null!=d&&b>=d)break}else l[D]<0&&(o[Nr]+=65536),(b<m||-1==m)&&(io(o,u,l,D),o[Nr]=(4294901760&o[Nr])+D+2),D++}function eh(o,l){no(4,o,l);const u=bi(null);try{l.call(o)}finally{bi(u),no(5,o,l)}}function io(o,l,u,d){const f=u[d]<0,m=u[d+1],b=o[f?-u[d]:u[d]];f?o[zt]>>13<o[Nr]>>16&&(3&o[zt])===l&&(o[zt]+=8192,eh(b,m)):eh(b,m)}const Ro=-1;class cr{constructor(l,u,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function Qn(o){return o!==Ro}function _l(o){return 32767&o}function na(o,l){let u=function yl(o){return o>>16}(o),d=l;for(;u>0;)d=d[Pr],u--;return d}let gc=!0;function As(o){const l=gc;return gc=o,l}const vl=255,ja=5;let za=0;const Xi={};function yc(o,l){const u=Ms(o,l);if(-1!==u)return u;const d=l[Qe];d.firstCreatePass&&(o.injectorIndex=l.length,ro(d.data,o),ro(l,null),ro(d.blueprint,null));const f=Ln(o,l),m=o.injectorIndex;if(Qn(f)){const v=_l(f),b=na(f,l),D=b[Qe].data;for(let T=0;T<8;T++)l[m+T]=b[v+T]|D[v+T]}return l[m+8]=f,m}function ro(o,l){o.push(0,0,0,0,0,0,0,0,l)}function Ms(o,l){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===l[o.injectorIndex+8]?-1:o.injectorIndex}function Ln(o,l){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,d=null,f=l;for(;null!==f;){if(d=Dl(f),null===d)return Ro;if(u++,f=f[Pr],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return Ro}function ui(o,l,u){!function _c(o,l,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(Ws)&&(d=u[Ws]),null==d&&(d=u[Ws]=za++);const f=d&vl;l.data[o+(f>>ja)]|=1<<f}(o,l,u)}function ku(o,l,u){if(u&yt.Optional||void 0!==o)return o;wt()}function Xe(o,l,u,d){if(u&yt.Optional&&void 0===d&&(d=null),!(u&(yt.Self|yt.Host))){const f=o[Xs],m=Qt(void 0);try{return f?f.get(l,d,u&yt.Optional):si(l,d,u&yt.Optional)}finally{Qt(m)}}return ku(d,0,u)}function Pn(o,l,u,d=yt.Default,f){if(null!==o){if(2048&l[zt]&&!(d&yt.Self)){const v=function xl(o,l,u,d,f){let m=o,v=l;for(;null!==m&&null!==v&&2048&v[zt]&&!(512&v[zt]);){const b=Cn(m,v,u,d|yt.Self,Xi);if(b!==Xi)return b;let D=m.parent;if(!D){const T=v[Wl];if(T){const k=T.get(u,Xi,d);if(k!==Xi)return k}D=Dl(v),v=v[Pr]}m=D}return f}(o,l,u,d,Xi);if(v!==Xi)return v}const m=Cn(o,l,u,d,Xi);if(m!==Xi)return m}return Xe(l,u,d,f)}function Cn(o,l,u,d,f){const m=function ia(o){if("string"==typeof o)return o.charCodeAt(0)||0;const l=o.hasOwnProperty(Ws)?o[Ws]:void 0;return"number"==typeof l?l>=0?l&vl:ls:l}(u);if("function"==typeof m){if(!Tu(l,o,d))return d&yt.Host?ku(f,0,d):Xe(l,u,d,f);try{let v;if(v=m(d),null!=v||d&yt.Optional)return v;wt()}finally{dc()}}else if("number"==typeof m){let v=null,b=Ms(o,l),D=Ro,T=d&yt.Host?l[yi][sr]:null;for((-1===b||d&yt.SkipSelf)&&(D=-1===b?Ln(o,l):l[b+8],D!==Ro&&Cl(d,!1)?(v=l[Qe],b=_l(D),l=na(D,l)):b=-1);-1!==b;){const k=l[Qe];if(wl(m,b,k.data)){const U=ni(b,l,u,v,d,T);if(U!==Xi)return U}D=l[b+8],D!==Ro&&Cl(d,l[Qe].data[b+8]===T)&&wl(m,b,l)?(v=k,b=_l(D),l=na(D,l)):b=-1}}return f}function ni(o,l,u,d,f,m){const v=l[Qe],b=v.data[o+8],k=tn(b,v,u,null==d?Js(b)&&gc:d!=v&&0!=(3&b.type),f&yt.Host&&m===b);return null!==k?zn(l,v,k,b):Xi}function tn(o,l,u,d,f){const m=o.providerIndexes,v=l.data,b=1048575&m,D=o.directiveStart,k=m>>20,Y=f?b+k:o.directiveEnd;for(let ne=d?b:b+k;ne<Y;ne++){const we=v[ne];if(ne<D&&u===we||ne>=D&&we.type===u)return ne}if(f){const ne=v[D];if(ne&&vr(ne)&&ne.type===u)return D}return null}function zn(o,l,u,d){let f=o[u];const m=l.data;if(function th(o){return o instanceof cr}(f)){const v=f;v.resolving&&function Ve(o,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${o}`:"";throw new ie(-200,`Circular dependency in DI detected for ${o}${u}`)}(function De(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():de(o)}(m[u]));const b=As(v.canSeeViewProviders);v.resolving=!0;const T=v.injectImpl?Qt(v.injectImpl):null;Tu(o,d,yt.Default);try{f=o[u]=v.factory(void 0,m,o,d),l.firstCreatePass&&u>=d.directiveStart&&function Cr(o,l,u){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=l.type.prototype;if(d){const v=Xo(l);(u.preOrderHooks??=[]).push(o,v),(u.preOrderCheckHooks??=[]).push(o,v)}f&&(u.preOrderHooks??=[]).push(0-o,f),m&&((u.preOrderHooks??=[]).push(o,m),(u.preOrderCheckHooks??=[]).push(o,m))}(u,m[u],l)}finally{null!==T&&Qt(T),As(b),v.resolving=!1,dc()}}return f}function wl(o,l,u){return!!(u[l+(o>>ja)]&1<<o)}function Cl(o,l){return!(o&yt.Self||o&yt.Host&&l)}class nn{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,d){return Pn(this._tNode,this._lView,l,cn(d),u)}}function ls(){return new nn(Si(),Ae())}function El(o){return ye(()=>{const l=o.prototype.constructor,u=l[qi]||so(l),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const m=f[qi]||so(f);if(m&&m!==u)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function so(o){return Ke(o)?()=>{const l=so(Oe(o));return l&&l()}:eo(o)}function Dl(o){const l=o[Qe],u=l.type;return 2===u?l.declTNode:1===u?o[sr]:null}function ks(o){return function bl(o,l){if("class"===l)return o.classes;if("style"===l)return o.styles;const u=o.attrs;if(u){const d=u.length;let f=0;for(;f<d;){const m=u[f];if(Zs(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof u[f];)f++;else{if(m===l)return u[f+1];f+=2}}}return null}(Si(),o)}const Lt="__parameters__";function cs(o,l,u){return ye(()=>{const d=function Fo(o){return function(...u){if(o){const d=o(...u);for(const f in d)this[f]=d[f]}}}(l);function f(...m){if(this instanceof f)return d.apply(this,m),this;const v=new f(...m);return b.annotation=v,b;function b(D,T,k){const U=D.hasOwnProperty(Lt)?D[Lt]:Object.defineProperty(D,Lt,{value:[]})[Lt];for(;U.length<=k;)U.push(null);return(U[k]=U[k]||[]).push(v),D}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}function Z(o,l){o.forEach(u=>Array.isArray(u)?Z(u,l):l(u))}function J(o,l,u){l>=o.length?o.push(u):o.splice(l,0,u)}function fe(o,l){return l>=o.length-1?o.pop():o.splice(l,1)[0]}function Je(o,l){const u=[];for(let d=0;d<o;d++)u.push(l);return u}function yn(o,l,u){let d=xr(o,l);return d>=0?o[1|d]=u:(d=~d,function Bt(o,l,u,d){let f=o.length;if(f==l)o.push(u,d);else if(1===f)o.push(d,o[0]),o[0]=u;else{for(f--,o.push(o[f-1],o[f]);f>l;)o[f]=o[f-2],f--;o[l]=u,o[l+1]=d}}(o,d,l,u)),d}function di(o,l){const u=xr(o,l);if(u>=0)return o[1|u]}function xr(o,l){return function ao(o,l,u){let d=0,f=o.length>>u;for(;f!==d;){const m=d+(f-d>>1),v=o[m<<u];if(l===v)return m<<u;v>l?f=m:d=m+1}return~(f<<u)}(o,l,1)}const lh=gn(cs("Optional"),8),ch=gn(cs("SkipSelf"),4);function Qf(o){return 128==(128&o.flags)}var vg=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(vg||{});const Xf=/^>|^->|<!--|-->|--!>|<!-$/g,xC=/(<|>)/,uv="\u200b$1\u200b";const ca=new Map;let fh=0;const Jf="__ngContext__";function Vr(o,l){Yi(l)?(o[Jf]=l[Io],function IC(o){ca.set(o[Io],o)}(l)):o[Jf]=l}let Cg;function Eg(o,l){return Cg(o,l)}function mh(o){const l=o[kn];return ar(l)?l[kn]:l}function _T(o){return vT(o[is])}function yT(o){return vT(o[Or])}function vT(o){for(;null!==o&&!ar(o);)o=o[Or];return o}function ip(o,l,u,d,f){if(null!=d){let m,v=!1;ar(d)?m=d:Yi(d)&&(v=!0,d=d[ei]);const b=Dn(d);0===o&&null!==u?null==f?yh(l,u,b):Hu(l,u,b,f||null,!0):1===o&&null!==u?Hu(l,u,b,f||null,!0):2===o?function Sg(o,l,u){const d=Ig(o,l);d&&function xT(o,l,u,d){o.removeChild(l,u,d)}(o,d,l,u)}(l,b,v):3===o&&l.destroyNode(b),null!=m&&function TT(o,l,u,d,f){const m=u[Bi];m!==Dn(u)&&ip(l,o,d,m,f);for(let b=vi;b<u.length;b++){const D=u[b];op(D[Qe],D,o,l,d,m)}}(l,o,m,u,f)}}function fv(o,l){return o.createComment(function bg(o){return o.replace(Xf,l=>l.replace(xC,uv))}(l))}function Dg(o,l,u){return o.createElement(l,u)}function PC(o,l){const u=o[So],d=u.indexOf(l);dl(l),u.splice(d,1)}function sp(o,l){if(o.length<=vi)return;const u=vi+l,d=o[u];if(d){const f=d[Ma];null!==f&&f!==o&&PC(f,d),l>0&&(o[u-1][Or]=d[Or]);const m=fe(o,vi+l);!function pv(o,l){op(o,l,l[Et],2,null,null),l[ei]=null,l[sr]=null}(d[Qe],d);const v=m[or];null!==v&&v.detachView(m[Qe]),d[kn]=null,d[Or]=null,d[zt]&=-129}return d}function gh(o,l){if(!(256&l[zt])){const u=l[Et];l[ru]?.destroy(),l[$r]?.destroy(),u.destroyNode&&op(o,l,u,3,null,null),function rp(o){let l=o[is];if(!l)return mv(o[Qe],o);for(;l;){let u=null;if(Yi(l))u=l[is];else{const d=l[vi];d&&(u=d)}if(!u){for(;l&&!l[Or]&&l!==o;)Yi(l)&&mv(l[Qe],l),l=l[kn];null===l&&(l=o),Yi(l)&&mv(l[Qe],l),u=l&&l[Or]}l=u}}(l)}}function mv(o,l){if(!(256&l[zt])){l[zt]&=-129,l[zt]|=256,function _h(o,l){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let d=0;d<u.length;d+=2){const f=l[u[d]];if(!(f instanceof cr)){const m=u[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const b=f[m[v]],D=m[v+1];no(4,b,D);try{D.call(b)}finally{no(5,b,D)}}else{no(4,f,m);try{m.call(f)}finally{no(5,f,m)}}}}}(o,l),function ET(o,l){const u=o.cleanup,d=l[Zo];if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const v=u[m+3];v>=0?d[v]():d[-v].unsubscribe(),m+=2}else u[m].call(d[u[m+1]]);null!==d&&(l[Zo]=null);const f=l[Yo];if(null!==f){l[Yo]=null;for(let m=0;m<f.length;m++)(0,f[m])()}}(o,l),1===l[Qe].type&&l[Et].destroy();const u=l[Ma];if(null!==u&&ar(l[kn])){u!==l[kn]&&PC(u,l);const d=l[or];null!==d&&d.detachView(o)}!function wc(o){ca.delete(o[Io])}(l)}}function Uu(o,l,u){return function NC(o,l,u){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return u[ei];{const{componentOffset:f}=d;if(f>-1){const{encapsulation:m}=o.data[d.directiveStart+f];if(m===Fe.None||m===Fe.Emulated)return null}return Ui(d,u)}}(o,l.parent,u)}function Hu(o,l,u,d,f){o.insertBefore(l,u,d,f)}function yh(o,l,u){o.appendChild(l,u)}function vh(o,l,u,d,f){null!==d?Hu(o,l,u,d,f):yh(o,l,u)}function Ig(o,l){return o.parentNode(l)}function FC(o,l,u){return IT(o,l,u)}let gv,Sl,lp,Ag,IT=function LC(o,l,u){return 40&o.type?Ui(o,u):null};function ju(o,l,u,d){const f=Uu(o,d,l),m=l[Et],b=FC(d.parent||l[sr],d,l);if(null!=f)if(Array.isArray(u))for(let D=0;D<u.length;D++)vh(m,f,u[D],b,!1);else vh(m,f,u,b,!1);void 0!==gv&&gv(m,d,l,u,f)}function Wa(o,l){if(null!==l){const u=l.type;if(3&u)return Ui(l,o);if(4&u)return yv(-1,o[l.index]);if(8&u){const d=l.child;if(null!==d)return Wa(o,d);{const f=o[l.index];return ar(f)?yv(-1,f):Dn(f)}}if(32&u)return Eg(l,o)()||Dn(o[l.index]);{const d=BC(o,l);return null!==d?Array.isArray(d)?d[0]:Wa(mh(o[yi]),d):Wa(o,l.next)}}return null}function BC(o,l){return null!==l?o[yi][sr].projection[l.projection]:null}function yv(o,l){const u=vi+o+1;if(u<l.length){const d=l[u],f=d[Qe].firstChild;if(null!==f)return Wa(d,f)}return l[Bi]}function vv(o,l,u,d,f,m,v){for(;null!=u;){const b=d[u.index],D=u.type;if(v&&0===l&&(b&&Vr(Dn(b),d),u.flags|=2),32!=(32&u.flags))if(8&D)vv(o,l,u.child,d,f,m,!1),ip(l,o,f,b,m);else if(32&D){const T=Eg(u,d);let k;for(;k=T();)ip(l,o,f,k,m);ip(l,o,f,b,m)}else 16&D?UC(o,l,d,u,f,m):ip(l,o,f,b,m);u=v?u.projectionNext:u.next}}function op(o,l,u,d,f,m){vv(u,d,o.firstChild,l,f,m,!1)}function UC(o,l,u,d,f,m){const v=u[yi],D=v[sr].projection[d.projection];if(Array.isArray(D))for(let T=0;T<D.length;T++)ip(l,o,f,D[T],m);else{let T=D;const k=v[kn];Qf(d)&&(T.flags|=128),vv(o,l,T,k,f,m,!0)}}function ap(o,l,u){""===u?o.removeAttribute(l,"class"):o.setAttribute(l,"class",u)}function bv(o,l,u){const{mergedAttrs:d,classes:f,styles:m}=u;null!==d&&wo(o,l,d),null!==f&&ap(o,l,f),null!==m&&function AT(o,l,u){o.setAttribute(l,"style",u)}(o,l,m)}function bh(o){return function Tg(){if(void 0===Sl&&(Sl=null,Wt.trustedTypes))try{Sl=Wt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Sl}()?.createHTML(o)||o}function zC(o){lp=o}function GC(o){return function wv(){if(void 0===Ag&&(Ag=null,Wt.trustedTypes))try{Ag=Wt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Ag}()?.createScriptURL(o)||o}class zu{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ht})`}}class OT extends zu{getTypeName(){return"HTML"}}class PT extends zu{getTypeName(){return"Style"}}class NT extends zu{getTypeName(){return"Script"}}class FT extends zu{getTypeName(){return"URL"}}class qC extends zu{getTypeName(){return"ResourceURL"}}function Cc(o){return o instanceof zu?o.changingThisBreaksApplicationSecurity:o}function $u(o,l){const u=function WC(o){return o instanceof zu&&o.getTypeName()||null}(o);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see ${ht})`)}return u===l}function LT(o){return new OT(o)}function BT(o){return new PT(o)}function VT(o){return new NT(o)}function UT(o){return new FT(o)}function HT(o){return new qC(o)}class YC{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(bh(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch{return null}}}class Cv{constructor(l){this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(l){const u=this.inertDocument.createElement("template");return u.innerHTML=bh(l),u}}const Ev=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Mg(o){return(o=String(o)).match(Ev)?o:"unsafe:"+o}function Za(o){const l={};for(const u of o.split(","))l[u]=!0;return l}function Ec(...o){const l={};for(const u of o)for(const d in u)u.hasOwnProperty(d)&&(l[d]=!0);return l}const xv=Za("area,br,col,hr,img,wbr"),Dv=Za("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),KC=Za("rp,rt"),Eh=Ec(xv,Ec(Dv,Za("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ec(KC,Za("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ec(KC,Dv)),Iv=Za("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sv=Ec(Iv,Za("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Za("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),jT=Za("script,style,template");class zT{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!Eh.hasOwnProperty(u))return this.sanitizedSomething=!0,!jT.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=l.attributes;for(let f=0;f<d.length;f++){const m=d.item(f),v=m.name,b=v.toLowerCase();if(!Sv.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let D=m.value;Iv[b]&&(D=Mg(D)),this.buf.push(" ",v,'="',qr(D),'"')}return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();Eh.hasOwnProperty(u)&&!xv.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(qr(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const $T=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,GT=/([^\#-~ |!])/g;function qr(o){return o.replace(/&/g,"&amp;").replace($T,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(GT,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Rg;function Og(o,l){let u=null;try{Rg=Rg||function ZC(o){const l=new Cv(o);return function Ch(){try{return!!(new window.DOMParser).parseFromString(bh(""),"text/html")}catch{return!1}}()?new YC(l):l}(o);let d=l?String(l):"";u=Rg.getInertBodyElement(d);let f=5,m=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=m,m=u.innerHTML,u=Rg.getInertBodyElement(d)}while(d!==m);return bh((new zT).sanitizeChildren(Tv(u)||u))}finally{if(u){const d=Tv(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Tv(o){return"content"in o&&function qT(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var xc=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(xc||{});function Av(o){const l=Ng();return l?l.sanitize(xc.URL,o)||"":$u(o,"URL")?Cc(o):Mg(de(o))}function Pg(o){const l=Ng();if(l)return GC(l.sanitize(xc.RESOURCE_URL,o)||"");if($u(o,"ResourceURL"))return GC(Cc(o));throw new ie(904,!1)}function JC(o,l,u){return function Tl(o,l){return"src"===l&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===l&&("base"===o||"link"===o)?Pg:Av}(l,u)(o)}function Ng(){const o=Ae();return o&&o[Do].sanitizer}class In{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Vt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const xh=new In("ENVIRONMENT_INITIALIZER"),Fg=new In("INJECTOR",-1),eE=new In("INJECTOR_DEF_TYPES");class Mv{get(l,u=Fn){if(u===Fn){const d=new Error(`NullInjectorError: No provider for ${se(l)}!`);throw d.name="NullInjectorError",d}return u}}function tE(...o){return{\u0275providers:nE(0,o),\u0275fromNgModule:!0}}function nE(o,...l){const u=[],d=new Set;let f;const m=v=>{u.push(v)};return Z(l,v=>{const b=v;kv(b,m,[],d)&&(f||=[],f.push(b))}),void 0!==f&&ZT(f,m),u}function ZT(o,l){for(let u=0;u<o.length;u++){const{ngModule:d,providers:f}=o[u];Rv(f,m=>{l(m,d)})}}function kv(o,l,u,d){if(!(o=Oe(o)))return!1;let f=null,m=kr(o);const v=!m&&Jt(o);if(m||v){if(v&&!v.standalone)return!1;f=o}else{const D=o.ngModule;if(m=kr(D),!m)return!1;f=D}const b=d.has(f);if(v){if(b)return!1;if(d.add(f),v.dependencies){const D="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const T of D)kv(T,l,u,d)}}else{if(!m)return!1;{if(null!=m.imports&&!b){let T;d.add(f);try{Z(m.imports,k=>{kv(k,l,u,d)&&(T||=[],T.push(k))})}finally{}void 0!==T&&ZT(T,l)}if(!b){const T=eo(f)||(()=>new f);l({provide:f,useFactory:T,deps:tt},f),l({provide:eE,useValue:f,multi:!0},f),l({provide:xh,useValue:()=>$e(f),multi:!0},f)}const D=m.providers;if(null!=D&&!b){const T=o;Rv(D,k=>{l(k,T)})}}}return f!==o&&void 0!==o.providers}function Rv(o,l){for(let u of o)Le(u)&&(u=u.\u0275providers),Array.isArray(u)?Rv(u,l):l(u)}const bF=z({provide:String,useValue:z});function Lg(o){return null!==o&&"object"==typeof o&&bF in o}function Dc(o){return"function"==typeof o}const Ov=new In("Set Injector scope."),Bg={},KT={};let Pv;function up(){return void 0===Pv&&(Pv=new Mv),Pv}class Ya{}class Nv extends Ya{get destroyed(){return this._destroyed}constructor(l,u,d,f){super(),this.parent=u,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ds(l,v=>this.processProvider(v)),this.records.set(Fg,dp(void 0,this)),f.has("environment")&&this.records.set(Ya,dp(void 0,this));const m=this.records.get(Ov);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(eE.multi,tt,yt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const l=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of l)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(l){return this.assertNotDestroyed(),this._onDestroyHooks.push(l),()=>this.removeOnDestroy(l)}runInContext(l){this.assertNotDestroyed();const u=X(this),d=Qt(void 0);try{return l()}finally{X(u),Qt(d)}}get(l,u=Fn,d=yt.Default){if(this.assertNotDestroyed(),l.hasOwnProperty(Sa))return l[Sa](this);d=cn(d);const m=X(this),v=Qt(void 0);try{if(!(d&yt.SkipSelf)){let D=this.records.get(l);if(void 0===D){const T=function Gu(o){return"function"==typeof o||"object"==typeof o&&o instanceof In}(l)&&Bn(l);D=T&&this.injectableDefInScope(T)?dp(sE(l),Bg):null,this.records.set(l,D)}if(null!=D)return this.hydrate(l,D)}return(d&yt.Self?up():this.parent).get(l,u=d&yt.Optional&&u===Fn?null:u)}catch(b){if("NullInjectorError"===b.name){if((b[Pi]=b[Pi]||[]).unshift(se(l)),m)throw b;return function Ni(o,l,u,d){const f=o[Pi];throw l[F]&&f.unshift(l[F]),o.message=function qs(o,l,u,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=se(l);if(Array.isArray(l))f=l.map(se).join(" -> ");else if("object"==typeof l){let m=[];for(let v in l)if(l.hasOwnProperty(v)){let b=l[v];m.push(v+":"+("string"==typeof b?JSON.stringify(b):se(b)))}f=`{${m.join(", ")}}`}return`${u}${d?"("+d+")":""}[${f}]: ${o.replace(q,"\n  ")}`}("\n"+o.message,f,u,d),o.ngTokenPath=f,o[Pi]=null,o}(b,l,"R3InjectorError",this.source)}throw b}finally{Qt(v),X(m)}}resolveInjectorInitializers(){const l=X(this),u=Qt(void 0);try{const f=this.get(xh.multi,tt,yt.Self);for(const m of f)m()}finally{X(l),Qt(u)}}toString(){const l=[],u=this.records;for(const d of u.keys())l.push(se(d));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ie(205,!1)}processProvider(l){let u=Dc(l=Oe(l))?l:Oe(l&&l.provide);const d=function CF(o){return Lg(o)?dp(void 0,o.useValue):dp(QT(o),Bg)}(l);if(Dc(l)||!0!==l.multi)this.records.get(u);else{let f=this.records.get(u);f||(f=dp(void 0,Bg,!0),f.factory=()=>Rt(f.multi),this.records.set(u,f)),u=l,f.multi.push(l)}this.records.set(u,d)}hydrate(l,u){return u.value===Bg&&(u.value=KT,u.value=u.factory()),"object"==typeof u.value&&u.value&&function aE(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=Oe(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}removeOnDestroy(l){const u=this._onDestroyHooks.indexOf(l);-1!==u&&this._onDestroyHooks.splice(u,1)}}function sE(o){const l=Bn(o),u=null!==l?l.factory:eo(o);if(null!==u)return u;if(o instanceof In)throw new ie(204,!1);if(o instanceof Function)return function wF(o){const l=o.length;if(l>0)throw Je(l,"?"),new ie(204,!1);const u=function Mr(o){return o&&(o[Oi]||o[rr])||null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new ie(204,!1)}function QT(o,l,u){let d;if(Dc(o)){const f=Oe(o);return eo(f)||sE(f)}if(Lg(o))d=()=>Oe(o.useValue);else if(function rE(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...Rt(o.deps||[]));else if(function iE(o){return!(!o||!o.useExisting)}(o))d=()=>$e(Oe(o.useExisting));else{const f=Oe(o&&(o.useClass||o.provide));if(!function oE(o){return!!o.deps}(o))return eo(f)||sE(f);d=()=>new f(...Rt(o.deps))}return d}function dp(o,l,u=!1){return{factory:o,value:l,multi:u?[]:void 0}}function ds(o,l){for(const u of o)Array.isArray(u)?ds(u,l):u&&Le(u)?ds(u.\u0275providers,l):l(u)}const lE=new In("AppId",{providedIn:"root",factory:()=>cE}),cE="ng",uE=new In("Platform Initializer"),Fv=new In("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ic=new In("AnimationModuleType"),Sc=new In("CSP nonce",{providedIn:"root",factory:()=>function wh(){if(void 0!==lp)return lp;if(typeof document<"u")return document;throw new ie(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Lv=(o,l,u)=>null;function gp(o,l,u=!1){return Lv(o,l,u)}class xF{}class JT{}class Zg{resolveComponentFactory(l){throw function Sh(o){const l=Error(`No component factory found for ${se(o)}.`);return l.ngComponent=o,l}(l)}}let vp=(()=>{class l{}return l.NULL=new Zg,l})();function Uv(){return Ah(Si(),Ae())}function Ah(o,l){return new Yg(Ui(o,l))}let Yg=(()=>{class l{constructor(d){this.nativeElement=d}}return l.__NG_ELEMENT_ID__=Uv,l})();function DF(o){return o instanceof Yg?o.nativeElement:o}class eA{}let IF=(()=>{class l{constructor(){this.destroyNode=null}}return l.__NG_ELEMENT_ID__=()=>function SF(){const o=Ae(),u=Qi(Si().index,o);return(Yi(u)?u:o)[Et]}(),l})(),TF=(()=>{var o;class l{}return(o=l).\u0275prov=Vt({token:o,providedIn:"root",factory:()=>null}),l})();class tA{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const vE=new tA("16.2.1"),Kg={};function Cp(o,l=null,u=null,d){const f=jv(o,l,u,d);return f.resolveInjectorInitializers(),f}function jv(o,l=null,u=null,d,f=new Set){const m=[u||tt,tE(o)];return d=d||("object"==typeof o?void 0:se(o)),new Nv(m,l||up(),d||null,f)}let Lo=(()=>{var o;class l{static create(d,f){if(Array.isArray(d))return Cp({name:""},f,d,"");{const m=d.name??"";return Cp({name:m},d.parent,d.providers,m)}}}return(o=l).THROW_IF_NOT_FOUND=Fn,o.NULL=new Mv,o.\u0275prov=Vt({token:o,providedIn:"any",factory:()=>$e(Fg)}),o.__NG_ELEMENT_ID__=-1,l})();function zv(o){return o.ownerDocument}function uo(o){return o instanceof Function?o():o}let $v=(()=>{var o;class l{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new ie(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const d of this.callbacks)d.invoke()}finally{this.runningCallbacks=!1;for(const d of this.deferredCallbacks)this.callbacks.add(d);this.deferredCallbacks.clear()}}register(d){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(d)}unregister(d){this.callbacks.delete(d),this.deferredCallbacks.delete(d)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(o=l).\u0275prov=Vt({token:o,providedIn:"root",factory:()=>new o}),l})();function Yu(o){for(;o;){o[zt]|=64;const l=mh(o);if(Qo(o)&&!l)return o;o=l}return null}function Gv(o){return o.ngOriginalError}class Ku{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&Gv(l);for(;u&&Gv(u);)u=Gv(u);return u||null}}const wE=new In("",{providedIn:"root",factory:()=>!1});class Rh extends zf{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(l){this._lView=l}onConsumerDependencyMayHaveChanged(){Yu(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(l,u,d){const f=bi(this);this.trackingVersion++;try{l(u,d)}finally{bi(f)}}destroy(){this.trackingVersion++}}let Vo=null;function Zv(){return Vo??=new Rh,Vo}function Yv(o,l){return o[l]??Zv()}function Ml(o,l){const u=Zv();u.hasReadASignal&&(o[l]=Vo,u.lView=o,Vo=new Rh)}const Pt={};function DE(o){Kv(en(),Ae(),wr()+o,!1)}function Kv(o,l,u,d){if(!d)if(3==(3&l[zt])){const m=o.preOrderCheckHooks;null!==m&&wn(l,m,u)}else{const m=o.preOrderHooks;null!==m&&ut(l,m,0,u)}Mo(u)}function Ip(o,l=yt.Default){const u=Ae();return null===u?$e(o,l):Pn(Si(),u,Oe(o),l)}function uA(){throw new Error("invalid")}function Qv(o,l,u,d,f,m,v,b,D,T,k){const U=l.blueprint.slice();return U[ei]=f,U[zt]=140|d,(null!==T||o&&2048&o[zt])&&(U[zt]|=2048),sc(U),U[kn]=U[Pr]=o,U[_n]=u,U[Do]=v||o&&o[Do],U[Et]=b||o&&o[Et],U[Xs]=D||o&&o[Xs]||null,U[sr]=m,U[Io]=function DC(){return fh++}(),U[rs]=k,U[Wl]=T,U[yi]=2==l.type?o[yi]:U,U}function Oh(o,l,u,d,f){let m=o.data[l];if(null===m)m=function t_(o,l,u,d,f){const m=cc(),v=ti(),D=o.data[l]=function fA(o,l,u,d,f,m){let v=l?l.injectorIndex:-1,b=0;return Ao()&&(b|=128),{type:u,index:d,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:b,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,u,l,d,f);return null===o.firstChild&&(o.firstChild=D),null!==m&&(v?null==m.child&&null!==D.parent&&(m.child=D):null===m.next&&(m.next=D,D.prev=m)),D}(o,l,u,d,f),function qd(){return Ot.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=u,m.value=d,m.attrs=f;const v=function Hn(){const o=Ot.lFrame,l=o.currentTNode;return o.isParent?l:l.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return os(m,!0),m}function Sp(o,l,u,d){if(0===u)return-1;const f=l.length;for(let m=0;m<u;m++)l.push(d),o.blueprint.push(d),o.data.push(null);return f}function Xv(o,l,u,d,f){const m=Yv(l,ru),v=wr(),b=2&d;try{if(Mo(-1),b&&l.length>Xt&&Kv(o,l,Xt,!1),no(b?2:0,f),b)m.runInContext(u,d,f);else{const T=bi(null);try{u(d,f)}finally{bi(T)}}}finally{b&&null===l[ru]&&Ml(l,ru),Mo(v),no(b?3:1,f)}}function Tp(o,l,u){if(au(l)){const d=bi(null);try{const m=l.directiveEnd;for(let v=l.directiveStart;v<m;v++){const b=o.data[v];b.contentQueries&&b.contentQueries(1,u[v],v)}}finally{bi(d)}}}function Qu(o,l,u){ac()&&(function yA(o,l,u,d){const f=u.directiveStart,m=u.directiveEnd;Js(u)&&function ME(o,l,u){const d=Ui(l,o),f=eb(u);let v=16;u.signals?v=4096:u.onPush&&(v=64);const b=s_(o,Qv(o,f,null,v,d,l,null,o[Do].rendererFactory.createRenderer(d,u),null,null,null));o[l.index]=b}(l,u,o.data[f+u.componentOffset]),o.firstCreatePass||yc(u,l),Vr(d,l);const v=u.initialInputs;for(let b=f;b<m;b++){const D=o.data[b],T=zn(l,o,b,u);Vr(T,l),null!==v&&EA(0,b-f,T,D,0,v),vr(D)&&(Qi(u.index,l)[_n]=zn(l,o,b,u))}}(o,l,u,Ui(u,l)),64==(64&u.flags)&&i_(o,l,u))}function Jv(o,l,u=Ui){const d=l.localNames;if(null!==d){let f=l.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],b=-1===v?u(l,o):o[v];o[f++]=b}}}function eb(o){const l=o.tView;return null===l||l.incompleteFirstPass?o.tView=tb(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):l}function tb(o,l,u,d,f,m,v,b,D,T,k){const U=Xt+d,Y=U+f,ne=function FF(o,l){const u=[];for(let d=0;d<l;d++)u.push(d<o?null:Pt);return u}(U,Y),we="function"==typeof T?T():T;return ne[Qe]={type:o,blueprint:ne,template:u,queries:null,viewQuery:b,declTNode:l,data:ne.slice().fill(null,U),bindingStartIndex:U,expandoStartIndex:Y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:we,incompleteFirstPass:!1,ssrId:k}}let nb=o=>null;function Ph(o,l,u,d){for(let f in o)if(o.hasOwnProperty(f)){u=null===u?{}:u;const m=o[f];null===d?TE(u,l,f,m):d.hasOwnProperty(f)&&TE(u,l,d[f],m)}return u}function TE(o,l,u,d){o.hasOwnProperty(u)?o[u].push(l,d):o[u]=[l,d]}function fs(o,l,u,d,f,m,v,b){const D=Ui(l,u);let k,T=l.inputs;!b&&null!=T&&(k=T[d])?(db(o,u,k,d,f),Js(l)&&function mA(o,l){const u=Qi(l,o);16&u[zt]||(u[zt]|=64)}(u,l.index)):3&l.type&&(d=function pA(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=v?v(f,l.value||"",d):f,m.setProperty(D,d,f))}function sb(o,l,u,d){if(ac()){const f=null===d?null:{"":-1},m=function bA(o,l){const u=o.directiveRegistry;let d=null,f=null;if(u)for(let m=0;m<u.length;m++){const v=u[m];if(Co(l,v.selectors,!1))if(d||(d=[]),vr(v))if(null!==v.findHostDirectiveDefs){const b=[];f=f||new Map,v.findHostDirectiveDefs(v,b,f),d.unshift(...b,v),r_(o,l,b.length)}else d.unshift(v),r_(o,l,0);else f=f||new Map,v.findHostDirectiveDefs?.(v,d,f),d.push(v)}return null===d?null:[d,f]}(o,u);let v,b;null===m?v=b=null:[v,b]=m,null!==v&&n_(o,l,u,v,f,b),f&&function wA(o,l,u){if(l){const d=o.localNames=[];for(let f=0;f<l.length;f+=2){const m=u[l[f+1]];if(null==m)throw new ie(-301,!1);d.push(l[f],m)}}}(u,d,f)}u.mergedAttrs=sl(u.mergedAttrs,u.attrs)}function n_(o,l,u,d,f,m){for(let T=0;T<d.length;T++)ui(yc(u,l),o,d[T].type);!function ob(o,l,u){o.flags|=1,o.directiveStart=l,o.directiveEnd=l+u,o.providerIndexes=l}(u,o.data.length,d.length);for(let T=0;T<d.length;T++){const k=d[T];k.providersResolver&&k.providersResolver(k)}let v=!1,b=!1,D=Sp(o,l,d.length,null);for(let T=0;T<d.length;T++){const k=d[T];u.mergedAttrs=sl(u.mergedAttrs,k.hostAttrs),CA(o,u,l,D,k),LF(D,k,f),null!==k.contentQueries&&(u.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(u.flags|=64);const U=k.type.prototype;!v&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((o.preOrderHooks??=[]).push(u.index),v=!0),!b&&(U.ngOnChanges||U.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(u.index),b=!0),D++}!function Xu(o,l,u){const f=l.directiveEnd,m=o.data,v=l.attrs,b=[];let D=null,T=null;for(let k=l.directiveStart;k<f;k++){const U=m[k],Y=u?u.get(U):null,we=Y?Y.outputs:null;D=Ph(U.inputs,k,D,Y?Y.inputs:null),T=Ph(U.outputs,k,T,we);const Ue=null===D||null===v||Vn(l)?null:xA(D,k,v);b.push(Ue)}null!==D&&(D.hasOwnProperty("class")&&(l.flags|=8),D.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=b,l.inputs=D,l.outputs=T}(o,u,m)}function i_(o,l,u){const d=u.directiveStart,f=u.directiveEnd,m=u.index,v=function sv(){return Ot.lFrame.currentDirectiveIndex}();try{Mo(m);for(let b=d;b<f;b++){const D=o.data[b],T=l[b];Iu(b),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&vA(D,T)}}finally{Mo(-1),Iu(v)}}function vA(o,l){null!==o.hostBindings&&o.hostBindings(1,l)}function r_(o,l,u){l.componentOffset=u,(o.components??=[]).push(l.index)}function LF(o,l,u){if(u){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)u[l.exportAs[d]]=o;vr(l)&&(u[""]=o)}}function CA(o,l,u,d,f){o.data[d]=f;const m=f.factory||(f.factory=eo(f.type)),v=new cr(m,vr(f),Ip);o.blueprint[d]=v,u[d]=v,function _A(o,l,u,d,f){const m=f.hostBindings;if(m){let v=o.hostBindingOpCodes;null===v&&(v=o.hostBindingOpCodes=[]);const b=~l.index;(function AE(o){let l=o.length;for(;l>0;){const u=o[--l];if("number"==typeof u&&u<0)return u}return 0})(v)!=b&&v.push(b),v.push(u,d,m)}}(o,l,d,Sp(o,u,f.hostVars,Pt),f)}function da(o,l,u,d,f,m){const v=Ui(o,l);!function kl(o,l,u,d,f,m,v){if(null==m)o.removeAttribute(l,f,u);else{const b=null==v?de(m):v(m,d||"",f);o.setAttribute(l,f,b,u)}}(l[Et],v,m,o.value,u,d,f)}function EA(o,l,u,d,f,m){const v=m[l];if(null!==v)for(let b=0;b<v.length;)ab(d,u,v[b++],v[b++],v[b++])}function ab(o,l,u,d,f){const m=bi(null);try{const v=o.inputTransforms;null!==v&&v.hasOwnProperty(d)&&(f=v[d].call(l,f)),null!==o.setInput?o.setInput(l,f,u,d):l[d]=f}finally{bi(m)}}function xA(o,l,u){let d=null,f=0;for(;f<u.length;){const m=u[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(o.hasOwnProperty(m)){null===d&&(d=[]);const v=o[m];for(let b=0;b<v.length;b+=2)if(v[b]===l){d.push(m,v[b+1],u[f+1]);break}}f+=2}else f+=2;else f+=4}return d}function lb(o,l,u,d){return[o,!0,!1,l,null,0,d,u,null,null,null]}function kE(o,l){const u=o.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const m=u[d+1];if(-1!==m){const v=o.data[m];Yd(u[d]),v.contentQueries(2,l[m],m)}}}function s_(o,l){return o[is]?o[kd][Or]=l:o[is]=l,o[kd]=l,l}function Ju(o,l,u){Yd(0);const d=bi(null);try{l(o,u)}finally{bi(d)}}function RE(o){return o[Zo]||(o[Zo]=[])}function cb(o){return o.cleanup||(o.cleanup=[])}function OE(o,l,u){return(null===o||vr(o))&&(u=function vu(o){for(;Array.isArray(o);){if("object"==typeof o[ou])return o;o=o[ei]}return null}(u[l.index])),u[Et]}function ub(o,l){const u=o[Xs],d=u?u.get(Ku,null):null;d&&d.handleError(l)}function db(o,l,u,d,f){for(let m=0;m<u.length;){const v=u[m++],b=u[m++];ab(o.data[v],l[v],d,b,f)}}function Ka(o,l,u){const d=rc(l,o);!function bT(o,l,u){o.setValue(l,u)}(o[Et],d,u)}function IA(o,l){const u=Qi(l,o),d=u[Qe];!function hb(o,l){for(let u=l.length;u<o.blueprint.length;u++)l.push(o.blueprint[u])}(d,u);const f=u[ei];null!==f&&null===u[rs]&&(u[rs]=gp(f,u[Xs])),PE(d,u,u[_n])}function PE(o,l,u){gl(l);try{const d=o.viewQuery;null!==d&&Ju(1,d,u);const f=o.template;null!==f&&Xv(o,l,f,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&kE(o,l),o.staticViewQueries&&Ju(2,o.viewQuery,u);const m=o.components;null!==m&&function BF(o,l){for(let u=0;u<l.length;u++)IA(o,l[u])}(l,m)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{l[zt]&=-5,hc()}}let SA=(()=>{var o;class l{constructor(){this.all=new Set,this.queue=new Map}create(d,f,m){const v=typeof Zone>"u"?null:Zone.current,b=new pu(d,k=>{this.all.has(k)&&this.queue.set(k,v)},m);let D;this.all.add(b),b.notify();const T=()=>{b.cleanup(),D?.(),this.all.delete(b),this.queue.delete(b)};return D=f?.onDestroy(T),{destroy:T}}flush(){if(0!==this.queue.size)for(const[d,f]of this.queue)this.queue.delete(d),f?f.run(()=>d.run()):d.run()}get isQueueEmpty(){return 0===this.queue.size}}return(o=l).\u0275prov=Vt({token:o,providedIn:"root",factory:()=>new o}),l})();function Ap(o,l,u){let d=u?o.styles:null,f=u?o.classes:null,m=0;if(null!==l)for(let v=0;v<l.length;v++){const b=l[v];"number"==typeof b?m=b:1==m?f=Be(f,b):2==m&&(d=Be(d,b+": "+l[++v]+";"))}u?o.styles=d:o.stylesWithoutHost=d,u?o.classes=f:o.classesWithoutHost=f}function o_(o,l,u,d,f=!1){for(;null!==u;){const m=l[u.index];if(null!==m&&d.push(Dn(m)),ar(m)){for(let b=vi;b<m.length;b++){const D=m[b],T=D[Qe].firstChild;null!==T&&o_(D[Qe],D,T,d)}m[Bi]!==m[ei]&&d.push(m[Bi])}const v=u.type;if(8&v)o_(o,l,u.child,d);else if(32&v){const b=Eg(u,l);let D;for(;D=b();)d.push(D)}else if(16&v){const b=BC(l,u);if(Array.isArray(b))d.push(...b);else{const D=mh(l[yi]);o_(D[Qe],D,b,d,!0)}}u=f?u.projectionNext:u.next}return d}function fb(o,l,u,d=!0){const f=l[Do],m=f.rendererFactory,v=f.afterRenderEventManager;m.begin?.(),v?.begin();try{MA(o,l,o.template,u)}catch(D){throw d&&ub(l,D),D}finally{m.end?.(),f.effectManager?.flush(),v?.end()}}function MA(o,l,u,d){const f=l[zt];if(256!=(256&f)){l[Do].effectManager?.flush(),gl(l);try{sc(l),function ea(o){return Ot.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&Xv(o,l,u,2,d);const v=3==(3&f);if(v){const T=o.preOrderCheckHooks;null!==T&&wn(l,T,null)}else{const T=o.preOrderHooks;null!==T&&ut(l,T,0,null),lr(l,0)}if(function VF(o){for(let l=_T(o);null!==l;l=yT(l)){if(!l[ka])continue;const u=l[So];for(let d=0;d<u.length;d++){Gf(u[d])}}}(l),kA(l,2),null!==o.contentQueries&&kE(o,l),v){const T=o.contentCheckHooks;null!==T&&wn(l,T)}else{const T=o.contentHooks;null!==T&&ut(l,T,1),lr(l,1)}!function NF(o,l){const u=o.hostBindingOpCodes;if(null===u)return;const d=Yv(l,$r);try{for(let f=0;f<u.length;f++){const m=u[f];if(m<0)Mo(~m);else{const v=m,b=u[++f],D=u[++f];Wd(b,v),d.runInContext(D,2,l[v])}}}finally{null===l[$r]&&Ml(l,$r),Mo(-1)}}(o,l);const b=o.components;null!==b&&a_(l,b,0);const D=o.viewQuery;if(null!==D&&Ju(2,D,d),v){const T=o.viewCheckHooks;null!==T&&wn(l,T)}else{const T=o.viewHooks;null!==T&&ut(l,T,2),lr(l,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),l[zt]&=-73,dl(l)}finally{hc()}}}function kA(o,l){for(let u=_T(o);null!==u;u=yT(u))for(let d=vi;d<u.length;d++)FE(u[d],l)}function RA(o,l,u){FE(Qi(l,o),u)}function FE(o,l){if(!function zd(o){return 128==(128&o[zt])}(o))return;const u=o[Qe];if(80&o[zt]&&0===l||1024&o[zt]||2===l)MA(u,o,u.template,o[_n]);else if(o[Qs]>0){kA(o,1);const f=o[Qe].components;null!==f&&a_(o,f,1)}}function a_(o,l,u){for(let d=0;d<l.length;d++)RA(o,l[d],u)}class wi{get rootNodes(){const l=this._lView,u=l[Qe];return o_(u,l,u.firstChild,[])}constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_n]}set context(l){this._lView[_n]=l}get destroyed(){return 256==(256&this._lView[zt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[kn];if(ar(l)){const u=l[8],d=u?u.indexOf(this):-1;d>-1&&(sp(l,d),fe(u,d))}this._attachedToViewContainer=!1}gh(this._lView[Qe],this._lView)}onDestroy(l){!function hl(o,l){if(256==(256&o[zt]))throw new ie(911,!1);null===o[Yo]&&(o[Yo]=[]),o[Yo].push(l)}(this._lView,l)}markForCheck(){Yu(this._cdRefInjectingView||this._lView)}detach(){this._lView[zt]&=-129}reattach(){this._lView[zt]|=128}detectChanges(){fb(this._lView[Qe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function wT(o,l){op(o,l,l[Et],2,null,null)}(this._lView[Qe],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new ie(902,!1);this._appRef=l}}class UF extends wi{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;fb(l[Qe],l,l[_n],!1)}checkNoChanges(){}get context(){return null}}class ed extends vp{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=Jt(l);return new kp(u,this.ngModule)}}function pb(o){const l=[];for(let u in o)o.hasOwnProperty(u)&&l.push({propName:o[u],templateName:u});return l}class Mp{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,d){d=cn(d);const f=this.injector.get(l,Kg,d);return f!==Kg||u===Kg?f:this.parentInjector.get(l,u,d)}}class kp extends JT{get inputs(){const l=this.componentDef,u=l.inputTransforms,d=pb(l.inputs);if(null!==u)for(const f of d)u.hasOwnProperty(f.propName)&&(f.transform=u[f.propName]);return d}get outputs(){return pb(this.componentDef.outputs)}constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function tg(o){return o.map(eu).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}create(l,u,d,f){let m=(f=f||this.ngModule)instanceof Ya?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new Mp(l,m):l,b=v.get(eA,null);if(null===b)throw new ie(407,!1);const U={rendererFactory:b,sanitizer:v.get(TF,null),effectManager:v.get(SA,null),afterRenderEventManager:v.get($v,null)},Y=b.createRenderer(null,this.componentDef),ne=this.componentDef.selectors[0][0]||"div",we=d?function IE(o,l,u,d){const m=d.get(wE,!1)||u===Fe.ShadowDom,v=o.selectRootElement(l,m);return function dA(o){nb(o)}(v),v}(Y,d,this.componentDef.encapsulation,v):Dg(Y,ne,function LE(o){const l=o.toLowerCase();return"svg"===l?jd:"math"===l?"math":null}(ne)),Ct=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Pe=null;null!==we&&(Pe=gp(we,v,!0));const $t=tb(0,null,null,1,0,null,null,null,null,null,null),rn=Qv(null,$t,null,Ct,null,null,U,Y,v,null,Pe);let Nn,fi;gl(rn);try{const Fc=this.componentDef;let Lc,QD=null;Fc.findHostDirectiveDefs?(Lc=[],QD=new Map,Fc.findHostDirectiveDefs(Fc,Lc,QD),Lc.push(Fc)):Lc=[Fc];const _B=function l_(o,l){const u=o[Qe],d=Xt;return o[d]=l,Oh(u,d,2,"#host",null)}(rn,we),yB=function td(o,l,u,d,f,m,v){const b=f[Qe];!function BE(o,l,u,d){for(const f of o)l.mergedAttrs=sl(l.mergedAttrs,f.hostAttrs);null!==l.mergedAttrs&&(Ap(l,l.mergedAttrs,!0),null!==u&&bv(d,u,l))}(d,o,l,v);let D=null;null!==l&&(D=gp(l,f[Xs]));const T=m.rendererFactory.createRenderer(l,u);let k=16;u.signals?k=4096:u.onPush&&(k=64);const U=Qv(f,eb(u),null,k,f[o.index],o,m,T,null,null,D);return b.firstCreatePass&&r_(b,o,d.length-1),s_(f,U),f[o.index]=U}(_B,we,Fc,Lc,rn,U,Y);fi=Ba($t,Xt),we&&function mb(o,l,u,d){if(d)wo(o,u,["ng-version",vE.full]);else{const{attrs:f,classes:m}=function yr(o){const l=[],u=[];let d=1,f=2;for(;d<o.length;){let m=o[d];if("string"==typeof m)2===f?""!==m&&l.push(m,o[++d]):8===f&&u.push(m);else{if(!_r(f))break;f=m}d++}return{attrs:l,classes:u}}(l.selectors[0]);f&&wo(o,u,f),m&&m.length>0&&ap(o,u,m.join(" "))}}(Y,Fc,we,d),void 0!==u&&function OA(o,l,u){const d=o.projection=[];for(let f=0;f<l.length;f++){const m=u[f];d.push(null!=m?Array.from(m):null)}}(fi,this.ngContentSelectors,u),Nn=function Rp(o,l,u,d,f,m){const v=Si(),b=f[Qe],D=Ui(v,f);n_(b,f,v,u,null,d);for(let k=0;k<u.length;k++)Vr(zn(f,b,v.directiveStart+k,v),f);i_(b,f,v),D&&Vr(D,f);const T=zn(f,b,v.directiveStart+v.componentOffset,v);if(o[_n]=f[_n]=T,null!==m)for(const k of m)k(T,l);return Tp(b,v,o),T}(yB,Fc,Lc,QD,rn,[c_]),PE($t,rn,null)}finally{hc()}return new Rl(this.componentType,Nn,Ah(fi,rn),rn,fi)}}class Rl extends xF{constructor(l,u,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.previousInputValues=null,this.instance=u,this.hostView=this.changeDetectorRef=new UF(f),this.componentType=l}setInput(l,u){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[l])){if(this.previousInputValues??=new Map,this.previousInputValues.has(l)&&Object.is(this.previousInputValues.get(l),u))return;const m=this._rootLView;db(m[Qe],m,f,l,u),this.previousInputValues.set(l,u),Yu(Qi(this._tNode.index,m))}}get injector(){return new nn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function c_(){const o=Si();ko(Ae()[Qe],o)}function Ns(o){let l=function u_(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const d=[o];for(;l;){let f;if(vr(o))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new ie(903,!1);f=l.\u0275dir}if(f){if(u){d.push(f);const v=o;v.inputs=_b(o.inputs),v.inputTransforms=_b(o.inputTransforms),v.declaredInputs=_b(o.declaredInputs),v.outputs=_b(o.outputs);const b=f.hostBindings;b&&HF(o,b);const D=f.viewQuery,T=f.contentQueries;if(D&&yb(o,D),T&&VE(o,T),W(o.inputs,f.inputs),W(o.declaredInputs,f.declaredInputs),W(o.outputs,f.outputs),null!==f.inputTransforms&&(null===v.inputTransforms&&(v.inputTransforms={}),W(v.inputTransforms,f.inputTransforms)),vr(f)&&f.data.animation){const k=o.data;k.animation=(k.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const b=m[v];b&&b.ngInherit&&b(o),b===Ns&&(u=!1)}}l=Object.getPrototypeOf(l)}!function gb(o){let l=0,u=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=l+=f.hostVars,f.hostAttrs=sl(f.hostAttrs,u=sl(u,f.hostAttrs))}}(d)}function _b(o){return o===ct?{}:o===tt?[]:o}function yb(o,l){const u=o.viewQuery;o.viewQuery=u?(d,f)=>{l(d,f),u(d,f)}:l}function VE(o,l){const u=o.contentQueries;o.contentQueries=u?(d,f,m)=>{l(d,f,m),u(d,f,m)}:l}function HF(o,l){const u=o.hostBindings;o.hostBindings=u?(d,f)=>{l(d,f),u(d,f)}:l}function HE(o){const l=o.inputConfig,u={};for(const d in l)if(l.hasOwnProperty(d)){const f=l[d];Array.isArray(f)&&f[2]&&(u[d]=f[2])}o.inputTransforms=u}function h_(o){return!!Nh(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function Nh(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Ol(o,l,u){return o[l]=u}function ps(o,l,u){return!Object.is(o[l],u)&&(o[l]=u,!0)}function nd(o,l,u,d){const f=ps(o,l,u);return ps(o,l+1,d)||f}function jE(o,l,u,d){const f=Ae();return ps(f,Lr(),l)&&(en(),da(jn(),f,o,l,u,d)),jE}function Fp(o,l,u,d){return ps(o,Lr(),u)?l+de(u)+d:Pt}function Lp(o,l,u,d,f,m){const b=nd(o,function as(){return Ot.lFrame.bindingIndex}(),u,f);return Br(2),b?l+de(u)+d+de(f)+m:Pt}function KA(o,l,u,d,f,m,v,b){const D=Ae(),T=en(),k=o+Xt,U=T.firstCreatePass?function rL(o,l,u,d,f,m,v,b,D){const T=l.consts,k=Oh(l,o,4,v||null,Jo(T,b));sb(l,u,k,Jo(T,D)),ko(l,k);const U=k.tView=tb(2,k,d,f,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,T,null);return null!==l.queries&&(l.queries.template(l,k),U.queries=l.queries.embeddedTView(k)),k}(k,T,D,l,u,d,f,m,v):T.data[k];os(U,!1);const Y=QA(T,D,U,o);ue()&&ju(T,D,Y,U),Vr(Y,D),s_(D,D[k]=lb(Y,D,Y,U)),Fr(U)&&Qu(T,D,U),null!=v&&Jv(D,U,b)}let QA=function XA(o,l,u,d){return An(!0),l[Et].createComment("")};function JA(o){return Ki(function ml(){return Ot.lFrame.contextLView}(),Xt+o)}function YE(o,l,u){const d=Ae();return ps(d,Lr(),l)&&fs(en(),jn(),d,o,l,d[Et],u,!1),YE}function KE(o,l,u,d,f){const v=f?"class":"style";db(o,u,l.inputs[v],v,d)}function Eb(o,l,u,d){const f=Ae(),m=en(),v=Xt+o,b=f[Et],D=m.firstCreatePass?function lL(o,l,u,d,f,m){const v=l.consts,D=Oh(l,o,2,d,Jo(v,f));return sb(l,u,D,Jo(v,m)),null!==D.attrs&&Ap(D,D.attrs,!1),null!==D.mergedAttrs&&Ap(D,D.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,D),D}(v,m,f,l,u,d):m.data[v],T=eM(m,f,D,b,l,o);f[v]=T;const k=Fr(D);return os(D,!0),bv(b,T,D),32!=(32&D.flags)&&ue()&&ju(m,f,T,D),0===function oc(){return Ot.lFrame.elementDepthCount}()&&Vr(T,f),function xu(){Ot.lFrame.elementDepthCount++}(),k&&(Qu(m,f,D),Tp(m,D,f)),null!==d&&Jv(f,D),Eb}function xb(){let o=Si();ti()?pl():(o=o.parent,os(o,!1));const l=o;(function sg(o){return Ot.skipHydrationRootTNode===o})(l)&&function ci(){Ot.skipHydrationRootTNode=null}(),function $d(){Ot.lFrame.elementDepthCount--}();const u=en();return u.firstCreatePass&&(ko(u,o),au(o)&&u.queries.elementEnd(o)),null!=l.classesWithoutHost&&function ih(o){return 0!=(8&o.flags)}(l)&&KE(u,l,Ae(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Gr(o){return 0!=(16&o.flags)}(l)&&KE(u,l,Ae(),l.stylesWithoutHost,!1),xb}function QE(o,l,u,d){return Eb(o,l,u,d),xb(),QE}let eM=(o,l,u,d,f,m)=>(An(!0),Dg(d,f,function fc(){return Ot.lFrame.currentNamespace}()));function Db(o,l,u){const d=Ae(),f=en(),m=o+Xt,v=f.firstCreatePass?function dL(o,l,u,d,f){const m=l.consts,v=Jo(m,d),b=Oh(l,o,8,"ng-container",v);return null!==v&&Ap(b,v,!0),sb(l,u,b,Jo(m,f)),null!==l.queries&&l.queries.elementStart(l,b),b}(m,f,d,l,u):f.data[m];os(v,!0);const b=nM(f,d,v,o);return d[m]=b,ue()&&ju(f,d,b,v),Vr(b,d),Fr(v)&&(Qu(f,d,v),Tp(f,v,d)),null!=u&&Jv(d,v),Db}function Ib(){let o=Si();const l=en();return ti()?pl():(o=o.parent,os(o,!1)),l.firstCreatePass&&(ko(l,o),au(o)&&l.queries.elementEnd(o)),Ib}let nM=(o,l,u,d)=>(An(!0),fv(l[Et],""));function iM(){return Ae()}function XE(o){return!!o&&"function"==typeof o.then}function rM(o){return!!o&&"function"==typeof o.subscribe}function JE(o,l,u,d){const f=Ae(),m=en(),v=Si();return sM(m,f,f[Et],v,o,l,d),JE}function ex(o,l){const u=Si(),d=Ae(),f=en();return sM(f,d,OE(Zd(f.data),u,d),u,o,l),ex}function sM(o,l,u,d,f,m,v){const b=Fr(d),T=o.firstCreatePass&&cb(o),k=l[_n],U=RE(l);let Y=!0;if(3&d.type||v){const Ue=Ui(d,l),st=v?v(Ue):Ue,Ct=U.length,Pe=v?rn=>v(Dn(rn[d.index])):d.index;let $t=null;if(!v&&b&&($t=function pL(o,l,u,d){const f=o.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===u&&f[m+1]===d){const b=l[Zo],D=f[m+2];return b.length>D?b[D]:null}"string"==typeof v&&(m+=2)}return null}(o,l,f,d.index)),null!==$t)($t.__ngLastListenerFn__||$t).__ngNextListenerFn__=m,$t.__ngLastListenerFn__=m,Y=!1;else{m=aM(d,l,k,m,!1);const rn=u.listen(st,f,m);U.push(m,rn),T&&T.push(f,Pe,Ct,Ct+1)}}else m=aM(d,l,k,m,!1);const ne=d.outputs;let we;if(Y&&null!==ne&&(we=ne[f])){const Ue=we.length;if(Ue)for(let st=0;st<Ue;st+=2){const Nn=l[we[st]][we[st+1]].subscribe(m),fi=U.length;U.push(m,Nn),T&&T.push(f,d.index,fi,-(fi+1))}}}function oM(o,l,u,d){try{return no(6,l,u),!1!==u(d)}catch(f){return ub(o,f),!1}finally{no(7,l,u)}}function aM(o,l,u,d,f){return function m(v){if(v===Function)return d;Yu(o.componentOffset>-1?Qi(o.index,l):l);let D=oM(l,u,d,v),T=m.__ngNextListenerFn__;for(;T;)D=oM(l,u,T,v)&&D,T=T.__ngNextListenerFn__;return f&&!1===D&&v.preventDefault(),D}}function lM(o=1){return function Qd(o){return(Ot.lFrame.contextLView=function Xd(o,l){for(;o>0;)l=l[Pr],o--;return l}(o,Ot.lFrame.contextLView))[_n]}(o)}function mL(o,l){let u=null;const d=function Ad(o){const l=o.attrs;if(null!=l){const u=l.indexOf(5);if(!(1&u))return l[u+1]}return null}(o);for(let f=0;f<l.length;f++){const m=l[f];if("*"!==m){if(null===d?Co(o,m,!0):Md(d,m))return f}else u=f}return u}function cM(o){const l=Ae()[yi][sr];if(!l.projection){const d=l.projection=Je(o?o.length:1,null),f=d.slice();let m=l.child;for(;null!==m;){const v=o?mL(m,o):0;null!==v&&(f[v]?f[v].projectionNext=m:d[v]=m,f[v]=m),m=m.next}}}function uM(o,l=0,u){const d=Ae(),f=en(),m=Oh(f,Xt+o,16,null,u||null);null===m.projection&&(m.projection=l),pl(),(!d[rs]||Ao())&&32!=(32&m.flags)&&function ST(o,l,u){UC(l[Et],0,l,u,Uu(o,u,l),FC(u.parent||l[sr],u,l))}(f,d,m)}function tx(o,l,u){return Sb(o,"",l,"",u),tx}function Sb(o,l,u,d,f){const m=Ae(),v=Fp(m,l,u,d);return v!==Pt&&fs(en(),jn(),m,o,v,m[Et],f,!1),Sb}function Fs(o,l){return o<<17|l<<2}function Tc(o){return o>>17&32767}function hi(o){return 2|o}function Lh(o){return(131068&o)>>2}function w_(o,l){return-131069&o|l<<2}function Mb(o){return 1|o}function ix(o,l,u,d,f){const m=o[u+1],v=null===l;let b=d?Tc(m):Lh(m),D=!1;for(;0!==b&&(!1===D||v);){const k=o[b+1];fM(o[b],l)&&(D=!0,o[b+1]=d?Mb(k):hi(k)),b=d?Tc(k):Lh(k)}D&&(o[u+1]=d?hi(m):Mb(m))}function fM(o,l){return null===o||null==l||(Array.isArray(o)?o[1]:o)===l||!(!Array.isArray(o)||"string"!=typeof l)&&xr(o,l)>=0}const dr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function C_(o){return o.substring(dr.key,dr.keyEnd)}function kb(o,l){const u=dr.textEnd;return u===l?-1:(l=dr.keyEnd=function gM(o,l,u){for(;l<u&&o.charCodeAt(l)>32;)l++;return l}(o,dr.key=l,u),qp(o,l,u))}function qp(o,l,u){for(;l<u&&o.charCodeAt(l)<=32;)l++;return l}function E_(o,l,u){return pa(o,l,u,!1),E_}function Pb(o,l){return pa(o,l,null,!0),Pb}function Bh(o){ma(x_,Qa,o,!0)}function Qa(o,l){for(let u=function pM(o){return function Ob(o){dr.key=0,dr.keyEnd=0,dr.value=0,dr.valueEnd=0,dr.textEnd=o.length}(o),kb(o,qp(o,0,dr.textEnd))}(l);u>=0;u=kb(l,u))yn(o,C_(l),!0)}function pa(o,l,u,d){const f=Ae(),m=en(),v=Br(2);m.firstUpdatePass&&ax(m,o,v,d),l!==Pt&&ps(f,v,l)&&wM(m,m.data[wr()],f,f[Et],o,f[v+1]=function bL(o,l){return null==o||""===o||("string"==typeof l?o+=l:"object"==typeof o&&(o=se(Cc(o)))),o}(l,u),d,v)}function ma(o,l,u,d){const f=en(),m=Br(2);f.firstUpdatePass&&ax(f,null,m,d);const v=Ae();if(u!==Pt&&ps(v,m,u)){const b=f.data[wr()];if(EM(b,d)&&!ox(f,m)){let D=d?b.classesWithoutHost:b.stylesWithoutHost;null!==D&&(u=Be(D,u||"")),KE(f,b,v,u,d)}else!function vL(o,l,u,d,f,m,v,b){f===Pt&&(f=tt);let D=0,T=0,k=0<f.length?f[0]:null,U=0<m.length?m[0]:null;for(;null!==k||null!==U;){const Y=D<f.length?f[D+1]:void 0,ne=T<m.length?m[T+1]:void 0;let Ue,we=null;k===U?(D+=2,T+=2,Y!==ne&&(we=U,Ue=ne)):null===U||null!==k&&k<U?(D+=2,we=k):(T+=2,we=U,Ue=ne),null!==we&&wM(o,l,u,d,we,Ue,v,b),k=D<f.length?f[D]:null,U=T<m.length?m[T]:null}}(f,b,v,v[Et],v[m+1],v[m+1]=function bM(o,l,u){if(null==u||""===u)return tt;const d=[],f=Cc(u);if(Array.isArray(f))for(let m=0;m<f.length;m++)o(d,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&o(d,m,f[m]);else"string"==typeof f&&l(d,f);return d}(o,l,u),d,m)}}function ox(o,l){return l>=o.expandoStartIndex}function ax(o,l,u,d){const f=o.data;if(null===f[u+1]){const m=f[wr()],v=ox(o,u);EM(m,d)&&null===l&&!v&&(l=!1),l=function yM(o,l,u,d){const f=Zd(o);let m=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(u=Wp(u=Nb(null,o,l,u,d),l.attrs,d),m=null);else{const v=l.directiveStylingLast;if(-1===v||o[v]!==f)if(u=Nb(f,o,l,u,d),null===m){let D=function vM(o,l,u){const d=u?l.classBindings:l.styleBindings;if(0!==Lh(d))return o[Tc(d)]}(o,l,d);void 0!==D&&Array.isArray(D)&&(D=Nb(null,o,l,D[1],d),D=Wp(D,l.attrs,d),function lx(o,l,u,d){o[Tc(u?l.classBindings:l.styleBindings)]=d}(o,l,d,D))}else m=function cx(o,l,u){let d;const f=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<f;m++)d=Wp(d,o[m].hostAttrs,u);return Wp(d,l.attrs,u)}(o,l,d)}return void 0!==m&&(d?l.residualClasses=m:l.residualStyles=m),u}(f,m,l,d),function nx(o,l,u,d,f,m){let v=m?l.classBindings:l.styleBindings,b=Tc(v),D=Lh(v);o[d]=u;let k,T=!1;if(Array.isArray(u)?(k=u[1],(null===k||xr(u,k)>0)&&(T=!0)):k=u,f)if(0!==D){const Y=Tc(o[b+1]);o[d+1]=Fs(Y,b),0!==Y&&(o[Y+1]=w_(o[Y+1],d)),o[b+1]=function Ji(o,l){return 131071&o|l<<17}(o[b+1],d)}else o[d+1]=Fs(b,0),0!==b&&(o[b+1]=w_(o[b+1],d)),b=d;else o[d+1]=Fs(D,0),0===b?b=d:o[D+1]=w_(o[D+1],d),D=d;T&&(o[d+1]=hi(o[d+1])),ix(o,k,d,!0),ix(o,k,d,!1),function rd(o,l,u,d,f){const m=f?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof l&&xr(m,l)>=0&&(u[d+1]=Mb(u[d+1]))}(l,k,o,d,m),v=Fs(b,D),m?l.classBindings=v:l.styleBindings=v}(f,m,l,u,v,d)}}function Nb(o,l,u,d,f){let m=null;const v=u.directiveEnd;let b=u.directiveStylingLast;for(-1===b?b=u.directiveStart:b++;b<v&&(m=l[b],d=Wp(d,m.hostAttrs,f),m!==o);)b++;return null!==o&&(u.directiveStylingLast=b),d}function Wp(o,l,u){const d=u?1:2;let f=-1;if(null!==l)for(let m=0;m<l.length;m++){const v=l[m];"number"==typeof v?f=v:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),yn(o,v,!!u||l[++m]))}return void 0===o?null:o}function x_(o,l,u){const d=String(l);""!==d&&!d.includes(" ")&&yn(o,d,u)}function wM(o,l,u,d,f,m,v,b){if(!(3&l.type))return;const D=o.data,T=D[b+1],k=function dM(o){return 1==(1&o)}(T)?CM(D,l,u,f,Lh(T),v):void 0;Fb(k)||(Fb(m)||function Gp(o){return 2==(2&o)}(T)&&(m=CM(D,null,u,f,b,v)),function HC(o,l,u,d,f){if(l)f?o.addClass(u,d):o.removeClass(u,d);else{let m=-1===d.indexOf("-")?void 0:vg.DashCase;null==f?o.removeStyle(u,d,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=vg.Important),o.setStyle(u,d,f,m))}}(d,v,rc(wr(),u),f,m))}function CM(o,l,u,d,f,m){const v=null===l;let b;for(;f>0;){const D=o[f],T=Array.isArray(D),k=T?D[1]:D,U=null===k;let Y=u[f+1];Y===Pt&&(Y=U?tt:void 0);let ne=U?di(Y,d):k===d?Y:void 0;if(T&&!Fb(ne)&&(ne=di(D,d)),Fb(ne)&&(b=ne,v))return b;const we=o[f+1];f=v?Tc(we):Lh(we)}if(null!==l){let D=m?l.residualClasses:l.residualStyles;null!=D&&(b=di(D,d))}return b}function Fb(o){return void 0!==o}function EM(o,l){return 0!=(o.flags&(l?8:16))}function Zp(o,l=""){const u=Ae(),d=en(),f=o+Xt,m=d.firstCreatePass?Oh(d,f,1,l,null):d.data[f],v=Yp(d,u,m,l,o);u[f]=v,ue()&&ju(d,u,v,m),os(m,!1)}let Yp=(o,l,u,d,f)=>(An(!0),function xg(o,l){return o.createText(l)}(l[Et],d));function D_(o){return Pl("",o,""),D_}function Pl(o,l,u){const d=Ae(),f=Fp(d,o,l,u);return f!==Pt&&Ka(d,wr(),f),Pl}function Lb(o,l,u,d,f){const m=Ae(),v=Lp(m,o,l,u,d,f);return v!==Pt&&Ka(m,wr(),v),Lb}function Kp(o,l,u){ma(yn,Qa,Fp(Ae(),o,l,u),!0)}function T_(o,l,u){const d=Ae();return ps(d,Lr(),l)&&fs(en(),jn(),d,o,l,d[Et],u,!0),T_}function Hb(o,l,u){const d=Ae();if(ps(d,Lr(),l)){const m=en(),v=jn();fs(m,v,d,o,l,OE(Zd(m.data),v,d),u,!0)}return Hb}const Hh=void 0;var LM=["en",[["a","p"],["AM","PM"],Hh],[["AM","PM"],Hh,Hh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hh,"{1} 'at' {0}",Hh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function FM(o){const u=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let Nl={};function jb(o){const l=function zb(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=Dx(l);if(u)return u;const d=l.split("-")[0];if(u=Dx(d),u)return u;if("en"===d)return LM;throw new ie(701,!1)}function BM(o){return jb(o)[jh.PluralCase]}function Dx(o){return o in Nl||(Nl[o]=Wt.ng&&Wt.ng.common&&Wt.ng.common.locales&&Wt.ng.common.locales[o]),Nl[o]}var jh=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(jh||{});const zh="en-US";let HM=zh;function Qb(o,l,u,d,f){if(o=Oe(o),Array.isArray(o))for(let m=0;m<o.length;m++)Qb(o[m],l,u,d,f);else{const m=en(),v=Ae(),b=Si();let D=Dc(o)?o:Oe(o.provide);const T=QT(o),k=1048575&b.providerIndexes,U=b.directiveStart,Y=b.providerIndexes>>20;if(Dc(o)||!o.multi){const ne=new cr(T,f,Ip),we=N_(D,l,f?k:k+Y,U);-1===we?(ui(yc(b,v),m,D),qh(m,o,l.length),l.push(D),b.directiveStart++,b.directiveEnd++,f&&(b.providerIndexes+=1048576),u.push(ne),v.push(ne)):(u[we]=ne,v[we]=ne)}else{const ne=N_(D,l,k+Y,U),we=N_(D,l,k,k+Y),st=we>=0&&u[we];if(f&&!st||!f&&!(ne>=0&&u[ne])){ui(yc(b,v),m,D);const Ct=function uk(o,l,u,d,f){const m=new cr(o,u,Ip);return m.multi=[],m.index=l,m.componentProviders=0,ck(m,f,d&&!u),m}(f?qx:Xb,u.length,f,d,T);!f&&st&&(u[we].providerFactory=Ct),qh(m,o,l.length,0),l.push(D),b.directiveStart++,b.directiveEnd++,f&&(b.providerIndexes+=1048576),u.push(Ct),v.push(Ct)}else qh(m,o,ne>-1?ne:we,ck(u[f?we:ne],T,!f&&d));!f&&d&&st&&u[we].componentProviders++}}}function qh(o,l,u,d){const f=Dc(l),m=function YT(o){return!!o.useClass}(l);if(f||m){const D=(m?Oe(l.useClass):l).prototype.ngOnDestroy;if(D){const T=o.destroyHooks||(o.destroyHooks=[]);if(!f&&l.multi){const k=T.indexOf(u);-1===k?T.push(u,[d,D]):T[k+1].push(d,D)}else T.push(u,D)}}}function ck(o,l,u){return u&&o.componentProviders++,o.multi.push(l)-1}function N_(o,l,u,d){for(let f=u;f<d;f++)if(l[f]===o)return f;return-1}function Xb(o,l,u,d){return Jb(this.multi,[])}function qx(o,l,u,d){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,b=zn(u,u[Qe],this.providerFactory.index,d);m=b.slice(0,v),Jb(f,m);for(let D=v;D<b.length;D++)m.push(b[D])}else m=[],Jb(f,m);return m}function Jb(o,l){for(let u=0;u<o.length;u++)l.push((0,o[u])());return l}function Wx(o,l=[]){return u=>{u.providersResolver=(d,f)=>function HL(o,l,u){const d=en();if(d.firstCreatePass){const f=vr(o);Qb(u,d.data,d.blueprint,f,!0),Qb(l,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,l)}}class sd{}class Zx{}function Yx(o,l){return new e0(o,l??null,[])}class e0 extends sd{constructor(l,u,d){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ed(this);const f=Li(l);this._bootstrapComponents=uo(f.bootstrap),this._r3Injector=jv(l,u,[{provide:sd,useValue:this},{provide:vp,useValue:this.componentFactoryResolver},...d],se(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class F_ extends Zx{constructor(l){super(),this.moduleType=l}create(l){return new e0(this.moduleType,l,[])}}class dk extends sd{constructor(l){super(),this.componentFactoryResolver=new ed(this),this.instance=null;const u=new Nv([...l.providers,{provide:sd,useValue:this},{provide:vp,useValue:this.componentFactoryResolver}],l.parent||up(),l.debugName,new Set(["environment"]));this.injector=u,l.runEnvironmentInitializers&&u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function hk(o,l,u=null){return new dk({providers:o,parent:l,debugName:u,runEnvironmentInitializers:!0}).injector}let fk=(()=>{var o;class l{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d)){const f=nE(0,d.type),m=f.length>0?hk([f],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d,m)}return this.cachedInjectors.get(d)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return(o=l).\u0275prov=Vt({token:o,providedIn:"environment",factory:()=>new o($e(Ya))}),l})();function pk(o){o.getStandaloneInjector=l=>l.get(fk).getOrCreateStandaloneInjector(o)}function wk(o,l,u,d){return xk(Ae(),Hi(),o,l,u,d)}function Ck(o,l,u,d,f){return Dk(Ae(),Hi(),o,l,u,d,f)}function L_(o,l){const u=o[l];return u===Pt?void 0:u}function xk(o,l,u,d,f,m){const v=l+u;return ps(o,v,f)?Ol(o,v+1,m?d.call(m,f):d(f)):L_(o,v+1)}function Dk(o,l,u,d,f,m,v){const b=l+u;return nd(o,b,f,m)?Ol(o,b+2,v?d.call(v,f,m):d(f,m)):L_(o,b+2)}function Yh(o,l){const u=en();let d;const f=o+Xt;u.firstCreatePass?(d=function QL(o,l){if(l)for(let u=l.length-1;u>=0;u--){const d=l[u];if(o===d.name)return d}}(l,u.pipeRegistry),u.data[f]=d,d.onDestroy&&(u.destroyHooks??=[]).push(f,d.onDestroy)):d=u.data[f];const m=d.factory||(d.factory=eo(d.type)),b=Qt(Ip);try{const D=As(!1),T=m();return As(D),function aL(o,l,u,d){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),l[u]=d}(u,Ae(),f,T),T}finally{Qt(b)}}function Jx(o,l,u){const d=o+Xt,f=Ae(),m=Ki(f,d);return Kh(f,d)?xk(f,Hi(),l,m.transform,u,m):m.transform(u)}function o0(o,l,u,d){const f=o+Xt,m=Ae(),v=Ki(m,f);return Kh(m,f)?Dk(m,Hi(),l,v.transform,u,d,v):v.transform(u,d)}function Kh(o,l){return o[Qe].data[l].pure}function a0(o){return l=>{setTimeout(o,void 0,l)}}const _a=class Qh extends a.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,d){let f=l,m=u||(()=>null),v=d;if(l&&"object"==typeof l){const D=l;f=D.next?.bind(D),m=D.error?.bind(D),v=D.complete?.bind(D)}this.__isAsync&&(m=a0(m),f&&(f=a0(f)),v&&(v=a0(v)));const b=super.subscribe({next:f,error:m,complete:v});return l instanceof j.w0&&l.add(b),b}};function Mc(){return this._results[Symbol.iterator]()}class kc{get changes(){return this._changes||(this._changes=new _a)}constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=kc.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=Mc)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const d=this;d.dirty=!1;const f=function L(o){return o.flat(Number.POSITIVE_INFINITY)}(l);(this._changesDetected=!function A(o,l,u){if(o.length!==l.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],m=l[d];if(u&&(f=u(f),m=u(m)),m!==f)return!1}return!0}(d._results,f,u))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function nD(o,l,u,d=!0){const f=l[Qe];if(function dF(o,l,u,d){const f=vi+d,m=u.length;d>0&&(u[f-1][Or]=l),d<m-vi?(l[Or]=u[f],J(u,vi+d,l)):(u.push(l),l[Or]=null),l[kn]=u;const v=l[Ma];null!==v&&u!==v&&function CT(o,l){const u=o[So];l[yi]!==l[kn][kn][yi]&&(o[ka]=!0),null===u?o[So]=[l]:u.push(l)}(v,l);const b=l[or];null!==b&&b.insertView(o),l[zt]|=128}(f,l,o,u),d){const m=yv(u,o),v=l[Et],b=Ig(v,o[Bi]);null!==b&&function ua(o,l,u,d,f,m){d[ei]=f,d[sr]=l,op(o,d,u,1,f,m)}(f,o[sr],v,l,b,m)}}let B_=(()=>{class l{}return l.__NG_ELEMENT_ID__=t2,l})();const e2=B_,iD=class extends e2{constructor(l,u,d){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(l,u){return this.createEmbeddedViewImpl(l,u)}createEmbeddedViewImpl(l,u,d){const f=function Mk(o,l,u,d){const f=l.tView,b=Qv(o,f,u,4096&o[zt]?4096:16,null,l,null,null,null,d?.injector??null,d?.hydrationInfo??null);b[Ma]=o[l.index];const T=o[or];return null!==T&&(b[or]=T.createEmbeddedView(f)),PE(f,b,u),b}(this._declarationLView,this._declarationTContainer,l,{injector:u,hydrationInfo:d});return new wi(f)}};function t2(){return V_(Si(),Ae())}function V_(o,l){return 4&o.type?new iD(l,o,Ah(o,l)):null}let l0=(()=>{class l{}return l.__NG_ELEMENT_ID__=o2,l})();function o2(){return va(Si(),Ae())}const a2=l0,c0=class extends a2{constructor(l,u,d){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=d}get element(){return Ah(this._hostTNode,this._hostLView)}get injector(){return new nn(this._hostTNode,this._hostLView)}get parentInjector(){const l=Ln(this._hostTNode,this._hostLView);if(Qn(l)){const u=na(l,this._hostLView),d=_l(l);return new nn(u[Qe].data[d+8],u)}return new nn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=sD(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-vi}createEmbeddedView(l,u,d){let f,m;"number"==typeof d?f=d:null!=d&&(f=d.index,m=d.injector);const b=l.createEmbeddedViewImpl(u||{},m,null);return this.insertImpl(b,f,false),b}createComponent(l,u,d,f,m){const v=l&&!function I(o){return"function"==typeof o}(l);let b;if(v)b=u;else{const Ue=u||{};b=Ue.index,d=Ue.injector,f=Ue.projectableNodes,m=Ue.environmentInjector||Ue.ngModuleRef}const D=v?l:new kp(Jt(l)),T=d||this.parentInjector;if(!m&&null==D.ngModule){const st=(v?T:this.parentInjector).get(Ya,null);st&&(m=st)}Jt(D.componentType??{});const ne=D.create(T,f,null,m);return this.insertImpl(ne.hostView,b,false),ne}insert(l,u){return this.insertImpl(l,u,!1)}insertImpl(l,u,d){const f=l._lView;if(function Cu(o){return ar(o[kn])}(f)){const D=this.indexOf(l);if(-1!==D)this.detach(D);else{const T=f[kn],k=new c0(T,T[sr],T[kn]);k.detach(k.indexOf(l))}}const v=this._adjustIndex(u),b=this._lContainer;return nD(b,f,v,!d),l.attachToViewContainerRef(),J(ya(b),v,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=sD(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),d=sp(this._lContainer,u);d&&(fe(ya(this._lContainer),u),gh(d[Qe],d))}detach(l){const u=this._adjustIndex(l,-1),d=sp(this._lContainer,u);return d&&null!=fe(ya(this._lContainer),u)?new wi(d):null}_adjustIndex(l,u=0){return l??this.length+u}};function sD(o){return o[8]}function ya(o){return o[8]||(o[8]=[])}function va(o,l){let u;const d=l[o.index];return ar(d)?u=d:(u=lb(d,l,null,o),l[o.index]=u,s_(l,u)),u0(u,l,o,d),new c0(u,o,l)}let u0=function d0(o,l,u,d){if(o[Bi])return;let f;f=8&u.type?Dn(d):function Bs(o,l){const u=o[Et],d=u.createComment(""),f=Ui(l,o);return Hu(u,Ig(u,f),d,function DT(o,l){return o.nextSibling(l)}(u,f),!1),d}(l,u),o[Bi]=f};class oD{constructor(l){this.queryList=l,this.matches=null}clone(){return new oD(this.queryList)}setDirty(){this.queryList.setDirty()}}class Sr{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const d=null!==l.contentQueries?l.contentQueries[0]:u.length,f=[];for(let m=0;m<d;m++){const v=u.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new Sr(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==Hk(l,u).matches&&this.queries[u].setDirty()}}class Fk{constructor(l,u,d=null){this.predicate=l,this.flags=u,this.read=d}}class Xh{constructor(l=[]){this.queries=l}elementStart(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let d=0;d<this.length;d++){const f=null!==u?u.length:0,m=this.getByIndex(d).embeddedTView(l,f);m&&(m.indexInDeclarationView=d,null!==u?u.push(m):u=[m])}return null!==u?new Xh(u):null}template(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class aD{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new aD(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(l,u,U_(u,m)),this.matchTNodeWithReadOption(l,u,tn(u,l,m,!1,!1))}else d===B_?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,tn(u,l,d,!1,!1))}matchTNodeWithReadOption(l,u,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Yg||f===l0||f===B_&&4&u.type)this.addMatch(u.index,-2);else{const m=tn(u,l,f,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,d)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function U_(o,l){const u=o.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===l)return u[d+1];return null}function am(o,l,u,d){return-1===u?function l2(o,l){return 11&o.type?Ah(o,l):4&o.type?V_(o,l):null}(l,o):-2===u?function lD(o,l,u){return u===Yg?Ah(l,o):u===B_?V_(l,o):u===l0?va(l,o):void 0}(o,l,d):zn(o,o[Qe],u,l)}function H_(o,l,u,d){const f=l[or].queries[d];if(null===f.matches){const m=o.data,v=u.matches,b=[];for(let D=0;D<v.length;D+=2){const T=v[D];b.push(T<0?null:am(l,m[T],v[D+1],u.metadata.read))}f.matches=b}return f.matches}function cD(o,l,u,d){const f=o.queries.getByIndex(u),m=f.matches;if(null!==m){const v=H_(o,l,f,u);for(let b=0;b<m.length;b+=2){const D=m[b];if(D>0)d.push(v[b/2]);else{const T=m[b+1],k=l[-D];for(let U=vi;U<k.length;U++){const Y=k[U];Y[Ma]===Y[kn]&&cD(Y[Qe],Y,T,d)}if(null!==k[So]){const U=k[So];for(let Y=0;Y<U.length;Y++){const ne=U[Y];cD(ne[Qe],ne,T,d)}}}}}return d}function lm(o){const l=Ae(),u=en(),d=Su();Yd(d+1);const f=Hk(u,d);if(o.dirty&&function wu(o){return 4==(4&o[zt])}(l)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const m=f.crossesNgTemplate?cD(u,l,d,[]):H_(u,l,f,d);o.reset(m,DF),o.notifyOnChanges()}return!0}return!1}function Lk(o,l,u){const d=en();d.firstCreatePass&&(uD(d,new Fk(o,l,u),-1),2==(2&l)&&(d.staticViewQueries=!0)),Uk(d,Ae(),l)}function Bk(o,l,u,d){const f=en();if(f.firstCreatePass){const m=Si();uD(f,new Fk(l,u,d),m.index),function u2(o,l){const u=o.contentQueries||(o.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,l)}(f,o),2==(2&u)&&(f.staticContentQueries=!0)}Uk(f,Ae(),u)}function Vk(){return function c2(o,l){return o[or].queries[l].queryList}(Ae(),Su())}function Uk(o,l,u){const d=new kc(4==(4&u));(function ib(o,l,u,d){const f=RE(l);f.push(u),o.firstCreatePass&&cb(o).push(d,f.length-1)})(o,l,d,d.destroy),null===l[or]&&(l[or]=new Sr),l[or].queries.push(new oD(d))}function uD(o,l,u){null===o.queries&&(o.queries=new Xh),o.queries.track(new aD(l,u))}function Hk(o,l){return o.queries.getByIndex(l)}function dD(o){return!!Li(o)}const wD=new In("Application Initializer");let CD=(()=>{var o;class l{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f}),this.appInits=it(wD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const d=[];for(const m of this.appInits){const v=m();if(XE(v))d.push(v);else if(rM(v)){const b=new Promise((D,T)=>{v.subscribe({complete:D,error:T})});d.push(b)}}const f=()=>{this.done=!0,this.resolve()};Promise.all(d).then(()=>{f()}).catch(m=>{this.reject(m)}),0===d.length&&f(),this.initialized=!0}}return(o=l).\u0275fac=function(d){return new(d||o)},o.\u0275prov=Vt({token:o,factory:o.\u0275fac,providedIn:"root"}),l})(),q_=(()=>{var o;class l{log(d){console.log(d)}warn(d){console.warn(d)}}return(o=l).\u0275fac=function(d){return new(d||o)},o.\u0275prov=Vt({token:o,factory:o.\u0275fac,providedIn:"platform"}),l})();const W_=new In("LocaleId",{providedIn:"root",factory:()=>it(W_,yt.Optional|yt.SkipSelf)||function n1(){return typeof $localize<"u"&&$localize.locale||zh}()}),I2=new In("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let r1=(()=>{var o;class l{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new O.X(!1)}add(){this.hasPendingTasks.next(!0);const d=this.taskId++;return this.pendingTasks.add(d),d}remove(d){this.pendingTasks.delete(d),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(o=l).\u0275fac=function(d){return new(d||o)},o.\u0275prov=Vt({token:o,factory:o.\u0275fac,providedIn:"root"}),l})();class A2{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let M2=(()=>{var o;class l{compileModuleSync(d){return new F_(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const f=this.compileModuleSync(d),v=uo(Li(d).declarations).reduce((b,D)=>{const T=Jt(D);return T&&b.push(new kp(T)),b},[]);return new A2(f,v)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return(o=l).\u0275fac=function(d){return new(d||o)},o.\u0275prov=Vt({token:o,factory:o.\u0275fac,providedIn:"root"}),l})();function c1(...o){}class _s{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _a(!1),this.onMicrotaskEmpty=new _a(!1),this.onStable=new _a(!1),this.onError=new _a(!1),typeof Zone>"u")throw new ie(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&u,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Z2(){const o="function"==typeof Wt.requestAnimationFrame;let l=Wt[o?"requestAnimationFrame":"setTimeout"],u=Wt[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&l&&u){const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d);const f=u[Zone.__symbol__("OriginalDelegate")];f&&(u=f)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function u1(o){const l=()=>{!function K2(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Wt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,ID(o),o.isCheckStableRunning=!0,DD(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),ID(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,f,m,v,b)=>{try{return d1(o),u.invokeTask(f,m,v,b)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&l(),h1(o)}},onInvoke:(u,d,f,m,v,b,D)=>{try{return d1(o),u.invoke(f,m,v,b,D)}finally{o.shouldCoalesceRunChangeDetection&&l(),h1(o)}},onHasTask:(u,d,f,m)=>{u.hasTask(f,m),d===f&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,ID(o),DD(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,d,f,m)=>(u.handleError(f,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_s.isInAngularZone())throw new ie(909,!1)}static assertNotInAngularZone(){if(_s.isInAngularZone())throw new ie(909,!1)}run(l,u,d){return this._inner.run(l,u,d)}runTask(l,u,d,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,l,Y2,c1,c1);try{return m.runTask(v,u,d)}finally{m.cancelTask(v)}}runGuarded(l,u,d){return this._inner.runGuarded(l,u,d)}runOutsideAngular(l){return this._outer.run(l)}}const Y2={};function DD(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function ID(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function d1(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function h1(o){o._nesting--,DD(o)}class Q2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _a,this.onMicrotaskEmpty=new _a,this.onStable=new _a,this.onError=new _a}run(l,u,d){return l.apply(u,d)}runGuarded(l,u,d){return l.apply(u,d)}runOutsideAngular(l){return l()}runTask(l,u,d,f){return l.apply(u,d)}}const SD=new In("",{providedIn:"root",factory:f1});function f1(){const o=it(_s);let l=!0;const u=new te.y(f=>{l=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{f.next(l),f.complete()})}),d=new te.y(f=>{let m;o.runOutsideAngular(()=>{m=o.onStable.subscribe(()=>{_s.assertNotInAngularZone(),queueMicrotask(()=>{!l&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(l=!0,f.next(!0))})})});const v=o.onUnstable.subscribe(()=>{_s.assertInAngularZone(),l&&(l=!1,o.runOutsideAngular(()=>{f.next(!1)}))});return()=>{m.unsubscribe(),v.unsubscribe()}});return(0,le.T)(u,d.pipe((0,Ce.B)()))}const p1=new In(""),m1=new In("");let TD,X2=(()=>{var o;class l{constructor(d,f,m){this._ngZone=d,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,TD||(function J2(o){TD=o}(m),m.addToWindow(f)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_s.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(d)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,f,m){let v=-1;f&&f>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==v),d(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:d,timeoutId:v,updateCb:m})}whenStable(d,f,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,f,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,f,m){return[]}}return(o=l).\u0275fac=function(d){return new(d||o)($e(_s),$e(g1),$e(m1))},o.\u0275prov=Vt({token:o,factory:o.\u0275fac}),l})(),g1=(()=>{var o;class l{constructor(){this._applications=new Map}registerApplication(d,f){this._applications.set(d,f)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,f=!0){return TD?.findTestabilityInTree(this,d,f)??null}}return(o=l).\u0275fac=function(d){return new(d||o)},o.\u0275prov=Vt({token:o,factory:o.\u0275fac,providedIn:"platform"}),l})(),cd=null;const _1=new In("AllowMultipleToken"),nf=new In("PlatformDestroyListeners"),_0=new In("appBootstrapListener");class v0{constructor(l,u){this.name=l,this.token=u}}function MD(o,l,u=[]){const d=`Platform: ${l}`,f=new In(d);return(m=[])=>{let v=dm();if(!v||v.injector.get(_1,!1)){const b=[...u,...m,{provide:f,useValue:!0}];o?o(b):function jo(o){if(cd&&!cd.get(_1,!1))throw new ie(400,!1);(function y0(){!function ul(o){Na=o}(()=>{throw new ie(600,!1)})})(),cd=o;const l=o.get(RD);(function Y_(o){o.get(uE,null)?.forEach(u=>u())})(o)}(function kD(o=[],l){return Lo.create({name:l,providers:[{provide:Ov,useValue:"platform"},{provide:nf,useValue:new Set([()=>cd=null])},...o]})}(b,d))}return function Ti(o){const l=dm();if(!l)throw new ie(401,!1);return l}()}}function dm(){return cd?.get(RD)??null}let RD=(()=>{var o;class l{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,f){const m=function w1(o="zone.js",l){return"noop"===o?new Q2:"zone.js"===o?new _s(l):o}(f?.ngZone,function OD(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:f?.ngZoneEventCoalescing,runCoalescing:f?.ngZoneRunCoalescing}));return m.run(()=>{const v=function Qx(o,l,u){return new e0(o,l,u)}(d.moduleType,this.injector,function hm(o){return[{provide:_s,useFactory:o},{provide:xh,multi:!0,useFactory:()=>{const l=it(C0,{optional:!0});return()=>l.initialize()}},{provide:Tr,useFactory:Q_},{provide:SD,useFactory:f1}]}(()=>m)),b=v.injector.get(Ku,null);return m.runOutsideAngular(()=>{const D=m.onError.subscribe({next:T=>{b.handleError(T)}});v.onDestroy(()=>{K_(this._modules,v),D.unsubscribe()})}),function w0(o,l,u){try{const d=u();return XE(d)?d.catch(f=>{throw l.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>o.handleError(d)),d}}(b,m,()=>{const D=v.injector.get(CD);return D.runInitializers(),D.donePromise.then(()=>(function jM(o){nt(o,"Expected localeId to be defined"),"string"==typeof o&&(HM=o.toLowerCase().replace(/_/g,"-"))}(v.injector.get(W_,zh)||zh),this._moduleDoBootstrap(v),v))})})}bootstrapModule(d,f=[]){const m=PD({},f);return function y1(o,l,u){const d=new F_(u);return Promise.resolve(d)}(0,0,d).then(v=>this.bootstrapModuleFactory(v,m))}_moduleDoBootstrap(d){const f=d.injector.get(rf);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(m=>f.bootstrap(m));else{if(!d.instance.ngDoBootstrap)throw new ie(-403,!1);d.instance.ngDoBootstrap(f)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ie(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const d=this._injector.get(nf,null);d&&(d.forEach(f=>f()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(o=l).\u0275fac=function(d){return new(d||o)($e(Lo))},o.\u0275prov=Vt({token:o,factory:o.\u0275fac,providedIn:"platform"}),l})();function PD(o,l){return Array.isArray(l)?l.reduce(PD,o):{...o,...l}}let rf=(()=>{var o;class l{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=it(Tr),this.zoneIsStable=it(SD),this.componentTypes=[],this.components=[],this.isStable=it(r1).hasPendingTasks.pipe((0,Re.w)(d=>d?(0,re.of)(!1):this.zoneIsStable),(0,be.x)(),(0,Ce.B)()),this._injector=it(Ya)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,f){const m=d instanceof JT;if(!this._injector.get(CD).done)throw!m&&Ks(d),new ie(405,!1);let b;b=m?d:this._injector.get(vp).resolveComponentFactory(d),this.componentTypes.push(b.componentType);const D=function AD(o){return o.isBoundToModule}(b)?void 0:this._injector.get(sd),k=b.create(Lo.NULL,[],f||b.selector,D),U=k.location.nativeElement,Y=k.injector.get(p1,null);return Y?.registerApplication(U),k.onDestroy(()=>{this.detachView(k.hostView),K_(this.components,k),Y?.unregisterApplication(U)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new ie(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this.internalErrorHandler(d)}finally{this._runningTick=!1}}attachView(d){const f=d;this._views.push(f),f.attachToAppRef(this)}detachView(d){const f=d;K_(this._views,f),f.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const f=this._injector.get(_0,[]);f.push(...this._bootstrapListeners),f.forEach(m=>m(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>K_(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new ie(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(o=l).\u0275fac=function(d){return new(d||o)},o.\u0275prov=Vt({token:o,factory:o.\u0275fac,providedIn:"root"}),l})();function K_(o,l){const u=o.indexOf(l);u>-1&&o.splice(u,1)}const Tr=new In("",{providedIn:"root",factory:()=>it(Ku).handleError.bind(void 0)});function Q_(){const o=it(_s),l=it(Ku);return u=>o.runOutsideAngular(()=>l.handleError(u))}let C0=(()=>{var o;class l{constructor(){this.zone=it(_s),this.applicationRef=it(rf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(o=l).\u0275fac=function(d){return new(d||o)},o.\u0275prov=Vt({token:o,factory:o.\u0275fac,providedIn:"root"}),l})();function E0(){return!1}function C1(){}let x1=(()=>{class l{}return l.__NG_ELEMENT_ID__=fm,l})();function fm(o){return function BD(o,l,u){if(Js(o)&&!u){const d=Qi(o.index,l);return new wi(d,d)}return 47&o.type?new wi(l[yi],l):null}(Si(),Ae(),16==(16&o))}class jD{constructor(){}supports(l){return h_(l)}create(l){return new ey(l)}}const S1=(o,l)=>l;class ey{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||S1}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,d=this._removalsHead,f=0,m=null;for(;u||d;){const v=!d||u&&u.currentIndex<ny(d,f,m)?u:d,b=ny(v,f,m),D=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(u=u._next,null==v.previousIndex)f++;else{m||(m=[]);const T=b-f,k=D-f;if(T!=k){for(let Y=0;Y<T;Y++){const ne=Y<m.length?m[Y]:m[Y]=0,we=ne+Y;k<=we&&we<T&&(m[Y]=ne+1)}m[v.previousIndex]=k-T}}b!==D&&l(v,b,D)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!h_(l))throw new ie(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,m,v,u=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let b=0;b<this.length;b++)m=l[b],v=this._trackByFn(b,m),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,m,v,b)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,v,b),d=!0),u=u._next}else f=0,function p_(o,l){if(Array.isArray(o))for(let u=0;u<o.length;u++)l(o[u]);else{const u=o[Symbol.iterator]();let d;for(;!(d=u.next()).done;)l(d.value)}}(l,b=>{v=this._trackByFn(f,b),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,b,v,f)),Object.is(u.item,b)||this._addIdentityChange(u,b)):(u=this._mismatch(u,b,v,f),d=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,d,f){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,m,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,m,f)):l=this._addAfter(new A0(u,d),m,f),l}_verifyReinsertion(l,u,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?l=this._reinsertAfter(m,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,m=l._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(l,u,d),this._addToMoves(l,d),l}_moveAfter(l,u,d){return this._unlink(l),this._insertAfter(l,u,d),this._addToMoves(l,d),l}_addAfter(l,u,d){return this._insertAfter(l,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,d){const f=null===u?this._itHead:u._next;return l._next=f,l._prev=u,null===f?this._itTail=l:f._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new ty),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,d=l._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ty),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class A0{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zD{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const u=l._prevDup,d=l._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class ty{constructor(){this.map=new Map}put(l){const u=l.trackById;let d=this.map.get(u);d||(d=new zD,this.map.set(u,d)),d.add(l)}get(l,u){const f=this.map.get(l);return f?f.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ny(o,l,u){const d=o.previousIndex;if(null===d)return d;let f=0;return u&&d<u.length&&(f=u[d]),d+l+f}class iy{constructor(){}supports(l){return l instanceof Map||Nh(l)}create(){return new $D}}class $D{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||Nh(l)))throw new ie(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(f,d);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const d=l._prev;return u._next=l,u._prev=d,l._prev=u,d&&(d._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,u);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const d=new T1(l);return this._records.set(l,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(d=>u(l[d],d))}}class T1{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function M0(){return new Nc([new jD])}let Nc=(()=>{var o;class l{constructor(d){this.factories=d}static create(d,f){if(null!=f){const m=f.factories.slice();d=d.concat(m)}return new l(d)}static extend(d){return{provide:l,useFactory:f=>l.create(d,f||M0()),deps:[[l,new ch,new lh]]}}find(d){const f=this.factories.find(m=>m.supports(d));if(null!=f)return f;throw new ie(901,!1)}}return(o=l).\u0275prov=Vt({token:o,providedIn:"root",factory:M0}),l})();function GD(){return new k0([new iy])}let k0=(()=>{var o;class l{constructor(d){this.factories=d}static create(d,f){if(f){const m=f.factories.slice();d=d.concat(m)}return new l(d)}static extend(d){return{provide:l,useFactory:f=>l.create(d,f||GD()),deps:[[l,new ch,new lh]]}}find(d){const f=this.factories.find(m=>m.supports(d));if(f)return f;throw new ie(901,!1)}}return(o=l).\u0275prov=Vt({token:o,providedIn:"root",factory:GD}),l})();const R1=MD(null,"core",[]);let O1=(()=>{var o;class l{constructor(d){}}return(o=l).\u0275fac=function(d){return new(d||o)($e(rf))},o.\u0275mod=Eo({type:o}),o.\u0275inj=qn({}),l})();function F0(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function gB(o){const l=Jt(o);if(!l)return null;const u=new kp(l);return{get selector(){return u.selector},get type(){return u.componentType},get inputs(){return u.inputs},get outputs(){return u.outputs},get ngContentSelectors(){return u.ngContentSelectors},get isStandalone(){return l.standalone},get isSignal(){return l.signals}}}},3106:(gt,Se,B)=>{B.d(Se,{Z:()=>et});var a=B(9058),j=B(4537),O=B(534),te=B(7879);class le{constructor(Ke,Le){this._delegate=Ke,this.firebase=Le,(0,O._addComponent)(Ke,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=Ke.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ke){this._delegate.automaticDataCollectionEnabled=Ke}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ke=>{this._delegate.checkDestroyed(),Ke()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(Ke,Le=O._DEFAULT_ENTRY_NAME){var vt;this._delegate.checkDestroyed();const ht=this._delegate.container.getProvider(Ke);return!ht.isInitialized()&&"EXPLICIT"===(null===(vt=ht.getComponent())||void 0===vt?void 0:vt.instantiationMode)&&ht.initialize(),ht.getImmediate({identifier:Le})}_removeServiceInstance(Ke,Le=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ke).clearInstance(Le)}_addComponent(Ke){(0,O._addComponent)(this._delegate,Ke)}_addOrOverwriteComponent(Ke){(0,O._addOrOverwriteComponent)(this._delegate,Ke)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ce=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function be(){const Oe=function Re(Oe){const Ke={},Le={__esModule:!0,initializeApp:function ie(Ve,oe={}){const ft=O.initializeApp(Ve,oe);if((0,a.r3)(Ke,ft.name))return Ke[ft.name];const wt=new Oe(ft,Le);return Ke[ft.name]=wt,wt},app:ht,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function de(Ve){const oe=Ve.name,ft=oe.replace("-compat","");if(O._registerComponent(Ve)&&"PUBLIC"===Ve.type){const wt=(Kt=ht())=>{if("function"!=typeof Kt[ft])throw Ce.create("invalid-app-argument",{appName:oe});return Kt[ft]()};void 0!==Ve.serviceProps&&(0,a.ZB)(wt,Ve.serviceProps),Le[ft]=wt,Oe.prototype[ft]=function(...Kt){return this._getService.bind(this,oe).apply(this,Ve.multipleInstances?Kt:[])}}return"PUBLIC"===Ve.type?Le[ft]:null},removeApp:function vt(Ve){delete Ke[Ve]},useAsService:function De(Ve,oe){return"serverAuth"===oe?null:oe},modularAPIs:O}};function ht(Ve){if(!(0,a.r3)(Ke,Ve=Ve||O._DEFAULT_ENTRY_NAME))throw Ce.create("no-app",{appName:Ve});return Ke[Ve]}return Le.default=Le,Object.defineProperty(Le,"apps",{get:function xe(){return Object.keys(Ke).map(Ve=>Ke[Ve])}}),ht.App=Oe,Le}(le);return Oe.INTERNAL=Object.assign(Object.assign({},Oe.INTERNAL),{createFirebaseNamespace:be,extendNamespace:function Ke(Le){(0,a.ZB)(Oe,Le)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),Oe}(),W=new te.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Oe=self.firebase.SDK_VERSION;Oe&&Oe.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const et=z;!function Me(Oe){(0,O.registerVersion)("@firebase/app-compat","0.2.13",Oe)}()},534:(gt,Se,B)=>{B.r(Se),B.d(Se,{FirebaseError:()=>te.ZR,SDK_VERSION:()=>es,_DEFAULT_ENTRY_NAME:()=>yt,_addComponent:()=>si,_addOrOverwriteComponent:()=>mr,_apps:()=>Ft,_clearComponents:()=>hn,_components:()=>Qt,_getProvider:()=>Jn,_registerComponent:()=>Wt,_removeServiceInstance:()=>Ss,deleteApp:()=>ai,getApp:()=>$i,getApps:()=>oi,initializeApp:()=>ts,onLog:()=>Fn,registerVersion:()=>Gi,setLogLevel:()=>ns});var a=B(5861),j=B(4537),O=B(7879),te=B(9058);const le=(ye,ae)=>ae.some(Fe=>ye instanceof Fe);let re,Ce;const z=new WeakMap,W=new WeakMap,se=new WeakMap,Be=new WeakMap,Me=new WeakMap;let Ke={get(ye,ae,Fe){if(ye instanceof IDBTransaction){if("done"===ae)return W.get(ye);if("objectStoreNames"===ae)return ye.objectStoreNames||se.get(ye);if("store"===ae)return Fe.objectStoreNames[1]?void 0:Fe.objectStore(Fe.objectStoreNames[0])}return ie(ye[ae])},set:(ye,ae,Fe)=>(ye[ae]=Fe,!0),has:(ye,ae)=>ye instanceof IDBTransaction&&("done"===ae||"store"===ae)||ae in ye};function ht(ye){return"function"==typeof ye?function vt(ye){return ye!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function be(){return Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ye)?function(...ae){return ye.apply(xe(this),ae),ie(z.get(this))}:function(...ae){return ie(ye.apply(xe(this),ae))}:function(ae,...Fe){const ct=ye.call(xe(this),ae,...Fe);return se.set(ct,ae.sort?ae.sort():[ae]),ie(ct)}}(ye):(ye instanceof IDBTransaction&&function Oe(ye){if(W.has(ye))return;const ae=new Promise((Fe,ct)=>{const tt=()=>{ye.removeEventListener("complete",jt),ye.removeEventListener("error",un),ye.removeEventListener("abort",un)},jt=()=>{Fe(),tt()},un=()=>{ct(ye.error||new DOMException("AbortError","AbortError")),tt()};ye.addEventListener("complete",jt),ye.addEventListener("error",un),ye.addEventListener("abort",un)});W.set(ye,ae)}(ye),le(ye,function Re(){return re||(re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ye,Ke):ye)}function ie(ye){if(ye instanceof IDBRequest)return function et(ye){const ae=new Promise((Fe,ct)=>{const tt=()=>{ye.removeEventListener("success",jt),ye.removeEventListener("error",un)},jt=()=>{Fe(ie(ye.result)),tt()},un=()=>{ct(ye.error),tt()};ye.addEventListener("success",jt),ye.addEventListener("error",un)});return ae.then(Fe=>{Fe instanceof IDBCursor&&z.set(Fe,ye)}).catch(()=>{}),Me.set(ae,ye),ae}(ye);if(Be.has(ye))return Be.get(ye);const ae=ht(ye);return ae!==ye&&(Be.set(ye,ae),Me.set(ae,ye)),ae}const xe=ye=>Me.get(ye),Ve=["get","getKey","getAll","getAllKeys","count"],oe=["put","add","delete","clear"],ft=new Map;function wt(ye,ae){if(!(ye instanceof IDBDatabase)||ae in ye||"string"!=typeof ae)return;if(ft.get(ae))return ft.get(ae);const Fe=ae.replace(/FromIndex$/,""),ct=ae!==Fe,tt=oe.includes(Fe);if(!(Fe in(ct?IDBIndex:IDBObjectStore).prototype)||!tt&&!Ve.includes(Fe))return;const jt=function(){var un=(0,a.Z)(function*(gi,...Yn){const qi=this.transaction(gi,tt?"readwrite":"readonly");let Ws=qi.store;return ct&&(Ws=Ws.index(Yn.shift())),(yield Promise.all([Ws[Fe](...Yn),tt&&qi.done]))[0]});return function(Yn){return un.apply(this,arguments)}}();return ft.set(ae,jt),jt}!function Le(ye){Ke=ye(Ke)}(ye=>({...ye,get:(ae,Fe,ct)=>wt(ae,Fe)||ye.get(ae,Fe,ct),has:(ae,Fe)=>!!wt(ae,Fe)||ye.has(ae,Fe)}));class Kt{constructor(ae){this.container=ae}getPlatformInfoString(){return this.container.getProviders().map(Fe=>{if(function mi(ye){const ae=ye.getComponent();return"VERSION"===ae?.type}(Fe)){const ct=Fe.getImmediate();return`${ct.library}/${ct.version}`}return null}).filter(Fe=>Fe).join(" ")}}const ir="@firebase/app",On=new O.Yd("@firebase/app"),yt="[DEFAULT]",Ut={[ir]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ft=new Map,Qt=new Map;function si(ye,ae){try{ye.container.addComponent(ae)}catch(Fe){On.debug(`Component ${ae.name} failed to register with FirebaseApp ${ye.name}`,Fe)}}function mr(ye,ae){ye.container.addOrOverwriteComponent(ae)}function Wt(ye){const ae=ye.name;if(Qt.has(ae))return On.debug(`There were multiple attempts to register component ${ae}.`),!1;Qt.set(ae,ye);for(const Fe of Ft.values())si(Fe,ye);return!0}function Jn(ye,ae){const Fe=ye.container.getProvider("heartbeat").getImmediate({optional:!0});return Fe&&Fe.triggerHeartbeat(),ye.container.getProvider(ae)}function Ss(ye,ae,Fe=yt){Jn(ye,ae).clearInstance(Fe)}function hn(){Qt.clear()}const Ht=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Zn{constructor(ae,Fe,ct){this._isDeleted=!1,this._options=Object.assign({},ae),this._config=Object.assign({},Fe),this._name=Fe.name,this._automaticDataCollectionEnabled=Fe.automaticDataCollectionEnabled,this._container=ct,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ae){this._isDeleted=ae}checkDestroyed(){if(this.isDeleted)throw Ht.create("app-deleted",{appName:this._name})}}const es="9.23.0";function ts(ye,ae={}){let Fe=ye;"object"!=typeof ae&&(ae={name:ae});const ct=Object.assign({name:yt,automaticDataCollectionEnabled:!1},ae),tt=ct.name;if("string"!=typeof tt||!tt)throw Ht.create("bad-app-name",{appName:String(tt)});if(Fe||(Fe=(0,te.aH)()),!Fe)throw Ht.create("no-options");const jt=Ft.get(tt);if(jt){if((0,te.vZ)(Fe,jt.options)&&(0,te.vZ)(ct,jt.config))return jt;throw Ht.create("duplicate-app",{appName:tt})}const un=new j.H0(tt);for(const Yn of Qt.values())un.addComponent(Yn);const gi=new Zn(Fe,ct,un);return Ft.set(tt,gi),gi}function $i(ye=yt){const ae=Ft.get(ye);if(!ae&&ye===yt&&(0,te.aH)())return ts();if(!ae)throw Ht.create("no-app",{appName:ye});return ae}function oi(){return Array.from(Ft.values())}function ai(ye){return li.apply(this,arguments)}function li(){return(li=(0,a.Z)(function*(ye){const ae=ye.name;Ft.has(ae)&&(Ft.delete(ae),yield Promise.all(ye.container.getProviders().map(Fe=>Fe.delete())),ye.isDeleted=!0)})).apply(this,arguments)}function Gi(ye,ae,Fe){var ct;let tt=null!==(ct=Ut[ye])&&void 0!==ct?ct:ye;Fe&&(tt+=`-${Fe}`);const jt=tt.match(/\s|\//),un=ae.match(/\s|\//);if(jt||un){const gi=[`Unable to register library "${tt}" with version "${ae}":`];return jt&&gi.push(`library name "${tt}" contains illegal characters (whitespace or "/")`),jt&&un&&gi.push("and"),un&&gi.push(`version name "${ae}" contains illegal characters (whitespace or "/")`),void On.warn(gi.join(" "))}Wt(new j.wA(`${tt}-version`,()=>({library:tt,version:ae}),"VERSION"))}function Fn(ye,ae){if(null!==ye&&"function"!=typeof ye)throw Ht.create("invalid-log-argument");(0,O.Am)(ye,ae)}function ns(ye){(0,O.Ub)(ye)}const Pi="firebase-heartbeat-database",Rr=1,q="firebase-heartbeat-store";let $=null;function F(){return $||($=function de(ye,ae,{blocked:Fe,upgrade:ct,blocking:tt,terminated:jt}={}){const un=indexedDB.open(ye,ae),gi=ie(un);return ct&&un.addEventListener("upgradeneeded",Yn=>{ct(ie(un.result),Yn.oldVersion,Yn.newVersion,ie(un.transaction),Yn)}),Fe&&un.addEventListener("blocked",Yn=>Fe(Yn.oldVersion,Yn.newVersion,Yn)),gi.then(Yn=>{jt&&Yn.addEventListener("close",()=>jt()),tt&&Yn.addEventListener("versionchange",qi=>tt(qi.oldVersion,qi.newVersion,qi))}).catch(()=>{}),gi}(Pi,Rr,{upgrade:(ye,ae)=>{0===ae&&ye.createObjectStore(q)}}).catch(ye=>{throw Ht.create("idb-open",{originalErrorMessage:ye.message})})),$}function R(){return(R=(0,a.Z)(function*(ye){try{return yield(yield F()).transaction(q).objectStore(q).get($e(ye))}catch(ae){if(ae instanceof te.ZR)On.warn(ae.message);else{const Fe=Ht.create("idb-get",{originalErrorMessage:ae?.message});On.warn(Fe.message)}}})).apply(this,arguments)}function X(ye,ae){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,a.Z)(function*(ye,ae){try{const ct=(yield F()).transaction(q,"readwrite");yield ct.objectStore(q).put(ae,$e(ye)),yield ct.done}catch(Fe){if(Fe instanceof te.ZR)On.warn(Fe.message);else{const ct=Ht.create("idb-set",{originalErrorMessage:Fe?.message});On.warn(ct.message)}}})).apply(this,arguments)}function $e(ye){return`${ye.name}!${ye.options.appId}`}class cn{constructor(ae){this.container=ae,this._heartbeatsCache=null;const Fe=this.container.getProvider("app").getImmediate();this._storage=new qt(Fe),this._heartbeatsCachePromise=this._storage.read().then(ct=>(this._heartbeatsCache=ct,ct))}triggerHeartbeat(){var ae=this;return(0,a.Z)(function*(){const ct=ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),tt=Rt();if(null===ae._heartbeatsCache&&(ae._heartbeatsCache=yield ae._heartbeatsCachePromise),ae._heartbeatsCache.lastSentHeartbeatDate!==tt&&!ae._heartbeatsCache.heartbeats.some(jt=>jt.date===tt))return ae._heartbeatsCache.heartbeats.push({date:tt,agent:ct}),ae._heartbeatsCache.heartbeats=ae._heartbeatsCache.heartbeats.filter(jt=>{const un=new Date(jt.date).valueOf();return Date.now()-un<=2592e6}),ae._storage.overwrite(ae._heartbeatsCache)})()}getHeartbeatsHeader(){var ae=this;return(0,a.Z)(function*(){if(null===ae._heartbeatsCache&&(yield ae._heartbeatsCachePromise),null===ae._heartbeatsCache||0===ae._heartbeatsCache.heartbeats.length)return"";const Fe=Rt(),{heartbeatsToSend:ct,unsentEntries:tt}=function gn(ye,ae=1024){const Fe=[];let ct=ye.slice();for(const tt of ye){const jt=Fe.find(un=>un.agent===tt.agent);if(jt){if(jt.dates.push(tt.date),Ni(Fe)>ae){jt.dates.pop();break}}else if(Fe.push({agent:tt.agent,dates:[tt.date]}),Ni(Fe)>ae){Fe.pop();break}ct=ct.slice(1)}return{heartbeatsToSend:Fe,unsentEntries:ct}}(ae._heartbeatsCache.heartbeats),jt=(0,te.L)(JSON.stringify({version:2,heartbeats:ct}));return ae._heartbeatsCache.lastSentHeartbeatDate=Fe,tt.length>0?(ae._heartbeatsCache.heartbeats=tt,yield ae._storage.overwrite(ae._heartbeatsCache)):(ae._heartbeatsCache.heartbeats=[],ae._storage.overwrite(ae._heartbeatsCache)),jt})()}}function Rt(){return(new Date).toISOString().substring(0,10)}class qt{constructor(ae){this.app=ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ae=this;return(0,a.Z)(function*(){return(yield ae._canUseIndexedDBPromise)&&(yield function V(ye){return R.apply(this,arguments)}(ae.app))||{heartbeats:[]}})()}overwrite(ae){var Fe=this;return(0,a.Z)(function*(){var ct;if(yield Fe._canUseIndexedDBPromise){const jt=yield Fe.read();return X(Fe.app,{lastSentHeartbeatDate:null!==(ct=ae.lastSentHeartbeatDate)&&void 0!==ct?ct:jt.lastSentHeartbeatDate,heartbeats:ae.heartbeats})}})()}add(ae){var Fe=this;return(0,a.Z)(function*(){var ct;if(yield Fe._canUseIndexedDBPromise){const jt=yield Fe.read();return X(Fe.app,{lastSentHeartbeatDate:null!==(ct=ae.lastSentHeartbeatDate)&&void 0!==ct?ct:jt.lastSentHeartbeatDate,heartbeats:[...jt.heartbeats,...ae.heartbeats]})}})()}}function Ni(ye){return(0,te.L)(JSON.stringify({version:2,heartbeats:ye})).length}!function qs(ye){Wt(new j.wA("platform-logger",ae=>new Kt(ae),"PRIVATE")),Wt(new j.wA("heartbeat",ae=>new cn(ae),"PRIVATE")),Gi(ir,"0.9.13",ye),Gi(ir,"0.9.13","esm2017"),Gi("fire-js","")}("")},4537:(gt,Se,B)=>{B.d(Se,{H0:()=>Re,wA:()=>O});var a=B(5861),j=B(9058);class O{constructor(z,W,se){this.name=z,this.instanceFactory=W,this.type=se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const te="[DEFAULT]";class le{constructor(z,W){this.name=z,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const W=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(W)){const se=new j.BH;if(this.instancesDeferred.set(W,se),this.isInitialized(W)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:W});Be&&se.resolve(Be)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(z){var W;const se=this.normalizeInstanceIdentifier(z?.identifier),Be=null!==(W=z?.optional)&&void 0!==W&&W;if(!this.isInitialized(se)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:se})}catch(Me){if(Be)return null;throw Me}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function Ce(be){return"EAGER"===be.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:te})}catch{}for(const[W,se]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier(W);try{const Me=this.getOrInitializeService({instanceIdentifier:Be});se.resolve(Me)}catch{}}}}clearInstance(z=te){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,a.Z)(function*(){const W=Array.from(z.instances.values());yield Promise.all([...W.filter(se=>"INTERNAL"in se).map(se=>se.INTERNAL.delete()),...W.filter(se=>"_delete"in se).map(se=>se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=te){return this.instances.has(z)}getOptions(z=te){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:W={}}=z,se=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(se))throw Error(`${this.name}(${se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:se,options:W});for(const[Me,et]of this.instancesDeferred.entries())se===this.normalizeInstanceIdentifier(Me)&&et.resolve(Be);return Be}onInit(z,W){var se;const Be=this.normalizeInstanceIdentifier(W),Me=null!==(se=this.onInitCallbacks.get(Be))&&void 0!==se?se:new Set;Me.add(z),this.onInitCallbacks.set(Be,Me);const et=this.instances.get(Be);return et&&z(et,Be),()=>{Me.delete(z)}}invokeOnInitCallbacks(z,W){const se=this.onInitCallbacks.get(W);if(se)for(const Be of se)try{Be(z,W)}catch{}}getOrInitializeService({instanceIdentifier:z,options:W={}}){let se=this.instances.get(z);if(!se&&this.component&&(se=this.component.instanceFactory(this.container,{instanceIdentifier:(be=z,be===te?void 0:be),options:W}),this.instances.set(z,se),this.instancesOptions.set(z,W),this.invokeOnInitCallbacks(se,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,se)}catch{}var be;return se||null}normalizeInstanceIdentifier(z=te){return this.component?this.component.multipleInstances?z:te:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Re{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const W=this.getProvider(z.name);if(W.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);W.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const W=new le(z,this);return this.providers.set(z,W),W}getProviders(){return Array.from(this.providers.values())}}},7879:(gt,Se,B)=>{B.d(Se,{Am:()=>be,Ub:()=>Re,Yd:()=>Ce,in:()=>j});const a=[];var j=function(z){return z[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",z}(j||{});const O={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},te=j.INFO,le={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},re=(z,W,...se)=>{if(W<z.logLevel)return;const Be=(new Date).toISOString(),Me=le[W];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Me](`[${Be}]  ${z.name}:`,...se)};class Ce{constructor(W){this.name=W,this._logLevel=te,this._logHandler=re,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in j))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?O[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...W),this._logHandler(this,j.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...W),this._logHandler(this,j.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,j.INFO,...W),this._logHandler(this,j.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,j.WARN,...W),this._logHandler(this,j.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...W),this._logHandler(this,j.ERROR,...W)}}function Re(z){a.forEach(W=>{W.setLogLevel(z)})}function be(z,W){for(const se of a){let Be=null;W&&W.level&&(Be=O[W.level]),se.userLogHandler=null===z?null:(Me,et,...Oe)=>{const Ke=Oe.map(Le=>{if(null==Le)return null;if("string"==typeof Le)return Le;if("number"==typeof Le||"boolean"==typeof Le)return Le.toString();if(Le instanceof Error)return Le.message;try{return JSON.stringify(Le)}catch{return null}}).filter(Le=>Le).join(" ");et>=(Be??Me.logLevel)&&z({level:j[et].toLowerCase(),message:Ke,args:Oe,type:Me.name})}}}},3182:(gt,Se,B)=>{B.d(Se,{C6:()=>a.getApps,Mq:()=>a.getApp,ZF:()=>a.initializeApp});var a=B(534);(0,a.registerVersion)("firebase","9.23.0","app")},7142:(gt,Se,B)=>{B.d(Se,{Z:()=>a.Z});var a=B(3106);a.Z.registerVersion("firebase","9.23.0","app-compat")},6365:(gt,Se,B)=>{B.r(Se);var a=B(5861),j=B(3106),O=B(6878),te=B(9058),Ce=(B(534),B(7879),B(4537));function Re(){return window}function W(){return W=(0,a.Z)(function*(F,V,R){var X;const{BuildInfo:Ie}=Re();(0,O.as)(V.sessionId,"AuthEvent did not contain a session ID");const $e=yield function Le(F){return vt.apply(this,arguments)}(V.sessionId),At={};return(0,O.at)()?At.ibi=Ie.packageName:(0,O.au)()?At.apn=Ie.packageName:(0,O.av)(F,"operation-not-supported-in-this-environment"),Ie.displayName&&(At.appDisplayName=Ie.displayName),At.sessionId=$e,(0,O.aw)(F,R,V.type,void 0,null!==(X=V.eventId)&&void 0!==X?X:void 0,At)}),W.apply(this,arguments)}function Be(){return(Be=(0,a.Z)(function*(F){const{BuildInfo:V}=Re(),R={};(0,O.at)()?R.iosBundleId=V.packageName:(0,O.au)()?R.androidPackageName=V.packageName:(0,O.av)(F,"operation-not-supported-in-this-environment"),yield(0,O.ax)(F,R)})).apply(this,arguments)}function Oe(){return(Oe=(0,a.Z)(function*(F,V,R){const{cordova:X}=Re();let Ie=()=>{};try{yield new Promise(($e,At)=>{let it=null;function cn(){var qt;$e();const Ni=null===(qt=X.plugins.browsertab)||void 0===qt?void 0:qt.close;"function"==typeof Ni&&Ni(),"function"==typeof R?.close&&R.close()}function Rt(){it||(it=window.setTimeout(()=>{At((0,O.az)(F,"redirect-cancelled-by-user"))},2e3))}function gn(){"visible"===document?.visibilityState&&Rt()}V.addPassiveListener(cn),document.addEventListener("resume",Rt,!1),(0,O.au)()&&document.addEventListener("visibilitychange",gn,!1),Ie=()=>{V.removePassiveListener(cn),document.removeEventListener("resume",Rt,!1),document.removeEventListener("visibilitychange",gn,!1),it&&window.clearTimeout(it)}})}finally{Ie()}})).apply(this,arguments)}function vt(){return(vt=(0,a.Z)(function*(F){const V=function ht(F){if((0,O.as)(/[0-9a-zA-Z]+/.test(F),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(F);const V=new ArrayBuffer(F.length),R=new Uint8Array(V);for(let X=0;X<F.length;X++)R[X]=F.charCodeAt(X);return R}(F),R=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(R)).map(Ie=>Ie.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class xe extends O.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(R=>R(V)),super.onEvent(V)}initialized(){var V=this;return(0,a.Z)(function*(){yield V.initPromise})()}}function Ve(F){return oe.apply(this,arguments)}function oe(){return(oe=(0,a.Z)(function*(F){const V=yield Kt()._get(mi(F));return V&&(yield Kt()._remove(mi(F))),V})).apply(this,arguments)}function wt(){const F=[];for(let R=0;R<20;R++){const X=Math.floor(62*Math.random());F.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(X))}return F.join("")}function Kt(){return(0,O.aC)(O.b)}function mi(F){return(0,O.aD)("authEvent",F.config.apiKey,F.name)}function On(F){if(!F?.includes("?"))return{};const[V,...R]=F.split("?");return(0,te.zd)(R.join("?"))}const pe=class Gs{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aE,this._overrideRedirectResult=O.aF}_initialize(V){var R=this;return(0,a.Z)(function*(){const X=V._key();let Ie=R.eventManagers.get(X);return Ie||(Ie=new xe(V),R.eventManagers.set(X,Ie),R.attachCallbackListeners(V,Ie)),Ie})()}_openPopup(V){(0,O.av)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,R,X,Ie){var $e=this;return(0,a.Z)(function*(){!function Ke(F){var V,R,X,Ie,$e,At,it,cn,Rt,gn;const qt=Re();(0,O.aA)("function"==typeof(null===(V=qt?.universalLinks)||void 0===V?void 0:V.subscribe),F,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aA)(typeof(null===(R=qt?.BuildInfo)||void 0===R?void 0:R.packageName)<"u",F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aA)("function"==typeof(null===($e=null===(Ie=null===(X=qt?.cordova)||void 0===X?void 0:X.plugins)||void 0===Ie?void 0:Ie.browsertab)||void 0===$e?void 0:$e.openUrl),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aA)("function"==typeof(null===(cn=null===(it=null===(At=qt?.cordova)||void 0===At?void 0:At.plugins)||void 0===it?void 0:it.browsertab)||void 0===cn?void 0:cn.isAvailable),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aA)("function"==typeof(null===(gn=null===(Rt=qt?.cordova)||void 0===Rt?void 0:Rt.InAppBrowser)||void 0===gn?void 0:gn.open),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const At=yield $e._initialize(V);yield At.initialized(),At.resetRedirect(),(0,O.aG)(),yield $e._originValidation(V);const it=function de(F,V,R=null){return{type:V,eventId:R,urlResponse:null,sessionId:wt(),postBody:null,tenantId:F.tenantId,error:(0,O.az)(F,"no-auth-event")}}(V,X,Ie);yield function De(F,V){return Kt()._set(mi(F),V)}(V,it);const cn=yield function z(F,V,R){return W.apply(this,arguments)}(V,it,R),Rt=yield function Me(F){const{cordova:V}=Re();return new Promise(R=>{V.plugins.browsertab.isAvailable(X=>{let Ie=null;X?V.plugins.browsertab.openUrl(F):Ie=V.InAppBrowser.open(F,(0,O.ay)()?"_blank":"_system","location=yes"),R(Ie)})})}(cn);return function et(F,V,R){return Oe.apply(this,arguments)}(V,At,Rt)})()}_isIframeWebStorageSupported(V,R){throw new Error("Method not implemented.")}_originValidation(V){const R=V._key();return this.originValidationPromises[R]||(this.originValidationPromises[R]=function se(F){return Be.apply(this,arguments)}(V)),this.originValidationPromises[R]}attachCallbackListeners(V,R){const{universalLinks:X,handleOpenURL:Ie,BuildInfo:$e}=Re(),At=setTimeout((0,a.Z)(function*(){yield Ve(V),R.onEvent(_e())}),500),it=function(){var gn=(0,a.Z)(function*(qt){clearTimeout(At);const Ni=yield Ve(V);let qs=null;Ni&&qt?.url&&(qs=function ft(F,V){var R,X;const Ie=function Ds(F){const V=On(F),R=V.link?decodeURIComponent(V.link):void 0,X=On(R).link,Ie=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return On(Ie).link||Ie||X||R||F}(V);if(Ie.includes("/__/auth/callback")){const $e=On(Ie),At=$e.firebaseError?function ir(F){try{return JSON.parse(F)}catch{return null}}(decodeURIComponent($e.firebaseError)):null,it=null===(X=null===(R=At?.code)||void 0===R?void 0:R.split("auth/"))||void 0===X?void 0:X[1],cn=it?(0,O.az)(it):null;return cn?{type:F.type,eventId:F.eventId,tenantId:F.tenantId,error:cn,urlResponse:null,sessionId:null,postBody:null}:{type:F.type,eventId:F.eventId,tenantId:F.tenantId,sessionId:F.sessionId,urlResponse:Ie,postBody:null}}return null}(Ni,qt.url)),R.onEvent(qs||_e())});return function(Ni){return gn.apply(this,arguments)}}();typeof X<"u"&&"function"==typeof X.subscribe&&X.subscribe(null,it);const cn=Ie,Rt=`${$e.packageName.toLowerCase()}://`;Re().handleOpenURL=function(){var gn=(0,a.Z)(function*(qt){if(qt.toLowerCase().startsWith(Rt)&&it({url:qt}),"function"==typeof cn)try{cn(qt)}catch(Ni){console.error(Ni)}});return function(qt){return gn.apply(this,arguments)}}()}};function _e(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.az)("no-auth-event")}}function nt(){var F;return(null===(F=self?.location)||void 0===F?void 0:F.protocol)||null}function pn(F=(0,te.z$)()){return!("file:"!==nt()&&"ionic:"!==nt()&&"capacitor:"!==nt()||!F.toLowerCase().match(/iphone|ipad|ipod|android/))}function qn(){try{const F=self.localStorage,V=O.aL();if(F)return F.setItem(V,"1"),F.removeItem(V),!function mn(F=(0,te.z$)()){return function ln(){return(0,te.w1)()&&11===document?.documentMode}()||function Vt(F=(0,te.z$)()){return/Edge\/\d+/.test(F)}(F)}()||(0,te.hl)()}catch{return Bn()&&(0,te.hl)()}return!1}function Bn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function fn(){return(function Ze(){return"http:"===nt()||"https:"===nt()}()||(0,te.ru)()||pn())&&!function St(){return(0,te.b$)()||(0,te.UG)()}()&&qn()&&!Bn()}function ri(){return pn()&&typeof document<"u"}function kr(){return(kr=(0,a.Z)(function*(){return!!ri()&&new Promise(F=>{const V=setTimeout(()=>{F(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(V),F(!0)})})})).apply(this,arguments)}const Wn={LOCAL:"local",NONE:"none",SESSION:"session"},rr=O.aA,Is="persistence";function Ut(F){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,a.Z)(function*(F){yield F._initializationPromise;const V=si(),R=O.aD(Is,F.config.apiKey,F.name);V&&V.setItem(R,F._getPersistence())})).apply(this,arguments)}function si(){var F;try{return(null===(F=function Oi(){return typeof window<"u"?window:null}())||void 0===F?void 0:F.sessionStorage)||null}catch{return null}}const mr=O.aA;class Wt{constructor(){this.browserResolver=O.aC(O.k),this.cordovaResolver=O.aC(pe),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aE,this._overrideRedirectResult=O.aF}_initialize(V){var R=this;return(0,a.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,R,X,Ie){var $e=this;return(0,a.Z)(function*(){return yield $e.selectUnderlyingResolver(),$e.assertedUnderlyingResolver._openPopup(V,R,X,Ie)})()}_openRedirect(V,R,X,Ie){var $e=this;return(0,a.Z)(function*(){return yield $e.selectUnderlyingResolver(),$e.assertedUnderlyingResolver._openRedirect(V,R,X,Ie)})()}_isIframeWebStorageSupported(V,R){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,R)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return ri()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return mr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,a.Z)(function*(){if(V.underlyingResolver)return;const R=yield function Mr(){return kr.apply(this,arguments)}();V.underlyingResolver=R?V.cordovaResolver:V.browserResolver})()}}function Jn(F){return F.unwrap()}function hn(F){return Ht(F)}function Ht(F){const{_tokenResponse:V}=F instanceof te.ZR?F.customData:F;if(!V)return null;if(!(F instanceof te.ZR)&&"temporaryProof"in V&&"phoneNumber"in V)return O.P.credentialFromResult(F);const R=V.providerId;if(!R||R===O.p.PASSWORD)return null;let X;switch(R){case O.p.GOOGLE:X=O.V;break;case O.p.FACEBOOK:X=O.U;break;case O.p.GITHUB:X=O.W;break;case O.p.TWITTER:X=O.Z;break;default:const{oauthIdToken:Ie,oauthAccessToken:$e,oauthTokenSecret:At,pendingToken:it,nonce:cn}=V;return $e||At||Ie||it?it?R.startsWith("saml.")?O.aO._create(R,it):O.L._fromParams({providerId:R,signInMethod:R,pendingToken:it,idToken:Ie,accessToken:$e}):new O.X(R).credential({idToken:Ie,accessToken:$e,rawNonce:cn}):null}return F instanceof te.ZR?X.credentialFromError(F):X.credentialFromResult(F)}function Zn(F,V){return V.catch(R=>{throw R instanceof te.ZR&&function gr(F,V){var R;const X=null===(R=V.customData)||void 0===R?void 0:R._tokenResponse;if("auth/multi-factor-auth-required"===V?.code)V.resolver=new $i(F,O.aq(F,V));else if(X){const Ie=Ht(V),$e=V;Ie&&($e.credential=Ie,$e.tenantId=X.tenantId||void 0,$e.email=X.email||void 0,$e.phoneNumber=X.phoneNumber||void 0)}}(F,R),R}).then(R=>{const Ie=R.user;return{operationType:R.operationType,credential:hn(R),additionalUserInfo:O.ao(R),user:oi.getOrCreate(Ie)}})}function es(F,V){return ts.apply(this,arguments)}function ts(){return(ts=(0,a.Z)(function*(F,V){const R=yield V;return{verificationId:R.verificationId,confirm:X=>Zn(F,R.confirm(X))}})).apply(this,arguments)}class $i{constructor(V,R){this.resolver=R,this.auth=function Ss(F){return F.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return Zn(Jn(this.auth),this.resolver.resolveSignIn(V))}}class oi{constructor(V){this._delegate=V,this.multiFactor=O.ar(V)}static getOrCreate(V){return oi.USER_MAP.has(V)||oi.USER_MAP.set(V,new oi(V)),oi.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var R=this;return(0,a.Z)(function*(){return Zn(R.auth,O.a0(R._delegate,V))})()}linkWithPhoneNumber(V,R){var X=this;return(0,a.Z)(function*(){return es(X.auth,O.l(X._delegate,V,R))})()}linkWithPopup(V){var R=this;return(0,a.Z)(function*(){return Zn(R.auth,O.d(R._delegate,V,Wt))})()}linkWithRedirect(V){var R=this;return(0,a.Z)(function*(){return yield Ut(O.aH(R.auth)),O.g(R._delegate,V,Wt)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var R=this;return(0,a.Z)(function*(){return Zn(R.auth,O.a1(R._delegate,V))})()}reauthenticateWithPhoneNumber(V,R){return es(this.auth,O.r(this._delegate,V,R))}reauthenticateWithPopup(V){return Zn(this.auth,O.e(this._delegate,V,Wt))}reauthenticateWithRedirect(V){var R=this;return(0,a.Z)(function*(){return yield Ut(O.aH(R.auth)),O.h(R._delegate,V,Wt)})()}sendEmailVerification(V){return O.ae(this._delegate,V)}unlink(V){var R=this;return(0,a.Z)(function*(){return yield O.an(R._delegate,V),R})()}updateEmail(V){return O.aj(this._delegate,V)}updatePassword(V){return O.ak(this._delegate,V)}updatePhoneNumber(V){return O.u(this._delegate,V)}updateProfile(V){return O.ai(this._delegate,V)}verifyBeforeUpdateEmail(V,R){return O.af(this._delegate,V,R)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}oi.USER_MAP=new WeakMap;const ai=O.aA;let li=(()=>{class F{constructor(R,X){if(this.app=R,X.isInitialized())return this._delegate=X.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ie}=R.options;ai(Ie,"invalid-api-key",{appName:R.name}),ai(Ie,"invalid-api-key",{appName:R.name});const $e=typeof window<"u"?Wt:void 0;this._delegate=X.initialize({options:{persistence:Fn(Ie,R.name),popupRedirectResolver:$e}}),this._delegate._updateErrorMap(O.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?oi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(R){this._delegate.languageCode=R}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(R){this._delegate.tenantId=R}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(R,X){O.I(this._delegate,R,X)}applyActionCode(R){return O.a5(this._delegate,R)}checkActionCode(R){return O.a6(this._delegate,R)}confirmPasswordReset(R,X){return O.a4(this._delegate,R,X)}createUserWithEmailAndPassword(R,X){var Ie=this;return(0,a.Z)(function*(){return Zn(Ie._delegate,O.a8(Ie._delegate,R,X))})()}fetchProvidersForEmail(R){return this.fetchSignInMethodsForEmail(R)}fetchSignInMethodsForEmail(R){return O.ad(this._delegate,R)}isSignInWithEmailLink(R){return O.ab(this._delegate,R)}getRedirectResult(){var R=this;return(0,a.Z)(function*(){ai(fn(),R._delegate,"operation-not-supported-in-this-environment");const X=yield O.j(R._delegate,Wt);return X?Zn(R._delegate,Promise.resolve(X)):{credential:null,user:null}})()}addFrameworkForLogging(R){!function Ee(F,V){(0,O.aH)(F)._logFramework(V)}(this._delegate,R)}onAuthStateChanged(R,X,Ie){const{next:$e,error:At,complete:it}=Gi(R,X,Ie);return this._delegate.onAuthStateChanged($e,At,it)}onIdTokenChanged(R,X,Ie){const{next:$e,error:At,complete:it}=Gi(R,X,Ie);return this._delegate.onIdTokenChanged($e,At,it)}sendSignInLinkToEmail(R,X){return O.aa(this._delegate,R,X)}sendPasswordResetEmail(R,X){return O.a3(this._delegate,R,X||void 0)}setPersistence(R){var X=this;return(0,a.Z)(function*(){let Ie;switch(function yt(F,V){rr(Object.values(Wn).includes(V),F,"invalid-persistence-type"),(0,te.b$)()?rr(V!==Wn.SESSION,F,"unsupported-persistence-type"):(0,te.UG)()?rr(V===Wn.NONE,F,"unsupported-persistence-type"):Bn()?rr(V===Wn.NONE||V===Wn.LOCAL&&(0,te.hl)(),F,"unsupported-persistence-type"):rr(V===Wn.NONE||qn(),F,"unsupported-persistence-type")}(X._delegate,R),R){case Wn.SESSION:Ie=O.a;break;case Wn.LOCAL:Ie=(yield O.aC(O.i)._isAvailable())?O.i:O.b;break;case Wn.NONE:Ie=O.N;break;default:return O.av("argument-error",{appName:X._delegate.name})}return X._delegate.setPersistence(Ie)})()}signInAndRetrieveDataWithCredential(R){return this.signInWithCredential(R)}signInAnonymously(){return Zn(this._delegate,O._(this._delegate))}signInWithCredential(R){return Zn(this._delegate,O.$(this._delegate,R))}signInWithCustomToken(R){return Zn(this._delegate,O.a2(this._delegate,R))}signInWithEmailAndPassword(R,X){return Zn(this._delegate,O.a9(this._delegate,R,X))}signInWithEmailLink(R,X){return Zn(this._delegate,O.ac(this._delegate,R,X))}signInWithPhoneNumber(R,X){return es(this._delegate,O.s(this._delegate,R,X))}signInWithPopup(R){var X=this;return(0,a.Z)(function*(){return ai(fn(),X._delegate,"operation-not-supported-in-this-environment"),Zn(X._delegate,O.c(X._delegate,R,Wt))})()}signInWithRedirect(R){var X=this;return(0,a.Z)(function*(){return ai(fn(),X._delegate,"operation-not-supported-in-this-environment"),yield Ut(X._delegate),O.f(X._delegate,R,Wt)})()}updateCurrentUser(R){return this._delegate.updateCurrentUser(R)}verifyPasswordResetCode(R){return O.a7(this._delegate,R)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return F.Persistence=Wn,F})();function Gi(F,V,R){let X=F;"function"!=typeof F&&({next:X,error:V,complete:R}=F);const Ie=X;return{next:At=>Ie(At&&oi.getOrCreate(At)),error:V,complete:R}}function Fn(F,V){const R=function Qt(F,V){const R=si();if(!R)return[];const X=O.aD(Is,F,V);switch(R.getItem(X)){case Wn.NONE:return[O.N];case Wn.LOCAL:return[O.i,O.a];case Wn.SESSION:return[O.a];default:return[]}}(F,V);if(typeof self<"u"&&!R.includes(O.i)&&R.push(O.i),typeof window<"u")for(const X of[O.b,O.a])R.includes(X)||R.push(X);return R.includes(O.N)||R.push(O.N),R}class ns{constructor(){this.providerId="phone",this._delegate=new O.P(Jn(j.Z.auth()))}static credential(V,R){return O.P.credential(V,R)}verifyPhoneNumber(V,R){return this._delegate.verifyPhoneNumber(V,R)}unwrap(){return this._delegate}}ns.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,ns.PROVIDER_ID=O.P.PROVIDER_ID;const Pi=O.aA;class Rr{constructor(V,R,X=j.Z.app()){var Ie;Pi(null===(Ie=X.options)||void 0===Ie?void 0:Ie.apiKey,"invalid-api-key",{appName:X.name}),this._delegate=new O.R(V,R,X.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function $(F){F.INTERNAL.registerComponent(new Ce.wA("auth-compat",V=>{const R=V.getProvider("app-compat").getImmediate(),X=V.getProvider("auth");return new li(R,X)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.Q,FacebookAuthProvider:O.U,GithubAuthProvider:O.W,GoogleAuthProvider:O.V,OAuthProvider:O.X,SAMLAuthProvider:O.Y,PhoneAuthProvider:ns,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:Rr,TwitterAuthProvider:O.Z,Auth:li,AuthCredential:O.J,Error:te.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),F.registerVersion("@firebase/auth-compat","0.4.2")}(j.Z)},5861:(gt,Se,B)=>{function a(O,te,le,re,Ce,Re,be){try{var z=O[Re](be),W=z.value}catch(se){return void le(se)}z.done?te(W):Promise.resolve(W).then(re,Ce)}function j(O){return function(){var te=this,le=arguments;return new Promise(function(re,Ce){var Re=O.apply(te,le);function be(W){a(Re,re,Ce,be,z,"next",W)}function z(W){a(Re,re,Ce,be,z,"throw",W)}be(void 0)})}}B.d(Se,{Z:()=>j})},7582:(gt,Se,B)=>{function te(pe,_e){var Ee={};for(var he in pe)Object.prototype.hasOwnProperty.call(pe,he)&&_e.indexOf(he)<0&&(Ee[he]=pe[he]);if(null!=pe&&"function"==typeof Object.getOwnPropertySymbols){var Te=0;for(he=Object.getOwnPropertySymbols(pe);Te<he.length;Te++)_e.indexOf(he[Te])<0&&Object.prototype.propertyIsEnumerable.call(pe,he[Te])&&(Ee[he[Te]]=pe[he[Te]])}return Ee}function se(pe,_e,Ee,he){return new(Ee||(Ee=Promise))(function(He,nt){function Ze(ln){try{St(he.next(ln))}catch(Vt){nt(Vt)}}function pn(ln){try{St(he.throw(ln))}catch(Vt){nt(Vt)}}function St(ln){ln.done?He(ln.value):function Te(He){return He instanceof Ee?He:new Ee(function(nt){nt(He)})}(ln.value).then(Ze,pn)}St((he=he.apply(pe,_e||[])).next())})}function ie(pe){return this instanceof ie?(this.v=pe,this):new ie(pe)}function xe(pe,_e,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,he=Ee.apply(pe,_e||[]),He=[];return Te={},nt("next"),nt("throw"),nt("return"),Te[Symbol.asyncIterator]=function(){return this},Te;function nt(mn){he[mn]&&(Te[mn]=function(qn){return new Promise(function(Bn,fn){He.push([mn,qn,Bn,fn])>1||Ze(mn,qn)})})}function Ze(mn,qn){try{!function pn(mn){mn.value instanceof ie?Promise.resolve(mn.value.v).then(St,ln):Vt(He[0][2],mn)}(he[mn](qn))}catch(Bn){Vt(He[0][3],Bn)}}function St(mn){Ze("next",mn)}function ln(mn){Ze("throw",mn)}function Vt(mn,qn){mn(qn),He.shift(),He.length&&Ze(He[0][0],He[0][1])}}function De(pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,_e=pe[Symbol.asyncIterator];return _e?_e.call(pe):(pe=function Oe(pe){var _e="function"==typeof Symbol&&Symbol.iterator,Ee=_e&&pe[_e],he=0;if(Ee)return Ee.call(pe);if(pe&&"number"==typeof pe.length)return{next:function(){return pe&&he>=pe.length&&(pe=void 0),{value:pe&&pe[he++],done:!pe}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(pe),Ee={},he("next"),he("throw"),he("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function he(He){Ee[He]=pe[He]&&function(nt){return new Promise(function(Ze,pn){!function Te(He,nt,Ze,pn){Promise.resolve(pn).then(function(St){He({value:St,done:Ze})},nt)}(Ze,pn,(nt=pe[He](nt)).done,nt.value)})}}}B.d(Se,{FC:()=>xe,KL:()=>De,_T:()=>te,mG:()=>se,qq:()=>ie}),"function"==typeof SuppressedError&&SuppressedError}},gt=>{gt(gt.s=9283)}]);