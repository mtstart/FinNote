(self.webpackChunkFinNote=self.webpackChunkFinNote||[]).push([[179],{2011:(dt,Se,O)=>{"use strict";O.d(Se,{Dh:()=>ce,GT:()=>ge,cc:()=>Ae,hO:()=>Be,on:()=>j,pX:()=>se,xv:()=>me});var s=O(5e3),V=O(127),R=O(5813);dt=O.hmd(dt);const ae=["ngOnDestroy"],se=(ue,xe,Re,fe={})=>new Proxy(ue,{get:(Ce,we)=>Re.runOutsideAngular(()=>{var Ge;if(ue[we])return(null===(Ge=null==fe?void 0:fe.spy)||void 0===Ge?void 0:Ge.get)&&fe.spy.get(we,ue[we]),ue[we];if(ae.indexOf(we)>-1)return()=>{};const ne=xe.toPromise().then(nt=>{const Q=nt&&nt[we];return"function"==typeof Q?Q.bind(nt):Q&&Q.then?Q.then(pe=>Re.run(()=>pe)):Re.run(()=>Q)});return new Proxy(()=>{},{get:(nt,Q)=>ne[Q],apply:(nt,Q,pe)=>ne.then(he=>{var _e;const Le=he&&he(...pe);return(null===(_e=null==fe?void 0:fe.spy)||void 0===_e?void 0:_e.apply)&&fe.spy.apply(we,pe,Le),Le})})})}),ge=(ue,xe)=>{xe.forEach(Re=>{Object.getOwnPropertyNames(Re.prototype||Re).forEach(fe=>{Object.defineProperty(ue.prototype,fe,Object.getOwnPropertyDescriptor(Re.prototype||Re,fe))})})};class X{constructor(xe){return xe}}const ce=new s.OlP("angularfire2.app.options"),me=new s.OlP("angularfire2.app.name");function j(ue,xe,Re){const Ce="object"==typeof Re&&Re||{};Ce.name=Ce.name||"string"==typeof Re&&Re||"[DEFAULT]";const Ge=V.Z.apps.filter(ne=>ne&&ne.name===Ce.name)[0]||xe.runOutsideAngular(()=>V.Z.initializeApp(ue,Ce));try{JSON.stringify(ue)!==JSON.stringify(Ge.options)&&H("error",`${Ge.name} Firebase App already initialized with different options${dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ne){}return new X(Ge)}const H=(ue,...xe)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[ue](...xe)},te={provide:X,useFactory:j,deps:[ce,s.R0b,[new s.FiY,me]]};let Be=(()=>{class ue{constructor(Re){V.Z.registerVersion("angularfire",R.q4.full,"core"),V.Z.registerVersion("angularfire",R.q4.full,"app-compat"),V.Z.registerVersion("angular",s.q4F.full,Re.toString())}static initializeApp(Re,fe){return{ngModule:ue,providers:[{provide:ce,useValue:Re},{provide:me,useValue:fe}]}}}return ue.\u0275fac=function(Re){return new(Re||ue)(s.LFG(s.Lbi))},ue.\u0275mod=s.oAB({type:ue}),ue.\u0275inj=s.cJS({providers:[te]}),ue})();function Ae(ue,xe,Re,fe,Ce){const[,we,Ge]=globalThis.\u0275AngularfireInstanceCache.find(ne=>ne[0]===ue)||[];if(we)return function Fe(ue,xe){try{return ue.toString()===xe.toString()}catch(Re){return ue===xe}}(Ce,Ge)||(K("error",`${xe} was already initialized on the ${Re} Firebase App with different settings.${Ue?" You may need to reload as Firebase is not HMR aware.":""}`),K("warn",{is:Ce,was:Ge})),we;{const ne=fe();return globalThis.\u0275AngularfireInstanceCache.push([ue,ne,Ce]),ne}}const Ue=!!dt.hot,K=(ue,...xe)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[ue](...xe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(dt,Se,O)=>{"use strict";O.d(Se,{q4:()=>Vr,iC:()=>cl,HU:()=>pu,vb:()=>ds,JM:()=>sc,u3:()=>Lh});var s=O(5e3),V=O(5867),R=O(5861),ae=O(9681),se=O(2090),ge=O(4859),X=O(1877),ce=O(2940);const me="@firebase/installations",j="0.5.5",te=`w:${j}`,Be="FIS_v2",xe=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Re(T){return T instanceof se.ZR&&T.code.includes("request-failed")}function fe({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function Ce(T){return{token:T.token,requestStatus:2,expiresIn:he(T.expiresIn),creationTime:Date.now()}}function we(T,I){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,R.Z)(function*(T,I){const L=(yield I.json()).error;return xe.create("request-failed",{requestName:T,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function ne({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function nt(T,{refreshToken:I}){const k=ne(T);return k.append("Authorization",function _e(T){return`${Be} ${T}`}(I)),k}function Q(T){return pe.apply(this,arguments)}function pe(){return(pe=(0,R.Z)(function*(T){const I=yield T();return I.status>=500&&I.status<600?T():I})).apply(this,arguments)}function he(T){return Number(T.replace("s","000"))}function Le(T,I){return de.apply(this,arguments)}function de(){return(de=(0,R.Z)(function*(T,{fid:I}){const k=fe(T),le={method:"POST",headers:ne(T),body:JSON.stringify({fid:I,authVersion:Be,appId:T.appId,sdkVersion:te})},Ie=yield Q(()=>fetch(k,le));if(Ie.ok){const qe=yield Ie.json();return{fid:qe.fid||I,registrationStatus:2,refreshToken:qe.refreshToken,authToken:Ce(qe.authToken)}}throw yield we("Create Installation",Ie)})).apply(this,arguments)}function Dt(T){return new Promise(I=>{setTimeout(I,T)})}const qn=/^[cdef][\w-]{21}$/;function ot(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const k=function ai(T){return function tn(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return qn.test(k)?k:""}catch(T){return""}}function fn(T){return`${T.appName}!${T.appId}`}const Ti=new Map;function sn(T,I){const k=fn(T);xn(k,I),function Qr(T,I){const k=function Ii(){return!Kn&&"BroadcastChannel"in self&&(Kn=new BroadcastChannel("[Firebase] FID Change"),Kn.onmessage=T=>{xn(T.data.key,T.data.fid)}),Kn}();k&&k.postMessage({key:T,fid:I}),function Jr(){0===Ti.size&&Kn&&(Kn.close(),Kn=null)}()}(k,I)}function xn(T,I){const k=Ti.get(T);if(k)for(const L of k)L(I)}let Kn=null;const Qn="firebase-installations-store";let Xr=null;function mt(){return Xr||(Xr=(0,ce.openDb)("firebase-installations-database",1,T=>{0===T.oldVersion&&T.createObjectStore(Qn)})),Xr}function Fi(T,I){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,R.Z)(function*(T,I){const k=fn(T),z=(yield mt()).transaction(Qn,"readwrite"),le=z.objectStore(Qn),Ie=yield le.get(k);return yield le.put(I,k),yield z.complete,(!Ie||Ie.fid!==I.fid)&&sn(T,I.fid),I})).apply(this,arguments)}function Jt(T){return Li.apply(this,arguments)}function Li(){return(Li=(0,R.Z)(function*(T){const I=fn(T),L=(yield mt()).transaction(Qn,"readwrite");yield L.objectStore(Qn).delete(I),yield L.complete})).apply(this,arguments)}function _t(T,I){return ht.apply(this,arguments)}function ht(){return(ht=(0,R.Z)(function*(T,I){const k=fn(T),z=(yield mt()).transaction(Qn,"readwrite"),le=z.objectStore(Qn),Ie=yield le.get(k),qe=I(Ie);return void 0===qe?yield le.delete(k):yield le.put(qe,k),yield z.complete,qe&&(!Ie||Ie.fid!==qe.fid)&&sn(T,qe.fid),qe})).apply(this,arguments)}function Mt(T){return on.apply(this,arguments)}function on(){return(on=(0,R.Z)(function*(T){let I;const k=yield _t(T,L=>{const z=yi(L),le=Pt(T,z);return I=le.registrationPromise,le.installationEntry});return""===k.fid?{installationEntry:yield I}:{installationEntry:k,registrationPromise:I}})).apply(this,arguments)}function yi(T){return no(T||{fid:ot(),registrationStatus:0})}function Pt(T,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(xe.create("app-offline"))};const k={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function at(T,I){return Je.apply(this,arguments)}(T,k);return{installationEntry:k,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:to(T)}:{installationEntry:I}}function Je(){return(Je=(0,R.Z)(function*(T,I){try{return Fi(T,yield Le(T,I))}catch(k){throw Re(k)&&409===k.customData.serverCode?yield Jt(T):yield Fi(T,{fid:I.fid,registrationStatus:0}),k}})).apply(this,arguments)}function to(T){return bs.apply(this,arguments)}function bs(){return(bs=(0,R.Z)(function*(T){let I=yield Zt(T);for(;1===I.registrationStatus;)yield Dt(100),I=yield Zt(T);if(0===I.registrationStatus){const{installationEntry:k,registrationPromise:L}=yield Mt(T);return L||k}return I})).apply(this,arguments)}function Zt(T){return _t(T,I=>{if(!I)throw xe.create("installation-not-found");return no(I)})}function no(T){return function Jn(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function Dn(T,I){return U.apply(this,arguments)}function U(){return(U=(0,R.Z)(function*({appConfig:T,platformLoggerProvider:I},k){const L=$(T,k),z=nt(T,k),le=I.getImmediate({optional:!0});le&&z.append("x-firebase-client",le.getPlatformInfoString());const qe={method:"POST",headers:z,body:JSON.stringify({installation:{sdkVersion:te}})},tt=yield Q(()=>fetch(L,qe));if(tt.ok)return Ce(yield tt.json());throw yield we("Generate Auth Token",tt)})).apply(this,arguments)}function $(T,{fid:I}){return`${fe(T)}/${I}/authTokens:generate`}function W(T){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,R.Z)(function*(T,I=!1){let k;const L=yield _t(T.appConfig,le=>{if(!Xn(le))throw xe.create("not-registered");const Ie=le.authToken;if(!I&&li(Ie))return le;if(1===Ie.requestStatus)return k=ie(T,I),le;{if(!navigator.onLine)throw xe.create("app-offline");const qe=ei(le);return k=Xt(T,qe),qe}});return k?yield k:L.authToken})).apply(this,arguments)}function ie(T,I){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,R.Z)(function*(T,I){let k=yield gt(T.appConfig);for(;1===k.authToken.requestStatus;)yield Dt(100),k=yield gt(T.appConfig);const L=k.authToken;return 0===L.requestStatus?W(T,I):L})).apply(this,arguments)}function gt(T){return _t(T,I=>{if(!Xn(I))throw xe.create("not-registered");return function oe(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Xt(T,I){return pn.apply(this,arguments)}function pn(){return(pn=(0,R.Z)(function*(T,I){try{const k=yield Dn(T,I),L=Object.assign(Object.assign({},I),{authToken:k});return yield Fi(T.appConfig,L),k}catch(k){if(!Re(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Fi(T.appConfig,L)}else yield Jt(T.appConfig);throw k}})).apply(this,arguments)}function Xn(T){return void 0!==T&&2===T.registrationStatus}function li(T){return 2===T.requestStatus&&!function Ft(T){const I=Date.now();return I<T.creationTime||T.creationTime+T.expiresIn<I+36e5}(T)}function ei(T){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:I})}function Z(){return(Z=(0,R.Z)(function*(T){const I=T,{installationEntry:k,registrationPromise:L}=yield Mt(I.appConfig);return L?L.catch(console.error):W(I).catch(console.error),k.fid})).apply(this,arguments)}function ze(){return(ze=(0,R.Z)(function*(T,I=!1){const k=T;return yield ct(k.appConfig),(yield W(k,I)).token})).apply(this,arguments)}function ct(T){return xt.apply(this,arguments)}function xt(){return(xt=(0,R.Z)(function*(T){const{registrationPromise:I}=yield Mt(T);I&&(yield I)})).apply(this,arguments)}function ka(T){return xe.create("missing-app-config-values",{valueName:T})}const gn="installations",jt=T=>{const I=T.getProvider("app").getImmediate(),k=function vi(T){if(!T||!T.options)throw ka("App Configuration");if(!T.name)throw ka("App Name");const I=["projectId","apiKey","appId"];for(const k of I)if(!T.options[k])throw ka(k);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(I);return{app:I,appConfig:k,platformLoggerProvider:(0,ae._getProvider)(I,"platform-logger"),_delete:()=>Promise.resolve()}},_n=T=>{const I=T.getProvider("app").getImmediate(),k=(0,ae._getProvider)(I,gn).getImmediate();return{getId:()=>function Y(T){return Z.apply(this,arguments)}(k),getToken:z=>function Te(T){return ze.apply(this,arguments)}(k,z)}};(function ir(){(0,ae._registerComponent)(new ge.wA(gn,jt,"PUBLIC")),(0,ae._registerComponent)(new ge.wA("installations-internal",_n,"PRIVATE"))})(),(0,ae.registerVersion)(me,j),(0,ae.registerVersion)(me,j,"esm2017");const ts="@firebase/remote-config",$n=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Vl{constructor(I,k,L,z){this.client=I,this.storage=k,this.storageCache=L,this.logger=z}isCachedDataFresh(I,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-k,z=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${z}.`),z}fetch(I){var k=this;return(0,R.Z)(function*(){const[L,z]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(z&&k.isCachedDataFresh(I.cacheMaxAgeMillis,L))return z;I.eTag=z&&z.eTag;const le=yield k.client.fetch(I),Ie=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===le.status&&Ie.push(k.storage.setLastSuccessfulFetchResponse(le)),yield Promise.all(Ie),le})()}}function so(T=navigator){return T.languages&&T.languages[0]||T.language}class rr{constructor(I,k,L,z,le,Ie){this.firebaseInstallations=I,this.sdkVersion=k,this.namespace=L,this.projectId=z,this.apiKey=le,this.appId=Ie}fetch(I){var k=this;return(0,R.Z)(function*(){const[L,z]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Ie=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,qe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},tt={sdk_version:k.sdkVersion,app_instance_id:L,app_instance_id_token:z,app_id:k.appId,language_code:so()},Gt={method:"POST",headers:qe,body:JSON.stringify(tt)},Kt=fetch(Ie,Gt),Ui=new Promise((Hi,ks)=>{I.signal.addEventListener(()=>{const dl=new Error("The operation was aborted.");dl.name="AbortError",ks(dl)})});let ki;try{yield Promise.race([Kt,Ui]),ki=yield Kt}catch(Hi){let ks="fetch-client-network";throw"AbortError"===Hi.name&&(ks="fetch-timeout"),$n.create(ks,{originalErrorMessage:Hi.message})}let Nn=ki.status;const xs=ki.headers.get("ETag")||void 0;let or,No;if(200===ki.status){let Hi;try{Hi=yield ki.json()}catch(ks){throw $n.create("fetch-client-parse",{originalErrorMessage:ks.message})}or=Hi.entries,No=Hi.state}if("INSTANCE_STATE_UNSPECIFIED"===No?Nn=500:"NO_CHANGE"===No?Nn=304:("NO_TEMPLATE"===No||"EMPTY_CONFIG"===No)&&(or={}),304!==Nn&&200!==Nn)throw $n.create("fetch-status",{httpStatus:Nn});return{status:Nn,eTag:xs,config:or}})()}}class Mp{constructor(I,k){this.client=I,this.storage=k}fetch(I){var k=this;return(0,R.Z)(function*(){const L=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:k,backoffCount:L}){var z=this;return(0,R.Z)(function*(){yield function Ap(T,I){return new Promise((k,L)=>{const z=Math.max(I-Date.now(),0),le=setTimeout(k,z);T.addEventListener(()=>{clearTimeout(le),L($n.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,k);try{const le=yield z.client.fetch(I);return yield z.storage.deleteThrottleMetadata(),le}catch(le){if(!function ws(T){if(!(T instanceof se.ZR&&T.customData))return!1;const I=Number(T.customData.httpStatus);return 429===I||500===I||503===I||504===I}(le))throw le;const Ie={throttleEndTimeMillis:Date.now()+(0,se.$s)(L),backoffCount:L+1};return yield z.storage.setThrottleMetadata(Ie),z.attemptFetch(I,Ie)}})()}}class cd{constructor(I,k,L,z,le){this.app=I,this._client=k,this._storageCache=L,this._storage=z,this._logger=le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function zc(T,I){const k=T.target.error||void 0;return $n.create(I,{originalErrorMessage:k&&k.message})}const oo="app_namespace_store";class na{constructor(I,k,L,z=function Fa(){return new Promise((T,I)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=L=>{I(zc(L,"storage-open"))},k.onsuccess=L=>{T(L.target.result)},k.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(oo,{keyPath:"compositeKey"})}}catch(k){I($n.create("storage-open",{originalErrorMessage:k}))}})}()){this.appId=I,this.appName=k,this.namespace=L,this.openDbPromise=z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var k=this;return(0,R.Z)(function*(){const L=yield k.openDbPromise;return new Promise((z,le)=>{const qe=L.transaction([oo],"readonly").objectStore(oo),tt=k.createCompositeKey(I);try{const Gt=qe.get(tt);Gt.onerror=Kt=>{le(zc(Kt,"storage-get"))},Gt.onsuccess=Kt=>{const Ui=Kt.target.result;z(Ui?Ui.value:void 0)}}catch(Gt){le($n.create("storage-get",{originalErrorMessage:Gt&&Gt.message}))}})})()}set(I,k){var L=this;return(0,R.Z)(function*(){const z=yield L.openDbPromise;return new Promise((le,Ie)=>{const tt=z.transaction([oo],"readwrite").objectStore(oo),Gt=L.createCompositeKey(I);try{const Kt=tt.put({compositeKey:Gt,value:k});Kt.onerror=Ui=>{Ie(zc(Ui,"storage-set"))},Kt.onsuccess=()=>{le()}}catch(Kt){Ie($n.create("storage-set",{originalErrorMessage:Kt&&Kt.message}))}})})()}delete(I){var k=this;return(0,R.Z)(function*(){const L=yield k.openDbPromise;return new Promise((z,le)=>{const qe=L.transaction([oo],"readwrite").objectStore(oo),tt=k.createCompositeKey(I);try{const Gt=qe.delete(tt);Gt.onerror=Kt=>{le(zc(Kt,"storage-delete"))},Gt.onsuccess=()=>{z()}}catch(Gt){le($n.create("storage-delete",{originalErrorMessage:Gt&&Gt.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Rp{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,R.Z)(function*(){const k=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),z=I.storage.getActiveConfig(),le=yield k;le&&(I.lastFetchStatus=le);const Ie=yield L;Ie&&(I.lastSuccessfulFetchTimestampMillis=Ie);const qe=yield z;qe&&(I.activeConfig=qe)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function ud(){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,R.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(T){return!1}})).apply(this,arguments)}!function Op(){(0,ae._registerComponent)(new ge.wA("remote-config",function T(I,{instanceIdentifier:k}){const L=I.getProvider("app").getImmediate(),z=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw $n.create("registration-window");if(!(0,se.hl)())throw $n.create("indexed-db-unavailable");const{projectId:le,apiKey:Ie,appId:qe}=L.options;if(!le)throw $n.create("registration-project-id");if(!Ie)throw $n.create("registration-api-key");if(!qe)throw $n.create("registration-app-id");const tt=new na(qe,L.name,k=k||"firebase"),Gt=new Rp(tt),Kt=new X.Yd(ts);Kt.logLevel=X.in.ERROR;const Ui=new rr(z,ae.SDK_VERSION,k,le,Ie,qe),ki=new Mp(Ui,tt),Nn=new Vl(ki,tt,Gt,Kt),xs=new cd(L,Nn,Gt,tt,Kt);return function Cn(T){const I=(0,se.m9)(T);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(xs),xs},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(ts,"0.3.4"),(0,ae.registerVersion)(ts,"0.3.4","esm2017")}();const Ba="/firebase-messaging-sw.js",xr="/firebase-cloud-messaging-push-scope",dd="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ua="google.c.a.c_id",Sh="google.c.a.c_l",Ha="google.c.a.ts",kr="google.c.a.e";var ia=(()=>{return(T=ia||(ia={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",ia;var T})();function fr(T){const I=new Uint8Array(T);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function qc(T){const k=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(k),z=new Uint8Array(L.length);for(let le=0;le<L.length;++le)z[le]=L.charCodeAt(le);return z}const Tn="fcm_token_details_db",Ah="fcm_token_object_Store";function Hl(T){return qa.apply(this,arguments)}function qa(){return qa=(0,R.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(le=>le.name).includes(Tn))return null;let I=null;return(yield(0,ce.openDb)(Tn,5,function(){var L=(0,R.Z)(function*(z){var le;if(z.oldVersion<2||!z.objectStoreNames.contains(Ah))return;const Ie=z.transaction.objectStore(Ah),qe=yield Ie.index("fcmSenderId").get(T);if(yield Ie.clear(),qe)if(2===z.oldVersion){const tt=qe;if(!tt.auth||!tt.p256dh||!tt.endpoint)return;I={token:tt.fcmToken,createTime:null!==(le=tt.createTime)&&void 0!==le?le:Date.now(),subscriptionOptions:{auth:tt.auth,p256dh:tt.p256dh,endpoint:tt.endpoint,swScope:tt.swScope,vapidKey:"string"==typeof tt.vapidKey?tt.vapidKey:fr(tt.vapidKey)}}}else if(3===z.oldVersion){const tt=qe;I={token:tt.fcmToken,createTime:tt.createTime,subscriptionOptions:{auth:fr(tt.auth),p256dh:fr(tt.p256dh),endpoint:tt.endpoint,swScope:tt.swScope,vapidKey:fr(tt.vapidKey)}}}else if(4===z.oldVersion){const tt=qe;I={token:tt.fcmToken,createTime:tt.createTime,subscriptionOptions:{auth:fr(tt.auth),p256dh:fr(tt.p256dh),endpoint:tt.endpoint,swScope:tt.swScope,vapidKey:fr(tt.vapidKey)}}}});return function(z){return L.apply(this,arguments)}}())).close(),yield(0,ce.deleteDb)(Tn),yield(0,ce.deleteDb)("fcm_vapid_details_db"),yield(0,ce.deleteDb)("undefined"),hd(I)?I:null}),qa.apply(this,arguments)}function hd(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:I}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Rr="firebase-messaging-store";let Gc=null;function En(){return Gc||(Gc=(0,ce.openDb)("firebase-messaging-database",1,T=>{0===T.oldVersion&&T.createObjectStore(Rr)})),Gc}function ra(T){return Do.apply(this,arguments)}function Do(){return(Do=(0,R.Z)(function*(T){const I=ci(T),L=yield(yield En()).transaction(Rr).objectStore(Rr).get(I);if(L)return L;{const z=yield Hl(T.appConfig.senderId);if(z)return yield vn(T,z),z}})).apply(this,arguments)}function vn(T,I){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,R.Z)(function*(T,I){const k=ci(T),z=(yield En()).transaction(Rr,"readwrite");return yield z.objectStore(Rr).put(I,k),yield z.complete,I})).apply(this,arguments)}function zl(T){return ao.apply(this,arguments)}function ao(){return(ao=(0,R.Z)(function*(T){const I=ci(T),L=(yield En()).transaction(Rr,"readwrite");yield L.objectStore(Rr).delete(I),yield L.complete})).apply(this,arguments)}function ci({appConfig:T}){return T.appId}const Zn=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ss(T,I){return Si.apply(this,arguments)}function Si(){return(Si=(0,R.Z)(function*(T,I){const k=yield Cs(T),L=sa(I),z={method:"POST",headers:k,body:JSON.stringify(L)};let le;try{le=yield(yield fetch(os(T.appConfig),z)).json()}catch(Ie){throw Zn.create("token-subscribe-failed",{errorInfo:Ie})}if(le.error)throw Zn.create("token-subscribe-failed",{errorInfo:le.error.message});if(!le.token)throw Zn.create("token-subscribe-no-token");return le.token})).apply(this,arguments)}function To(T,I){return lo.apply(this,arguments)}function lo(){return(lo=(0,R.Z)(function*(T,I){const k=yield Cs(T),L=sa(I.subscriptionOptions),z={method:"PATCH",headers:k,body:JSON.stringify(L)};let le;try{le=yield(yield fetch(`${os(T.appConfig)}/${I.token}`,z)).json()}catch(Ie){throw Zn.create("token-update-failed",{errorInfo:Ie})}if(le.error)throw Zn.create("token-update-failed",{errorInfo:le.error.message});if(!le.token)throw Zn.create("token-update-no-token");return le.token})).apply(this,arguments)}function $a(T,I){return Or.apply(this,arguments)}function Or(){return(Or=(0,R.Z)(function*(T,I){const L={method:"DELETE",headers:yield Cs(T)};try{const le=yield(yield fetch(`${os(T.appConfig)}/${I}`,L)).json();if(le.error)throw Zn.create("token-unsubscribe-failed",{errorInfo:le.error.message})}catch(z){throw Zn.create("token-unsubscribe-failed",{errorInfo:z})}})).apply(this,arguments)}function os({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function Cs(T){return bt.apply(this,arguments)}function bt(){return(bt=(0,R.Z)(function*({appConfig:T,installations:I}){const k=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function sa({p256dh:T,auth:I,endpoint:k,vapidKey:L}){const z={web:{endpoint:k,auth:I,p256dh:T}};return L!==dd&&(z.web.applicationPubKey=L),z}const pd=6048e5;function ql(T){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,R.Z)(function*(T){const I=yield kn(T.swRegistration,T.vapidKey),k={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:I.endpoint,auth:fr(I.getKey("auth")),p256dh:fr(I.getKey("p256dh"))},L=yield ra(T.firebaseDependencies);if(L){if(Io(L.subscriptionOptions,k))return Date.now()>=L.createTime+pd?Yc(T,{token:L.token,createTime:Date.now(),subscriptionOptions:k}):L.token;try{yield $a(T.firebaseDependencies,L.token)}catch(z){console.warn(z)}return zt(T.firebaseDependencies,k)}return zt(T.firebaseDependencies,k)})).apply(this,arguments)}function Za(T){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,R.Z)(function*(T){const I=yield ra(T.firebaseDependencies);I&&(yield $a(T.firebaseDependencies,I.token),yield zl(T.firebaseDependencies));const k=yield T.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function Yc(T,I){return Me.apply(this,arguments)}function Me(){return(Me=(0,R.Z)(function*(T,I){try{const k=yield To(T.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:k,createTime:Date.now()});return yield vn(T.firebaseDependencies,L),k}catch(k){throw yield Za(T),k}})).apply(this,arguments)}function zt(T,I){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,R.Z)(function*(T,I){const L={token:yield ss(T,I),createTime:Date.now(),subscriptionOptions:I};return yield vn(T,L),L.token})).apply(this,arguments)}function kn(T,I){return oa.apply(this,arguments)}function oa(){return(oa=(0,R.Z)(function*(T,I){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:qc(I)})})).apply(this,arguments)}function Io(T,I){return I.vapidKey===T.vapidKey&&I.endpoint===T.endpoint&&I.auth===T.auth&&I.p256dh===T.p256dh}function pr(T){const I={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function Qc(T,I){if(!I.notification)return;T.notification={};const k=I.notification.title;k&&(T.notification.title=k);const L=I.notification.body;L&&(T.notification.body=L);const z=I.notification.image;z&&(T.notification.image=z)}(I,T),function Wa(T,I){!I.data||(T.data=I.data)}(I,T),function Pp(T,I){if(!I.fcmOptions)return;T.fcmOptions={};const k=I.fcmOptions.link;k&&(T.fcmOptions.link=k);const L=I.fcmOptions.analytics_label;L&&(T.fcmOptions.analyticsLabel=L)}(I,T),I}function gd(T){return"object"==typeof T&&!!T&&Ua in T}function So(T,I){const k=[];for(let L=0;L<T.length;L++)k.push(T.charAt(L)),L<I.length&&k.push(I.charAt(L));return k.join("")}function Wn(T){return Zn.create("missing-app-config-values",{valueName:T})}So("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),So("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Es{constructor(I,k,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const z=function Gl(T){if(!T||!T.options)throw Wn("App Configuration Object");if(!T.name)throw Wn("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:k}=T;for(const L of I)if(!k[L])throw Wn(L);return{appName:T.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:z,installations:k,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Ya(T){return co.apply(this,arguments)}function co(){return(co=(0,R.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(Ba,{scope:xr}),T.swRegistration.update().catch(()=>{})}catch(I){throw Zn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function Pr(T,I){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,R.Z)(function*(T,I){if(!I&&!T.swRegistration&&(yield Ya(T)),I||!T.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Zn.create("invalid-sw-registration");T.swRegistration=I}})).apply(this,arguments)}function $l(T,I){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,R.Z)(function*(T,I){I?T.vapidKey=I:T.vapidKey||(T.vapidKey=dd)})).apply(this,arguments)}function Ka(){return(Ka=(0,R.Z)(function*(T,I){if(!navigator)throw Zn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Zn.create("permission-blocked");return yield $l(T,null==I?void 0:I.vapidKey),yield Pr(T,null==I?void 0:I.serviceWorkerRegistration),ql(T)})).apply(this,arguments)}function aa(T,I,k){return eu.apply(this,arguments)}function eu(){return(eu=(0,R.Z)(function*(T,I,k){const L=tu(I);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:k[Ua],message_name:k[Sh],message_time:k[Ha],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function tu(T){switch(T){case ia.NOTIFICATION_CLICKED:return"notification_open";case ia.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Qa(){return(Qa=(0,R.Z)(function*(T,I){const k=I.data;if(!k.isFirebaseMessaging)return;T.onMessageHandler&&k.messageType===ia.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(pr(k)):T.onMessageHandler.next(pr(k)));const L=k.data;gd(L)&&"1"===L[kr]&&(yield aa(T,k.messageType,L))})).apply(this,arguments)}const Ja="@firebase/messaging",nu=T=>{const I=new Es(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Mh(T,I){return Qa.apply(this,arguments)}(I,k)),I},xh=T=>{const I=T.getProvider("messaging").getImmediate();return{getToken:L=>function Zl(T,I){return Ka.apply(this,arguments)}(I,L)}};function la(){return as.apply(this,arguments)}function as(){return(as=(0,R.Z)(function*(){try{yield(0,se.eu)()}catch(T){return!1}return"undefined"!=typeof window&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function kh(){(0,ae._registerComponent)(new ge.wA("messaging",nu,"PUBLIC")),(0,ae._registerComponent)(new ge.wA("messaging-internal",xh,"PRIVATE")),(0,ae.registerVersion)(Ja,"0.9.8"),(0,ae.registerVersion)(Ja,"0.9.8","esm2017")}();const Xa="analytics",Ao="firebase_id",ru="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wl="https://www.googletagmanager.com/gtag/js",wi=new X.Yd("@firebase/analytics");function su(T){return Promise.all(T.map(I=>I.catch(k=>k)))}function Ts(T,I){const k=document.createElement("script");k.src=`${Wl}?l=${T}&id=${I}`,k.async=!0,document.head.appendChild(k)}function ou(T,I,k,L,z,le){return au.apply(this,arguments)}function au(){return(au=(0,R.Z)(function*(T,I,k,L,z,le){const Ie=L[z];try{if(Ie)yield I[Ie];else{const tt=(yield su(k)).find(Gt=>Gt.measurementId===z);tt&&(yield I[tt.appId])}}catch(qe){wi.error(qe)}T("config",z,le)})).apply(this,arguments)}function Mo(T,I,k,L,z){return tl.apply(this,arguments)}function tl(){return(tl=(0,R.Z)(function*(T,I,k,L,z){try{let le=[];if(z&&z.send_to){let Ie=z.send_to;Array.isArray(Ie)||(Ie=[Ie]);const qe=yield su(k);for(const tt of Ie){const Gt=qe.find(Ui=>Ui.measurementId===tt),Kt=Gt&&I[Gt.appId];if(!Kt){le=[];break}le.push(Kt)}}0===le.length&&(le=Object.values(I)),yield Promise.all(le),T("event",L,z||{})}catch(le){wi.error(le)}})).apply(this,arguments)}function Un(){const T=window.document.getElementsByTagName("script");for(const I of Object.values(T))if(I.src&&I.src.includes(Wl))return I;return null}const We=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),lu=new class cn{constructor(I={},k=1e3){this.throttleMetadata=I,this.intervalMillis=k}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,k){this.throttleMetadata[I]=k}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Yn(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function ca(T){return nl.apply(this,arguments)}function nl(){return(nl=(0,R.Z)(function*(T){var I;const{appId:k,apiKey:L}=T,z={method:"GET",headers:Yn(L)},le=ru.replace("{app-id}",k),Ie=yield fetch(le,z);if(200!==Ie.status&&304!==Ie.status){let qe="";try{const tt=yield Ie.json();(null===(I=tt.error)||void 0===I?void 0:I.message)&&(qe=tt.error.message)}catch(tt){}throw We.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:qe})}return Ie.json()})).apply(this,arguments)}function xo(T){return ko.apply(this,arguments)}function ko(){return(ko=(0,R.Z)(function*(T,I=lu,k){const{appId:L,apiKey:z,measurementId:le}=T.options;if(!L)throw We.create("no-app-id");if(!z){if(le)return{measurementId:le,appId:L};throw We.create("no-api-key")}const Ie=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},qe=new ua;return setTimeout((0,R.Z)(function*(){qe.abort()}),void 0!==k?k:6e4),Is({appId:L,apiKey:z,measurementId:le},Ie,qe,I)})).apply(this,arguments)}function Is(T,I,k){return ut.apply(this,arguments)}function ut(){return(ut=(0,R.Z)(function*(T,{throttleEndTimeMillis:I,backoffCount:k},L,z=lu){const{appId:le,measurementId:Ie}=T;try{yield cu(L,I)}catch(qe){if(Ie)return wi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ie} provided in the "measurementId" field in the local Firebase config. [${qe.message}]`),{appId:le,measurementId:Ie};throw qe}try{const qe=yield ca(T);return z.deleteThrottleMetadata(le),qe}catch(qe){if(!_d(qe)){if(z.deleteThrottleMetadata(le),Ie)return wi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ie} provided in the "measurementId" field in the local Firebase config. [${qe.message}]`),{appId:le,measurementId:Ie};throw qe}const tt=503===Number(qe.customData.httpStatus)?(0,se.$s)(k,z.intervalMillis,30):(0,se.$s)(k,z.intervalMillis),Gt={throttleEndTimeMillis:Date.now()+tt,backoffCount:k+1};return z.setThrottleMetadata(le,Gt),wi.debug(`Calling attemptFetch again in ${tt} millis`),Is(T,Gt,L,z)}})).apply(this,arguments)}function cu(T,I){return new Promise((k,L)=>{const z=Math.max(I-Date.now(),0),le=setTimeout(k,z);T.addEventListener(()=>{clearTimeout(le),L(We.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function _d(T){if(!(T instanceof se.ZR&&T.customData))return!1;const I=Number(T.customData.httpStatus);return 429===I||500===I||503===I||504===I}class ua{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function uu(){return nn.apply(this,arguments)}function nn(){return(nn=(0,R.Z)(function*(){if(!(0,se.hl)())return wi.warn(We.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(T){return wi.warn(We.create("indexeddb-unavailable",{errorInfo:T}).message),!1}return!0})).apply(this,arguments)}function ha(){return(ha=(0,R.Z)(function*(T,I,k,L,z,le,Ie){var qe;const tt=xo(T);tt.then(Nn=>{k[Nn.measurementId]=Nn.appId,T.options.measurementId&&Nn.measurementId!==T.options.measurementId&&wi.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${Nn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Nn=>wi.error(Nn)),I.push(tt);const Gt=uu().then(Nn=>{if(Nn)return L.getId()}),[Kt,Ui]=yield Promise.all([tt,Gt]);Un()||Ts(le,Kt.measurementId),z("js",new Date);const ki=null!==(qe=null==Ie?void 0:Ie.config)&&void 0!==qe?qe:{};return ki.origin="firebase",ki.update=!0,null!=Ui&&(ki[Ao]=Ui),z("config",Kt.measurementId,ki),Kt.measurementId})).apply(this,arguments)}class fa{constructor(I){this.app=I}_delete(){return delete Gi[this.app.options.appId],Promise.resolve()}}let Gi={},Ql=[];const pa={};let Ro,Nr,ls="dataLayer",il=!1;function ni(T,I,k){!function In(){const T=[];if((0,se.ru)()&&T.push("This is a browser extension environment."),(0,se.zI)()||T.push("Cookies are not available."),T.length>0){const I=T.map((L,z)=>`(${z+1}) ${L}`).join(" "),k=We.create("invalid-analytics-context",{errorInfo:I});wi.warn(k.message)}}();const L=T.options.appId;if(!L)throw We.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw We.create("no-api-key");wi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Gi[L])throw We.create("already-exists",{id:L});if(!il){!function Yl(T){let I=[];Array.isArray(window[T])?I=window[T]:window[T]=I}(ls);const{wrappedGtag:le,gtagCore:Ie}=function c_(T,I,k,L,z){let le=function(...Ie){window[L].push(arguments)};return window[z]&&"function"==typeof window[z]&&(le=window[z]),window[z]=function md(T,I,k,L){function le(){return(le=(0,R.Z)(function*(Ie,qe,tt){try{"event"===Ie?yield Mo(T,I,k,qe,tt):"config"===Ie?yield ou(T,I,k,L,qe,tt):T("set",qe)}catch(Gt){wi.error(Gt)}})).apply(this,arguments)}return function z(Ie,qe,tt){return le.apply(this,arguments)}}(le,T,I,k),{gtagCore:le,wrappedGtag:window[z]}}(Gi,Ql,pa,ls,"gtag");Nr=le,Ro=Ie,il=!0}return Gi[L]=function da(T,I,k,L,z,le,Ie){return ha.apply(this,arguments)}(T,Ql,pa,I,Ro,ls,k),new fa(T)}function ga(){return(ga=(0,R.Z)(function*(T,I,k,L,z){if(z&&z.global)T("event",k,L);else{const le=yield I;T("event",k,Object.assign(Object.assign({},L),{send_to:le}))}})).apply(this,arguments)}function yd(){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,R.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(T){return!1}})).apply(this,arguments)}const vd="@firebase/analytics";!function ec(){(0,ae._registerComponent)(new ge.wA(Xa,(I,{options:k})=>ni(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,ae._registerComponent)(new ge.wA("analytics-internal",function T(I){try{const k=I.getProvider(Xa).getImmediate();return{logEvent:(L,z,le)=>function Ci(T,I,k,L){T=(0,se.m9)(T),function du(T,I,k,L,z){return ga.apply(this,arguments)}(Nr,Gi[T.app.options.appId],I,k,L).catch(z=>wi.error(z))}(k,L,z,le)}}catch(k){throw We.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,ae.registerVersion)(vd,"0.7.5"),(0,ae.registerVersion)(vd,"0.7.5","esm2017")}();var As=O(4408),ii=O(7565);const ol=new class sl extends ii.v{}(class hu extends As.o{constructor(I,k){super(I,k),this.scheduler=I,this.work=k}schedule(I,k=0){return k>0?super.schedule(I,k):(this.delay=k,this.state=I,this.scheduler.flush(this),this)}execute(I,k){return k>0||this.closed?super.execute(I,k):this._execute(I,k)}requestAsyncId(I,k,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(I,k,L):I.flush(this)}});var tc=O(4986),Vi=O(8306),Br=O(8505),_a=O(9468),al=O(5363);const Vr=new s.GfV("7.2.1"),ya="__angularfire_symbol__analyticsIsSupportedValue",fu="__angularfire_symbol__analyticsIsSupported",nc="__angularfire_symbol__remoteConfigIsSupportedValue",Bt="__angularfire_symbol__remoteConfigIsSupported",ic="__angularfire_symbol__messagingIsSupportedValue",us="__angularfire_symbol__messagingIsSupported";function sc(T,I,k){if(I){if(1===I.length)return I[0];const le=I.filter(Ie=>Ie.app===k);if(1===le.length)return le[0]}return k.container.getProvider(T).getImmediate({optional:!0})}globalThis[fu]||(globalThis[fu]=yd().then(T=>globalThis[ya]=T).catch(()=>globalThis[ya]=!1)),globalThis[us]||(globalThis[us]=la().then(T=>globalThis[ic]=T).catch(()=>globalThis[ic]=!1)),globalThis[Bt]||(globalThis[Bt]=ud().then(T=>globalThis[nc]=T).catch(()=>globalThis[nc]=!1));const ds=(T,I)=>{const k=I?[I]:(0,V.C6)(),L=[];return k.forEach(z=>{z.container.getProvider(T).instances.forEach(Ie=>{L.includes(Ie)||L.push(Ie)})}),L};function Ms(){}class ll{constructor(I,k=ol){this.zone=I,this.delegate=k}now(){return this.delegate.now()}schedule(I,k,L){const z=this.zone;return this.delegate.schedule(function(Ie){z.runGuarded(()=>{I.apply(this,[Ie])})},k,L)}}class bd{constructor(I){this.zone=I,this.task=null}call(I,k){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ms,{},Ms,Ms)),k.pipe((0,Br.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let pu=(()=>{class T{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new ll(Zone.current)),this.insideAngular=k.run(()=>new ll(Zone.current,tc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(k){return new(k||T)(s.LFG(s.R0b))},T.\u0275prov=s.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function Rn(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function gr(T){return Rn().ngZone.runOutsideAngular(()=>T())}function mr(T){return Rn().ngZone.run(()=>T())}function cl(T){return Rn(),function ul(T){return function(k){return(k=k.lift(new bd(T.ngZone))).pipe((0,_a.R)(T.outsideAngular),(0,al.Q)(T.insideAngular))}}(Rn())(T)}const gu=(T,I)=>function(){const L=arguments;return I&&setTimeout(()=>{"scheduled"===I.state&&I.invoke()},10),mr(()=>T.apply(void 0,L))},Lh=(T,I)=>function(){let k;const L=arguments;for(let le=0;le<arguments.length;le++)"function"==typeof L[le]&&(I&&(k||(k=mr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ms,{},Ms,Ms)))),L[le]=gu(L[le],k));const z=gr(()=>T.apply(this,L));if(!I){if(z instanceof Vi.y){const le=Rn();return z.pipe((0,_a.R)(le.outsideAngular),(0,al.Q)(le.insideAngular))}return mr(()=>z)}return z instanceof Vi.y?z.pipe(cl):z instanceof Promise?mr(()=>new Promise((le,Ie)=>z.then(qe=>mr(()=>le(qe)),qe=>mr(()=>Ie(qe))))):"function"==typeof z&&k?function(){return setTimeout(()=>{k&&"scheduled"===k.state&&k.invoke()},10),z.apply(this,arguments)}:mr(()=>z)}},3578:(dt,Se,O)=>{"use strict";O.d(Se,{$:()=>pd,A:()=>H,E:()=>jt,G:()=>zi,I:()=>ws,K:()=>li,L:()=>ud,M:()=>dd,N:()=>Va,P:()=>al,Q:()=>Ua,R:()=>vd,T:()=>xr,U:()=>ja,V:()=>ia,W:()=>Ah,X:()=>ci,Y:()=>Zn,Z:()=>Si,_:()=>Or,a:()=>We,a0:()=>Zc,a1:()=>Wc,a2:()=>Me,a3:()=>Kc,a4:()=>oa,a5:()=>pr,a6:()=>Qc,a7:()=>Pp,a8:()=>gd,a9:()=>Es,aA:()=>Kt,aB:()=>cl,aC:()=>gn,aG:()=>cn,aJ:()=>Ha,aa:()=>co,ab:()=>Jc,ae:()=>Ka,af:()=>eu,ag:()=>tu,aj:()=>fd,ak:()=>Rh,am:()=>iu,an:()=>Yl,ao:()=>Gn,ap:()=>Q,aq:()=>Ut,ar:()=>ct,as:()=>Re,at:()=>Vh,au:()=>dl,av:()=>fe,aw:()=>ne,ax:()=>he,ay:()=>Ft,az:()=>or,b:()=>Un,c:()=>rc,d:()=>ds,e:()=>d_,f:()=>Lh,g:()=>le,h:()=>k,i:()=>Fr,j:()=>tt,k:()=>Rs,l:()=>ii,m:()=>Up,n:()=>zp,o:()=>ce,r:()=>ol,s:()=>As,t:()=>Vn,u:()=>Br,x:()=>a_,z:()=>Ae});var s=O(5861),V=O(2090),R=O(9681),ae=O(655),se=O(1877),ge=O(4859);const ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},H={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ae=function te(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Fe=function Be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ue=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ue=new se.Yd("@firebase/auth");function xe(v,...g){ue.logLevel<=se.in.ERROR&&ue.error(`Auth (${R.SDK_VERSION}): ${v}`,...g)}function Re(v,...g){throw Ge(v,...g)}function fe(v,...g){return Ge(v,...g)}function Ce(v,g,_){const C=Object.assign(Object.assign({},Fe()),{[g]:_});return new V.LL("auth","Firebase",C).create(g,{appName:v.name})}function we(v,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Re(v,"argument-error"),Ce(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(v,...g){if("string"!=typeof v){const _=g[0],C=[...g.slice(1)];return C[0]&&(C[0].appName=v.name),v._errorFactory.create(_,...C)}return Ue.create(v,...g)}function ne(v,g,..._){if(!v)throw Ge(g,..._)}function nt(v){const g="INTERNAL ASSERTION FAILED: "+v;throw xe(g),new Error(g)}function Q(v,g){v||nt(g)}const pe=new Map;function he(v){Q(v instanceof Function,"Expected a class definition");let g=pe.get(v);return g?(Q(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,pe.set(v,g),g)}function de(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Dt(){return"http:"===tn()||"https:"===tn()}function tn(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class ot{constructor(g,_){this.shortDelay=g,this.longDelay=_,Q(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function qn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Dt()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ai(v,g){Q(v.emulator,"Emulator should always be set here");const{url:_}=v.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class fn{static initialize(g,_,C){this.fetchImpl=g,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ti={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},sn=new ot(3e4,6e4);function Wt(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function ln(v,g,_,C){return xn.apply(this,arguments)}function xn(){return(xn=(0,s.Z)(function*(v,g,_,C,M={}){return Qr(v,M,(0,s.Z)(function*(){let N={},ee={};C&&("GET"===g?ee=C:N={body:JSON.stringify(C)});const Oe=(0,V.xO)(Object.assign({key:v.config.apiKey},ee)).slice(1),rt=yield v._getAdditionalHeaders();return rt["Content-Type"]="application/json",v.languageCode&&(rt["X-Firebase-Locale"]=v.languageCode),fn.fetch()(hr(v,v.config.apiHost,_,Oe),Object.assign({method:g,headers:rt,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Qr(v,g,_){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,s.Z)(function*(v,g,_){v._canInitEmulator=!1;const C=Object.assign(Object.assign({},Ti),g);try{const M=new Ar(v),N=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const ee=yield N.json();if("needConfirmation"in ee)throw Qn(v,"account-exists-with-different-credential",ee);if(N.ok&&!("errorMessage"in ee))return ee;{const Oe=N.ok?ee.errorMessage:ee.error.message,[rt,Ct]=Oe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===rt)throw Qn(v,"credential-already-in-use",ee);if("EMAIL_EXISTS"===rt)throw Qn(v,"email-already-in-use",ee);const At=C[rt]||rt.toLowerCase().replace(/[_\s]+/g,"-");if(Ct)throw Ce(v,At,Ct);Re(v,At)}}catch(M){if(M instanceof V.ZR)throw M;Re(v,"network-request-failed")}})).apply(this,arguments)}function Ii(v,g,_,C){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,s.Z)(function*(v,g,_,C,M={}){const N=yield ln(v,g,_,C,M);return"mfaPendingCredential"in N&&Re(v,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function hr(v,g,_,C){const M=`${g}${_}?${C}`;return v.config.emulator?ai(v.config,M):`${v.config.apiScheme}://${M}`}class Ar{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(fe(this.auth,"network-request-failed")),sn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qn(v,g,_){const C={appName:v.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const M=fe(v,g,C);return M.customData._tokenResponse=_,M}function mt(){return(mt=(0,s.Z)(function*(v,g){return ln(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Fi(v,g){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,s.Z)(function*(v,g){return ln(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Jt(v,g){return Li.apply(this,arguments)}function Li(){return(Li=(0,s.Z)(function*(v,g){return ln(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function _t(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function on(){return(on=(0,s.Z)(function*(v,g=!1){const _=(0,V.m9)(v),C=yield _.getIdToken(g),M=Pt(C);ne(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const N="object"==typeof M.firebase?M.firebase:void 0,ee=null==N?void 0:N.sign_in_provider;return{claims:M,token:C,authTime:_t(yi(M.auth_time)),issuedAtTime:_t(yi(M.iat)),expirationTime:_t(yi(M.exp)),signInProvider:ee||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function yi(v){return 1e3*Number(v)}function Pt(v){const[g,_,C]=v.split(".");if(void 0===g||void 0===_||void 0===C)return xe("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,V.tV)(_);return M?JSON.parse(M):(xe("Failed to decode base64 JWT payload"),null)}catch(M){return xe("Caught error parsing JWT payload as JSON",M),null}}function Je(v,g){return to.apply(this,arguments)}function to(){return(to=(0,s.Z)(function*(v,g,_=!1){if(_)return g;try{return yield g}catch(C){throw C instanceof V.ZR&&bs(C)&&v.auth.currentUser===v&&(yield v.auth.signOut()),C}})).apply(this,arguments)}function bs({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Zt{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(g);this.timerId=setTimeout((0,s.Z)(function*(){yield _.iteration()}),C)}iteration(){var g=this;return(0,s.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&g.schedule(!0))}g.schedule()})()}}class no{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=_t(this.lastLoginAt),this.creationTime=_t(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Jn(v){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,s.Z)(function*(v){var g;const _=v.auth,C=yield v.getIdToken(),M=yield Je(v,Jt(_,{idToken:C}));ne(null==M?void 0:M.users.length,_,"internal-error");const N=M.users[0];v._notifyReloadListener(N);const ee=(null===(g=N.providerUserInfo)||void 0===g?void 0:g.length)?Ee(N.providerUserInfo):[],Oe=W(v.providerData,ee),At=!!v.isAnonymous&&!(v.email&&N.passwordHash||(null==Oe?void 0:Oe.length)),zn={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:Oe,metadata:new no(N.createdAt,N.lastLoginAt),isAnonymous:At};Object.assign(v,zn)})).apply(this,arguments)}function $(){return($=(0,s.Z)(function*(v){const g=(0,V.m9)(v);yield Jn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function W(v,g){return[...v.filter(C=>!g.some(M=>M.providerId===C.providerId)),...g]}function Ee(v){return v.map(g=>{var{providerId:_}=g,C=(0,ae._T)(g,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Ze(){return(Ze=(0,s.Z)(function*(v,g){const _=yield Qr(v,{},(0,s.Z)(function*(){const C=(0,V.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:M,apiKey:N}=v.config,ee=hr(v,M,"/v1/token",`key=${N}`),Oe=yield v._getAdditionalHeaders();return Oe["Content-Type"]="application/x-www-form-urlencoded",fn.fetch()(ee,{method:"POST",headers:Oe,body:C})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class gt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ne(g.idToken,"internal-error"),ne(void 0!==g.idToken,"internal-error"),ne(void 0!==g.refreshToken,"internal-error");const _="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function at(v){const g=Pt(v);return ne(g,"internal-error"),ne(void 0!==g.exp,"internal-error"),ne(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var C=this;return(0,s.Z)(function*(){return ne(!C.accessToken||C.refreshToken,g,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(g,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var C=this;return(0,s.Z)(function*(){const{accessToken:M,refreshToken:N,expiresIn:ee}=yield function ie(v,g){return Ze.apply(this,arguments)}(g,_);C.updateTokensAndExpiration(M,N,Number(ee))})()}updateTokensAndExpiration(g,_,C){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(g,_){const{refreshToken:C,accessToken:M,expirationTime:N}=_,ee=new gt;return C&&(ne("string"==typeof C,"internal-error",{appName:g}),ee.refreshToken=C),M&&(ne("string"==typeof M,"internal-error",{appName:g}),ee.accessToken=M),N&&(ne("number"==typeof N,"internal-error",{appName:g}),ee.expirationTime=N),ee}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new gt,this.toJSON())}_performRefresh(){return nt("not implemented")}}function Xt(v,g){ne("string"==typeof v||void 0===v,"internal-error",{appName:g})}class pn{constructor(g){var{uid:_,auth:C,stsTokenManager:M}=g,N=(0,ae._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new no(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,s.Z)(function*(){const C=yield Je(_,_.stsTokenManager.getToken(_.auth,g));return ne(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(g){return function Mt(v){return on.apply(this,arguments)}(this,g)}reload(){return function U(v){return $.apply(this,arguments)}(this)}_assign(g){this!==g&&(ne(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new pn(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var C=this;return(0,s.Z)(function*(){let M=!1;g.idToken&&g.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(g),M=!0),_&&(yield Jn(C)),yield C.auth._persistUserIfCurrent(C),M&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var g=this;return(0,s.Z)(function*(){const _=yield g.getIdToken();return yield Je(g,function Xr(v,g){return mt.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var C,M,N,ee,Oe,rt,Ct,At;const zn=null!==(C=_.displayName)&&void 0!==C?C:void 0,ar=null!==(M=_.email)&&void 0!==M?M:void 0,fl=null!==(N=_.phoneNumber)&&void 0!==N?N:void 0,dc=null!==(ee=_.photoURL)&&void 0!==ee?ee:void 0,xd=null!==(Oe=_.tenantId)&&void 0!==Oe?Oe:void 0,bu=null!==(rt=_._redirectEventId)&&void 0!==rt?rt:void 0,wu=null!==(Ct=_.createdAt)&&void 0!==Ct?Ct:void 0,Cu=null!==(At=_.lastLoginAt)&&void 0!==At?At:void 0,{uid:kd,emailVerified:hc,isAnonymous:Eu,providerData:Hh,stsTokenManager:jh}=_;ne(kd&&jh,g,"internal-error");const zh=gt.fromJSON(this.name,jh);ne("string"==typeof kd,g,"internal-error"),Xt(zn,g.name),Xt(ar,g.name),ne("boolean"==typeof hc,g,"internal-error"),ne("boolean"==typeof Eu,g,"internal-error"),Xt(fl,g.name),Xt(dc,g.name),Xt(xd,g.name),Xt(bu,g.name),Xt(wu,g.name),Xt(Cu,g.name);const fc=new pn({uid:kd,auth:g,email:ar,emailVerified:hc,displayName:zn,isAnonymous:Eu,photoURL:dc,phoneNumber:fl,tenantId:xd,stsTokenManager:zh,createdAt:wu,lastLoginAt:Cu});return Hh&&Array.isArray(Hh)&&(fc.providerData=Hh.map(qp=>Object.assign({},qp))),bu&&(fc._redirectEventId=bu),fc}static _fromIdTokenResponse(g,_,C=!1){return(0,s.Z)(function*(){const M=new gt;M.updateFromServerResponse(_);const N=new pn({uid:_.localId,auth:g,stsTokenManager:M,isAnonymous:C});return yield Jn(N),N})()}}const li=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(_,C){var M=this;return(0,s.Z)(function*(){M.storage[_]=C})()}_get(_){var C=this;return(0,s.Z)(function*(){const M=C.storage[_];return void 0===M?null:M})()}_remove(_){var C=this;return(0,s.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return v.type="NONE",v})();function Ft(v,g,_){return`firebase:${v}:${g}:${_}`}class ei{constructor(g,_,C){this.persistence=g,this.auth=_,this.userKey=C;const{config:M,name:N}=this.auth;this.fullUserKey=Ft(this.userKey,M.apiKey,N),this.fullPersistenceKey=Ft("persistence",M.apiKey,N),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,s.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?pn._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,s.Z)(function*(){if(_.persistence===g)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,C="authUser"){return(0,s.Z)(function*(){if(!_.length)return new ei(he(li),g,C);const M=(yield Promise.all(_.map(function(){var Ct=(0,s.Z)(function*(At){if(yield At._isAvailable())return At});return function(At){return Ct.apply(this,arguments)}}()))).filter(Ct=>Ct);let N=M[0]||he(li);const ee=Ft(C,g.config.apiKey,g.name);let Oe=null;for(const Ct of _)try{const At=yield Ct._get(ee);if(At){const zn=pn._fromJSON(g,At);Ct!==N&&(Oe=zn),N=Ct;break}}catch(At){}const rt=M.filter(Ct=>Ct._shouldAllowMigration);return N._shouldAllowMigration&&rt.length?(N=rt[0],Oe&&(yield N._set(ee,Oe.toJSON())),yield Promise.all(_.map(function(){var Ct=(0,s.Z)(function*(At){if(At!==N)try{yield At._remove(ee)}catch(zn){}});return function(At){return Ct.apply(this,arguments)}}())),new ei(N,g,C)):new ei(N,g,C)})()}}function oe(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(ze(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Y(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(xt(g))return"Blackberry";if($t(g))return"Webos";if(Z(g))return"Safari";if((g.includes("chrome/")||Te(g))&&!g.includes("edge/"))return"Chrome";if(ct(g))return"Android";{const C=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function Y(v=(0,V.z$)()){return/firefox\//i.test(v)}function Z(v=(0,V.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Te(v=(0,V.z$)()){return/crios\//i.test(v)}function ze(v=(0,V.z$)()){return/iemobile/i.test(v)}function ct(v=(0,V.z$)()){return/android/i.test(v)}function xt(v=(0,V.z$)()){return/blackberry/i.test(v)}function $t(v=(0,V.z$)()){return/webos/i.test(v)}function Ut(v=(0,V.z$)()){return/iphone|ipad|ipod/i.test(v)}function Gn(v=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Bi(v=(0,V.z$)()){return Ut(v)||ct(v)||$t(v)||xt(v)||/windows phone/i.test(v)||ze(v)}function vi(v,g=[]){let _;switch(v){case"Browser":_=oe((0,V.z$)());break;case"Worker":_=`${oe((0,V.z$)())}-${v}`;break;default:_=v}const C=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${R.SDK_VERSION}/${C}`}class ka{constructor(g,_){this.app=g,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ke(this),this.idTokenSubscription=new Ke(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ue,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(g,_){var C=this;return _&&(this._popupRedirectResolver=he(_)),this._initializationPromise=this.queue((0,s.Z)(function*(){var M,N;if(!C._deleted&&(C.persistenceManager=yield ei.create(C,g),!C._deleted)){if(null===(M=C._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch(ee){}yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(N=C.currentUser)||void 0===N?void 0:N.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,s.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_)}})()}initializeCurrentUser(g){var _=this;return(0,s.Z)(function*(){var C;let M=yield _.assertedPersistence.getCurrentUser();if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const N=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,ee=null==M?void 0:M._redirectEventId,Oe=yield _.tryRedirectSignIn(g);(!N||N===ee)&&(null==Oe?void 0:Oe.user)&&(M=Oe.user)}return M?M._redirectEventId?(ne(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===M._redirectEventId?_.directlySetCurrentUser(M):_.reloadAndSetCurrentUserOrClear(M)):_.reloadAndSetCurrentUserOrClear(M):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var _=this;return(0,s.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch(M){yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,s.Z)(function*(){try{yield Jn(g)}catch(C){if("auth/network-request-failed"!==C.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function ft(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,s.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,s.Z)(function*(){const C=g?(0,V.m9)(g):null;return C&&ne(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(g){var _=this;return(0,s.Z)(function*(){if(!_._deleted)return g&&ne(_.tenantId===g.tenantId,_,"tenant-id-mismatch"),_.queue((0,s.Z)(function*(){yield _.directlySetCurrentUser(g),_.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,s.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var _=this;return this.queue((0,s.Z)(function*(){yield _.assertedPersistence.setPersistence(he(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new V.LL("auth","Firebase",g())}onAuthStateChanged(g,_,C){return this.registerStateListener(this.authStateSubscription,g,_,C)}onIdTokenChanged(g,_,C){return this.registerStateListener(this.idTokenSubscription,g,_,C)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var C=this;return(0,s.Z)(function*(){const M=yield C.getOrInitRedirectPersistenceManager(_);return null===g?M.removeCurrentUser():M.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,s.Z)(function*(){if(!_.redirectPersistenceManager){const C=g&&he(g)||_._popupRedirectResolver;ne(C,_,"argument-error"),_.redirectPersistenceManager=yield ei.create(_,[he(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,s.Z)(function*(){var C,M;return _._isInitialized&&(yield _.queue((0,s.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===g?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,s.Z)(function*(){if(g===_.currentUser)return _.queue((0,s.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,C,M){if(this._deleted)return()=>{};const N="function"==typeof _?_:_.next.bind(_),ee=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(ee,this,"internal-error"),ee.then(()=>N(this.currentUser)),"function"==typeof _?g.addObserver(_,C,M):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,s.Z)(function*(){_.currentUser&&_.currentUser!==g&&(_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh()),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=vi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,s.Z)(function*(){const _={"X-Client-Version":g.clientVersion};return g.app.options.appId&&(_["X-Firebase-gmpid"]=g.app.options.appId),_})()}}function gn(v){return(0,V.m9)(v)}class Ke{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,V.ne)(_=>this.observer=_)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function jt(v,g,_){const C=gn(v);ne(C._canInitEmulator,C,"emulator-config-failed"),ne(/^https?:\/\//.test(g),C,"invalid-emulator-scheme");const M=!!(null==_?void 0:_.disableWarnings),N=_n(g),{host:ee,port:Oe}=function ir(v){const g=_n(v),_=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(C);if(M){const N=M[1];return{host:N,port:ts(C.substr(N.length+1))}}{const[N,ee]=C.split(":");return{host:N,port:ts(ee)}}}(g);C.config.emulator={url:`${N}//${ee}${null===Oe?"":`:${Oe}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:ee,port:Oe,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function ti(){function v(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function _n(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function ts(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class zi{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return nt("not implemented")}_getIdTokenResponse(g){return nt("not implemented")}_linkToIdToken(g,_){return nt("not implemented")}_getReauthenticationResolver(g){return nt("not implemented")}}function wn(v,g){return io.apply(this,arguments)}function io(){return(io=(0,s.Z)(function*(v,g){return ln(v,"POST","/v1/accounts:resetPassword",Wt(v,g))})).apply(this,arguments)}function $n(v,g){return kt.apply(this,arguments)}function kt(){return(kt=(0,s.Z)(function*(v,g){return ln(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Fl(v,g){return ns.apply(this,arguments)}function ns(){return(ns=(0,s.Z)(function*(v,g){return ln(v,"POST","/v1/accounts:update",Wt(v,g))})).apply(this,arguments)}function ro(){return(ro=(0,s.Z)(function*(v,g){return Ii(v,"POST","/v1/accounts:signInWithPassword",Wt(v,g))})).apply(this,arguments)}function yn(v,g){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,s.Z)(function*(v,g){return ln(v,"POST","/v1/accounts:sendOobCode",Wt(v,g))})).apply(this,arguments)}function Ra(v,g){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,s.Z)(function*(v,g){return yn(v,g)})).apply(this,arguments)}function Cn(v,g){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,s.Z)(function*(v,g){return yn(v,g)})).apply(this,arguments)}function Oa(v,g){return bi.apply(this,arguments)}function bi(){return(bi=(0,s.Z)(function*(v,g){return yn(v,g)})).apply(this,arguments)}function qi(v,g){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,s.Z)(function*(v,g){return yn(v,g)})).apply(this,arguments)}function is(){return(is=(0,s.Z)(function*(v,g){return Ii(v,"POST","/v1/accounts:signInWithEmailLink",Wt(v,g))})).apply(this,arguments)}function jc(){return(jc=(0,s.Z)(function*(v,g){return Ii(v,"POST","/v1/accounts:signInWithEmailLink",Wt(v,g))})).apply(this,arguments)}class Vl extends zi{constructor(g,_,C,M=null){super("password",C),this._email=g,this._password=_,this._tenantId=M}static _fromEmailAndPassword(g,_){return new Vl(g,_,"password")}static _fromEmailAndCode(g,_,C=null){return new Vl(g,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,s.Z)(function*(){switch(_.signInMethod){case"password":return function Ll(v,g){return ro.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function ad(v,g){return is.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Re(g,"internal-error")}})()}_linkToIdToken(g,_){var C=this;return(0,s.Z)(function*(){switch(C.signInMethod){case"password":return $n(g,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function rs(v,g){return jc.apply(this,arguments)}(g,{idToken:_,email:C._email,oobCode:C._password});default:Re(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function so(v,g){return rr.apply(this,arguments)}function rr(){return(rr=(0,s.Z)(function*(v,g){return Ii(v,"POST","/v1/accounts:signInWithIdp",Wt(v,g))})).apply(this,arguments)}class ws extends zi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new ws(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Re("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:M}=_,N=(0,ae._T)(_,["providerId","signInMethod"]);if(!C||!M)return null;const ee=new ws(C,M);return ee.idToken=N.idToken||void 0,ee.accessToken=N.accessToken||void 0,ee.secret=N.secret,ee.nonce=N.nonce,ee.pendingToken=N.pendingToken||null,ee}_getIdTokenResponse(g){return so(g,this.buildRequest())}_linkToIdToken(g,_){const C=this.buildRequest();return C.idToken=_,so(g,C)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,so(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,V.xO)(_)}return g}}function Mp(v,g){return ld.apply(this,arguments)}function ld(){return(ld=(0,s.Z)(function*(v,g){return ln(v,"POST","/v1/accounts:sendVerificationCode",Wt(v,g))})).apply(this,arguments)}function cd(){return(cd=(0,s.Z)(function*(v,g){return Ii(v,"POST","/v1/accounts:signInWithPhoneNumber",Wt(v,g))})).apply(this,arguments)}function oo(){return(oo=(0,s.Z)(function*(v,g){const _=yield Ii(v,"POST","/v1/accounts:signInWithPhoneNumber",Wt(v,g));if(_.temporaryProof)throw Qn(v,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const xp={USER_NOT_FOUND:"user-not-found"};function Fa(){return(Fa=(0,s.Z)(function*(v,g){return Ii(v,"POST","/v1/accounts:signInWithPhoneNumber",Wt(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),xp)})).apply(this,arguments)}class na extends zi{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new na({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new na({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function Na(v,g){return cd.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function zc(v,g){return oo.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function kp(v,g){return Fa.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:C,verificationCode:M}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:C,code:M}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:N}=g;return C||_||M||N?new na({verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:N}):null}}class La{constructor(g){var _,C,M,N,ee,Oe;const rt=(0,V.zd)((0,V.pd)(g)),Ct=null!==(_=rt.apiKey)&&void 0!==_?_:null,At=null!==(C=rt.oobCode)&&void 0!==C?C:null,zn=function Rp(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=rt.mode)&&void 0!==M?M:null);ne(Ct&&At&&zn,"argument-error"),this.apiKey=Ct,this.operation=zn,this.code=At,this.continueUrl=null!==(N=rt.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(ee=rt.languageCode)&&void 0!==ee?ee:null,this.tenantId=null!==(Oe=rt.tenantId)&&void 0!==Oe?Oe:null}static parseLink(g){const _=function Op(v){const g=(0,V.zd)((0,V.pd)(v)).link,_=g?(0,V.zd)((0,V.pd)(g)).deep_link_id:null,C=(0,V.zd)((0,V.pd)(v)).deep_link_id;return(C?(0,V.zd)((0,V.pd)(C)).link:null)||C||_||g||v}(g);try{return new La(_)}catch(C){return null}}}let ud=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(_,C){return Vl._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const M=La.parseLink(C);return ne(M,"argument-error"),Vl._fromEmailAndCode(_,M.code,M.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Mr{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ba extends Mr{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class xr extends Ba{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return ne("providerId"in _&&"signInMethod"in _,"argument-error"),ws._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ne(g.idToken||g.accessToken,"argument-error"),ws._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return xr.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return xr.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:M,pendingToken:N,nonce:ee,providerId:Oe}=g;if(!C&&!M&&!_&&!N||!Oe)return null;try{return new xr(Oe)._credential({idToken:_,accessToken:C,nonce:ee,pendingToken:N})}catch(rt){return null}}}let dd=(()=>{class v extends Ba{constructor(){super("facebook.com")}static credential(_){return ws._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(C){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Va=(()=>{class v extends Ba{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return ws._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:M}=_;if(!C&&!M)return null;try{return v.credential(C,M)}catch(N){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Ua=(()=>{class v extends Ba{constructor(){super("github.com")}static credential(_){return ws._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(C){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Ha extends zi{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return so(g,this.buildRequest())}_linkToIdToken(g,_){const C=this.buildRequest();return C.idToken=_,so(g,C)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,so(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:M,pendingToken:N}=_;return C&&M&&N&&C===M?new Ha(C,N):null}static _create(g,_){return new Ha(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ja extends Mr{constructor(g){ne(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return ja.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return ja.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Ha.fromJSON(g);return ne(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:C}=g;if(!_||!C)return null;try{return Ha._create(C,_)}catch(M){return null}}}let ia=(()=>{class v extends Ba{constructor(){super("twitter.com")}static credential(_,C){return ws._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:M}=_;if(!C||!M)return null;try{return v.credential(C,M)}catch(N){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function fr(v,g){return qc.apply(this,arguments)}function qc(){return(qc=(0,s.Z)(function*(v,g){return Ii(v,"POST","/v1/accounts:signUp",Wt(v,g))})).apply(this,arguments)}class Tn{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,C,M=!1){return(0,s.Z)(function*(){const N=yield pn._fromIdTokenResponse(g,C,M),ee=za(C);return new Tn({user:N,providerId:ee,_tokenResponse:C,operationType:_})})()}static _forOperation(g,_,C){return(0,s.Z)(function*(){yield g._updateTokensIfNecessary(C,!0);const M=za(C);return new Tn({user:g,providerId:M,_tokenResponse:C,operationType:_})})()}}function za(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Ah(v){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,s.Z)(function*(v){var g;const _=gn(v);if(yield _._initializationPromise,null===(g=_.currentUser)||void 0===g?void 0:g.isAnonymous)return new Tn({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield fr(_,{returnSecureToken:!0}),M=yield Tn._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class qa extends V.ZR{constructor(g,_,C,M){var N;super(_.code,_.message),this.operationType=C,this.user=M,Object.setPrototypeOf(this,qa.prototype),this.customData={appName:g.name,tenantId:null!==(N=g.tenantId)&&void 0!==N?N:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(g,_,C,M){return new qa(g,_,C,M)}}function hd(v,g,_,C){return("reauthenticate"===g?_._getReauthenticationResolver(v):_._getIdTokenResponse(v)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?qa._fromErrorAndOperation(v,N,g,C):N})}function jl(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function fd(v,g){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,s.Z)(function*(v,g){const _=(0,V.m9)(v);yield ra(!0,_,g);const{providerUserInfo:C}=yield Fi(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),M=jl(C||[]);return _.providerData=_.providerData.filter(N=>M.has(N.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Gc(v,g){return En.apply(this,arguments)}function En(){return(En=(0,s.Z)(function*(v,g,_=!1){const C=yield Je(v,g._linkToIdToken(v.auth,yield v.getIdToken()),_);return Tn._forOperation(v,"link",C)})).apply(this,arguments)}function ra(v,g,_){return Do.apply(this,arguments)}function Do(){return(Do=(0,s.Z)(function*(v,g,_){yield Jn(g);const M=!1===v?"provider-already-linked":"no-such-provider";ne(jl(g.providerData).has(_)===v,g.auth,M)})).apply(this,arguments)}function vn(v,g){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,s.Z)(function*(v,g,_=!1){const{auth:C}=v,M="reauthenticate";try{const N=yield Je(v,hd(C,M,g,v),_);ne(N.idToken,C,"internal-error");const ee=Pt(N.idToken);ne(ee,C,"internal-error");const{sub:Oe}=ee;return ne(v.uid===Oe,C,"user-mismatch"),Tn._forOperation(v,M,N)}catch(N){throw"auth/user-not-found"===(null==N?void 0:N.code)&&Re(C,"user-mismatch"),N}})).apply(this,arguments)}function zl(v,g){return ao.apply(this,arguments)}function ao(){return(ao=(0,s.Z)(function*(v,g,_=!1){const C="signIn",M=yield hd(v,C,g),N=yield Tn._fromIdTokenResponse(v,C,M);return _||(yield v._updateCurrentUser(N.user)),N})).apply(this,arguments)}function ci(v,g){return $c.apply(this,arguments)}function $c(){return($c=(0,s.Z)(function*(v,g){return zl(gn(v),g)})).apply(this,arguments)}function Zn(v,g){return ss.apply(this,arguments)}function ss(){return(ss=(0,s.Z)(function*(v,g){const _=(0,V.m9)(v);return yield ra(!1,_,g.providerId),Gc(_,g)})).apply(this,arguments)}function Si(v,g){return To.apply(this,arguments)}function To(){return(To=(0,s.Z)(function*(v,g){return vn((0,V.m9)(v),g)})).apply(this,arguments)}function lo(v,g){return $a.apply(this,arguments)}function $a(){return($a=(0,s.Z)(function*(v,g){return Ii(v,"POST","/v1/accounts:signInWithCustomToken",Wt(v,g))})).apply(this,arguments)}function Or(v,g){return os.apply(this,arguments)}function os(){return(os=(0,s.Z)(function*(v,g){const _=gn(v),C=yield lo(_,{token:g,returnSecureToken:!0}),M=yield Tn._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Cs{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?bt._fromServerResponse(g,_):Re(g,"internal-error")}}class bt extends Cs{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new bt(_)}}function sa(v,g,_){var C;ne((null===(C=_.url)||void 0===C?void 0:C.length)>0,v,"invalid-continue-uri"),ne(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ne(_.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(ne(_.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function pd(v,g,_){return ql.apply(this,arguments)}function ql(){return(ql=(0,s.Z)(function*(v,g,_){const C=(0,V.m9)(v),M={requestType:"PASSWORD_RESET",email:g};_&&sa(C,M,_),yield Cn(C,M)})).apply(this,arguments)}function Zc(v,g,_){return Za.apply(this,arguments)}function Za(){return(Za=(0,s.Z)(function*(v,g,_){yield wn((0,V.m9)(v),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Wc(v,g){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,s.Z)(function*(v,g){yield Fl((0,V.m9)(v),{oobCode:g})})).apply(this,arguments)}function Me(v,g){return zt.apply(this,arguments)}function zt(){return(zt=(0,s.Z)(function*(v,g){const _=(0,V.m9)(v),C=yield wn(_,{oobCode:g}),M=C.requestType;switch(ne(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(C.mfaInfo,_,"internal-error");default:ne(C.email,_,"internal-error")}let N=null;return C.mfaInfo&&(N=Cs._fromServerResponse(gn(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:N},operation:M}})).apply(this,arguments)}function Kc(v,g){return kn.apply(this,arguments)}function kn(){return(kn=(0,s.Z)(function*(v,g){const{data:_}=yield Me((0,V.m9)(v),g);return _.email})).apply(this,arguments)}function oa(v,g,_){return Io.apply(this,arguments)}function Io(){return(Io=(0,s.Z)(function*(v,g,_){const C=gn(v),M=yield fr(C,{returnSecureToken:!0,email:g,password:_}),N=yield Tn._fromIdTokenResponse(C,"signIn",M);return yield C._updateCurrentUser(N.user),N})).apply(this,arguments)}function pr(v,g,_){return ci((0,V.m9)(v),ud.credential(g,_))}function Qc(v,g,_){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,s.Z)(function*(v,g,_){const C=(0,V.m9)(v),M={requestType:"EMAIL_SIGNIN",email:g};ne(_.handleCodeInApp,C,"argument-error"),_&&sa(C,M,_),yield Oa(C,M)})).apply(this,arguments)}function Pp(v,g){const _=La.parseLink(g);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function gd(v,g,_){return So.apply(this,arguments)}function So(){return(So=(0,s.Z)(function*(v,g,_){const C=(0,V.m9)(v),M=ud.credentialWithLink(g,_||de());return ne(M._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),ci(C,M)})).apply(this,arguments)}function Gl(v,g){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,s.Z)(function*(v,g){return ln(v,"POST","/v1/accounts:createAuthUri",Wt(v,g))})).apply(this,arguments)}function Es(v,g){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,s.Z)(function*(v,g){const C={identifier:g,continueUri:Dt()?de():"http://localhost"},{signinMethods:M}=yield Gl((0,V.m9)(v),C);return M||[]})).apply(this,arguments)}function co(v,g){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,s.Z)(function*(v,g){const _=(0,V.m9)(v),M={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&sa(_.auth,M,g);const{email:N}=yield Ra(_.auth,M);N!==v.email&&(yield v.reload())})).apply(this,arguments)}function Jc(v,g,_){return $l.apply(this,arguments)}function $l(){return($l=(0,s.Z)(function*(v,g,_){const C=(0,V.m9)(v),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};_&&sa(C.auth,N,_);const{email:ee}=yield qi(C.auth,N);ee!==v.email&&(yield v.reload())})).apply(this,arguments)}function Xc(v,g){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,s.Z)(function*(v,g){return ln(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ka(v,g){return aa.apply(this,arguments)}function aa(){return(aa=(0,s.Z)(function*(v,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const C=(0,V.m9)(v),N={idToken:yield C.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},ee=yield Je(C,Xc(C.auth,N));C.displayName=ee.displayName||null,C.photoURL=ee.photoUrl||null;const Oe=C.providerData.find(({providerId:rt})=>"password"===rt);Oe&&(Oe.displayName=C.displayName,Oe.photoURL=C.photoURL),yield C._updateTokensIfNecessary(ee)})).apply(this,arguments)}function eu(v,g){return Mh((0,V.m9)(v),g,null)}function tu(v,g){return Mh((0,V.m9)(v),null,g)}function Mh(v,g,_){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,s.Z)(function*(v,g,_){const{auth:C}=v,N={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(N.email=g),_&&(N.password=_);const ee=yield Je(v,$n(C,N));yield v._updateTokensIfNecessary(ee,!0)})).apply(this,arguments)}class uo{constructor(g,_,C={}){this.isNewUser=g,this.providerId=_,this.profile=C}}class nu extends uo{constructor(g,_,C,M){super(g,_,C),this.username=M}}class xh extends uo{constructor(g,_){super(g,"facebook.com",_)}}class kh extends nu{constructor(g,_){super(g,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class la extends uo{constructor(g,_){super(g,"google.com",_)}}class as extends nu{constructor(g,_,C){super(g,"twitter.com",_,C)}}function Rh(v){const{user:g,_tokenResponse:_}=v;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Ja(v){var g,_;if(!v)return null;const{providerId:C}=v,M=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},N=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!C&&(null==v?void 0:v.idToken)){const ee=null===(_=null===(g=Pt(v.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(ee)return new uo(N,"anonymous"!==ee&&"custom"!==ee?ee:null)}if(!C)return null;switch(C){case"facebook.com":return new xh(N,M);case"github.com":return new kh(N,M);case"google.com":return new la(N,M);case"twitter.com":return new as(N,M,v.screenName||null);case"custom":case"anonymous":return new uo(N,null);default:return new uo(N,C,M)}}(_)}function Vn(v,g,_,C){return(0,V.m9)(v).onAuthStateChanged(g,_,C)}function a_(v){return(0,V.m9)(v).signOut()}class Ao{constructor(g,_){this.type=g,this.credential=_}static _fromIdtoken(g){return new Ao("enroll",g)}static _fromMfaPendingCredential(g){return new Ao("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,C;if(null==g?void 0:g.multiFactorSession){if(null===(_=g.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Ao._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(C=g.multiFactorSession)||void 0===C?void 0:C.idToken)return Ao._fromIdtoken(g.multiFactorSession.idToken)}return null}}class el{constructor(g,_,C){this.session=g,this.hints=_,this.signInResolver=C}static _fromError(g,_){const C=gn(g),M=_.customData._serverResponse,N=(M.mfaInfo||[]).map(Oe=>Cs._fromServerResponse(C,Oe));ne(M.mfaPendingCredential,C,"internal-error");const ee=Ao._fromMfaPendingCredential(M.mfaPendingCredential);return new el(ee,N,function(){var Oe=(0,s.Z)(function*(rt){const Ct=yield rt._process(C,ee);delete M.mfaInfo,delete M.mfaPendingCredential;const At=Object.assign(Object.assign({},M),{idToken:Ct.idToken,refreshToken:Ct.refreshToken});switch(_.operationType){case"signIn":const zn=yield Tn._fromIdTokenResponse(C,_.operationType,At);return yield C._updateCurrentUser(zn.user),zn;case"reauthenticate":return ne(_.user,C,"internal-error"),Tn._forOperation(_.user,_.operationType,At);default:Re(C,"internal-error")}});return function(rt){return Oe.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,s.Z)(function*(){return _.signInResolver(g)})()}}function iu(v,g){var _;const C=(0,V.m9)(v),M=g;return ne(g.customData.operationType,C,"argument-error"),ne(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),el._fromError(C,M)}function ru(v,g){return ln(v,"POST","/v2/accounts/mfaEnrollment:start",Wt(v,g))}class su{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>Cs._fromServerResponse(g.auth,C)))})}static _fromUser(g){return new su(g)}getSession(){var g=this;return(0,s.Z)(function*(){return Ao._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,_){var C=this;return(0,s.Z)(function*(){const M=g,N=yield C.getSession(),ee=yield Je(C.user,M._process(C.user.auth,N,_));return yield C.user._updateTokensIfNecessary(ee),C.user.reload()})()}unenroll(g){var _=this;return(0,s.Z)(function*(){const C="string"==typeof g?g:g.uid,M=yield _.user.getIdToken(),N=yield Je(_.user,function wi(v,g){return ln(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Wt(v,g))}(_.user.auth,{idToken:M,mfaEnrollmentId:C}));_.enrolledFactors=_.enrolledFactors.filter(({uid:ee})=>ee!==C),yield _.user._updateTokensIfNecessary(N);try{yield _.user.reload()}catch(ee){if("auth/user-token-expired"!==ee.code)throw ee}})()}}const Ts=new WeakMap;function Yl(v){const g=(0,V.m9)(v);return Ts.has(g)||Ts.set(g,su._fromUser(g)),Ts.get(g)}const ou="__sak";class au{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(ou,"1"),this.storage.removeItem(ou),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Un=(()=>{class v extends au{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Mo(){const v=(0,V.z$)();return Z(v)||Ut(v)}()&&function es(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Bi(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const M=this.storage.getItem(C),N=this.localCache[C];M!==N&&_(C,N,M)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((Oe,rt,Ct)=>{this.notifyListeners(Oe,Ct)});const M=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Oe=this.storage.getItem(M);if(_.newValue!==Oe)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!C)return}const N=()=>{const Oe=this.storage.getItem(M);!C&&this.localCache[M]===Oe||this.notifyListeners(M,Oe)},ee=this.storage.getItem(M);!function Ht(){return(0,V.w1)()&&10===document.documentMode}()||ee===_.newValue||_.newValue===_.oldValue?N():setTimeout(N,10)}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const N of Array.from(M))N(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var M=()=>super._set,N=this;return(0,s.Z)(function*(){yield M().call(N,_,C),N.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,M=this;return(0,s.Z)(function*(){const N=yield C().call(M,_);return M.localCache[_]=JSON.stringify(N),N})()}_remove(_){var C=()=>super._remove,M=this;return(0,s.Z)(function*(){yield C().call(M,_),delete M.localCache[_]})()}}return v.type="LOCAL",v})(),We=(()=>{class v extends au{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return v.type="SESSION",v})();let Mi=(()=>{class v{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(N=>N.isListeningto(_));if(C)return C;const M=new v(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,s.Z)(function*(){const M=_,{eventId:N,eventType:ee,data:Oe}=M.data,rt=C.handlersMap[ee];if(!(null==rt?void 0:rt.size))return;M.ports[0].postMessage({status:"ack",eventId:N,eventType:ee});const Ct=Array.from(rt).map(function(){var zn=(0,s.Z)(function*(ar){return ar(M.origin,Oe)});return function(ar){return zn.apply(this,arguments)}}()),At=yield function $e(v){return Promise.all(v.map(function(){var g=(0,s.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return g.apply(this,arguments)}}()))}(Ct);M.ports[0].postMessage({status:"done",eventId:N,eventType:ee,response:At})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function cn(v="",g=10){let _="";for(let C=0;C<g;C++)_+=Math.floor(10*Math.random());return v+_}class lu{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,C=50){var M=this;return(0,s.Z)(function*(){const N="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let ee,Oe;return new Promise((rt,Ct)=>{const At=cn("",20);N.port1.start();const zn=setTimeout(()=>{Ct(new Error("unsupported_event"))},C);Oe={messageChannel:N,onMessage(ar){const fl=ar;if(fl.data.eventId===At)switch(fl.data.status){case"ack":clearTimeout(zn),ee=setTimeout(()=>{Ct(new Error("timeout"))},3e3);break;case"done":clearTimeout(ee),rt(fl.data.response);break;default:clearTimeout(zn),clearTimeout(ee),Ct(new Error("invalid_response"))}}},M.handlers.add(Oe),N.port1.addEventListener("message",Oe.onMessage),M.target.postMessage({eventType:g,eventId:At,data:_},[N.port2])}).finally(()=>{Oe&&M.removeMessageHandler(Oe)})})()}}function Yn(){return window}function nl(){return void 0!==Yn().WorkerGlobalScope&&"function"==typeof Yn().importScripts}function ko(){return(ko=(0,s.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const cu="firebaseLocalStorageDb",ua="firebaseLocalStorage",uu="fbase_key";class nn{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function da(v,g){return v.transaction([ua],g?"readwrite":"readonly").objectStore(ua)}function fa(){const v=indexedDB.open(cu,1);return new Promise((g,_)=>{v.addEventListener("error",()=>{_(v.error)}),v.addEventListener("upgradeneeded",()=>{const C=v.result;try{C.createObjectStore(ua,{keyPath:uu})}catch(M){_(M)}}),v.addEventListener("success",(0,s.Z)(function*(){const C=v.result;C.objectStoreNames.contains(ua)?g(C):(C.close(),yield function ha(){const v=indexedDB.deleteDatabase(cu);return new nn(v).toPromise()}(),g(yield fa()))}))})}function Gi(v,g,_){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,s.Z)(function*(v,g,_){const C=da(v,!0).put({[uu]:g,value:_});return new nn(C).toPromise()})).apply(this,arguments)}function ls(){return(ls=(0,s.Z)(function*(v,g){const _=da(v,!1).get(g),C=yield new nn(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Jl(v,g){const _=da(v,!0).delete(g);return new nn(_).toPromise()}const Fr=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,s.Z)(function*(){return _.db||(_.db=yield fa()),_.db})()}_withRetries(_){var C=this;return(0,s.Z)(function*(){let M=0;for(;;)try{const N=yield C._openDb();return yield _(N)}catch(N){if(M++>3)throw N;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,s.Z)(function*(){return nl()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,s.Z)(function*(){_.receiver=Mi._getInstance(function ut(){return nl()?self:null}()),_.receiver._subscribe("keyChanged",function(){var C=(0,s.Z)(function*(M,N){return{keyProcessed:(yield _._poll()).includes(N.key)}});return function(M,N){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,s.Z)(function*(M,N){return["keyChanged"]});return function(M,N){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,s.Z)(function*(){var C,M;if(_.activeServiceWorker=yield function xo(){return ko.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new lu(_.activeServiceWorker);const N=yield _.sender._send("ping",{},800);!N||(null===(C=N[0])||void 0===C?void 0:C.fulfilled)&&(null===(M=N[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,s.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Is(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const _=yield fa();return yield Gi(_,ou,"1"),yield Jl(_,ou),!0}catch(_){}return!1})()}_withPendingWrite(_){var C=this;return(0,s.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var M=this;return(0,s.Z)(function*(){return M._withPendingWrite((0,s.Z)(function*(){return yield M._withRetries(N=>Gi(N,_,C)),M.localCache[_]=C,M.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,s.Z)(function*(){const M=yield C._withRetries(N=>function pa(v,g){return ls.apply(this,arguments)}(N,_));return C.localCache[_]=M,M})()}_remove(_){var C=this;return(0,s.Z)(function*(){return C._withPendingWrite((0,s.Z)(function*(){return yield C._withRetries(M=>Jl(M,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,s.Z)(function*(){const C=yield _._withRetries(ee=>{const Oe=da(ee,!1).getAll();return new nn(Oe).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const M=[],N=new Set;for(const{fbase_key:ee,value:Oe}of C)N.add(ee),JSON.stringify(_.localCache[ee])!==JSON.stringify(Oe)&&(_.notifyListeners(ee,Oe),M.push(ee));for(const ee of Object.keys(_.localCache))_.localCache[ee]&&!N.has(ee)&&(_.notifyListeners(ee,null),M.push(ee));return M})()}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const N of Array.from(M))N(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function In(v,g){return ln(v,"POST","/v2/accounts/mfaSignIn:start",Wt(v,g))}function ga(){return(ga=(0,s.Z)(function*(v){return(yield ln(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function un(v){return new Promise((g,_)=>{const C=document.createElement("script");C.setAttribute("src",v),C.onload=g,C.onerror=M=>{const N=fe("internal-error");N.customData=M,_(N)},C.type="text/javascript",C.charset="UTF-8",function Sn(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(C)})}function Pn(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Lt=1e12;class $i{constructor(g){this.auth=g,this.counter=Lt,this._widgets=new Map}render(g,_){const C=this.counter;return this._widgets.set(C,new Hn(g,this.auth.name,_||{})),this.counter++,C}reset(g){var _;const C=g||Lt;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Lt))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,s.Z)(function*(){var C;return null===(C=_._widgets.get(g||Lt))||void 0===C||C.execute(),""})()}}class Hn{constructor(g,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof g?document.getElementById(g):g;ne(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Lr(v){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<v;C++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const sr=Pn("rcb"),yd=new ot(3e4,6e4);class jn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Yn().grecaptcha}load(g,_=""){return ne(function Ph(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Yn().grecaptcha):new Promise((C,M)=>{const N=Yn().setTimeout(()=>{M(fe(g,"network-request-failed"))},yd.get());Yn()[sr]=()=>{Yn().clearTimeout(N),delete Yn()[sr];const Oe=Yn().grecaptcha;if(!Oe)return void M(fe(g,"internal-error"));const rt=Oe.render;Oe.render=(Ct,At)=>{const zn=rt(Ct,At);return this.counter++,zn},this.hostLanguage=_,C(Oe)},un(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:sr,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(N),M(fe(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!Yn().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class u_{load(g){return(0,s.Z)(function*(){return new $i(g)})()}clearedOneInstance(){}}const ma="recaptcha",Ci={theme:"light",type:"image"};class vd{constructor(g,_=Object.assign({},Ci),C){this.parameters=_,this.type=ma,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gn(C),this.isInvisible="invisible"===this.parameters.size,ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof g?document.getElementById(g):g;ne(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new u_:new jn,this.validateStartingState()}verify(){var g=this;return(0,s.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),C=g.getAssertedRecaptcha();return C.getResponse(_)||new Promise(N=>{const ee=Oe=>{!Oe||(g.tokenChangeListeners.delete(ee),N(Oe))};g.tokenChangeListeners.add(ee),g.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof g)g(_);else if("string"==typeof g){const C=Yn()[g];"function"==typeof C&&C(_)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,s.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,s.Z)(function*(){ne(Dt()&&!nl(),g.auth,"internal-error"),yield function Ss(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function du(v){return ga.apply(this,arguments)}(g.auth);ne(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ec{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=na._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function As(v,g,_){return hu.apply(this,arguments)}function hu(){return(hu=(0,s.Z)(function*(v,g,_){const C=gn(v),M=yield tc(C,g,(0,V.m9)(_));return new ec(M,N=>ci(C,N))})).apply(this,arguments)}function ii(v,g,_){return sl.apply(this,arguments)}function sl(){return(sl=(0,s.Z)(function*(v,g,_){const C=(0,V.m9)(v);yield ra(!1,C,"phone");const M=yield tc(C.auth,g,(0,V.m9)(_));return new ec(M,N=>Zn(C,N))})).apply(this,arguments)}function ol(v,g,_){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,s.Z)(function*(v,g,_){const C=(0,V.m9)(v),M=yield tc(C.auth,g,(0,V.m9)(_));return new ec(M,N=>Si(C,N))})).apply(this,arguments)}function tc(v,g,_){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,s.Z)(function*(v,g,_){var C;const M=yield _.verify();try{let N;if(ne("string"==typeof M,v,"argument-error"),ne(_.type===ma,v,"argument-error"),N="string"==typeof g?{phoneNumber:g}:g,"session"in N){const ee=N.session;if("phoneNumber"in N)return ne("enroll"===ee.type,v,"internal-error"),(yield ru(v,{idToken:ee.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{ne("signin"===ee.type,v,"internal-error");const Oe=(null===(C=N.multiFactorHint)||void 0===C?void 0:C.uid)||N.multiFactorUid;return ne(Oe,v,"missing-multi-factor-info"),(yield In(v,{mfaPendingCredential:ee.credential,mfaEnrollmentId:Oe,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ee}=yield Mp(v,{phoneNumber:N.phoneNumber,recaptchaToken:M});return ee}}finally{_._reset()}})).apply(this,arguments)}function Br(v,g){return _a.apply(this,arguments)}function _a(){return(_a=(0,s.Z)(function*(v,g){yield Gc((0,V.m9)(v),g)})).apply(this,arguments)}let al=(()=>{class v{constructor(_){this.providerId=v.PROVIDER_ID,this.auth=gn(_)}verifyPhoneNumber(_,C){return tc(this.auth,_,(0,V.m9)(C))}static credential(_,C){return na._fromVerification(_,C)}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:M}=_;return C&&M?na._fromTokenResponse(C,M):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Vr(v,g){return g?he(g):(ne(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class ya extends zi{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return so(g,this._buildIdpRequest())}_linkToIdToken(g,_){return so(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return so(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function fu(v){return zl(v.auth,new ya(v),v.bypassAuthState)}function nc(v){const{auth:g,user:_}=v;return ne(_,g,"internal-error"),vn(_,new ya(v),v.bypassAuthState)}function Bt(v){return ic.apply(this,arguments)}function ic(){return(ic=(0,s.Z)(function*(v){const{auth:g,user:_}=v;return ne(_,g,"internal-error"),Gc(_,new ya(v),v.bypassAuthState)})).apply(this,arguments)}class us{constructor(g,_,C,M,N=!1){this.auth=g,this.resolver=C,this.user=M,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,s.Z)(function*(C,M){g.pendingPromise={resolve:C,reject:M};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(N){g.reject(N)}});return function(C,M){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,s.Z)(function*(){const{urlResponse:C,sessionId:M,postBody:N,tenantId:ee,error:Oe,type:rt}=g;if(Oe)return void _.reject(Oe);const Ct={auth:_.auth,requestUri:C,sessionId:M,tenantId:ee||void 0,postBody:N||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(rt)(Ct))}catch(At){_.reject(At)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return fu;case"linkViaPopup":case"linkViaRedirect":return Bt;case"reauthViaPopup":case"reauthViaRedirect":return nc;default:Re(this.auth,"internal-error")}}resolve(g){Q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xi=new ot(2e3,1e4);function rc(v,g,_){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,s.Z)(function*(v,g,_){const C=gn(v);we(v,g,Mr);const M=Vr(C,_);return new ll(C,"signInViaPopup",g,M).executeNotNull()})).apply(this,arguments)}function d_(v,g,_){return sc.apply(this,arguments)}function sc(){return(sc=(0,s.Z)(function*(v,g,_){const C=(0,V.m9)(v);we(C.auth,g,Mr);const M=Vr(C.auth,_);return new ll(C.auth,"reauthViaPopup",g,M,C).executeNotNull()})).apply(this,arguments)}function ds(v,g,_){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,s.Z)(function*(v,g,_){const C=(0,V.m9)(v);we(C.auth,g,Mr);const M=Vr(C.auth,_);return new ll(C.auth,"linkViaPopup",g,M,C).executeNotNull()})).apply(this,arguments)}let ll=(()=>{class v extends us{constructor(_,C,M,N,ee){super(_,C,N,ee),this.provider=M,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var _=this;return(0,s.Z)(function*(){const C=yield _.execute();return ne(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,s.Z)(function*(){Q(1===_.filter.length,"Popup operations only handle one event");const C=cn();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(fe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,M;this.pollId=(null===(M=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(fe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,xi.get())};_()}}return v.currentPopupAction=null,v})();const pu=new Map;class Rn extends us{constructor(g,_,C=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,s.Z)(function*(){let C=pu.get(_.auth._key());if(!C){try{const N=(yield function gr(v,g){return mr.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;C=()=>Promise.resolve(N)}catch(M){C=()=>Promise.reject(M)}pu.set(_.auth._key(),C)}return _.bypassAuthState||pu.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,C=this;return(0,s.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(C,g);if("unknown"!==g.type){if(g.eventId){const M=yield C.auth._redirectUserForId(g.eventId);if(M)return C.user=M,_().call(C,g);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function mr(){return(mr=(0,s.Z)(function*(v,g){const _=gu(g),C=ul(v);if(!(yield C._isAvailable()))return!1;const M="true"===(yield C._get(_));return yield C._remove(_),M})).apply(this,arguments)}function Fh(v,g){return Po.apply(this,arguments)}function Po(){return(Po=(0,s.Z)(function*(v,g){return ul(v)._set(gu(g),"true")})).apply(this,arguments)}function cl(){pu.clear()}function ul(v){return he(v._redirectPersistence)}function gu(v){return Ft("pendingRedirect",v.config.apiKey,v.name)}function Lh(v,g,_){return function T(v,g,_){return I.apply(this,arguments)}(v,g,_)}function I(){return(I=(0,s.Z)(function*(v,g,_){const C=gn(v);we(v,g,Mr);const M=Vr(C,_);return yield Fh(M,C),M._openRedirect(C,g,"signInViaRedirect")})).apply(this,arguments)}function k(v,g,_){return function L(v,g,_){return z.apply(this,arguments)}(v,g,_)}function z(){return(z=(0,s.Z)(function*(v,g,_){const C=(0,V.m9)(v);we(C.auth,g,Mr);const M=Vr(C.auth,_);yield Fh(M,C.auth);const N=yield ki(C);return M._openRedirect(C.auth,g,"reauthViaRedirect",N)})).apply(this,arguments)}function le(v,g,_){return function Ie(v,g,_){return qe.apply(this,arguments)}(v,g,_)}function qe(){return(qe=(0,s.Z)(function*(v,g,_){const C=(0,V.m9)(v);we(C.auth,g,Mr);const M=Vr(C.auth,_);yield ra(!1,C,g.providerId),yield Fh(M,C.auth);const N=yield ki(C);return M._openRedirect(C.auth,g,"linkViaRedirect",N)})).apply(this,arguments)}function tt(v,g){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,s.Z)(function*(v,g){return yield gn(v)._initializationPromise,Kt(v,g,!1)})).apply(this,arguments)}function Kt(v,g){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,s.Z)(function*(v,g,_=!1){const C=gn(v),M=Vr(C,g),ee=yield new Rn(C,M,_).execute();return ee&&!_&&(delete ee.user._redirectEventId,yield C._persistUserIfCurrent(ee.user),yield C._setRedirectUser(null,g)),ee})).apply(this,arguments)}function ki(v){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,s.Z)(function*(v){const g=cn(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class or{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(g,C)&&(_=!0,this.sendToConsumer(g,C),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function ks(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hi(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var C;if(g.error&&!Hi(g)){const M=(null===(C=g.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(fe(this.auth,M))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const C=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&C}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(No(g))}saveEventToCache(g){this.cachedEventUids.add(No(g)),this.lastProcessedEventTime=Date.now()}}function No(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function Hi({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===(null==g?void 0:g.code)}function dl(v){return oc.apply(this,arguments)}function oc(){return(oc=(0,s.Z)(function*(v,g={}){return ln(v,"GET","/v1/projects",g)})).apply(this,arguments)}const wd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Np=/^https?/;function ac(){return(ac=(0,s.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield dl(v);for(const _ of g)try{if(lc(_))return}catch(C){}Re(v,"unauthorized-domain")})).apply(this,arguments)}function lc(v){const g=de(),{protocol:_,hostname:C}=new URL(g);if(v.startsWith("chrome-extension://")){const ee=new URL(v);return""===ee.hostname&&""===C?"chrome-extension:"===_&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&ee.hostname===C}if(!Np.test(_))return!1;if(wd.test(v))return C===v;const M=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(C)}const mu=new ot(3e4,6e4);function Fp(){const v=Yn().___jsl;if(null==v?void 0:v.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let _=0;_<v.CP.length;_++)v.CP[_]=null}let _u=null;function Lp(v){return _u=_u||function Wb(v){return new Promise((g,_)=>{var C,M,N;function ee(){Fp(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Fp(),_(fe(v,"network-request-failed"))},timeout:mu.get()})}if(null===(M=null===(C=Yn().gapi)||void 0===C?void 0:C.iframes)||void 0===M?void 0:M.Iframe)g(gapi.iframes.getContext());else{if(!(null===(N=Yn().gapi)||void 0===N?void 0:N.load)){const Oe=Pn("iframefcb");return Yn()[Oe]=()=>{gapi.load?ee():_(fe(v,"network-request-failed"))},un(`https://apis.google.com/js/api.js?onload=${Oe}`).catch(rt=>_(rt))}ee()}}).catch(g=>{throw _u=null,g})}(v),_u}const Bp=new ot(5e3,15e3),cc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cd(v){const g=v.config;ne(g.authDomain,v,"auth-domain-config-required");const _=g.emulator?ai(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,C={apiKey:g.apiKey,appName:v.name,v:R.SDK_VERSION},M=yu.get(v.config.apiHost);M&&(C.eid=M);const N=v._getFrameworks();return N.length&&(C.fw=N.join(",")),`${_}?${(0,V.xO)(C).slice(1)}`}function ho(){return ho=(0,s.Z)(function*(v){const g=yield Lp(v),_=Yn().gapi;return ne(_,v,"internal-error"),g.open({where:document.body,url:Cd(v),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cc,dontclear:!0},C=>new Promise(function(){var M=(0,s.Z)(function*(N,ee){yield C.restyle({setHideOnLeave:!1});const Oe=fe(v,"network-request-failed"),rt=Yn().setTimeout(()=>{ee(Oe)},Bp.get());function Ct(){Yn().clearTimeout(rt),N(C)}C.ping(Ct).then(Ct,()=>{ee(Oe)})});return function(N,ee){return M.apply(this,arguments)}}()))}),ho.apply(this,arguments)}const Vp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Td{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function Vh(v,g,_,C,M,N){ne(v.config.authDomain,v,"auth-domain-config-required"),ne(v.config.apiKey,v,"invalid-api-key");const ee={apiKey:v.config.apiKey,appName:v.name,authType:_,redirectUrl:C,v:R.SDK_VERSION,eventId:M};if(g instanceof Mr){g.setDefaultLanguage(v.languageCode),ee.providerId=g.providerId||"",(0,V.xb)(g.getCustomParameters())||(ee.customParameters=JSON.stringify(g.getCustomParameters()));for(const[rt,Ct]of Object.entries(N||{}))ee[rt]=Ct}if(g instanceof Ba){const rt=g.getScopes().filter(Ct=>""!==Ct);rt.length>0&&(ee.scopes=rt.join(","))}v.tenantId&&(ee.tid=v.tenantId);const Oe=ee;for(const rt of Object.keys(Oe))void 0===Oe[rt]&&delete Oe[rt];return`${function p_({config:v}){return v.emulator?ai(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,V.xO)(Oe).slice(1)}`}const Uh="webStorageSupport",Rs=class hs{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=We,this._completeRedirectFn=Kt}_openPopup(g,_,C,M){var N=this;return(0,s.Z)(function*(){var ee;Q(null===(ee=N.eventManagers[g._key()])||void 0===ee?void 0:ee.manager,"_initialize() not called before _openPopup()");const Oe=Vh(g,_,C,de(),M);return function Id(v,g,_,C=500,M=600){const N=Math.max((window.screen.availHeight-M)/2,0).toString(),ee=Math.max((window.screen.availWidth-C)/2,0).toString();let Oe="";const rt=Object.assign(Object.assign({},Vp),{width:C.toString(),height:M.toString(),top:N,left:ee}),Ct=(0,V.z$)().toLowerCase();_&&(Oe=Te(Ct)?"_blank":_),Y(Ct)&&(g=g||"http://localhost",rt.scrollbars="yes");const At=Object.entries(rt).reduce((ar,[fl,dc])=>`${ar}${fl}=${dc},`,"");if(function nr(v=(0,V.z$)()){var g;return Ut(v)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(Ct)&&"_self"!==Oe)return function Lo(v,g){const _=document.createElement("a");_.href=v,_.target=g;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(g||"",Oe),new Td(null);const zn=window.open(g||"",Oe,At);ne(zn,v,"popup-blocked");try{zn.focus()}catch(ar){}return new Td(zn)}(g,Oe,cn())})()}_openRedirect(g,_,C,M){var N=this;return(0,s.Z)(function*(){return yield N._originValidation(g),function ca(v){Yn().location.href=v}(Vh(g,_,C,de(),M)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:M,promise:N}=this.eventManagers[_];return M?Promise.resolve(M):(Q(N,"If manager is not set, promise should be"),N)}const C=this.initAndGetManager(g);return this.eventManagers[_]={promise:C},C.catch(()=>{delete this.eventManagers[_]}),C}initAndGetManager(g){var _=this;return(0,s.Z)(function*(){const C=yield function uc(v){return ho.apply(this,arguments)}(g),M=new or(g);return C.register("authEvent",N=>(ne(null==N?void 0:N.authEvent,g,"invalid-auth-event"),{status:M.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:M},_.iframes[g._key()]=C,M})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(Uh,{type:Uh},M=>{var N;const ee=null===(N=null==M?void 0:M[0])||void 0===N?void 0:N[Uh];void 0!==ee&&_(!!ee),Re(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function h_(v){return ac.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Bi()||Z()||Ut()}};class Ad extends class Sd{constructor(g){this.factorId=g}_process(g,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,C);case"signin":return this._finalizeSignIn(g,_.credential);default:return nt("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Ad(g)}_finalizeEnroll(g,_,C){return function Wl(v,g){return ln(v,"POST","/v2/accounts/mfaEnrollment:finalize",Wt(v,g))}(g,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function ni(v,g){return ln(v,"POST","/v2/accounts/mfaSignIn:finalize",Wt(v,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Up=(()=>{class v{constructor(){}static assertion(_){return Ad._fromCredential(_)}}return v.FACTOR_ID="phone",v})();var Hp="@firebase/auth";class g_{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,s.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(C=>{var M;g((null===(M=C)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zp(v=(0,R.getApp)()){const g=(0,R._getProvider)(v,"auth");return g.isInitialized()?g.getImmediate():function _e(v,g){const _=(0,R._getProvider)(v,"auth");if(_.isInitialized()){const M=_.getImmediate(),N=_.getOptions();if((0,V.vZ)(N,null!=g?g:{}))return M;Re(M,"already-initialized")}return _.initialize({options:g})}(v,{popupRedirectResolver:Rs,persistence:[Fr,Un,We]})}!function m_(v){(0,R._registerComponent)(new ge.wA("auth",(g,{options:_})=>{const C=g.getProvider("app").getImmediate(),{apiKey:M,authDomain:N}=C.options;return(ee=>{ne(M&&!M.includes(":"),"invalid-api-key",{appName:ee.name}),ne(!(null==N?void 0:N.includes(":")),"argument-error",{appName:ee.name});const Oe={apiKey:M,authDomain:N,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vi(v)},rt=new ka(ee,Oe);return function Le(v,g){const _=(null==g?void 0:g.persistence)||[],C=(Array.isArray(_)?_:[_]).map(he);(null==g?void 0:g.errorMap)&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(C,null==g?void 0:g.popupRedirectResolver)}(rt,_),rt})(C)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,C)=>{g.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new ge.wA("auth-internal",g=>{const _=gn(g.getProvider("auth").getImmediate());return new g_(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(Hp,"0.19.8",function jp(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,R.registerVersion)(Hp,"0.19.8","esm2017")}("Browser")},2090:(dt,Se,O)=>{"use strict";O.d(Se,{$s:()=>Zt,BH:()=>Be,G6:()=>ne,LL:()=>de,Mn:()=>we,Sg:()=>Ae,UG:()=>K,US:()=>ge,ZB:()=>H,ZR:()=>Le,b$:()=>Re,d:()=>fe,eu:()=>Q,hl:()=>nt,jU:()=>ue,m9:()=>Dn,ne:()=>Xr,pd:()=>Ar,r3:()=>Wt,ru:()=>xe,tV:()=>me,uI:()=>Ue,vZ:()=>Kn,w1:()=>Ce,xO:()=>Jr,xb:()=>xn,z$:()=>Fe,zI:()=>pe,zd:()=>hr});const ae=function(U){const $=[];let W=0;for(let Ee=0;Ee<U.length;Ee++){let ie=U.charCodeAt(Ee);ie<128?$[W++]=ie:ie<2048?($[W++]=ie>>6|192,$[W++]=63&ie|128):55296==(64512&ie)&&Ee+1<U.length&&56320==(64512&U.charCodeAt(Ee+1))?(ie=65536+((1023&ie)<<10)+(1023&U.charCodeAt(++Ee)),$[W++]=ie>>18|240,$[W++]=ie>>12&63|128,$[W++]=ie>>6&63|128,$[W++]=63&ie|128):($[W++]=ie>>12|224,$[W++]=ie>>6&63|128,$[W++]=63&ie|128)}return $},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,$){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let ie=0;ie<U.length;ie+=3){const Ze=U[ie],gt=ie+1<U.length,Xt=gt?U[ie+1]:0,pn=ie+2<U.length,Xn=pn?U[ie+2]:0;let ei=(15&Xt)<<2|Xn>>6,oe=63&Xn;pn||(oe=64,gt||(ei=64)),Ee.push(W[Ze>>2],W[(3&Ze)<<4|Xt>>4],W[ei],W[oe])}return Ee.join("")},encodeString(U,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(U):this.encodeByteArray(ae(U),$)},decodeString(U,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(U):function(U){const $=[];let W=0,Ee=0;for(;W<U.length;){const ie=U[W++];if(ie<128)$[Ee++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const Ze=U[W++];$[Ee++]=String.fromCharCode((31&ie)<<6|63&Ze)}else if(ie>239&&ie<365){const pn=((7&ie)<<18|(63&U[W++])<<12|(63&U[W++])<<6|63&U[W++])-65536;$[Ee++]=String.fromCharCode(55296+(pn>>10)),$[Ee++]=String.fromCharCode(56320+(1023&pn))}else{const Ze=U[W++],gt=U[W++];$[Ee++]=String.fromCharCode((15&ie)<<12|(63&Ze)<<6|63&gt)}}return $.join("")}(this.decodeStringToByteArray(U,$))},decodeStringToByteArray(U,$){this.init_();const W=$?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let ie=0;ie<U.length;){const Ze=W[U.charAt(ie++)],Xt=ie<U.length?W[U.charAt(ie)]:0;++ie;const Xn=ie<U.length?W[U.charAt(ie)]:64;++ie;const Ft=ie<U.length?W[U.charAt(ie)]:64;if(++ie,null==Ze||null==Xt||null==Xn||null==Ft)throw Error();Ee.push(Ze<<2|Xt>>4),64!==Xn&&(Ee.push(Xt<<4&240|Xn>>2),64!==Ft&&Ee.push(Xn<<6&192|Ft))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}},ce=function(U){return function(U){const $=ae(U);return ge.encodeByteArray($,!0)}(U).replace(/\./g,"")},me=function(U){try{return ge.decodeString(U,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function H(U,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return $}for(const W in $)!$.hasOwnProperty(W)||!te(W)||(U[W]=H(U[W],$[W]));return U}function te(U){return"__proto__"!==U}class Be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,W)=>{this.resolve=$,this.reject=W})}wrapCallback($){return(W,Ee)=>{W?this.reject(W):this.resolve(Ee),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(W):$(W,Ee))}}}function Ae(U,$){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=$||"demo-project",ie=U.iat||0,Ze=U.sub||U.user_id;if(!Ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const gt=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:ie,exp:ie+3600,auth_time:ie,sub:Ze,user_id:Ze,firebase:{sign_in_provider:"custom",identities:{}}},U);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(gt)),""].join(".")}function Fe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function K(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(U){return!1}}function ue(){return"object"==typeof self&&self.self===self}function xe(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function Re(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function fe(){return Fe().indexOf("Electron/")>=0}function Ce(){const U=Fe();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function we(){return Fe().indexOf("MSAppHost/")>=0}function ne(){return!K()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nt(){return"object"==typeof indexedDB}function Q(){return new Promise((U,$)=>{try{let W=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",ie=self.indexedDB.open(Ee);ie.onsuccess=()=>{ie.result.close(),W||self.indexedDB.deleteDatabase(Ee),U(!0)},ie.onupgradeneeded=()=>{W=!1},ie.onerror=()=>{var Ze;$((null===(Ze=ie.error)||void 0===Ze?void 0:Ze.message)||"")}}catch(W){$(W)}})}function pe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Le extends Error{constructor($,W,Ee){super(W),this.code=$,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,Le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,de.prototype.create)}}class de{constructor($,W,Ee){this.service=$,this.serviceName=W,this.errors=Ee}create($,...W){const Ee=W[0]||{},ie=`${this.service}/${$}`,Ze=this.errors[$],gt=Ze?function Dt(U,$){return U.replace(tn,(W,Ee)=>{const ie=$[Ee];return null!=ie?String(ie):`<${Ee}?>`})}(Ze,Ee):"Error";return new Le(ie,`${this.serviceName}: ${gt} (${ie}).`,Ee)}}const tn=/\{\$([^}]+)}/g;function Wt(U,$){return Object.prototype.hasOwnProperty.call(U,$)}function xn(U){for(const $ in U)if(Object.prototype.hasOwnProperty.call(U,$))return!1;return!0}function Kn(U,$){if(U===$)return!0;const W=Object.keys(U),Ee=Object.keys($);for(const ie of W){if(!Ee.includes(ie))return!1;const Ze=U[ie],gt=$[ie];if(Ii(Ze)&&Ii(gt)){if(!Kn(Ze,gt))return!1}else if(Ze!==gt)return!1}for(const ie of Ee)if(!W.includes(ie))return!1;return!0}function Ii(U){return null!==U&&"object"==typeof U}function Jr(U){const $=[];for(const[W,Ee]of Object.entries(U))Array.isArray(Ee)?Ee.forEach(ie=>{$.push(encodeURIComponent(W)+"="+encodeURIComponent(ie))}):$.push(encodeURIComponent(W)+"="+encodeURIComponent(Ee));return $.length?"&"+$.join("&"):""}function hr(U){const $={};return U.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[ie,Ze]=Ee.split("=");$[decodeURIComponent(ie)]=decodeURIComponent(Ze)}}),$}function Ar(U){const $=U.indexOf("?");if(!$)return"";const W=U.indexOf("#",$);return U.substring($,W>0?W:void 0)}function Xr(U,$){const W=new mt(U,$);return W.subscribe.bind(W)}class mt{constructor($,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{$(this)}).catch(Ee=>{this.error(Ee)})}next($){this.forEachObserver(W=>{W.next($)})}error($){this.forEachObserver(W=>{W.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,W,Ee){let ie;if(void 0===$&&void 0===W&&void 0===Ee)throw new Error("Missing Observer.");ie=function Bn(U,$){if("object"!=typeof U||null===U)return!1;for(const W of $)if(W in U&&"function"==typeof U[W])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:W,complete:Ee},void 0===ie.next&&(ie.next=Jt),void 0===ie.error&&(ie.error=Jt),void 0===ie.complete&&(ie.complete=Jt);const Ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch(gt){}}),this.observers.push(ie),Ze}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,$)}sendOne($,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{W(this.observers[$])}catch(Ee){"undefined"!=typeof console&&console.error&&console.error(Ee)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jt(){}function Zt(U,$=1e3,W=2){const Ee=$*Math.pow(W,U),ie=Math.round(.5*Ee*(Math.random()-.5)*2);return Math.min(144e5,Ee+ie)}function Dn(U){return U&&U._delegate?U._delegate:U}},9412:(dt,Se,O)=>{"use strict";var s=O(5e3);let V=null;function R(){return V}const X=new s.OlP("DocumentToken");let ce=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function me(){return(0,s.LFG)(H)}()},providedIn:"platform"}),n})();const j=new s.OlP("Location Initialized");let H=(()=>{class n extends ce{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(e){const i=R().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=R().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){te()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){te()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(X))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Be(){return new H((0,s.LFG)(X))}()},providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function Ae(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Fe(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ue(n){return n&&"?"!==n[0]?"?"+n:n}let K=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ue(n){const t=(0,s.LFG)(X).location;return new Re((0,s.LFG)(ce),t&&t.origin||"")}()},providedIn:"root"}),n})();const xe=new s.OlP("appBaseHref");let Re=(()=>{class n extends K{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ae(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ue(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,l){const u=this.prepareExternalUrl(r+Ue(l));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,l){const u=this.prepareExternalUrl(r+Ue(l));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ce),s.LFG(xe,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),fe=(()=>{class n extends K{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ae(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,l){let u=this.prepareExternalUrl(r+Ue(l));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,l){let u=this.prepareExternalUrl(r+Ue(l));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ce),s.LFG(xe,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ce=(()=>{class n{constructor(e,i){this._subject=new s.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Fe(ne(r)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ue(i))}normalize(e){return n.stripTrailingSlash(function Ge(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,ne(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ue(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ue(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Ue,n.joinWithSlash=Ae,n.stripTrailingSlash=Fe,n.\u0275fac=function(e){return new(e||n)(s.LFG(K),s.LFG(ce))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function we(){return new Ce((0,s.LFG)(K),(0,s.LFG)(ce))}()},providedIn:"root"}),n})();function ne(n){return n.replace(/\/index.html$/,"")}var pe=(()=>((pe=pe||{})[pe.Zero=0]="Zero",pe[pe.One=1]="One",pe[pe.Two=2]="Two",pe[pe.Few=3]="Few",pe[pe.Many=4]="Many",pe[pe.Other=5]="Other",pe))(),he=(()=>((he=he||{})[he.Format=0]="Format",he[he.Standalone=1]="Standalone",he))(),_e=(()=>((_e=_e||{})[_e.Narrow=0]="Narrow",_e[_e.Abbreviated=1]="Abbreviated",_e[_e.Wide=2]="Wide",_e[_e.Short=3]="Short",_e))(),Le=(()=>((Le=Le||{})[Le.Short=0]="Short",Le[Le.Medium=1]="Medium",Le[Le.Long=2]="Long",Le[Le.Full=3]="Full",Le))(),de=(()=>((de=de||{})[de.Decimal=0]="Decimal",de[de.Group=1]="Group",de[de.List=2]="List",de[de.PercentSign=3]="PercentSign",de[de.PlusSign=4]="PlusSign",de[de.MinusSign=5]="MinusSign",de[de.Exponential=6]="Exponential",de[de.SuperscriptingExponent=7]="SuperscriptingExponent",de[de.PerMille=8]="PerMille",de[de.Infinity=9]="Infinity",de[de.NaN=10]="NaN",de[de.TimeSeparator=11]="TimeSeparator",de[de.CurrencyDecimal=12]="CurrencyDecimal",de[de.CurrencyGroup=13]="CurrencyGroup",de))();function sn(n,t){return Bn((0,s.cg1)(n)[s.wAp.DateFormat],t)}function Wt(n,t){return Bn((0,s.cg1)(n)[s.wAp.TimeFormat],t)}function ln(n,t){return Bn((0,s.cg1)(n)[s.wAp.DateTimeFormat],t)}function xn(n,t){const e=(0,s.cg1)(n),i=e[s.wAp.NumberSymbols][t];if(void 0===i){if(t===de.CurrencyDecimal)return e[s.wAp.NumberSymbols][de.Decimal];if(t===de.CurrencyGroup)return e[s.wAp.NumberSymbols][de.Group]}return i}const Ar=s.kL8;function Qn(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Bn(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function Jt(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Mt=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,on={},yi=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Pt=(()=>((Pt=Pt||{})[Pt.Short=0]="Short",Pt[Pt.ShortGMT=1]="ShortGMT",Pt[Pt.Long=2]="Long",Pt[Pt.Extended=3]="Extended",Pt))(),at=(()=>((at=at||{})[at.FullYear=0]="FullYear",at[at.Month=1]="Month",at[at.Date=2]="Date",at[at.Hours=3]="Hours",at[at.Minutes=4]="Minutes",at[at.Seconds=5]="Seconds",at[at.FractionalSeconds=6]="FractionalSeconds",at[at.Day=7]="Day",at))(),Je=(()=>((Je=Je||{})[Je.DayPeriods=0]="DayPeriods",Je[Je.Days=1]="Days",Je[Je.Months=2]="Months",Je[Je.Eras=3]="Eras",Je))();function to(n,t,e,i){let r=function Te(n){if(ct(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,l=1,u=1]=n.split("-").map(h=>+h);return bs(r,l-1,u)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Mt))return function ze(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,l=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-e,h=Number(n[5]||0)-i,m=Number(n[6]||0),b=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return l.call(t,u,h,m,b),t}(i)}const t=new Date(n);if(!ct(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Zt(e,t)||t;let h,u=[];for(;t;){if(h=yi.exec(t),!h){u.push(t);break}{u=u.concat(h.slice(1));const D=u.pop();if(!D)break;t=D}}let m=r.getTimezoneOffset();i&&(m=oe(i,m),r=function Z(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function Y(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(oe(t,r)-r))}(r,i,!0));let b="";return u.forEach(D=>{const A=function ei(n){if(Ft[n])return Ft[n];let t;switch(n){case"G":case"GG":case"GGG":t=W(Je.Eras,_e.Abbreviated);break;case"GGGG":t=W(Je.Eras,_e.Wide);break;case"GGGGG":t=W(Je.Eras,_e.Narrow);break;case"y":t=U(at.FullYear,1,0,!1,!0);break;case"yy":t=U(at.FullYear,2,0,!0,!0);break;case"yyy":t=U(at.FullYear,3,0,!1,!0);break;case"yyyy":t=U(at.FullYear,4,0,!1,!0);break;case"Y":t=li(1);break;case"YY":t=li(2,!0);break;case"YYY":t=li(3);break;case"YYYY":t=li(4);break;case"M":case"L":t=U(at.Month,1,1);break;case"MM":case"LL":t=U(at.Month,2,1);break;case"MMM":t=W(Je.Months,_e.Abbreviated);break;case"MMMM":t=W(Je.Months,_e.Wide);break;case"MMMMM":t=W(Je.Months,_e.Narrow);break;case"LLL":t=W(Je.Months,_e.Abbreviated,he.Standalone);break;case"LLLL":t=W(Je.Months,_e.Wide,he.Standalone);break;case"LLLLL":t=W(Je.Months,_e.Narrow,he.Standalone);break;case"w":t=Xn(1);break;case"ww":t=Xn(2);break;case"W":t=Xn(1,!0);break;case"d":t=U(at.Date,1);break;case"dd":t=U(at.Date,2);break;case"c":case"cc":t=U(at.Day,1);break;case"ccc":t=W(Je.Days,_e.Abbreviated,he.Standalone);break;case"cccc":t=W(Je.Days,_e.Wide,he.Standalone);break;case"ccccc":t=W(Je.Days,_e.Narrow,he.Standalone);break;case"cccccc":t=W(Je.Days,_e.Short,he.Standalone);break;case"E":case"EE":case"EEE":t=W(Je.Days,_e.Abbreviated);break;case"EEEE":t=W(Je.Days,_e.Wide);break;case"EEEEE":t=W(Je.Days,_e.Narrow);break;case"EEEEEE":t=W(Je.Days,_e.Short);break;case"a":case"aa":case"aaa":t=W(Je.DayPeriods,_e.Abbreviated);break;case"aaaa":t=W(Je.DayPeriods,_e.Wide);break;case"aaaaa":t=W(Je.DayPeriods,_e.Narrow);break;case"b":case"bb":case"bbb":t=W(Je.DayPeriods,_e.Abbreviated,he.Standalone,!0);break;case"bbbb":t=W(Je.DayPeriods,_e.Wide,he.Standalone,!0);break;case"bbbbb":t=W(Je.DayPeriods,_e.Narrow,he.Standalone,!0);break;case"B":case"BB":case"BBB":t=W(Je.DayPeriods,_e.Abbreviated,he.Format,!0);break;case"BBBB":t=W(Je.DayPeriods,_e.Wide,he.Format,!0);break;case"BBBBB":t=W(Je.DayPeriods,_e.Narrow,he.Format,!0);break;case"h":t=U(at.Hours,1,-12);break;case"hh":t=U(at.Hours,2,-12);break;case"H":t=U(at.Hours,1);break;case"HH":t=U(at.Hours,2);break;case"m":t=U(at.Minutes,1);break;case"mm":t=U(at.Minutes,2);break;case"s":t=U(at.Seconds,1);break;case"ss":t=U(at.Seconds,2);break;case"S":t=U(at.FractionalSeconds,1);break;case"SS":t=U(at.FractionalSeconds,2);break;case"SSS":t=U(at.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ie(Pt.Short);break;case"ZZZZZ":t=ie(Pt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ie(Pt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ie(Pt.Long);break;default:return null}return Ft[n]=t,t}(D);b+=A?A(r,e,m):"''"===D?"'":D.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function bs(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Zt(n,t){const e=function tn(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if(on[e]=on[e]||{},on[e][t])return on[e][t];let i="";switch(t){case"shortDate":i=sn(n,Le.Short);break;case"mediumDate":i=sn(n,Le.Medium);break;case"longDate":i=sn(n,Le.Long);break;case"fullDate":i=sn(n,Le.Full);break;case"shortTime":i=Wt(n,Le.Short);break;case"mediumTime":i=Wt(n,Le.Medium);break;case"longTime":i=Wt(n,Le.Long);break;case"fullTime":i=Wt(n,Le.Full);break;case"short":const r=Zt(n,"shortTime"),l=Zt(n,"shortDate");i=no(ln(n,Le.Short),[r,l]);break;case"medium":const u=Zt(n,"mediumTime"),h=Zt(n,"mediumDate");i=no(ln(n,Le.Medium),[u,h]);break;case"long":const m=Zt(n,"longTime"),b=Zt(n,"longDate");i=no(ln(n,Le.Long),[m,b]);break;case"full":const D=Zt(n,"fullTime"),A=Zt(n,"fullDate");i=no(ln(n,Le.Full),[D,A])}return i&&(on[e][t]=i),i}function no(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Jn(n,t,e="-",i,r){let l="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,l=e));let u=String(n);for(;u.length<t;)u="0"+u;return i&&(u=u.substr(u.length-t)),l+u}function U(n,t,e=0,i=!1,r=!1){return function(l,u){let h=function $(n,t){switch(n){case at.FullYear:return t.getFullYear();case at.Month:return t.getMonth();case at.Date:return t.getDate();case at.Hours:return t.getHours();case at.Minutes:return t.getMinutes();case at.Seconds:return t.getSeconds();case at.FractionalSeconds:return t.getMilliseconds();case at.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,l);if((e>0||h>-e)&&(h+=e),n===at.Hours)0===h&&-12===e&&(h=12);else if(n===at.FractionalSeconds)return function Dn(n,t){return Jn(n,3).substr(0,t)}(h,t);const m=xn(u,de.MinusSign);return Jn(h,t,m,i,r)}}function W(n,t,e=he.Format,i=!1){return function(r,l){return function Ee(n,t,e,i,r,l){switch(e){case Je.Months:return function ot(n,t,e){const i=(0,s.cg1)(n),l=Bn([i[s.wAp.MonthsFormat],i[s.wAp.MonthsStandalone]],t);return Bn(l,e)}(t,r,i)[n.getMonth()];case Je.Days:return function ft(n,t,e){const i=(0,s.cg1)(n),l=Bn([i[s.wAp.DaysFormat],i[s.wAp.DaysStandalone]],t);return Bn(l,e)}(t,r,i)[n.getDay()];case Je.DayPeriods:const u=n.getHours(),h=n.getMinutes();if(l){const b=function Xr(n){const t=(0,s.cg1)(n);return Qn(t),(t[s.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Jt(i):[Jt(i[0]),Jt(i[1])])}(t),D=function mt(n,t,e){const i=(0,s.cg1)(n);Qn(i);const l=Bn([i[s.wAp.ExtraData][0],i[s.wAp.ExtraData][1]],t)||[];return Bn(l,e)||[]}(t,r,i),A=b.findIndex(P=>{if(Array.isArray(P)){const[B,G]=P,re=u>=B.hours&&h>=B.minutes,be=u<G.hours||u===G.hours&&h<G.minutes;if(B.hours<G.hours){if(re&&be)return!0}else if(re||be)return!0}else if(P.hours===u&&P.minutes===h)return!0;return!1});if(-1!==A)return D[A]}return function qn(n,t,e){const i=(0,s.cg1)(n),l=Bn([i[s.wAp.DayPeriodsFormat],i[s.wAp.DayPeriodsStandalone]],t);return Bn(l,e)}(t,r,i)[u<12?0:1];case Je.Eras:return function ai(n,t){return Bn((0,s.cg1)(n)[s.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,l,n,t,e,i)}}function ie(n){return function(t,e,i){const r=-1*i,l=xn(e,de.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Pt.Short:return(r>=0?"+":"")+Jn(u,2,l)+Jn(Math.abs(r%60),2,l);case Pt.ShortGMT:return"GMT"+(r>=0?"+":"")+Jn(u,1,l);case Pt.Long:return"GMT"+(r>=0?"+":"")+Jn(u,2,l)+":"+Jn(Math.abs(r%60),2,l);case Pt.Extended:return 0===i?"Z":(r>=0?"+":"")+Jn(u,2,l)+":"+Jn(Math.abs(r%60),2,l);default:throw new Error(`Unknown zone width "${n}"`)}}}function pn(n){return bs(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Xn(n,t=!1){return function(e,i){let r;if(t){const l=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,u=e.getDate();r=1+Math.floor((u+l)/7)}else{const l=pn(e),u=function Xt(n){const t=bs(n,0,1).getDay();return bs(n,0,1+(t<=4?4:11)-t)}(l.getFullYear()),h=l.getTime()-u.getTime();r=1+Math.round(h/6048e5)}return Jn(r,n,xn(i,de.MinusSign))}}function li(n,t=!1){return function(e,i){return Jn(pn(e).getFullYear(),n,xn(i,de.MinusSign),t)}}const Ft={};function oe(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function ct(n){return n instanceof Date&&!isNaN(n.valueOf())}class wn{}let $n=(()=>{class n extends wn{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(Ar(i||this.locale)(e)){case pe.Zero:return"zero";case pe.One:return"one";case pe.Two:return"two";case pe.Few:return"few";case pe.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.soG))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ns=(()=>{class n{constructor(e,i,r,l){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class ro{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yn=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,l,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new ro(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===l?void 0:l);else if(null!==l){const h=i.get(l);i.move(h,u),Eo(h,r)}});for(let r=0,l=i.length;r<l;r++){const h=i.get(r).context;h.index=r,h.count=l,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Eo(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Eo(n,t){n.context.$implicit=t.item}let Yt=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Cn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Bl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Bl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Cn{constructor(){this.$implicit=null,this.ngIf=null}}function Bl(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class Oa{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let bi=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),qi=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Oa(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(bi,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Pa=(()=>{class n{constructor(e,i,r){r._addDefault(new Oa(e,i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(bi,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})();function rr(n,t){return new s.vHH(2100,"")}class Ap{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class ws{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const Mp=new ws,ld=new Ap;let Na=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.QGY)(e))return Mp;if((0,s.F4k)(e))return ld;throw rr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1}),n})();const kp=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Fa=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,l){var u;if(null==e||""===e||e!=e)return null;try{return to(e,i,l||this.locale,null!==(u=null!=r?r:this.defaultTimezone)&&void 0!==u?u:void 0)}catch(h){throw rr()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16),s.Y36(kp,24))},n.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0}),n})(),kr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:wn,useClass:$n}]}),n})();const ja="browser";function za(n){return"server"===n}let hd=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new jl((0,s.LFG)(X),window)}),n})();class jl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Rr(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const l=r.shadowRoot;if(l){const u=l.getElementById(t)||l.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(i-l[0],r-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=fd(this.window.history)||fd(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function fd(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Do extends class ra extends class ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function se(n){V||(V=n)}(new Do)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Ga(){return vn=vn||document.querySelector("base"),vn?vn.getAttribute("href"):null}();return null==e?null:function ao(n){zl=zl||document.createElement("a"),zl.setAttribute("href",n);const t=zl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){vn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Fl(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,l]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(l)}return null}(document.cookie,t)}}let zl,vn=null;const ci=new s.OlP("TRANSITION_ID"),Zn=[{provide:s.ip1,useFactory:function $c(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=R(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<r.length;l++)i.remove(r[l])})}},deps:[ci,X,s.zs3],multi:!0}];class ss{static init(){(0,s.VLi)(new ss)}addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const l=t.findTestabilityInTree(i,r);if(null==l)throw new Error("Could not find testability for element.");return l},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let l=r.length,u=!1;const h=function(m){u=u||m,l--,0==l&&i(u)};r.forEach(function(m){m.whenStable(h)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?R().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Si=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const To=new s.OlP("EventManagerPlugins");let lo=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let l=0;l<r.length;l++){const u=r[l];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(To),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class $a{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=R().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Or=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),os=(()=>{class n extends Or{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(l=>{const u=this._doc.createElement("style");u.textContent=l,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Cs),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Cs))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(X))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Cs(n){R().remove(n)}const bt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},sa=/%COMP%/g;function Me(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Me(n,r,e):(r=r.replace(sa,n),e.push(r))}return e}function zt(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let kn=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new oa(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Qc(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new Wa(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Me(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(lo),s.LFG(os),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class oa{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(bt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const l=bt[r];l?t.setAttributeNS(l,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=bt[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,zt(i)):this.eventManager.addEventListener(t,e,zt(i))}}class Qc extends oa{constructor(t,e,i,r){super(t),this.component=i;const l=Me(r+"-"+i.id,i.styles,[]);e.addStyles(l),this.contentAttr=function Wc(n){return"_ngcontent-%COMP%".replace(sa,n)}(r+"-"+i.id),this.hostAttr=function Yc(n){return"_nghost-%COMP%".replace(sa,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Wa extends oa{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Me(r.id,r.styles,[]);for(let u=0;u<l.length;u++){const h=document.createElement("style");h.textContent=l[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Pp=(()=>{class n extends $a{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(X))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const gd=["alt","control","meta","shift"],Gl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Es={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ya=(()=>{class n extends $a{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const l=n.parseEventName(i),u=n.eventCallback(l.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(e,l.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const l=n._normalizeKey(i.pop());let u="";if(gd.forEach(m=>{const b=i.indexOf(m);b>-1&&(i.splice(b,1),u+=m+".")}),u+=l,0!=i.length||0===l.length)return null;const h={};return h.domEventName=r,h.fullKey=u,h}static getEventFullKey(e){let i="",r=function co(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Wn.hasOwnProperty(t)&&(t=Wn[t]))}return Gl[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),gd.forEach(l=>{l!=r&&Es[l](e)&&(i+=l+".")}),i+=r,i}static eventCallback(e,i,r){return l=>{n.getEventFullKey(l)===e&&r.runGuarded(()=>i(l))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(X))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Zl=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:ja},{provide:s.g9A,useValue:function Pr(){Do.makeCurrent(),ss.init()},multi:!0},{provide:X,useFactory:function $l(){return(0,s.RDi)(document),document},deps:[]}]),Ka=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Jc(){return new s.qLn},deps:[]},{provide:To,useClass:Pp,multi:!0,deps:[X,s.R0b,s.Lbi]},{provide:To,useClass:Ya,multi:!0,deps:[X]},{provide:kn,useClass:kn,deps:[lo,os,s.AFp]},{provide:s.FYo,useExisting:kn},{provide:Or,useExisting:os},{provide:os,useClass:os,deps:[X]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b]},{provide:lo,useClass:lo,deps:[To,s.R0b]},{provide:class En{},useClass:Si,deps:[]}];let aa=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:ci,useExisting:s.AFp},Zn]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(n,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:Ka,imports:[kr,s.hGG]}),n})();"undefined"!=typeof window&&window;let Mo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(md),i},providedIn:"root"}),n})(),md=(()=>{class n extends Mo{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.yhl)(i),(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(X))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function tl(n){return new md(n.get(X))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var Un=O(8996),Kl=O(3269);function We(...n){const t=(0,Kl.yG)(n);return(0,Un.D)(n,t)}var $e=O(7579);class Mi extends $e.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var cn=O(8306);const{isArray:lu}=Array,{getPrototypeOf:Yn,prototype:ca,keys:nl}=Object;function xo(n){if(1===n.length){const t=n[0];if(lu(t))return{args:t,keys:null};if(function ko(n){return n&&"object"==typeof n&&Yn(n)===ca}(t)){const e=nl(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Is=O(4671),ut=O(4004);const{isArray:cu}=Array;function ua(n){return(0,ut.U)(t=>function _d(n,t){return cu(t)?n(...t):n(t)}(n,t))}function uu(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var nn=O(5403),da=O(9672);function ha(...n){const t=(0,Kl.yG)(n),e=(0,Kl.jO)(n),{args:i,keys:r}=xo(n);if(0===i.length)return(0,Un.D)([],t);const l=new cn.y(function fa(n,t,e=Is.y){return i=>{Gi(t,()=>{const{length:r}=n,l=new Array(r);let u=r,h=r;for(let m=0;m<r;m++)Gi(t,()=>{const b=(0,Un.D)(n[m],t);let D=!1;b.subscribe((0,nn.x)(i,A=>{l[m]=A,D||(D=!0,h--),h||i.next(e(l.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>uu(r,u):Is.y));return e?l.pipe(ua(e)):l}function Gi(n,t,e){n?(0,da.f)(e,n,t):t()}const pa=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ls=O(8189);function Ro(...n){return function Jl(){return(0,ls.J)(1)}()((0,Un.D)(n,(0,Kl.yG)(n)))}var Nr=O(8421);function il(n){return new cn.y(t=>{(0,Nr.Xf)(n()).subscribe(t)})}var Fr=O(515),In=O(727),ni=O(4482);function du(){return(0,ni.e)((n,t)=>{let e=null;n._refCount++;const i=(0,nn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,l=e;e=null,r&&(!l||r===l)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class ga extends cn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,ni.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new In.w0;const e=this.getSubject();t.add(this.source.subscribe((0,nn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=In.w0.EMPTY)}return t}refCount(){return du()(this)}}function Sn(n,t){return(0,ni.e)((e,i)=>{let r=null,l=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe((0,nn.x)(i,m=>{null==r||r.unsubscribe();let b=0;const D=l++;(0,Nr.Xf)(n(m,D)).subscribe(r=(0,nn.x)(i,A=>i.next(t?t(m,A,D,b++):A),()=>{r=null,h()}))},()=>{u=!0,h()}))})}function un(n){return n<=0?()=>Fr.E:(0,ni.e)((t,e)=>{let i=0;t.subscribe((0,nn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Pn(...n){const t=(0,Kl.yG)(n);return(0,ni.e)((e,i)=>{(t?Ro(n,e,t):Ro(n,e)).subscribe(i)})}function rl(n,t,e,i,r){return(l,u)=>{let h=e,m=t,b=0;l.subscribe((0,nn.x)(u,D=>{const A=b++;m=h?n(m,D,A):(h=!0,D),i&&u.next(m)},r&&(()=>{h&&u.next(m),u.complete()})))}}function cs(n,t){return(0,ni.e)(rl(n,t,arguments.length>=2,!0))}function Lt(n,t){return(0,ni.e)((e,i)=>{let r=0;e.subscribe((0,nn.x)(i,l=>n.call(t,l,r++)&&i.next(l)))})}function $i(n){return(0,ni.e)((t,e)=>{let l,i=null,r=!1;i=t.subscribe((0,nn.x)(e,void 0,void 0,u=>{l=(0,Nr.Xf)(n(u,$i(n)(t))),i?(i.unsubscribe(),i=null,l.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,l.subscribe(e))})}var Hn=O(5577),Lr=O(576);function sr(n,t){return(0,Lr.m)(t)?(0,Hn.z)(n,t,1):(0,Hn.z)(n,1)}function yd(n){return n<=0?()=>Fr.E:(0,ni.e)((t,e)=>{let i=[];t.subscribe((0,nn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Xl(n=jn){return(0,ni.e)((t,e)=>{let i=!1;t.subscribe((0,nn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function jn(){return new pa}function Ph(n){return(0,ni.e)((t,e)=>{let i=!1;t.subscribe((0,nn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function ma(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Lt((r,l)=>n(r,l,i)):Is.y,un(1),e?Ph(t):Xl(()=>new pa))}var Ci=O(8505);function vd(n){return(0,ni.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class Ss{constructor(t,e){this.id=t,this.url=e}}class ec extends Ss{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class As extends Ss{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hu extends Ss{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ii extends Ss{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class sl extends Ss{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ol extends Ss{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nh extends Ss{constructor(t,e,i,r,l){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tc extends Ss{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vi extends Ss{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Br{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _a{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class al{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vr{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ya{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fu{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nc{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Bt="primary";class ic{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function us(n){return new ic(n)}const xi="ngNavigationCancelingError";function rc(n){const t=Error("NavigationCancelingError: "+n);return t[xi]=!0,t}function d_(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let l=0;l<i.length;l++){const u=i[l],h=n[l];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ds(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let l=0;l<e.length;l++)if(r=e[l],!Ms(n[r],t[r]))return!1;return!0}function Ms(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,l)=>i[l]===r)}return n===t}function ll(n){return Array.prototype.concat.apply([],n)}function bd(n){return n.length>0?n[n.length-1]:null}function Rn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function gr(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,Un.D)(Promise.resolve(n)):We(n)}const Fh={exact:function gu(n,t,e){if(!qe(n.segments,t.segments)||!k(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!gu(n.children[i],t.children[i],e))return!1;return!0},subset:T},Po={exact:function ul(n,t){return ds(n,t)},subset:function Lh(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Ms(n[e],t[e]))},ignored:()=>!0};function cl(n,t,e){return Fh[e.paths](n.root,t.root,e.matrixParams)&&Po[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function T(n,t,e){return I(n,t,t.segments,e)}function I(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!qe(r,e)||t.hasChildren()||!k(r,e,i))}if(n.segments.length===e.length){if(!qe(n.segments,e)||!k(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!T(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),l=e.slice(n.segments.length);return!!(qe(n.segments,r)&&k(n.segments,r,i)&&n.children[Bt])&&I(n.children[Bt],t,l,i)}}function k(n,t,e){return t.every((i,r)=>Po[e](n[r].parameters,i.parameters))}class L{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=us(this.queryParams)),this._queryParamMap}toString(){return Ui.serialize(this)}}class z{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Rn(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ki(this)}}class le{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=us(this.parameters)),this._parameterMap}toString(){return oc(this)}}function qe(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Gt{}class Kt{parse(t){const e=new _u(t);return new L(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Nn(t.root,!0)}`,i=function Np(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${or(e)}=${or(r)}`).join("&"):`${or(e)}=${or(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function No(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Ui=new Kt;function ki(n){return n.segments.map(t=>oc(t)).join("/")}function Nn(n,t){if(!n.hasChildren())return ki(n);if(t){const e=n.children[Bt]?Nn(n.children[Bt],!1):"",i=[];return Rn(n.children,(r,l)=>{l!==Bt&&i.push(`${l}:${Nn(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function tt(n,t){let e=[];return Rn(n.children,(i,r)=>{r===Bt&&(e=e.concat(t(i,r)))}),Rn(n.children,(i,r)=>{r!==Bt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Bt?[Nn(n.children[Bt],!1)]:[`${r}:${Nn(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Bt]?`${ki(n)}/${e[0]}`:`${ki(n)}/(${e.join("//")})`}}function xs(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function or(n){return xs(n).replace(/%3B/gi,";")}function Hi(n){return xs(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ks(n){return decodeURIComponent(n)}function dl(n){return ks(n.replace(/\+/g,"%20"))}function oc(n){return`${Hi(n.path)}${function wd(n){return Object.keys(n).map(t=>`;${Hi(t)}=${Hi(n[t])}`).join("")}(n.parameters)}`}const h_=/^[^\/()?;=#]+/;function ac(n){const t=n.match(h_);return t?t[0]:""}const lc=/^[^=?&#]+/,Fp=/^[^&#]+/;class _u{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new z([],{}):new z([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Bt]=new z(t,e)),i}parseSegment(){const t=ac(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new le(ks(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ac(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=ac(this.remaining);r&&(i=r,this.capture(i))}t[ks(e)]=ks(i)}parseQueryParam(t){const e=function mu(n){const t=n.match(lc);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function Wb(n){const t=n.match(Fp);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=dl(e),l=dl(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(l)}else t[r]=l}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ac(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let l;i.indexOf(":")>-1?(l=i.substr(0,i.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=Bt);const u=this.parseChildren();e[l]=1===Object.keys(u).length?u[Bt]:new z([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Lp{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Bp(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Bp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Bh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Bh(t,this._root).map(e=>e.value)}}function Bp(n,t){if(n===t.value)return t;for(const e of t.children){const i=Bp(n,e);if(i)return i}return null}function Bh(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Bh(n,e);if(i.length)return i.unshift(t),i}return[]}class Fo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function cc(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class yu extends Lp{constructor(t,e){super(t),this.snapshot=e,Dd(this,t)}toString(){return this.snapshot.toString()}}function Cd(n,t){const e=function uc(n,t){const u=new hl([],{},{},"",{},Bt,t,null,n.root,-1,{});return new Ed("",new Fo(u,[]))}(n,t),i=new Mi([new le("",{})]),r=new Mi({}),l=new Mi({}),u=new Mi({}),h=new Mi(""),m=new ho(i,r,u,h,l,Bt,t,e.root);return m.snapshot=e.root,new yu(new Fo(m,[]),e)}class ho{constructor(t,e,i,r,l,u,h,m){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=l,this.outlet=u,this.component=h,this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ut.U)(t=>us(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ut.U)(t=>us(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vp(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],l=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(l.component)break;i--}}return function Yb(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class hl{constructor(t,e,i,r,l,u,h,m,b,D,A){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=l,this.outlet=u,this.component=h,this.routeConfig=m,this._urlSegment=b,this._lastPathIndex=D,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=us(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=us(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ed extends Lp{constructor(t,e){super(e),this.url=t,Dd(this,e)}toString(){return Td(this._root)}}function Dd(n,t){t.value._routerState=n,t.children.forEach(e=>Dd(n,e))}function Td(n){const t=n.children.length>0?` { ${n.children.map(Td).join(", ")} } `:"";return`${n.value}${t}`}function Id(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ds(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),ds(t.params,e.params)||n.params.next(e.params),function sc(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ds(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),ds(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Lo(n,t){const e=ds(n.params,t.params)&&function Ie(n,t){return qe(n,t)&&n.every((e,i)=>ds(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Lo(n.parent,t.parent))}function vu(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function Vh(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return vu(n,i,r);return vu(n,i)})}(n,t,e);return new Fo(i,r)}{if(n.shouldAttach(t.value)){const l=n.retrieve(t.value);if(null!==l){const u=l.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>vu(n,h)),u}}const i=function p_(n){return new ho(new Mi(n.url),new Mi(n.params),new Mi(n.queryParams),new Mi(n.fragment),new Mi(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(l=>vu(n,l));return new Fo(i,r)}}function hs(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Rs(n){return"object"==typeof n&&null!=n&&n.outlets}function Sd(n,t,e,i,r){let l={};return i&&Rn(i,(u,h)=>{l[h]=Array.isArray(u)?u.map(m=>`${m}`):`${u}`}),new L(e.root===n?t:Ad(e.root,n,t),l,r)}function Ad(n,t,e){const i={};return Rn(n.children,(r,l)=>{i[l]=r===t?e:Ad(r,t,e)}),new z(n.segments,i)}class Up{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&hs(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Rs);if(r&&r!==bd(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Md{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function zp(n,t,e){if(n||(n=new z([],{})),0===n.segments.length&&n.hasChildren())return v(n,t,e);const i=function g(n,t,e){let i=0,r=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return l;const u=n.segments[r],h=e[i];if(Rs(h))break;const m=`${h}`,b=i<e.length-1?e[i+1]:null;if(r>0&&void 0===m)break;if(m&&b&&"object"==typeof b&&void 0===b.outlets){if(!N(m,b,u))return l;i+=2}else{if(!N(m,{},u))return l;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const l=new z(n.segments.slice(0,i.pathIndex),{});return l.children[Bt]=new z(n.segments.slice(i.pathIndex),n.children),v(l,0,r)}return i.match&&0===r.length?new z(n.segments,{}):i.match&&!n.hasChildren()?_(n,t,e):i.match?v(n,0,r):_(n,t,e)}function v(n,t,e){if(0===e.length)return new z(n.segments,{});{const i=function m_(n){return Rs(n[0])?n[0].outlets:{[Bt]:n}}(e),r={};return Rn(i,(l,u)=>{"string"==typeof l&&(l=[l]),null!==l&&(r[u]=zp(n.children[u],t,l))}),Rn(n.children,(l,u)=>{void 0===i[u]&&(r[u]=l)}),new z(n.segments,r)}}function _(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const l=e[r];if(Rs(l)){const m=C(l.outlets);return new z(i,m)}if(0===r&&hs(e[0])){i.push(new le(n.segments[t].path,M(e[0]))),r++;continue}const u=Rs(l)?l.outlets[Bt]:`${l}`,h=r<e.length-1?e[r+1]:null;u&&h&&hs(h)?(i.push(new le(u,M(h))),r+=2):(i.push(new le(u,{})),r++)}return new z(i,{})}function C(n){const t={};return Rn(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=_(new z([],{}),0,e))}),t}function M(n){const t={};return Rn(n,(e,i)=>t[i]=`${e}`),t}function N(n,t,e){return n==e.path&&ds(t,e.parameters)}class Oe{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Id(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=cc(e);t.children.forEach(l=>{const u=l.value.outlet;this.deactivateRoutes(l,r[u],i),delete r[u]}),Rn(r,(l,u)=>{this.deactivateRouteAndItsChildren(l,i)})}deactivateRoutes(t,e,i){const r=t.value,l=e?e.value:null;if(r===l)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else l&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,l=cc(t);for(const u of Object.keys(l))this.deactivateRouteAndItsChildren(l[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,l=cc(t);for(const u of Object.keys(l))this.deactivateRouteAndItsChildren(l[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=cc(e);t.children.forEach(l=>{this.activateRoutes(l,r[l.value.outlet],i),this.forwardEvent(new fu(l.value.snapshot))}),t.children.length&&this.forwardEvent(new Vr(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,l=e?e.value:null;if(Id(r),r===l)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),Id(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=function rt(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),m=h?h.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=m,u.outlet&&u.outlet.activateWith(r,m),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class Ct{constructor(t,e){this.routes=t,this.module=e}}function At(n){return"function"==typeof n}function ar(n){return n instanceof L}const wu=Symbol("INITIAL_VALUE");function Cu(){return Sn(n=>ha(n.map(t=>t.pipe(un(1),Pn(wu)))).pipe(cs((t,e)=>{let i=!1;return e.reduce((r,l,u)=>r!==wu?r:(l===wu&&(i=!0),i||!1!==l&&u!==e.length-1&&!ar(l)?r:l),t)},wu),Lt(t=>t!==wu),(0,ut.U)(t=>ar(t)?t:!0===t),un(1)))}class kd{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new hc,this.attachRef=null}}class hc{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new kd,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Eu=(()=>{class n{constructor(e,i,r,l,u){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=l||Bt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const u=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,m=new Hh(e,h,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,m),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(hc),s.Y36(s.s_b),s.Y36(s._Vd),s.$8M("name"),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Hh{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===ho?this.route:t===hc?this.childContexts:this.parent.get(t,e)}}let jh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},directives:[Eu],encapsulation:2}),n})();function zh(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];fc(i,qp(t,i))}}function fc(n,t){n.children&&zh(n.children,t)}function qp(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function qh(n){const t=n.children&&n.children.map(qh),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Bt&&(e.component=jh),e}function fo(n){return n.outlet||Bt}function ui(n,t){const e=n.filter(i=>fo(i)===t);return e.push(...n.filter(i=>fo(i)!==t)),e}const Kb={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Gp(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Kb):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(t.matcher||d_)(e,n,t);if(!l)return Object.assign({},Kb);const u={};Rn(l.posParams,(m,b)=>{u[b]=m.path});const h=l.consumed.length>0?Object.assign(Object.assign({},u),l.consumed[l.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:h,positionalParamSegments:null!==(i=l.posParams)&&void 0!==i?i:{}}}function Rd(n,t,e,i,r="corrected"){if(e.length>0&&function hT(n,t,e){return e.some(i=>$p(n,t,i)&&fo(i)!==Bt)}(n,e,i)){const u=new z(t,function dT(n,t,e,i){const r={};r[Bt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const l of e)if(""===l.path&&fo(l)!==Bt){const u=new z([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[fo(l)]=u}return r}(n,t,i,new z(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function fT(n,t,e){return e.some(i=>$p(n,t,i))}(n,e,i)){const u=new z(n.segments,function Qb(n,t,e,i,r,l){const u={};for(const h of i)if($p(n,e,h)&&!r[fo(h)]){const m=new z([],{});m._sourceSegment=n,m._segmentIndexShift="legacy"===l?n.segments.length:t.length,u[fo(h)]=m}return Object.assign(Object.assign({},r),u)}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const l=new z(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}function $p(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Jb(n,t,e,i){return!!(fo(n)===i||i!==Bt&&$p(t,e,n))&&("**"===n.path||Gp(t,n,e).matched)}function pT(n,t,e){return 0===t.length&&!n.children[e]}class Zp{constructor(t){this.segmentGroup=t||null}}class Od{constructor(t){this.urlTree=t}}function Zi(n){return new cn.y(t=>t.error(new Zp(n)))}function Wp(n){return new cn.y(t=>t.error(new Od(n)))}function Xb(n){return new cn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Gh{constructor(t,e,i,r,l){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=l,this.allowRedirects=!0,this.ngModule=t.get(s.h0i)}apply(){const t=Rd(this.urlTree.root,[],[],this.config).segmentGroup,e=new z(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Bt).pipe((0,ut.U)(l=>this.createUrlTree(y_(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe($i(l=>{if(l instanceof Od)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Zp?this.noMatchError(l):l}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Bt).pipe((0,ut.U)(r=>this.createUrlTree(y_(r),t.queryParams,t.fragment))).pipe($i(r=>{throw r instanceof Zp?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new z([],{[Bt]:t}):t;return new L(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,ut.U)(l=>new z([],l))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const l of Object.keys(i.children))"primary"===l?r.unshift(l):r.push(l);return(0,Un.D)(r).pipe(sr(l=>{const u=i.children[l],h=ui(e,l);return this.expandSegmentGroup(t,h,u,l).pipe((0,ut.U)(m=>({segment:m,outlet:l})))}),cs((l,u)=>(l[u.outlet]=u.segment,l),{}),function u_(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Lt((r,l)=>n(r,l,i)):Is.y,yd(1),e?Ph(t):Xl(()=>new pa))}())}expandSegment(t,e,i,r,l,u){return(0,Un.D)(i).pipe(sr(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,l,u).pipe($i(b=>{if(b instanceof Zp)return We(null);throw b}))),ma(h=>!!h),$i((h,m)=>{if(h instanceof pa||"EmptyError"===h.name){if(pT(e,r,l))return We(new z([],{}));throw new Zp(e)}throw h}))}expandSegmentAgainstRoute(t,e,i,r,l,u,h){return Jb(r,e,l,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,l,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,l,u):Zi(e):Zi(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,l,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,l,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const l=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Wp(l):this.lineralizeSegments(i,l).pipe((0,Hn.z)(u=>{const h=new z(u,{});return this.expandSegment(t,h,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,l,u){const{matched:h,consumedSegments:m,lastChild:b,positionalParamSegments:D}=Gp(e,r,l);if(!h)return Zi(e);const A=this.applyRedirectCommands(m,r.redirectTo,D);return r.redirectTo.startsWith("/")?Wp(A):this.lineralizeSegments(r,A).pipe((0,Hn.z)(P=>this.expandSegment(t,e,i,P.concat(l.slice(b)),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,l){if("**"===i.path)return i.loadChildren?(i._loadedConfig?We(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,ut.U)(P=>(i._loadedConfig=P,new z(r,{})))):We(new z(r,{}));const{matched:u,consumedSegments:h,lastChild:m}=Gp(e,i,r);if(!u)return Zi(e);const b=r.slice(m);return this.getChildConfig(t,i,r).pipe((0,Hn.z)(A=>{const P=A.module,B=A.routes,{segmentGroup:G,slicedSegments:re}=Rd(e,h,b,B),be=new z(G.segments,G.children);if(0===re.length&&be.hasChildren())return this.expandChildren(P,B,be).pipe((0,ut.U)(je=>new z(h,je)));if(0===B.length&&0===re.length)return We(new z(h,{}));const Xe=fo(i)===l;return this.expandSegment(P,be,B,re,Xe?Bt:l,!0).pipe((0,ut.U)(et=>new z(h.concat(et.segments),et.children)))}))}getChildConfig(t,e,i){return e.children?We(new Ct(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?We(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,Hn.z)(r=>r?this.configLoader.load(t.injector,e).pipe((0,ut.U)(l=>(e._loadedConfig=l,l))):function e0(n){return new cn.y(t=>t.error(rc(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(e))):We(new Ct([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?We(r.map(u=>{const h=t.get(u);let m;if(function fl(n){return n&&At(n.canLoad)}(h))m=h.canLoad(e,i);else{if(!At(h))throw new Error("Invalid CanLoad guard");m=h(e,i)}return gr(m)})).pipe(Cu(),(0,Ci.b)(u=>{if(!ar(u))return;const h=rc(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw h.url=u,h}),(0,ut.U)(u=>!0===u)):We(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return We(i);if(r.numberOfChildren>1||!r.children[Bt])return Xb(t.redirectTo);r=r.children[Bt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const l=this.createSegmentGroup(t,e.root,i,r);return new L(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Rn(t,(r,l)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[l]=e[h]}else i[l]=r}),i}createSegmentGroup(t,e,i,r){const l=this.createSegments(t,e.segments,i,r);let u={};return Rn(e.children,(h,m)=>{u[m]=this.createSegmentGroup(t,h,i,r)}),new z(l,u)}createSegments(t,e,i,r){return e.map(l=>l.path.startsWith(":")?this.findPosParam(t,l,r):this.findOrReturn(l,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function y_(n){const t={};for(const i of Object.keys(n.children)){const l=y_(n.children[i]);(l.segments.length>0||l.hasChildren())&&(t[i]=l)}return function __(n){if(1===n.numberOfChildren&&n.children[Bt]){const t=n.children[Bt];return new z(n.segments.concat(t.segments),t.children)}return n}(new z(n.segments,t))}class v_{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Yp{constructor(t,e){this.component=t,this.route=e}}function t0(n,t,e){const i=n._root;return Zh(i,t?t._root:null,e,[i.value])}function $h(n,t,e){const i=function _T(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function Zh(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const l=cc(t);return n.children.forEach(u=>{(function b_(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&l.routeConfig===u.routeConfig){const m=function yT(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!qe(n.url,t.url);case"pathParamsOrQueryParamsChange":return!qe(n.url,t.url)||!ds(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lo(n,t)||!ds(n.queryParams,t.queryParams);default:return!Lo(n,t)}}(u,l,l.routeConfig.runGuardsAndResolvers);m?r.canActivateChecks.push(new v_(i)):(l.data=u.data,l._resolvedData=u._resolvedData),Zh(n,t,l.component?h?h.children:null:e,i,r),m&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Yp(h.outlet.component,u))}else u&&Wh(t,h,r),r.canActivateChecks.push(new v_(i)),Zh(n,null,l.component?h?h.children:null:e,i,r)})(u,l[u.value.outlet],e,i.concat([u.value]),r),delete l[u.value.outlet]}),Rn(l,(u,h)=>Wh(u,e.getContext(h),r)),r}function Wh(n,t,e){const i=cc(n),r=n.value;Rn(i,(l,u)=>{Wh(l,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new Yp(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class TT{}function C_(n){return new cn.y(t=>t.error(n))}class ST{constructor(t,e,i,r,l,u){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=u}recognize(){const t=Rd(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Bt);if(null===e)return null;const i=new hl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Bt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Fo(i,e),l=new Ed(this.url,r);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(t){const e=t.value,i=Vp(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const l of Object.keys(e.children)){const u=e.children[l],h=ui(t,l),m=this.processSegmentGroup(h,u,l);if(null===m)return null;i.push(...m)}const r=r0(i);return function AT(n){n.sort((t,e)=>t.value.outlet===Bt?-1:e.value.outlet===Bt?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const l of t){const u=this.processSegmentAgainstRoute(l,e,i,r);if(null!==u)return u}return pT(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!Jb(t,e,i,r))return null;let l,u=[],h=[];if("**"===t.path){const B=i.length>0?bd(i).parameters:{};l=new hl(i,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bo(t),fo(t),t.component,t,s0(e),Du(e)+i.length,kT(t))}else{const B=Gp(e,t,i);if(!B.matched)return null;u=B.consumedSegments,h=i.slice(B.lastChild),l=new hl(u,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bo(t),fo(t),t.component,t,s0(e),Du(e)+u.length,kT(t))}const m=function MT(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:b,slicedSegments:D}=Rd(e,u,h,m.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===D.length&&b.hasChildren()){const B=this.processChildren(m,b);return null===B?null:[new Fo(l,B)]}if(0===m.length&&0===D.length)return[new Fo(l,[])];const A=fo(t)===r,P=this.processSegment(m,b,D,A?Bt:r);return null===P?null:[new Fo(l,P)]}}function n0(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function r0(n){const t=[],e=new Set;for(const i of n){if(!n0(i)){t.push(i);continue}const r=t.find(l=>i.value.routeConfig===l.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=r0(i.children);t.push(new Fo(i.value,r))}return t.filter(i=>!e.has(i))}function s0(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Du(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Bo(n){return n.data||{}}function kT(n){return n.resolve||{}}function Kp(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function D_(n){return Sn(t=>{const e=n(t);return e?(0,Un.D)(e).pipe((0,ut.U)(()=>t)):We(t)})}class l0 extends class Kh{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Qp=new s.OlP("ROUTES");class Jp{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,ut.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(e);const u=l.create(t);return new Ct(ll(u.injector.get(Qp,void 0,s.XFs.Self|s.XFs.Optional)).map(qh),u)}),$i(l=>{throw e._loader$=void 0,l}));return e._loader$=new ga(r,()=>new $e.x).pipe(du()),e._loader$}loadModuleFactory(t){return gr(t()).pipe((0,Hn.z)(e=>e instanceof s.YKP?We(e):(0,Un.D)(this.compiler.compileModuleAsync(e))))}}class c0{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function eO(n){throw n}function Pd(n,t,e){return t.parse("/")}function Xp(n,t){return We(null)}const u0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},RT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wi=(()=>{class n{constructor(e,i,r,l,u,h,m){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=l,this.config=m,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new $e.x,this.errorHandler=eO,this.malformedUriErrorHandler=Pd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Xp,afterPreactivation:Xp},this.urlHandlingStrategy=new c0,this.routeReuseStrategy=new l0,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(s.h0i),this.console=u.get(s.c2e);const A=u.get(s.R0b);this.isNgZoneEnabled=A instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(m),this.currentUrlTree=function mr(){return new L(new z([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Jp(u,h,P=>this.triggerEvent(new Br(P)),P=>this.triggerEvent(new _a(P))),this.routerState=Cd(this.currentUrlTree,this.rootComponentType),this.transitions=new Mi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Lt(r=>0!==r.id),(0,ut.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Sn(r=>{let l=!1,u=!1;return We(r).pipe((0,Ci.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Sn(h=>{const m=this.browserUrlTree.toString(),b=!this.navigated||h.extractedUrl.toString()!==m||m!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return eg(h.source)&&(this.browserUrlTree=h.extractedUrl),We(h).pipe(Sn(A=>{const P=this.transitions.getValue();return i.next(new ec(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),P!==this.transitions.getValue()?Fr.E:Promise.resolve(A)}),function gT(n,t,e,i){return Sn(r=>function _r(n,t,e,i,r){return new Gh(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,ut.U)(l=>Object.assign(Object.assign({},r),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ci.b)(A=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:A.urlAfterRedirects})}),function JR(n,t,e,i,r){return(0,Hn.z)(l=>function IT(n,t,e,i,r="emptyOnly",l="legacy"){try{const u=new ST(n,t,e,i,r,l).recognize();return null===u?C_(new TT):We(u)}catch(u){return C_(u)}}(n,t,l.urlAfterRedirects,e(l.urlAfterRedirects),i,r).pipe((0,ut.U)(u=>Object.assign(Object.assign({},l),{targetSnapshot:u}))))}(this.rootComponentType,this.config,A=>this.serializeUrl(A),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ci.b)(A=>{if("eager"===this.urlUpdateStrategy){if(!A.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);this.setBrowserUrl(B,A)}this.browserUrlTree=A.urlAfterRedirects}const P=new sl(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);i.next(P)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:P,extractedUrl:B,source:G,restoredState:re,extras:be}=h,Xe=new ec(P,this.serializeUrl(B),G,re);i.next(Xe);const it=Cd(B,this.rootComponentType).snapshot;return We(Object.assign(Object.assign({},h),{targetSnapshot:it,urlAfterRedirects:B,extras:Object.assign(Object.assign({},be),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),Fr.E}),D_(h=>{const{targetSnapshot:m,id:b,extractedUrl:D,rawUrl:A,extras:{skipLocationChange:P,replaceUrl:B}}=h;return this.hooks.beforePreactivation(m,{navigationId:b,appliedUrlTree:D,rawUrlTree:A,skipLocationChange:!!P,replaceUrl:!!B})}),(0,Ci.b)(h=>{const m=new ol(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(m)}),(0,ut.U)(h=>Object.assign(Object.assign({},h),{guards:t0(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function w_(n,t){return(0,Hn.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:l,canDeactivateChecks:u}}=e;return 0===u.length&&0===l.length?We(Object.assign(Object.assign({},e),{guardsResult:!0})):function vT(n,t,e,i){return(0,Un.D)(n).pipe((0,Hn.z)(r=>function DT(n,t,e,i,r){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return l&&0!==l.length?We(l.map(h=>{const m=$h(h,t,r);let b;if(function bu(n){return n&&At(n.canDeactivate)}(m))b=gr(m.canDeactivate(n,t,e,i));else{if(!At(m))throw new Error("Invalid CanDeactivate guard");b=gr(m(n,t,e,i))}return b.pipe(ma())})).pipe(Cu()):We(!0)}(r.component,r.route,e,t,i)),ma(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Hn.z)(h=>h&&function zn(n){return"boolean"==typeof n}(h)?function bT(n,t,e,i){return(0,Un.D)(t).pipe(sr(r=>Ro(function wT(n,t){return null!==n&&t&&t(new al(n)),We(!0)}(r.route.parent,i),function Yh(n,t){return null!==n&&t&&t(new ya(n)),We(!0)}(r.route,i),function ET(n,t,e){const i=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(u=>function mT(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>il(()=>We(u.guards.map(m=>{const b=$h(m,u.node,e);let D;if(function xd(n){return n&&At(n.canActivateChild)}(b))D=gr(b.canActivateChild(i,n));else{if(!At(b))throw new Error("Invalid CanActivateChild guard");D=gr(b(i,n))}return D.pipe(ma())})).pipe(Cu())));return We(l).pipe(Cu())}(n,r.path,e),function CT(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return We(!0);const r=i.map(l=>il(()=>{const u=$h(l,t,e);let h;if(function dc(n){return n&&At(n.canActivate)}(u))h=gr(u.canActivate(t,n));else{if(!At(u))throw new Error("Invalid CanActivate guard");h=gr(u(t,n))}return h.pipe(ma())}));return We(r).pipe(Cu())}(n,r.route,e))),ma(r=>!0!==r,!0))}(i,l,n,t):We(h)),(0,ut.U)(h=>Object.assign(Object.assign({},e),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,Ci.b)(h=>{if(ar(h.guardsResult)){const b=rc(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw b.url=h.guardsResult,b}const m=new Nh(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(m)}),Lt(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),D_(h=>{if(h.guards.canActivateChecks.length)return We(h).pipe((0,Ci.b)(m=>{const b=new tc(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),Sn(m=>{let b=!1;return We(m).pipe(function o0(n,t){return(0,Hn.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return We(e);let l=0;return(0,Un.D)(r).pipe(sr(u=>function XR(n,t,e,i){return function va(n,t,e,i){const r=Kp(n);if(0===r.length)return We({});const l={};return(0,Un.D)(r).pipe((0,Hn.z)(u=>function E_(n,t,e,i){const r=$h(n,t,i);return gr(r.resolve?r.resolve(t,e):r(t,e))}(n[u],t,e,i).pipe((0,Ci.b)(h=>{l[u]=h}))),yd(1),(0,Hn.z)(()=>Kp(l).length===r.length?We(l):Fr.E))}(n._resolve,n,t,i).pipe((0,ut.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),Vp(n,e).resolve),null)))}(u.route,i,n,t)),(0,Ci.b)(()=>l++),yd(1),(0,Hn.z)(u=>l===r.length?We(e):Fr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ci.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(m),this.cancelNavigationTransition(m,"At least one route resolver didn't emit any value."))}}))}),(0,Ci.b)(m=>{const b=new Vi(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}))}),D_(h=>{const{targetSnapshot:m,id:b,extractedUrl:D,rawUrl:A,extras:{skipLocationChange:P,replaceUrl:B}}=h;return this.hooks.afterPreactivation(m,{navigationId:b,appliedUrlTree:D,rawUrlTree:A,skipLocationChange:!!P,replaceUrl:!!B})}),(0,ut.U)(h=>{const m=function f_(n,t,e){const i=vu(n,t._root,e?e._root:void 0);return new yu(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:m})}),(0,Ci.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,ut.U)(i=>(new Oe(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,Ci.b)({next(){l=!0},complete(){l=!0}}),vd(()=>{var h;l||u||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===r.id&&(this.currentNavigation=null)}),$i(h=>{if(u=!0,function Oo(n){return n&&n[xi]}(h)){const m=ar(h.url);m||(this.navigated=!0,this.restoreHistory(r,!0));const b=new hu(r.id,this.serializeUrl(r.extractedUrl),h.message);i.next(b),m?setTimeout(()=>{const D=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),A={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||eg(r.source)};this.scheduleNavigation(D,"imperative",null,A,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const m=new ii(r.id,this.serializeUrl(r.extractedUrl),h);i.next(m);try{r.resolve(this.errorHandler(h))}catch(b){r.reject(b)}}return Fr.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const l={replaceUrl:!0},u=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(u){const m=Object.assign({},u);delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(l.state=m)}const h=this.parseUrl(e.url);this.scheduleNavigation(h,i,u,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){zh(e),this.config=e.map(qh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:l,fragment:u,queryParamsHandling:h,preserveFragment:m}=i,b=r||this.routerState.root,D=m?this.currentUrlTree.fragment:u;let A=null;switch(h){case"merge":A=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=l||null}return null!==A&&(A=this.removeEmptyProps(A)),function Uh(n,t,e,i,r){if(0===e.length)return Sd(t.root,t.root,t,i,r);const l=function Hp(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Up(!0,0,n);let t=0,e=!1;const i=n.reduce((r,l,u)=>{if("object"==typeof l&&null!=l){if(l.outlets){const h={};return Rn(l.outlets,(m,b)=>{h[b]="string"==typeof m?m.split("/"):m}),[...r,{outlets:h}]}if(l.segmentPath)return[...r,l.segmentPath]}return"string"!=typeof l?[...r,l]:0===u?(l.split("/").forEach((h,m)=>{0==m&&"."===h||(0==m&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,l]},[]);return new Up(e,t,i)}(e);if(l.toRoot())return Sd(t.root,new z([],{}),t,i,r);const u=function g_(n,t,e){if(n.isAbsolute)return new Md(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const l=e.snapshot._urlSegment;return new Md(l,l===t.root,0)}const i=hs(n.commands[0])?0:1;return function jp(n,t,e){let i=n,r=t,l=e;for(;l>r;){if(l-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Md(i,!1,r-l)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(l,t,n),h=u.processChildren?v(u.segmentGroup,u.index,l.commands):zp(u.segmentGroup,u.index,l.commands);return Sd(u.segmentGroup,h,t,i,r)}(b,this.currentUrlTree,e,A,null!=D?D:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=ar(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function OT(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},u0):!1===i?Object.assign({},RT):i,ar(e))return cl(this.currentUrlTree,e,r);const l=this.parseUrl(e);return cl(this.currentUrlTree,l,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const l=e[r];return null!=l&&(i[r]=l),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new As(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,l,u){var h,m,b;if(this.disposed)return Promise.resolve(!1);const D=this.transitions.value,A=eg(i)&&D&&!eg(D.source),P=D.rawUrl.toString()===e.toString(),B=D.id===(null===(h=this.currentNavigation)||void 0===h?void 0:h.id);if(A&&P&&B)return Promise.resolve(!0);let re,be,Xe;u?(re=u.resolve,be=u.reject,Xe=u.promise):Xe=new Promise((je,Qt)=>{re=je,be=Qt});const it=++this.navigationId;let et;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),et=r&&r.\u0275routerPageId?r.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):et=0,this.setTransition({id:it,targetPageId:et,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:l,resolve:re,reject:be,promise:Xe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Xe.catch(je=>Promise.reject(je))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),l=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",l):this.location.go(r,"",l)}restoreHistory(e,i=!1){var r,l;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===u?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new hu(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function eg(n){return"imperative"!==n}class tg{}class ng{preload(t,e){return We(null)}}let f0=(()=>{class n{constructor(e,i,r,l){this.router=e,this.injector=r,this.preloadingStrategy=l,this.loader=new Jp(r,i,m=>e.triggerEvent(new Br(m)),m=>e.triggerEvent(new _a(m)))}setUpPreloading(){this.subscription=this.router.events.pipe(Lt(e=>e instanceof As),sr(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(s.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const l of i)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const u=l._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else l.loadChildren&&!l.canLoad?r.push(this.preloadConfig(e,l)):l.children&&r.push(this.processRoutes(e,l.children));return(0,Un.D)(r).pipe((0,ls.J)(),(0,ut.U)(l=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?We(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Hn.z)(l=>(i._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Wi),s.LFG(s.Sil),s.LFG(s.zs3),s.LFG(tg))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),A_=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ec?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof As&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof nc&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new nc(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const pc=new s.OlP("ROUTER_CONFIGURATION"),gc=new s.OlP("ROUTER_FORROOT_GUARD"),p0=[Ce,{provide:Gt,useClass:Kt},{provide:Wi,useFactory:function y0(n,t,e,i,r,l,u={},h,m){const b=new Wi(null,n,t,e,i,r,ll(l));return h&&(b.urlHandlingStrategy=h),m&&(b.routeReuseStrategy=m),function x_(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,b),u.enableTracing&&b.events.subscribe(D=>{var A,P;null===(A=console.group)||void 0===A||A.call(console,`Router Event: ${D.constructor.name}`),console.log(D.toString()),console.log(D),null===(P=console.groupEnd)||void 0===P||P.call(console)}),b},deps:[Gt,hc,Ce,s.zs3,s.Sil,Qp,pc,[class T_{},new s.FiY],[class a0{},new s.FiY]]},hc,{provide:ho,useFactory:function v0(n){return n.routerState.root},deps:[Wi]},f0,ng,class h0{preload(t,e){return e().pipe($i(()=>We(null)))}},{provide:pc,useValue:{enableTracing:!1}}];function g0(){return new s.PXZ("Router",Wi)}let m0=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[p0,M_(e),{provide:gc,useFactory:_0,deps:[[Wi,new s.FiY,new s.tp0]]},{provide:pc,useValue:i||{}},{provide:K,useFactory:FT,deps:[ce,[new s.tBr(xe),new s.FiY],pc]},{provide:A_,useFactory:ig,deps:[Wi,hd,pc]},{provide:tg,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:ng},{provide:s.PXZ,multi:!0,useFactory:g0},[Fd,{provide:s.ip1,multi:!0,useFactory:rg,deps:[Fd]},{provide:sg,useFactory:b0,deps:[Fd]},{provide:s.tb,multi:!0,useExisting:sg}]]}}static forChild(e){return{ngModule:n,providers:[M_(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gc,8),s.LFG(Wi,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function ig(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new A_(n,t,e)}function FT(n,t,e={}){return e.useHash?new fe(n,t):new Re(n,t)}function _0(n){return"guarded"}function M_(n){return[{provide:s.deG,multi:!0,useValue:n},{provide:Qp,multi:!0,useValue:n}]}let Fd=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new $e.x}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(h=>i=h),l=this.injector.get(Wi),u=this.injector.get(pc);return"disabled"===u.initialNavigation?(l.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?We(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),l.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(pc),r=this.injector.get(f0),l=this.injector.get(A_),u=this.injector.get(Wi),h=this.injector.get(s.z2F);e===h.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),l.init(),u.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function rg(n){return n.appInitializer.bind(n)}function b0(n){return n.bootstrapListener.bind(n)}const sg=new s.OlP("Router Initializer");function Ld(...n){const t=(0,Kl.jO)(n),{args:e,keys:i}=xo(n),r=new cn.y(l=>{const{length:u}=e;if(!u)return void l.complete();const h=new Array(u);let m=u,b=u;for(let D=0;D<u;D++){let A=!1;(0,Nr.Xf)(e[D]).subscribe((0,nn.x)(l,P=>{A||(A=!0,b--),h[D]=P},()=>m--,void 0,()=>{(!m||!A)&&(b||l.next(i?uu(i,h):h),l.complete())}))}});return t?r.pipe(ua(t)):r}let E0=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),mc=(()=>{class n extends E0{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const po=new s.OlP("NgValueAccessor"),R_={provide:po,useExisting:(0,s.Gpc)(()=>pl),multi:!0},tO=new s.OlP("CompositionEventMode");let pl=(()=>{class n extends E0{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function D0(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(tO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[s._Bn([R_]),s.qOj]}),n})();function _c(n){return null==n||0===n.length}function O_(n){return null!=n&&"number"==typeof n.length}const yr=new s.OlP("NgValidators"),yc=new s.OlP("NgAsyncValidators"),Vo=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class fs{static min(t){return function P_(n){return t=>{if(_c(t.value)||_c(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function T0(n){return t=>{if(_c(t.value)||_c(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return I0(t)}static requiredTrue(t){return function S0(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function A0(n){return _c(n.value)||Vo.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function N_(n){return t=>_c(t.value)||!O_(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function M0(n){return t=>O_(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return x0(t)}static nullValidator(t){return null}static compose(t){return V_(t)}static composeAsync(t){return ag(t)}}function I0(n){return _c(n.value)?{required:!0}:null}function x0(n){if(!n)return Qh;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(_c(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function Qh(n){return null}function Nt(n){return null!=n}function F_(n){const t=(0,s.QGY)(n)?(0,Un.D)(n):n;return(0,s.CqO)(t),t}function L_(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function B_(n,t){return t.map(e=>e(n))}function go(n){return n.map(t=>function og(n){return!n.validate}(t)?t:e=>t.validate(e))}function V_(n){if(!n)return null;const t=n.filter(Nt);return 0==t.length?null:function(e){return L_(B_(e,t))}}function U_(n){return null!=n?V_(go(n)):null}function ag(n){if(!n)return null;const t=n.filter(Nt);return 0==t.length?null:function(e){return Ld(B_(e,t).map(F_)).pipe((0,ut.U)(L_))}}function Uo(n){return null!=n?ag(go(n)):null}function lg(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function H_(n){return n._rawValidators}function cg(n){return n._rawAsyncValidators}function k0(n){return n?Array.isArray(n)?n:[n]:[]}function Jh(n,t){return Array.isArray(n)?n.includes(t):n===t}function BT(n,t){const e=k0(t);return k0(n).forEach(r=>{Jh(e,r)||e.push(r)}),e}function Xh(n,t){return k0(t).filter(e=>!Jh(n,e))}class ef{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=U_(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Uo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Os extends ef{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class lr extends ef{get formDirective(){return null}get path(){return null}}class ug{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let Bd=(()=>{class n extends ug{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Os,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[s.qOj]}),n})(),tf=(()=>{class n extends ug{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(lr,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[s.qOj]}),n})();function q_(n,t){return[...t.path,n]}function dg(n,t){Z_(n,t),t.valueAccessor.writeValue(n.value),function W_(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&hg(n,t)})}(n,t),function jT(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function O0(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&hg(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function $_(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function G_(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),rf(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ho(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Z_(n,t){const e=H_(n);null!==t.validator?n.setValidators(lg(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=cg(n);null!==t.asyncValidator?n.setAsyncValidators(lg(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Ho(t._rawValidators,r),Ho(t._rawAsyncValidators,r)}function rf(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=H_(n);if(Array.isArray(r)&&r.length>0){const l=r.filter(u=>u!==t.validator);l.length!==r.length&&(e=!0,n.setValidators(l))}}if(null!==t.asyncValidator){const r=cg(n);if(Array.isArray(r)&&r.length>0){const l=r.filter(u=>u!==t.asyncValidator);l.length!==r.length&&(e=!0,n.setAsyncValidators(l))}}}const i=()=>{};return Ho(t._rawValidators,i),Ho(t._rawAsyncValidators,i),e}function hg(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function gl(n,t){Z_(n,t)}function K_(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function F0(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Q_(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(l=>{l.constructor===pl?e=l:function N0(n){return Object.getPrototypeOf(n.constructor)===mc}(l)?i=l:r=l}),r||i||e||null}function vc(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const ba="VALID",bc="INVALID",jo="PENDING",lf="DISABLED";function fg(n){return(Tu(n)?n.validators:n)||null}function pg(n){return Array.isArray(n)?U_(n):n||null}function cf(n,t){return(Tu(t)?t.asyncValidators:n)||null}function J_(n){return Array.isArray(n)?Uo(n):n||null}function Tu(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const X_=n=>n instanceof ps,uf=n=>n instanceof mg,zT=n=>n instanceof gs;function ey(n){return X_(n)?n.value:n.getRawValue()}function ty(n,t){const e=uf(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[t])throw new s.vHH(1001,"")}function B0(n,t){uf(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new s.vHH(1002,"")})}class gg{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=pg(this._rawValidators),this._composedAsyncValidatorFn=J_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ba}get invalid(){return this.status===bc}get pending(){return this.status==jo}get disabled(){return this.status===lf}get enabled(){return this.status!==lf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=pg(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=J_(t)}addValidators(t){this.setValidators(BT(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(BT(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Xh(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Xh(t,this._rawAsyncValidators))}hasValidator(t){return Jh(this._rawValidators,t)}hasAsyncValidator(t){return Jh(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=jo,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=lf,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ba,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ba||this.status===jo)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?lf:ba}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=jo,this._hasOwnPendingAsyncValidator=!0;const e=F_(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function L0(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=uf(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:zT(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?lf:this.errors?bc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jo)?jo:this._anyControlsHaveStatus(bc)?bc:ba}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Tu(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ps extends gg{constructor(t=null,e,i){super(fg(e),cf(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Tu(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){vc(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){vc(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class mg extends gg{constructor(t,e,i){super(fg(e),cf(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){B0(this,t),Object.keys(t).forEach(i=>{ty(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=ey(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,l)=>{i=e(i,r,l)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class gs extends gg{constructor(t,e,i){super(fg(e),cf(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){B0(this,t),t.forEach((i,r)=>{ty(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>ey(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const qT={provide:lr,useExisting:(0,s.Gpc)(()=>wc)},df=(()=>Promise.resolve(null))();let wc=(()=>{class n extends lr{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new s.vpe,this.form=new mg({},U_(e),Uo(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){df.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),dg(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){df.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),vc(this._directives,e)})}addFormGroup(e){df.then(()=>{const i=this._findContainer(e.path),r=new mg({});gl(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){df.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){df.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,F0(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(yr,10),s.Y36(yc,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([qT]),s.qOj]}),n})();const ZT={provide:Os,useExisting:(0,s.Gpc)(()=>_g)},j0=(()=>Promise.resolve(null))();let _g=(()=>{class n extends Os{constructor(e,i,r,l,u){super(),this._changeDetectorRef=u,this.control=new ps,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Q_(0,l)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),K_(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?q_(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){dg(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){j0.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;j0.then(()=>{var l;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(l=this._changeDetectorRef)||void 0===l||l.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(lr,9),s.Y36(yr,10),s.Y36(yc,10),s.Y36(po,10),s.Y36(s.sBO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([ZT]),s.qOj,s.TTD]}),n})(),hf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),ny=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const ry=new s.OlP("NgModelWithFormControlWarning"),hO={provide:Os,useExisting:(0,s.Gpc)(()=>Vd)};let Vd=(()=>{class n extends Os{constructor(e,i,r,l){super(),this._ngModelWarningConfig=l,this.update=new s.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=Q_(0,r)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&G_(i,this,!1),dg(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}K_(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&G_(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(yr,10),s.Y36(yc,10),s.Y36(po,10),s.Y36(ry,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[s._Bn([hO]),s.qOj,s.TTD]}),n})();const QT={provide:lr,useExisting:(0,s.Gpc)(()=>Iu)};let Iu=(()=>{class n extends lr{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(rf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return dg(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){G_(e.control||null,e,!1),vc(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,F0(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(G_(i||null,e),X_(r)&&(dg(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);gl(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function P0(n,t){return rf(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Z_(this.form,this),this._oldForm&&rf(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(yr,10),s.Y36(yc,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([QT]),s.qOj,s.TTD]}),n})();const oy={provide:Os,useExisting:(0,s.Gpc)(()=>ay)};let ay=(()=>{class n extends Os{constructor(e,i,r,l,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Q_(0,l)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),K_(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return q_(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(lr,13),s.Y36(yr,10),s.Y36(yc,10),s.Y36(po,10),s.Y36(ry,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([oy]),s.qOj,s.TTD]}),n})(),ml=(()=>{class n{constructor(){this._validator=Qh}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Qh,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const K0={provide:yr,useExisting:(0,s.Gpc)(()=>_l),multi:!0};let _l=(()=>{class n extends ml{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e=>function W0(n){return null!=n&&!1!==n&&"false"!=`${n}`}(e),this.createValidator=e=>I0}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[s._Bn([K0]),s.qOj]}),n})();const oI={provide:yr,useExisting:(0,s.Gpc)(()=>my),multi:!0};let my=(()=>{class n{constructor(){this._validator=Qh}ngOnChanges(e){"pattern"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=x0(this.pattern)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("pattern",i.pattern?i.pattern:null)},inputs:{pattern:"pattern"},features:[s._Bn([oI]),s.TTD]}),n})(),X0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ny]]}),n})(),cI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[X0]}),n})(),Su=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:ry,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[X0]}),n})(),dI=(()=>{class n{group(e,i=null){const r=this._reduceControls(e);let h,l=null,u=null;return null!=i&&(function uI(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(l=null!=i.validators?i.validators:null,u=null!=i.asyncValidators?i.asyncValidators:null,h=null!=i.updateOn?i.updateOn:void 0):(l=null!=i.validator?i.validator:null,u=null!=i.asyncValidator?i.asyncValidator:null)),new mg(r,{asyncValidators:u,updateOn:h,validators:l})}control(e,i,r){return new ps(e,i,r)}array(e,i,r){const l=e.map(u=>this._createControl(u));return new gs(l,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return X_(e)||uf(e)||zT(e)?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:Su}),n})();function It(n){return null!=n&&"false"!=`${n}`}function di(n,t=0){return function _y(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Ud(n){return Array.isArray(n)?n:[n]}function Ei(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ri(n){return n instanceof s.SBq?n.nativeElement:n}var fI=O(1144);const pI=["addListener","removeListener"],gI=["addEventListener","removeEventListener"],mI=["on","off"];function Au(n,t,e,i){if((0,Lr.m)(e)&&(i=e,e=void 0),i)return Au(n,t,e).pipe(ua(i));const[r,l]=function vI(n){return(0,Lr.m)(n.addEventListener)&&(0,Lr.m)(n.removeEventListener)}(n)?gI.map(u=>h=>n[u](t,h,e)):function ew(n){return(0,Lr.m)(n.addListener)&&(0,Lr.m)(n.removeListener)}(n)?pI.map(_I(n,t)):function yI(n){return(0,Lr.m)(n.on)&&(0,Lr.m)(n.off)}(n)?mI.map(_I(n,t)):[];if(!r&&(0,fI.z)(n))return(0,Hn.z)(u=>Au(u,t,e))((0,Nr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new cn.y(u=>{const h=(...m)=>u.next(1<m.length?m:m[0]);return r(h),()=>l(h)})}function _I(n,t){return e=>i=>n[e](t,i)}var bI=O(4408);const Cg={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Cg;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(l=>{e=void 0,n(l)});return new In.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=Cg;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Cg;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var tw=O(7565);const vy=new class nw extends tw.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class yy extends bI.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Cg.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(Cg.cancelAnimationFrame(e),t._scheduled=void 0)}});let iw,qo=1;const by={};function wy(n){return n in by&&(delete by[n],!0)}const rw={setImmediate(n){const t=qo++;return by[t]=!0,iw||(iw=Promise.resolve()),iw.then(()=>wy(t)&&n()),t},clearImmediate(n){wy(n)}},{setImmediate:CI,clearImmediate:gO}=rw,mf={setImmediate(...n){const{delegate:t}=mf;return((null==t?void 0:t.setImmediate)||CI)(...n)},clearImmediate(n){const{delegate:t}=mf;return((null==t?void 0:t.clearImmediate)||gO)(n)},delegate:void 0},_f=new class EI extends tw.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Cy extends bI.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=mf.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(mf.clearImmediate(e),t._scheduled=void 0)}});var Hd=O(4986),TI=O(3532);function Ey(n=0,t,e=Hd.P){let i=-1;return null!=t&&((0,TI.K)(t)?e=t:i=t),new cn.y(r=>{let l=function II(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;l<0&&(l=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},l)})}function yf(n,t=Hd.z){return function DI(n){return(0,ni.e)((t,e)=>{let i=!1,r=null,l=null,u=!1;const h=()=>{if(null==l||l.unsubscribe(),l=null,i){i=!1;const b=r;r=null,e.next(b)}u&&e.complete()},m=()=>{l=null,u&&e.complete()};t.subscribe((0,nn.x)(e,b=>{i=!0,r=b,l||(0,Nr.Xf)(n(b)).subscribe(l=(0,nn.x)(e,h,m))},()=>{u=!0,(!i||!l||l.closed)&&e.complete()}))})}(()=>Ey(n,t))}var Mu=O(5032);function rn(n){return(0,ni.e)((t,e)=>{(0,Nr.Xf)(n).subscribe((0,nn.x)(e,()=>e.complete(),Mu.Z)),!e.closed&&t.subscribe(e)})}let xu;try{xu="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){xu=!1}let Cc,ji=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Tn(n){return n===ja}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!xu)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Go=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function jd(){if(Cc)return Cc;if("object"!=typeof document||!document)return Cc=new Set(Go),Cc;let n=document.createElement("input");return Cc=new Set(Go.filter(t=>(n.setAttribute("type",t),n.type===t))),Cc}let Ri,Ur,yl,Ec;function $o(n){return function ku(){if(null==Ri&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ri=!0}))}finally{Ri=Ri||!1}return Ri}()?n:!!n.capture}function Ru(){if(null==yl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return yl=!1,yl;if("scrollBehavior"in document.documentElement.style)yl=!0;else{const n=Element.prototype.scrollTo;yl=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return yl}function Ca(){if("object"!=typeof document||!document)return 0;if(null==Ur){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),Ur=0,0===n.scrollLeft&&(n.scrollLeft=1,Ur=0===n.scrollLeft?1:2),n.remove()}return Ur}function vl(n){if(function zd(){if(null==Ec){const n="undefined"!=typeof document?document.head:null;Ec=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Ec}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Dc(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function vr(n){return n.composedPath?n.composedPath()[0]:n.target}function Tc(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const qd=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function sw(){return(0,s.f3M)(X)}}),ow=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ps=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function aw(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?ow.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(qd,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),$d=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new $e.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new cn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(yf(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):We()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Lt(l=>!l||r.indexOf(l)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,l)=>{this._scrollableContainsElement(l,e)&&i.push(l)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=ri(i),l=e.getElementRef().nativeElement;do{if(r==l)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Au(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(ji),s.LFG(X,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vf=(()=>{class n{constructor(e,i,r,l){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=l,this._destroyed=new $e.x,this._elementScrolled=new cn.y(u=>this.ngZone.runOutsideAngular(()=>Au(this.elementRef.nativeElement,"scroll").pipe(rn(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=Ca()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Ca()?e.left=e.right:1==Ca()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;Ru()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",l=this.elementRef.nativeElement;if("top"==e)return l.scrollTop;if("bottom"==e)return l.scrollHeight-l.clientHeight-l.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==e?e=u?r:i:"end"==e&&(e=u?i:r),u&&2==Ca()?e==i?l.scrollWidth-l.clientWidth-l.scrollLeft:l.scrollLeft:u&&1==Ca()?e==i?l.scrollLeft+l.scrollWidth-l.clientWidth:-l.scrollLeft:e==i?l.scrollLeft:l.scrollWidth-l.clientWidth-l.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36($d),s.Y36(s.R0b),s.Y36(Ps,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),Ou=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new $e.x,this._changeListener=l=>{this._change.next(l)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,l=r.getBoundingClientRect();return{top:-l.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-l.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(yf(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ji),s.LFG(s.R0b),s.LFG(X,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),Eg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gd,Pu],Gd,Pu]}),n})();class Dg{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Tg extends Dg{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class bf extends Dg{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Zd extends Dg{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class Ig{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Tg?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof bf?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Zd?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class NI extends Ig{constructor(t,e,i,r,l){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,m=this._document.createComment("dom-portal");h.parentNode.insertBefore(m,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(h,m)})},this._document=l}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let wf=(()=>{class n extends Ig{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=l=>{const u=l.element,h=this._document.createComment("dom-portal");l.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=l,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,l=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(l,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(X))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),Ty=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();var br=O(6451);function Zo(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}const Fy=Ru();class Dw{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ei(-this._previousScrollPosition.left),t.style.top=Ei(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,l=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Fy&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Fy&&(i.scrollBehavior=l,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class Tw{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ly{enable(){}disable(){}attach(){}}function xg(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function By(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Iw{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();xg(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Vy=(()=>{class n{constructor(e,i,r,l){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Ly,this.close=u=>new Tw(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new Dw(this._viewportRuler,this._document),this.reposition=u=>new Iw(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=l}}return n.\u0275fac=function(e){return new(e||n)(s.LFG($d),s.LFG(Ou),s.LFG(s.R0b),s.LFG(X))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Lu{constructor(t){if(this.scrollStrategy=new Ly,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class SS{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class Uy{constructor(t,e,i,r,l,u,h,m,b){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=l,this._keyboardDispatcher=u,this._document=h,this._location=m,this._outsideClickDispatcher=b,this._backdropElement=null,this._backdropClick=new $e.x,this._attachments=new $e.x,this._detachments=new $e.x,this._locationChanges=In.w0.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._backdropTransitionendHandler=D=>{this._disposeBackdrop(D.target)},this._keydownEvents=new $e.x,this._outsidePointerEvents=new $e.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(un(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Ei(this._config.width),t.height=Ei(this._config.height),t.minWidth=Ei(this._config.minWidth),t.minHeight=Ei(this._config.minHeight),t.maxWidth=Ei(this._config.maxWidth),t.maxHeight=Ei(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=Ud(e||[]).filter(l=>!!l);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(rn((0,br.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let Sw=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Tc()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let l=0;l<r.length;l++)r[l].remove()}const i=this._document.createElement("div");i.classList.add(e),Tc()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(X),s.LFG(ji))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Hy="cdk-overlay-connected-position-bounding-box",Aw=/([A-Za-z%]+)$/;class dP{constructor(t,e,i,r,l){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new $e.x,this._resizeSubscription=In.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Hy),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,l=[];let u;for(let h of this._preferredPositions){let m=this._getOriginPoint(t,r,h),b=this._getOverlayPoint(m,e,h),D=this._getOverlayFit(b,e,i,h);if(D.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,m);this._canFitWithFlexibleDimensions(D,b,i)?l.push({position:h,origin:m,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(m,h)}):(!u||u.overlayFit.visibleArea<D.visibleArea)&&(u={overlayFit:D,overlayPoint:b,originPoint:m,position:h,overlayRect:e})}if(l.length){let h=null,m=-1;for(const b of l){const D=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);D>m&&(m=D,h=b)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&yt(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Hy),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,l;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?u:h}return e.left<0&&(r-=e.left),l="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(l-=e.top),{x:r,y:l}}_getOverlayPoint(t,e,i){let r,l;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,l="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+l}}_getOverlayFit(t,e,i,r){const l=xw(e);let{x:u,y:h}=t,m=this._getOffset(r,"x"),b=this._getOffset(r,"y");m&&(u+=m),b&&(h+=b);let P=0-h,B=h+l.height-i.height,G=this._subtractOverflows(l.width,0-u,u+l.width-i.width),re=this._subtractOverflows(l.height,P,B),be=G*re;return{visibleArea:be,isCompletelyWithinViewport:l.width*l.height===be,fitsInViewportVertically:re===l.height,fitsInViewportHorizontally:G==l.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,l=i.right-e.x,u=Mw(this._overlayRef.getConfig().minHeight),h=Mw(this._overlayRef.getConfig().minWidth),b=t.fitsInViewportHorizontally||null!=h&&h<=l;return(t.fitsInViewportVertically||null!=u&&u<=r)&&b}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=xw(e),l=this._viewportRect,u=Math.max(t.x+r.width-l.width,0),h=Math.max(t.y+r.height-l.height,0),m=Math.max(l.top-i.top-t.y,0),b=Math.max(l.left-i.left-t.x,0);let D=0,A=0;return D=r.width<=l.width?b||-u:t.x<this._viewportMargin?l.left-i.left-t.x:0,A=r.height<=l.height?m||-h:t.y<this._viewportMargin?l.top-i.top-t.y:0,this._previousPushAmount={x:D,y:A},{x:t.x+D,y:t.y+A}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new SS(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let l=0;l<e.length;l++)e[l].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let l,u,h,D,A,P;if("top"===e.overlayY)u=t.y,l=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,l=i.height-h+this._viewportMargin;else{const B=Math.min(i.bottom-t.y+i.top,t.y),G=this._lastBoundingBoxSize.height;l=2*B,u=t.y-B,l>G&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-G/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)P=i.width-t.x+this._viewportMargin,D=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)A=t.x,D=i.right-t.x;else{const B=Math.min(i.right-t.x+i.left,t.x),G=this._lastBoundingBoxSize.width;D=2*B,A=t.x-B,D>G&&!this._isInitialRender&&!this._growAfterOpen&&(A=t.x-G/2)}return{top:u,left:A,bottom:h,right:P,width:D,height:l}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=Ei(i.height),r.top=Ei(i.top),r.bottom=Ei(i.bottom),r.width=Ei(i.width),r.left=Ei(i.left),r.right=Ei(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",l&&(r.maxHeight=Ei(l)),u&&(r.maxWidth=Ei(u))}this._lastBoundingBoxSize=i,yt(this._boundingBox.style,r)}_resetBoundingBoxStyles(){yt(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){yt(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),l=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const D=this._viewportRuler.getViewportScrollPosition();yt(i,this._getExactOverlayY(e,t,D)),yt(i,this._getExactOverlayX(e,t,D))}else i.position="static";let h="",m=this._getOffset(e,"x"),b=this._getOffset(e,"y");m&&(h+=`translateX(${m}px) `),b&&(h+=`translateY(${b}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=Ei(u.maxHeight):l&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=Ei(u.maxWidth):l&&(i.maxWidth="")),yt(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},l=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":r.top=Ei(l.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},l=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":r.left=Ei(l.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:By(t,i),isOriginOutsideView:xg(t,i),isOverlayClipped:By(e,i),isOverlayOutsideView:xg(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Ud(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function yt(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Mw(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Aw);return e&&"px"!==e?null:parseFloat(t)}return n||null}function xw(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const kw="cdk-global-overlay-wrapper";class kg{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(kw),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:l,maxWidth:u,maxHeight:h}=i,m=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),b=!("100%"!==l&&"100vh"!==l||h&&"100%"!==h&&"100vh"!==h);t.position=this._cssPosition,t.marginLeft=m?"0":this._leftOffset,t.marginTop=b?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,m?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(kw),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let AS=(()=>{class n{constructor(e,i,r,l){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=l}global(){return new kg}flexibleConnectedTo(e){return new dP(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ou),s.LFG(X),s.LFG(ji),s.LFG(Sw))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),If=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(X))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rg=(()=>{class n extends If{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const l=this._attachedOverlays;for(let u=l.length-1;u>-1;u--)if(l[u]._keydownEvents.observers.length>0){const h=l[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(X),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hi=(()=>{class n extends If{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=vr(l)},this._clickListener=l=>{const u=vr(l),h="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const m=this._attachedOverlays.slice();for(let b=m.length-1;b>-1;b--){const D=m[b];if(D._outsidePointerEvents.observers.length<1||!D.hasAttached())continue;if(D.overlayElement.contains(u)||D.overlayElement.contains(h))break;const A=D._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>A.next(l)):A.next(l)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(X),s.LFG(ji),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hP=0,Wo=(()=>{class n{constructor(e,i,r,l,u,h,m,b,D,A,P){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=l,this._keyboardDispatcher=u,this._injector=h,this._ngZone=m,this._document=b,this._directionality=D,this._location=A,this._outsideClickDispatcher=P}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),l=this._createPortalOutlet(r),u=new Lu(e);return u.direction=u.direction||this._directionality.value,new Uy(l,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+hP++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new NI(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Vy),s.LFG(Sw),s.LFG(s._Vd),s.LFG(AS),s.LFG(Rg),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(X),s.LFG(Ps),s.LFG(Ce),s.LFG(hi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const MS=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Rw=new s.OlP("cdk-connected-overlay-scroll-strategy");let jy=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),zy=(()=>{class n{constructor(e,i,r,l,u){this._overlay=e,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=In.w0.EMPTY,this._attachSubscription=In.w0.EMPTY,this._detachSubscription=In.w0.EMPTY,this._positionSubscription=In.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new s.vpe,this.positionChange=new s.vpe,this.attach=new s.vpe,this.detach=new s.vpe,this.overlayKeydown=new s.vpe,this.overlayOutsideClick=new s.vpe,this._templatePortal=new bf(i,r),this._scrollStrategyFactory=l,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=It(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=It(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=It(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=It(e)}get push(){return this._push}set push(e){this._push=It(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=MS);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Zo(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Lu({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof jy?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function LI(n,t=!1){return(0,ni.e)((e,i)=>{let r=0;e.subscribe((0,nn.x)(i,l=>{const u=n(l,r++);(u||t)&&i.next(l),!u&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Wo),s.Y36(s.Rgc),s.Y36(s.s_b),s.Y36(Rw),s.Y36(Ps,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[s.TTD]}),n})();const Pw={provide:Rw,deps:[Wo],useFactory:function Ow(n){return()=>n.scrollStrategies.reposition()}};let Og=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Wo,Pw],imports:[[Gd,Ty,Eg],Eg]}),n})();function Ic(n,t=Hd.z){return(0,ni.e)((e,i)=>{let r=null,l=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const b=l;l=null,i.next(b)}};function m(){const b=u+n,D=t.now();if(D<b)return r=this.schedule(void 0,b-D),void i.add(r);h()}e.subscribe((0,nn.x)(i,b=>{l=b,u=t.now(),r||(r=t.schedule(m,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{l=r=null}))})}function Fw(n){return Lt((t,e)=>n<=e)}function Pg(n,t=Is.y){return n=null!=n?n:xS,(0,ni.e)((e,i)=>{let r,l=!0;e.subscribe((0,nn.x)(i,u=>{const h=t(u);(l||!n(r,h))&&(l=!1,r=h,i.next(u))}))})}function xS(n,t){return n===t}class Gy{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new $e.x,this._typeaheadSubscription=In.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new $e.x,this.change=new $e.x,t instanceof s.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ci.b)(e=>this._pressedLetters.push(e)),Ic(t),Lt(()=>this._pressedLetters.length>0),(0,ut.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const l=(this._activeItemIndex+r)%i.length,u=i[l];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(l);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(l=>!t[l]||this._allowedModifierKeys.indexOf(l)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Zo(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),r=e[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}class Lw extends Gy{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class Bw extends Gy{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let $y=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function _P(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function FS(n){try{return n.frameElement}catch(t){return null}}(function LS(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===Hw(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),l=Hw(e);return e.hasAttribute("contenteditable")?-1!==l:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function jw(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==l:"video"===r?-1!==l&&(null!==l||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function Mf(n){return!function vP(n){return function Vw(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function yP(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function bP(n){return function Fg(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Uw(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ji))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Uw(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function Hw(n){if(!Uw(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class BS{constructor(t,e,i,r,l=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(un(1)).subscribe(t)}}let zw=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new BS(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG($y),s.LFG(s.R0b),s.LFG(X))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Lg(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function kf(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const US=new s.OlP("cdk-input-modality-detector-options"),qw={ignoreKeys:[18,17,224,91,16]},Bu=$o({passive:!0,capture:!0});let HS=(()=>{class n{constructor(e,i,r,l){this._platform=e,this._mostRecentTarget=null,this._modality=new Mi(null),this._lastTouchMs=0,this._onKeydown=u=>{var h,m;(null===(m=null===(h=this._options)||void 0===h?void 0:h.ignoreKeys)||void 0===m?void 0:m.some(b=>b===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=vr(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Lg(u)?"keyboard":"mouse"),this._mostRecentTarget=vr(u))},this._onTouchstart=u=>{kf(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=vr(u))},this._options=Object.assign(Object.assign({},qw),l),this.modalityDetected=this._modality.pipe(Fw(1)),this.modalityChanged=this.modalityDetected.pipe(Pg()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Bu),r.addEventListener("mousedown",this._onMousedown,Bu),r.addEventListener("touchstart",this._onTouchstart,Bu)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Bu),document.removeEventListener("mousedown",this._onMousedown,Bu),document.removeEventListener("touchstart",this._onTouchstart,Bu))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ji),s.LFG(s.R0b),s.LFG(X),s.LFG(US,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zy=new s.OlP("liveAnnouncerElement",{providedIn:"root",factory:function jS(){return null}}),$w=new s.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Bg=(()=>{class n{constructor(e,i,r,l){this._ngZone=i,this._defaultOptions=l,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let l,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[l,u]=i,this.clear(),clearTimeout(this._previousTimeout),l||(l=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",l),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(h=>this._currentResolve=h)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e,i;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null,null===(i=this._currentResolve)||void 0===i||i.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let l=0;l<i.length;l++)i[l].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Zy,8),s.LFG(s.R0b),s.LFG(X),s.LFG($w,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zS=new s.OlP("cdk-focus-monitor-default-options"),Vg=$o({passive:!0,capture:!0});let Cl=(()=>{class n{constructor(e,i,r,l,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new $e.x,this._rootNodeFocusAndBlurListener=h=>{const m=vr(h),b="focus"===h.type?this._onFocus:this._onBlur;for(let D=m;D;D=D.parentElement)b.call(this,h,D)},this._document=l,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(e,i=!1){const r=ri(e);if(!this._platform.isBrowser||1!==r.nodeType)return We(null);const l=vl(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new $e.x,rootNode:l};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=ri(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const l=ri(e);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([h,m])=>this._originChanged(h,i,m)):(this._setOrigin(i),"function"==typeof l.focus&&l.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),l=vr(e);!r||!r.checkChildren&&i!==l||this._originChanged(i,this._getFocusOrigin(l),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Vg),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Vg)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(rn(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Vg),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Vg),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,l)=>{(l===e||r.checkChildren&&l.contains(e))&&i.push([l,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(ji),s.LFG(HS),s.LFG(X,8),s.LFG(zS,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wy="cdk-high-contrast-black-on-white",Zw="cdk-high-contrast-white-on-black",Yy="cdk-high-contrast-active";let qS=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,l=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Yy),e.remove(Wy),e.remove(Zw),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(Yy),e.add(Wy)):2===i&&(e.add(Yy),e.add(Zw))}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ji),s.LFG(X))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ww{}const El="*";function Sc(n,t){return{type:7,name:n,definitions:t,options:{}}}function Ns(n,t=null){return{type:4,styles:t,timings:n}}function Ky(n,t=null){return{type:3,steps:n,options:t}}function Yw(n,t=null){return{type:2,steps:n,options:t}}function fi(n){return{type:6,styles:n,offset:null}}function Fs(n,t,e){return{type:0,name:n,styles:t,options:e}}function Ls(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Rf(n=null){return{type:9,options:n}}function Ug(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function Jw(n){Promise.resolve(null).then(n)}class Of{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Jw(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Hg{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const l=this.players.length;0==l?Jw(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==l&&this._onFinish()}),u.onDestroy(()=>{++i==l&&this._onDestroy()}),u.onStart(()=>{++r==l&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function Xw(){return"undefined"!=typeof window&&void 0!==window.document}function Jy(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Dl(n){switch(n.length){case 0:return new Of;case 1:return n[0];default:return new Hg(n)}}function eC(n,t,e,i,r={},l={}){const u=[],h=[];let m=-1,b=null;if(i.forEach(D=>{const A=D.offset,P=A==m,B=P&&b||{};Object.keys(D).forEach(G=>{let re=G,be=D[G];if("offset"!==G)switch(re=t.normalizePropertyName(re,u),be){case"!":be=r[G];break;case El:be=l[G];break;default:be=t.normalizeStyleValue(G,re,be,u)}B[re]=be}),P||h.push(B),b=B,m=A}),u.length){const D="\n - ";throw new Error(`Unable to animate due to the following errors:${D}${u.join(D)}`)}return h}function jg(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&tC(e,"start",n)));break;case"done":n.onDone(()=>i(e&&tC(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&tC(e,"destroy",n)))}}function tC(n,t,e){const i=e.totalTime,l=Xy(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),u=n._data;return null!=u&&(l._data=u),l}function Xy(n,t,e,i,r="",l=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:l,disabled:!!u}}function cr(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function nC(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Ac=(n,t)=>!1,Kd=(n,t,e)=>[];(Jy()||"undefined"!=typeof Element)&&(Ac=Xw()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),Kd=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Mc=null,iC=!1;function rC(n){Mc||(Mc=function $S(){return"undefined"!=typeof document?document.body:null}()||{},iC=!!Mc.style&&"WebkitAppearance"in Mc.style);let t=!0;return Mc.style&&!function kP(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Mc.style,!t&&iC&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Mc.style)),t}const sC=Ac,ev=Kd;let zg=(()=>{class n{validateStyleProperty(e){return rC(e)}matchesElement(e,i){return!1}containsElement(e,i){return sC(e,i)}query(e,i,r){return ev(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,l,u,h=[],m){return new Of(r,l)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Qd=(()=>{class n{}return n.NOOP=new zg,n})();const qg="ng-enter",Gg="ng-leave",$g="ng-trigger",Zg=".ng-trigger",Wg="ng-animating",tv=".ng-animating";function Jd(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:nv(parseFloat(t[1]),t[2])}function nv(n,t){return"s"===t?1e3*n:n}function Yg(n,t,e){return n.hasOwnProperty("duration")?n:function Xd(n,t,e){let r,l=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};r=nv(parseFloat(h[1]),h[2]);const m=h[3];null!=m&&(l=nv(parseFloat(m),h[4]));const b=h[5];b&&(u=b)}else r=n;if(!e){let h=!1,m=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),h=!0),l<0&&(t.push("Delay values below 0 are not allowed for this animation step."),h=!0),h&&t.splice(m,0,`The provided timing value "${n}" is invalid.`)}return{duration:r,delay:l,easing:u}}(n,t,e)}function Vu(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Hu(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Vu(n,e);return e}function iv(n,t,e){return e?t+":"+e+";":""}function lC(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=iv(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=iv(0,YS(e),n.style[e]));n.setAttribute("style",t)}function Tl(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=rv(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),Jy()&&lC(n))}function xc(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=rv(e);n.style[i]=""}),Jy()&&lC(n))}function Kg(n){return Array.isArray(n)?1==n.length?n[0]:Yw(n):n}const Nf=new RegExp("{{\\s*(.+?)\\s*}}","g");function uC(n){let t=[];if("string"==typeof n){let e;for(;e=Nf.exec(n);)t.push(e[1]);Nf.lastIndex=0}return t}function Ff(n,t,e){const i=n.toString(),r=i.replace(Nf,(l,u)=>{let h=t[u];return t.hasOwnProperty(u)||(e.push(`Please provide a value for the animation param ${u}`),h=""),h.toString()});return r==i?n:r}function Lf(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const WS=/-+([a-z0-9])/g;function rv(n){return n.replace(WS,(...t)=>t[1].toUpperCase())}function YS(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Bs(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function dC(n,t){return window.getComputedStyle(n)[t]}function hC(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function fC(n,t,e){if(":"==n[0]){const m=function pC(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof m)return void t.push(m);n=m}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const r=i[1],l=i[2],u=i[3];t.push(sv(r,u));"<"==l[0]&&!("*"==r&&"*"==u)&&t.push(sv(u,r))}(i,e,t)):e.push(n),e}const Bf=new Set(["true","1"]),Vf=new Set(["false","0"]);function sv(n,t){const e=Bf.has(n)||Vf.has(n),i=Bf.has(t)||Vf.has(t);return(r,l)=>{let u="*"==n||n==r,h="*"==t||t==l;return!u&&e&&"boolean"==typeof r&&(u=r?Bf.has(n):Vf.has(n)),!h&&i&&"boolean"==typeof l&&(h=l?Bf.has(t):Vf.has(t)),u&&h}}const mC=new RegExp("s*:selfs*,?","g");function Qg(n,t,e){return new JS(n).build(t,e)}class JS{constructor(t){this._driver=t}build(t,e){const i=new eA(e);return this._resetContextStyleTimingState(i),Bs(this,Kg(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const l=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const m=h,b=m.name;b.toString().split(/\s*,\s*/).forEach(D=>{m.name=D,l.push(this.visitState(m,e))}),m.name=b}else if(1==h.type){const m=this.visitTransition(h,e);i+=m.queryCount,r+=m.depCount,u.push(m)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:l,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const l=new Set,u=r||{};if(i.styles.forEach(h=>{if(Vs(h)){const m=h;Object.keys(m).forEach(b=>{uC(m[b]).forEach(D=>{u.hasOwnProperty(D)||l.add(D)})})}}),l.size){const h=Lf(l.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${h.join(", ")}`)}}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Bs(this,Kg(t.animation),e);return{type:1,matchers:hC(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Ta(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Bs(this,i,e)),options:Ta(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const l=t.steps.map(u=>{e.currentTime=i;const h=Bs(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:l,options:Ta(t.options)}}visitAnimate(t,e){const i=function tA(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return ju(Yg(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=ju(0,0,"");return l.dynamic=!0,l.strValue=i,l}return e=e||Yg(i,t),ju(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,l=t.styles?t.styles:fi({});if(5==l.type)r=this.visitKeyframes(l,e);else{let u=t.styles,h=!1;if(!u){h=!0;const b={};i.easing&&(b.easing=i.easing),u=fi(b)}e.currentTime+=i.duration+i.delay;const m=this.visitStyle(u,e);m.isEmptyStep=h,r=m}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(u=>{"string"==typeof u?u==El?i.push(u):e.errors.push(`The provided style string value ${u} is not allowed.`):i.push(u)}):i.push(t.styles);let r=!1,l=null;return i.forEach(u=>{if(Vs(u)){const h=u,m=h.easing;if(m&&(l=m,delete h.easing),!r)for(let b in h)if(h[b].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:l,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,l=e.currentTime;i&&l>0&&(l-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(h=>{if(!this._driver.validateStyleProperty(h))return void e.errors.push(`The provided animation property "${h}" is not a supported CSS property for animations`);const m=e.collectedStyles[e.currentQuerySelector],b=m[h];let D=!0;b&&(l!=r&&l>=b.startTime&&r<=b.endTime&&(e.errors.push(`The CSS property "${h}" that exists between the times of "${b.startTime}ms" and "${b.endTime}ms" is also being animated in a parallel animation between the times of "${l}ms" and "${r}ms"`),D=!1),l=b.startTime),D&&(m[h]={startTime:l,endTime:r}),e.options&&function cC(n,t,e){const i=t.params||{},r=uC(n);r.length&&r.forEach(l=>{i.hasOwnProperty(l)||e.push(`Unable to resolve the local animation param ${l} in the given list of values`)})}(u[h],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let l=0;const u=[];let h=!1,m=!1,b=0;const D=t.steps.map(Xe=>{const it=this._makeStyleAst(Xe,e);let et=null!=it.offset?it.offset:function ov(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Vs(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Vs(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(it.styles),je=0;return null!=et&&(l++,je=it.offset=et),m=m||je<0||je>1,h=h||je<b,b=je,u.push(je),it});m&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),h&&e.errors.push("Please ensure that all keyframe offsets are in order");const A=t.steps.length;let P=0;l>0&&l<A?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&(P=1/(A-1));const B=A-1,G=e.currentTime,re=e.currentAnimateTimings,be=re.duration;return D.forEach((Xe,it)=>{const et=P>0?it==B?1:P*it:u[it],je=et*be;e.currentTime=G+re.delay+je,re.duration=je,this._validateStyleAst(Xe,e),Xe.offset=et,i.styles.push(Xe)}),i}visitReference(t,e){return{type:8,animation:Bs(this,Kg(t.animation),e),options:Ta(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ta(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ta(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[l,u]=function XS(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(mC,"")),n=n.replace(/@\*/g,Zg).replace(/@\w+/g,e=>Zg+"-"+e.substr(1)).replace(/:animating/g,tv),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+l:l,cr(e.collectedStyles,e.currentQuerySelector,{});const h=Bs(this,Kg(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:l,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:Ta(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Yg(t.timings,e.errors,!0);return{type:12,animation:Bs(this,Kg(t.animation),e),timings:i,options:null}}}class eA{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Vs(n){return!Array.isArray(n)&&"object"==typeof n}function Ta(n){return n?(n=Vu(n)).params&&(n.params=function Uf(n){return n?Vu(n):null}(n.params)):n={},n}function ju(n,t,e){return{duration:n,delay:t,easing:e}}function av(n,t,e,i,r,l,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:l,totalTime:r+l,easing:u,subTimeline:h}}class Jg{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const em=new RegExp(":enter","g"),rA=new RegExp(":leave","g");function tm(n,t,e,i,r,l={},u={},h,m,b=[]){return(new yC).buildKeyframes(n,t,e,i,r,l,u,h,m,b)}class yC{buildKeyframes(t,e,i,r,l,u,h,m,b,D=[]){b=b||new Jg;const A=new nm(t,e,b,r,l,D,[]);A.options=m,A.currentTimeline.setStyles([u],null,A.errors,m),Bs(this,i,A);const P=A.timelines.filter(B=>B.containsAnimation());if(Object.keys(h).length){let B;for(let G=P.length-1;G>=0;G--){const re=P[G];if(re.element===e){B=re;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([h],null,A.errors,m)}return P.length?P.map(B=>B.buildKeyframes()):[av(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),l=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);l!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let l=e.currentTimeline.currentTime;const u=null!=i.duration?Jd(i.duration):null,h=null!=i.delay?Jd(i.delay):null;return 0!==u&&t.forEach(m=>{const b=e.appendInstructionToTimeline(m,u,h);l=Math.max(l,b.duration+b.delay)}),l}visitReference(t,e){e.updateOptions(t.options,!0),Bs(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const l=t.options;if(l&&(l.params||l.delay)&&(r=e.createSubContext(l),r.transformIntoNewTimeline(),null!=l.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=eh);const u=Jd(l.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Bs(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const l=t.options&&t.options.delay?Jd(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);l&&h.delayNextStep(l),Bs(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Yg(e.params?Ff(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const l=t.style;5==l.type?this.visitKeyframes(l,e):(e.incrementTime(i.duration),this.visitStyle(l,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const l=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(l):i.setStyles(t.styles,l,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,l=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(m=>{h.forwardTime((m.offset||0)*l),h.setStyles(m.styles,m.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+l),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},l=r.delay?Jd(r.delay):0;l&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=eh);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let m=null;h.forEach((b,D)=>{e.currentQueryIndex=D;const A=e.createSubContext(t.options,b);l&&A.delayNextStep(l),b===e.element&&(m=A.currentTimeline),Bs(this,t.animation,A),A.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,A.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),m&&(e.currentTimeline.mergeTimelineCollectedStyles(m),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,l=t.timings,u=Math.abs(l.duration),h=u*(e.currentQueryTotal-1);let m=u*e.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":m=h-m;break;case"full":m=i.currentStaggerTime}const D=e.currentTimeline;m&&D.delayNextStep(m);const A=D.currentTime;Bs(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-A+(r.startTime-i.currentTimeline.startTime)}}const eh={};class nm{constructor(t,e,i,r,l,u,h,m){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=l,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=eh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new im(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Jd(i.duration)),null!=i.delay&&(r.delay=Jd(i.delay));const l=i.params;if(l){let u=r.params;u||(u=this.options.params={}),Object.keys(l).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=Ff(l[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,l=new nm(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(t),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(t){return this.previousNode=eh,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},l=new sA(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(l),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,l,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(em,"."+this._enterClassName)).replace(rA,"."+this._leaveClassName);let b=this._driver.query(this.element,t,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),h.push(...b)}return!l&&0==h.length&&u.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),h}}class im{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new im(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||El,this._currentKeyframe[e]=El}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const l=r&&r.params||{},u=function lv(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(l=>{e[l]=El})):Hu(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(u).forEach(h=>{const m=Ff(u[h],l,i);this._pendingStyles[h]=m,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:El),this._updateStyle(h,m)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,m)=>{const b=Hu(h,!0);Object.keys(b).forEach(D=>{const A=b[D];"!"==A?t.add(D):A==El&&e.add(D)}),i||(b.offset=m/this.duration),r.push(b)});const l=t.size?Lf(t.values()):[],u=e.size?Lf(e.values()):[];if(i){const h=r[0],m=Vu(h);h.offset=0,m.offset=1,r=[h,m]}return av(this.element,r,l,u,this.duration,this.startTime,this.easing,!1)}}class sA extends im{constructor(t,e,i,r,l,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=l,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const l=[],u=i+e,h=e/u,m=Hu(t[0],!1);m.offset=0,l.push(m);const b=Hu(t[0],!1);b.offset=oA(h),l.push(b);const D=t.length-1;for(let A=1;A<=D;A++){let P=Hu(t[A],!1);P.offset=oA((e+P.offset*i)/u),l.push(P)}i=u,e=0,r="",t=l}return av(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function oA(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class rm{}class cv extends rm{normalizePropertyName(t,e){return rv(t)}normalizeStyleValue(t,e,i,r){let l="";const u=i.toString().trim();if(aA[e]&&0!==i&&"0"!==i)if("number"==typeof i)l="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(`Please provide a CSS unit value for ${t}:${i}`)}return u+l}}const aA=(()=>function lA(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function wC(n,t,e,i,r,l,u,h,m,b,D,A,P){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:l,toState:i,toStyles:u,timelines:h,queriedElements:m,preStyleProps:b,postStyleProps:D,totalTime:A,errors:P}}const uv={};class dv{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function hv(n,t,e,i,r){return n.some(l=>l(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],l=this._stateStyles[t],u=r?r.buildStyles(e,i):{};return l?l.buildStyles(e,i):u}build(t,e,i,r,l,u,h,m,b,D){const A=[],P=this.ast.options&&this.ast.options.params||uv,G=this.buildStyles(i,h&&h.params||uv,A),re=m&&m.params||uv,be=this.buildStyles(r,re,A),Xe=new Set,it=new Map,et=new Map,je="void"===r,Qt={params:Object.assign(Object.assign({},P),re)},Ln=D?[]:tm(t,e,this.ast.animation,l,u,G,be,Qt,b,A);let _i=0;if(Ln.forEach(ea=>{_i=Math.max(ea.duration+ea.delay,_i)}),A.length)return wC(e,this._triggerName,i,r,je,G,be,[],[],it,et,_i,A);Ln.forEach(ea=>{const od=ea.element,wU=cr(it,od,{});ea.preStyleProps.forEach(Tp=>wU[Tp]=!0);const Zb=cr(et,od,{});ea.postStyleProps.forEach(Tp=>Zb[Tp]=!0),od!==e&&Xe.add(od)});const Xs=Lf(Xe.values());return wC(e,this._triggerName,i,r,je,G,be,Ln,Xs,it,et,_i)}}class CC{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=Vu(this.defaultParams);return Object.keys(t).forEach(l=>{const u=t[l];null!=u&&(r[l]=u)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const u=l;Object.keys(u).forEach(h=>{let m=u[h];m.length>1&&(m=Ff(m,r,e));const b=this.normalizer.normalizePropertyName(h,e);m=this.normalizer.normalizeStyleValue(h,b,m,e),i[b]=m})}}),i}}class DC{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new CC(r.style,r.options&&r.options.params||{},i)}),IC(this.states,"true","1"),IC(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new dv(t,r,this.states))}),this.fallbackTransition=function TC(n,t,e){return new dv(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function IC(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const SC=new Jg;class AC{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],r=Qg(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,i){const r=t.element,l=eC(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,l,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],l=this._animations[t];let u;const h=new Map;if(l?(u=tm(this._driver,e,l,qg,Gg,{},{},i,SC,r),u.forEach(D=>{const A=cr(h,D.element,{});D.postStyleProps.forEach(P=>A[P]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),u=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);h.forEach((D,A)=>{Object.keys(D).forEach(P=>{D[P]=this._driver.computeStyle(A,P,El)})});const b=Dl(u.map(D=>{const A=h.get(D.element);return this._buildPlayer(D,{},A)}));return this._playersById[t]=b,b.onDestroy(()=>this.destroy(t)),this.players.push(b),b}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,r){const l=Xy(e,"","","");return jg(this._getPlayer(t),i,l,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const l=this._getPlayer(t);switch(i){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const MC="ng-animate-queued",fv="ng-animate-disabled",uA=[],dA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Hf={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},mo="__ng_removed";class jf{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function RC(n){return null!=n?n:null}(i?t.value:t),i){const l=Vu(t);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const zf="void",sm=new jf(zf);class hA{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Us(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function pv(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const l=cr(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};l.push(u);const h=cr(this._engine.statesByElement,t,{});return h.hasOwnProperty(e)||(Us(t,$g),Us(t,$g+"-"+e),h[e]=sm),()=>{this._engine.afterFlush(()=>{const m=l.indexOf(u);m>=0&&l.splice(m,1),this._triggers[e]||delete h[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,r=!0){const l=this._getTrigger(e),u=new qf(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(Us(t,$g),Us(t,$g+"-"+e),this._engine.statesByElement.set(t,h={}));let m=h[e];const b=new jf(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&m&&b.absorbOptions(m.options),h[e]=b,m||(m=sm),b.value!==zf&&m.value===b.value){if(!function mv(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const l=e[r];if(!t.hasOwnProperty(l)||n[l]!==t[l])return!1}return!0}(m.params,b.params)){const re=[],be=l.matchStyles(m.value,m.params,re),Xe=l.matchStyles(b.value,b.params,re);re.length?this._engine.reportError(re):this._engine.afterFlush(()=>{xc(t,be),Tl(t,Xe)})}return}const P=cr(this._engine.playersByElement,t,[]);P.forEach(re=>{re.namespaceId==this.id&&re.triggerName==e&&re.queued&&re.destroy()});let B=l.matchTransition(m.value,b.value,t,b.params),G=!1;if(!B){if(!r)return;B=l.fallbackTransition,G=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:B,fromState:m,toState:b,player:u,isFallbackTransition:G}),G||(Us(t,MC),u.onStart(()=>{Il(t,MC)})),u.onDone(()=>{let re=this.players.indexOf(u);re>=0&&this.players.splice(re,1);const be=this._engine.playersByElement.get(t);if(be){let Xe=be.indexOf(u);Xe>=0&&be.splice(Xe,1)}}),this.players.push(u),P.push(u),u}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Zg,!0);i.forEach(r=>{if(r[mo])return;const l=this._engine.fetchNamespacesByElement(r);l.size?l.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const l=this._engine.statesByElement.get(t),u=new Map;if(l){const h=[];if(Object.keys(l).forEach(m=>{if(u.set(m,l[m].value),this._triggers[m]){const b=this.trigger(t,m,zf,r);b&&h.push(b)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&Dl(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(l=>{const u=l.name;if(r.has(u))return;r.add(u);const m=this._triggers[u].fallbackTransition,b=i[u]||sm,D=new jf(zf),A=new qf(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:m,fromState:b,toState:D,player:A,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const l=i.players.length?i.playersByQueriedElement.get(t):[];if(l&&l.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const l=t[mo];(!l||l===dA)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Us(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const l=i.element,u=this._elementListeners.get(l);u&&u.forEach(h=>{if(h.name==i.triggerName){const m=Xy(l,i.triggerName,i.fromState.value,i.toState.value);m._data=t,jg(i.player,h.phase,m,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const l=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==l||0==u?l-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class fA{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,l)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new hA(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let l=i;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,e)){this._namespaceList.splice(l+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let l=0;l<r.length;l++){const u=i[r[l]].namespaceId;if(u){const h=this._fetchNamespace(u);h&&e.add(h)}}}return e}trigger(t,e,i,r){if(zu(e)){const l=this._fetchNamespace(t);if(l)return l.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!zu(e))return;const l=e[mo];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Us(t,fv)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Il(t,fv))}removeNode(t,e,i,r){if(zu(e)){const l=t?this._fetchNamespace(t):null;if(l?l.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,l){this.collectedLeaveElements.push(e),e[mo]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:l}}listen(t,e,i,r,l){return zu(e)?this._fetchNamespace(t).listen(e,i,r,l):()=>{}}_buildInstruction(t,e,i,r,l){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,l)}destroyInnerAnimations(t){let e=this.driver.query(t,Zg,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,tv,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Dl(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[mo];if(i&&i.setForRemoval){if(t[mo]=dA,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(fv))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Us(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Dl(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new Jg,r=[],l=new Map,u=[],h=new Map,m=new Map,b=new Map,D=new Set;this.disabledNodes.forEach(pt=>{D.add(pt);const Tt=this.driver.query(pt,".ng-animate-queued",!0);for(let St=0;St<Tt.length;St++)D.add(Tt[St])});const A=this.bodyNode,P=Array.from(this.statesByElement.keys()),B=OC(P,this.collectedEnterElements),G=new Map;let re=0;B.forEach((pt,Tt)=>{const St=qg+re++;G.set(Tt,St),pt.forEach(bn=>Us(bn,St))});const be=[],Xe=new Set,it=new Set;for(let pt=0;pt<this.collectedLeaveElements.length;pt++){const Tt=this.collectedLeaveElements[pt],St=Tt[mo];St&&St.setForRemoval&&(be.push(Tt),Xe.add(Tt),St.hasAnimation?this.driver.query(Tt,".ng-star-inserted",!0).forEach(bn=>Xe.add(bn)):it.add(Tt))}const et=new Map,je=OC(P,Array.from(Xe));je.forEach((pt,Tt)=>{const St=Gg+re++;et.set(Tt,St),pt.forEach(bn=>Us(bn,St))}),t.push(()=>{B.forEach((pt,Tt)=>{const St=G.get(Tt);pt.forEach(bn=>Il(bn,St))}),je.forEach((pt,Tt)=>{const St=et.get(Tt);pt.forEach(bn=>Il(bn,St))}),be.forEach(pt=>{this.processLeaveNode(pt)})});const Qt=[],Ln=[];for(let pt=this._namespaceList.length-1;pt>=0;pt--)this._namespaceList[pt].drainQueuedTransitions(e).forEach(St=>{const bn=St.player,Sr=St.element;if(Qt.push(bn),this.collectedEnterElements.length){const eo=Sr[mo];if(eo&&eo.setForMove){if(eo.previousTriggersValues&&eo.previousTriggersValues.has(St.triggerName)){const Ip=eo.previousTriggersValues.get(St.triggerName),Ih=this.statesByElement.get(St.element);Ih&&Ih[St.triggerName]&&(Ih[St.triggerName].value=Ip)}return void bn.destroy()}}const Hc=!A||!this.driver.containsElement(A,Sr),ta=et.get(Sr),Th=G.get(Sr),Di=this._buildInstruction(St,i,Th,ta,Hc);if(Di.errors&&Di.errors.length)return void Ln.push(Di);if(Hc)return bn.onStart(()=>xc(Sr,Di.fromStyles)),bn.onDestroy(()=>Tl(Sr,Di.toStyles)),void r.push(bn);if(St.isFallbackTransition)return bn.onStart(()=>xc(Sr,Di.fromStyles)),bn.onDestroy(()=>Tl(Sr,Di.toStyles)),void r.push(bn);const DU=[];Di.timelines.forEach(eo=>{eo.stretchStartingKeyframe=!0,this.disabledNodes.has(eo.element)||DU.push(eo)}),Di.timelines=DU,i.append(Sr,Di.timelines),u.push({instruction:Di,player:bn,element:Sr}),Di.queriedElements.forEach(eo=>cr(h,eo,[]).push(bn)),Di.preStyleProps.forEach((eo,Ip)=>{const Ih=Object.keys(eo);if(Ih.length){let Sp=m.get(Ip);Sp||m.set(Ip,Sp=new Set),Ih.forEach(QR=>Sp.add(QR))}}),Di.postStyleProps.forEach((eo,Ip)=>{const Ih=Object.keys(eo);let Sp=b.get(Ip);Sp||b.set(Ip,Sp=new Set),Ih.forEach(QR=>Sp.add(QR))})});if(Ln.length){const pt=[];Ln.forEach(Tt=>{pt.push(`@${Tt.triggerName} has failed due to:\n`),Tt.errors.forEach(St=>pt.push(`- ${St}\n`))}),Qt.forEach(Tt=>Tt.destroy()),this.reportError(pt)}const _i=new Map,Xs=new Map;u.forEach(pt=>{const Tt=pt.element;i.has(Tt)&&(Xs.set(Tt,Tt),this._beforeAnimationBuild(pt.player.namespaceId,pt.instruction,_i))}),r.forEach(pt=>{const Tt=pt.element;this._getPreviousPlayers(Tt,!1,pt.namespaceId,pt.triggerName,null).forEach(bn=>{cr(_i,Tt,[]).push(bn),bn.destroy()})});const ea=be.filter(pt=>mA(pt,m,b)),od=new Map;gv(od,this.driver,it,b,El).forEach(pt=>{mA(pt,m,b)&&ea.push(pt)});const Zb=new Map;B.forEach((pt,Tt)=>{gv(Zb,this.driver,new Set(pt),m,"!")}),ea.forEach(pt=>{const Tt=od.get(pt),St=Zb.get(pt);od.set(pt,Object.assign(Object.assign({},Tt),St))});const Tp=[],CU=[],EU={};u.forEach(pt=>{const{element:Tt,player:St,instruction:bn}=pt;if(i.has(Tt)){if(D.has(Tt))return St.onDestroy(()=>Tl(Tt,bn.toStyles)),St.disabled=!0,St.overrideTotalTime(bn.totalTime),void r.push(St);let Sr=EU;if(Xs.size>1){let ta=Tt;const Th=[];for(;ta=ta.parentNode;){const Di=Xs.get(ta);if(Di){Sr=Di;break}Th.push(ta)}Th.forEach(Di=>Xs.set(Di,Sr))}const Hc=this._buildAnimation(St.namespaceId,bn,_i,l,Zb,od);if(St.setRealPlayer(Hc),Sr===EU)Tp.push(St);else{const ta=this.playersByElement.get(Sr);ta&&ta.length&&(St.parentPlayer=Dl(ta)),r.push(St)}}else xc(Tt,bn.fromStyles),St.onDestroy(()=>Tl(Tt,bn.toStyles)),CU.push(St),D.has(Tt)&&r.push(St)}),CU.forEach(pt=>{const Tt=l.get(pt.element);if(Tt&&Tt.length){const St=Dl(Tt);pt.setRealPlayer(St)}}),r.forEach(pt=>{pt.parentPlayer?pt.syncPlayerEvents(pt.parentPlayer):pt.destroy()});for(let pt=0;pt<be.length;pt++){const Tt=be[pt],St=Tt[mo];if(Il(Tt,Gg),St&&St.hasAnimation)continue;let bn=[];if(h.size){let Hc=h.get(Tt);Hc&&Hc.length&&bn.push(...Hc);let ta=this.driver.query(Tt,tv,!0);for(let Th=0;Th<ta.length;Th++){let Di=h.get(ta[Th]);Di&&Di.length&&bn.push(...Di)}}const Sr=bn.filter(Hc=>!Hc.destroyed);Sr.length?PC(this,Tt,Sr):this.processLeaveNode(Tt)}return be.length=0,Tp.forEach(pt=>{this.players.push(pt),pt.onDone(()=>{pt.destroy();const Tt=this.players.indexOf(pt);this.players.splice(Tt,1)}),pt.play()}),Tp}elementContainsData(t,e){let i=!1;const r=e[mo];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,l){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const m=!l||l==zf;h.forEach(b=>{b.queued||!m&&b.triggerName!=r||u.push(b)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const l=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const m of e.timelines){const b=m.element,D=b!==l,A=cr(i,b,[]);this._getPreviousPlayers(b,D,u,h,e.toState).forEach(B=>{const G=B.getRealPlayer();G.beforeDestroy&&G.beforeDestroy(),B.destroy(),A.push(B)})}xc(l,e.fromStyles)}_buildAnimation(t,e,i,r,l,u){const h=e.triggerName,m=e.element,b=[],D=new Set,A=new Set,P=e.timelines.map(G=>{const re=G.element;D.add(re);const be=re[mo];if(be&&be.removedBeforeQueried)return new Of(G.duration,G.delay);const Xe=re!==m,it=function gA(n){const t=[];return om(n,t),t}((i.get(re)||uA).map(_i=>_i.getRealPlayer())).filter(_i=>!!_i.element&&_i.element===re),et=l.get(re),je=u.get(re),Qt=eC(0,this._normalizer,0,G.keyframes,et,je),Ln=this._buildPlayer(G,Qt,it);if(G.subTimeline&&r&&A.add(re),Xe){const _i=new qf(t,h,re);_i.setRealPlayer(Ln),b.push(_i)}return Ln});b.forEach(G=>{cr(this.playersByQueriedElement,G.element,[]).push(G),G.onDone(()=>function kC(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,G.element,G))}),D.forEach(G=>Us(G,Wg));const B=Dl(P);return B.onDestroy(()=>{D.forEach(G=>Il(G,Wg)),Tl(m,e.toStyles)}),A.forEach(G=>{cr(r,G,[]).push(B)}),B}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Of(t.duration,t.delay)}}class qf{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Of,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>jg(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){cr(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function zu(n){return n&&1===n.nodeType}function pA(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function gv(n,t,e,i,r){const l=[];e.forEach(m=>l.push(pA(m)));const u=[];i.forEach((m,b)=>{const D={};m.forEach(A=>{const P=D[A]=t.computeStyle(b,A,r);(!P||0==P.length)&&(b[mo]=Hf,u.push(b))}),n.set(b,D)});let h=0;return e.forEach(m=>pA(m,l[h++])),u}function OC(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),l=new Map;function u(h){if(!h)return 1;let m=l.get(h);if(m)return m;const b=h.parentNode;return m=e.has(b)?b:r.has(b)?1:u(b),l.set(h,m),m}return t.forEach(h=>{const m=u(h);1!==m&&e.get(m).push(h)}),e}function Us(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Il(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function PC(n,t,e){Dl(e).onDone(()=>n.processLeaveNode(t))}function om(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Hg?om(i.players,t):t.push(i)}}function mA(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(l=>r.add(l)):t.set(n,i),e.delete(n),!0}class am{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,l)=>{},this._transitionEngine=new fA(t,e,i),this._timelineEngine=new AC(t,e,i),this._transitionEngine.onRemovalComplete=(r,l)=>this.onRemovalComplete(r,l)}registerTrigger(t,e,i,r,l){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const m=[],b=Qg(this._driver,l,m);if(m.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${m.join("\n - ")}`);h=function EC(n,t,e){return new DC(n,t,e)}(r,b,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[l,u]=nC(i);this._timelineEngine.command(l,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,l){if("@"==i.charAt(0)){const[u,h]=nC(i);return this._timelineEngine.listen(u,e,h,l)}return this._transitionEngine.listen(t,e,i,r,l)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let NC=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let l=n.initialStylesByElement.get(e);l||n.initialStylesByElement.set(e,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Tl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Tl(this._element,this._initialStyles),this._endStyles&&(Tl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(xc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xc(this._element,this._endStyles),this._endStyles=null),Tl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function lm(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];yA(r)&&(t=t||{},t[r]=n[r])}return t}function yA(n){return"display"===n||"position"===n}class _v{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:dC(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class FC{validateStyleProperty(t){return rC(t)}matchesElement(t,e){return!1}containsElement(t,e){return sC(t,e)}query(t,e,i){return ev(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,l,u=[]){const m={duration:i,delay:r,fill:0==r?"both":"forwards"};l&&(m.easing=l);const b={},D=u.filter(P=>P instanceof _v);(function KS(n,t){return 0===n||0===t})(i,r)&&D.forEach(P=>{let B=P.currentSnapshot;Object.keys(B).forEach(G=>b[G]=B[G])}),e=function QS(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let l=t[0],u=[];if(i.forEach(h=>{l.hasOwnProperty(h)||u.push(h),l[h]=e[h]}),u.length)for(var r=1;r<t.length;r++){let h=t[r];u.forEach(function(m){h[m]=dC(n,m)})}}return t}(t,e=e.map(P=>Hu(P,!1)),b);const A=function _A(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=lm(t[0]),t.length>1&&(i=lm(t[t.length-1]))):t&&(e=lm(t)),e||i?new NC(n,e,i):null}(t,e);return new _v(t,e,m,A)}}let vA=(()=>{class n extends Ww{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Yw(e):e;return BC(this._renderer,null,i,"register",[r]),new bA(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(X))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class bA extends class GS{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new LC(this._id,t,e||{},this._renderer)}}class LC{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return BC(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function BC(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const yv="@.disabled";let VC=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(l,u)=>{const h=null==u?void 0:u.parentNode(l);h&&u.removeChild(h,l)}}createRenderer(e,i){const l=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let D=this._rendererCache.get(l);return D||(D=new vv("",l,this.engine),this._rendererCache.set(l,D)),D}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const m=D=>{Array.isArray(D)?D.forEach(m):this.engine.registerTrigger(u,h,e,D.name,D)};return i.data.animation.forEach(m),new wA(this,h,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[u,h]=l;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(am),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class vv{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==yv?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class wA extends vv{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==yv?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function CA(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let l=e.substr(1),u="";return"@"!=l.charAt(0)&&([l,u]=function RP(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(l)),this.engine.listen(this.namespaceId,r,l,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let UC=(()=>{class n extends am{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(X),s.LFG(Qd),s.LFG(rm))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Yo=new s.OlP("AnimationModuleType"),EA=[{provide:Ww,useClass:vA},{provide:rm,useFactory:function OP(){return new cv}},{provide:am,useClass:UC},{provide:s.FYo,useFactory:function PP(n,t,e){return new VC(n,t,e)},deps:[kn,am,s.R0b]}],DA=[{provide:Qd,useFactory:()=>new FC},{provide:Yo,useValue:"BrowserAnimations"},...EA],NP=[{provide:Qd,useClass:zg},{provide:Yo,useValue:"NoopAnimations"},...EA];let FP=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?NP:DA}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:DA,imports:[aa]}),n})();function wv(n,t){if(1&n&&s._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=s.oxw();s.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function nh(n,t){if(1&n&&(s.TgZ(0,"span",5),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.hij("(",e.group.label,")")}}const HC=["*"],GC=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function qC(){return!0}});let dn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Tc()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(qS),s.LFG(GC,8),s.LFG(X))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gd],Gd]}),n})();function cm(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=It(t)}}}function $f(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Zf(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=It(t)}}}function $C(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?di(e):this.defaultTabIndex}}}function Ev(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new $e.x,this.errorState=!1}updateErrorState(){const t=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==t&&(this.errorState=l,this.stateChanges.next())}}}let ih=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class AA{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const QC={enterDuration:225,exitDuration:150},Hs=$o({passive:!0}),JC=["mousedown","touchstart"],MA=["mouseup","mouseleave","touchend","touchcancel"];class XC{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=ri(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=Object.assign(Object.assign({},QC),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function xA(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,m=e-r.top,b=l.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=h-u+"px",D.style.top=m-u+"px",D.style.height=2*u+"px",D.style.width=2*u+"px",null!=i.color&&(D.style.backgroundColor=i.color),D.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(D),function eE(n){window.getComputedStyle(n).getPropertyValue("opacity")}(D),D.style.transform="scale(1)";const A=new AA(this,D,i);return A.state=0,this._activeRipples.add(A),i.persistent||(this._mostRecentTransientRipple=A),this._runTimeoutOutsideZone(()=>{const P=A===this._mostRecentTransientRipple;A.state=1,!i.persistent&&(!P||!this._isPointerDown)&&A.fadeOut()},b),A}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},QC),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=ri(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(JC))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(MA),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Lg(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!kf(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Hs)})})}_removeTriggerEvents(){this._triggerElement&&(JC.forEach(t=>{this._triggerElement.removeEventListener(t,this,Hs)}),this._pointerUpEventsRegistered&&MA.forEach(t=>{this._triggerElement.removeEventListener(t,this,Hs)}))}}const tE=new s.OlP("mat-ripple-global-options");let qu=(()=>{class n{constructor(e,i,r,l,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new XC(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(ji),s.Y36(tE,8),s.Y36(Yo,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Wf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[dn],dn]}),n})(),$P=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yo,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&s.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),nE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[dn]]}),n})();const Tv=new s.OlP("MAT_OPTION_PARENT_COMPONENT"),sh=new s.OlP("MatOptgroup");let rE=0;class RA{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let sE=(()=>{class n{constructor(e,i,r,l){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=l,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+rE++,this.onSelectionChange=new s.vpe,this._stateChanges=new $e.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=It(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Zo(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new RA(this,e))}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),Iv=(()=>{class n extends sE{constructor(e,i,r,l){super(e,i,r,l)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Tv,8),s.Y36(sh,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(l){return i._handleKeydown(l)}),2&e&&(s.Ikx("id",i.id),s.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),s.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[s.qOj],ngContentSelectors:HC,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,wv,1,2,"mat-pseudo-checkbox",0),s.TgZ(1,"span",1),s.Hsn(2),s.qZA(),s.YNc(3,nh,2,1,"span",2),s._UZ(4,"div",3)),2&e&&(s.Q6J("ngIf",i.multiple),s.xp6(3),s.Q6J("ngIf",i.group&&i.group._inert),s.xp6(1),s.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[$P,Yt,qu],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function oE(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),l=0;for(let u=0;u<n+1;u++)i[u].group&&i[u].group===r[l]&&l++;return l}return 0}let PA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Wf,kr,dn,nE]]}),n})();function YP(n,t){}class um{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const NA={dialogContainer:Sc("dialogContainer",[Fs("void, exit",fi({opacity:0,transform:"scale(0.7)"})),Fs("enter",fi({transform:"none"})),Ls("* => enter",Ky([Ns("150ms cubic-bezier(0, 0, 0.2, 1)",fi({transform:"none",opacity:1})),Ug("@*",Rf(),{optional:!0})])),Ls("* => void, * => exit",Ky([Ns("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",fi({opacity:0})),Ug("@*",Rf(),{optional:!0})]))])};let FA=(()=>{class n extends Ig{constructor(e,i,r,l,u,h,m,b){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=u,this._interactivityChecker=h,this._ngZone=m,this._focusMonitor=b,this._animationStateChanged=new s.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=D=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(D)),this._ariaLabelledBy=u.ariaLabelledBy||null,this._document=l}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Dc())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=Dc(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Dc();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(zw),s.Y36(s.sBO),s.Y36(X,8),s.Y36(um),s.Y36($y),s.Y36(s.R0b),s.Y36(Cl))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(wf,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},features:[s.qOj]}),n})(),QP=(()=>{class n extends FA{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&s.WFA("@dialogContainer.start",function(l){return i._onAnimationStart(l)})("@dialogContainer.done",function(l){return i._onAnimationDone(l)}),2&e&&(s.Ikx("id",i._id),s.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),s.d8E("@dialogContainer",i._state))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,YP,0,0,"ng-template",0)},directives:[wf],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[NA.dialogContainer]}}),n})(),JP=0;class Yf{constructor(t,e,i="mat-dialog-"+JP++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new $e.x,this._afterClosed=new $e.x,this._beforeClosed=new $e.x,this._state=0,e._id=i,e._animationStateChanged.pipe(Lt(r=>"opened"===r.state),un(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Lt(r=>"closed"===r.state),un(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Lt(r=>27===r.keyCode&&!this.disableClose&&!Zo(r))).subscribe(r=>{r.preventDefault(),aE(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():aE(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Lt(e=>"closing"===e.state),un(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function aE(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const dm=new s.OlP("MatDialogData"),LA=new s.OlP("mat-dialog-default-options"),Kf=new s.OlP("mat-dialog-scroll-strategy"),lE={provide:Kf,deps:[Wo],useFactory:function BA(n){return()=>n.scrollStrategies.block()}};let Gu=(()=>{class n{constructor(e,i,r,l,u,h,m,b,D,A){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=l,this._overlayContainer=u,this._dialogRefConstructor=m,this._dialogContainerType=b,this._dialogDataToken=D,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new $e.x,this._afterOpenedAtThisLevel=new $e.x,this._ariaHiddenElements=new Map,this.afterAllClosed=il(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Pn(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function Sv(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new um),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),l=this._attachDialogContainer(r,i),u=this._attachDialogContent(e,l,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.afterClosed().subscribe(()=>this._removeOpenDialog(u)),this.afterOpened.next(u),l._initializeWithAttachedContent(),u}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new Lu({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const l=s.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:um,useValue:i}]}),u=new Tg(this._dialogContainerType,i.viewContainerRef,l,i.componentFactoryResolver);return e.attach(u).instance}_attachDialogContent(e,i,r,l){const u=new this._dialogRefConstructor(r,i,l.id);if(e instanceof s.Rgc)i.attachTemplatePortal(new bf(e,null,{$implicit:l.data,dialogRef:u}));else{const h=this._createInjector(l,u,i),m=i.attachComponentPortal(new Tg(e,l.viewContainerRef,h,l.componentFactoryResolver));u.componentInstance=m.instance}return u.updateSize(l.width,l.height).updatePosition(l.position),u}_createInjector(e,i,r){const l=e&&e.viewContainerRef&&e.viewContainerRef.injector,u=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!l||!l.get(Ps,null,s.XFs.Optional))&&u.push({provide:Ps,useValue:{value:e.direction,change:We()}}),s.zs3.create({parent:l||this._injector,providers:u})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,l)=>{r?l.setAttribute("aria-hidden",r):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let l=i[r];l!==e&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n}),n})(),$u=(()=>{class n extends Gu{constructor(e,i,r,l,u,h,m,b){super(e,i,l,h,m,u,Yf,QP,dm,b)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Wo),s.LFG(s.zs3),s.LFG(Ce,8),s.LFG(LA,8),s.LFG(Kf),s.LFG(n,12),s.LFG(Sw),s.LFG(Yo,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Av=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function fE(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){aE(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yf,8),s.Y36(s.SBq),s.Y36($u))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(l){return i._onButtonClick(l)}),2&e&&s.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[s.TTD]}),n})(),hE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})(),e1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[$u,lE],imports:[[Og,Ty,dn],dn]}),n})();var On=O(5813);O(5867);var Ia=O(3578),Rt=O(2090),js=O(9681),Rc=O(1877),Jf=O(4859);const h1=(0,On.u3)(Ia.a4,!0),c=(0,On.u3)(Ia.n,!0),kv=(0,On.u3)(Ia.a5,!0),QU=(0,On.u3)(Ia.x,!0);var DE=O(5363),JU=O(6063);class XU extends $e.x{constructor(t=1/0,e=1/0,i=JU.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:l,_windowTime:u}=this;e||(i.push(t),!r&&i.push(l.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,l=r.slice();for(let u=0;u<l.length&&!t.closed;u+=i?1:2)t.next(l[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,l=(r?1:2)*t;if(t<1/0&&l<i.length&&i.splice(0,i.length-l),!r){const u=e.now();let h=0;for(let m=1;m<i.length&&i[m]<=u;m+=2)h=m;h&&i.splice(0,h+1)}}}var f1=O(3099);function p1(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=null!=n?n:1/0,(0,f1.B)({connector:()=>new XU(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function g1(n,t){return(0,Lr.m)(t)?Sn(()=>n,t):Sn(()=>n)}var KA=O(9468),Sl=O(2011),ye=O(5861);const m1=new Map,eH={activated:!1,tokenObservers:[]},tH={initialized:!1,enabled:!1};function wr(n){return m1.get(n)||eH}function Al(n,t){m1.set(n,t)}function TE(){return tH}class oH{constructor(t,e,i,r,l){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=r,r>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ye.Z)(function*(){e.stop();try{e.pending=new Rt.BH,yield function aH(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Rt.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const zs=new Rt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function y1(n){if(!wr(n).activated)throw zs.create("use-before-activation",{appName:n.name})}function XA(n,t){return eM.apply(this,arguments)}function eM(){return(eM=(0,ye.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});r&&(i["X-Firebase-Client"]=r.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(t),headers:i};let u,h;try{u=yield fetch(n,l)}catch(A){throw zs.create("fetch-network-error",{originalErrorMessage:A.message})}if(200!==u.status)throw zs.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(A){throw zs.create("fetch-parse-error",{originalErrorMessage:A.message})}const m=h.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw zs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const b=1e3*Number(m[1]),D=Date.now();return{token:h.attestationToken,expireTimeMillis:D+b,issuedAtTimeMillis:D}})).apply(this,arguments)}function hH(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Rv="firebase-app-check-store";let AE=null;function b1(){return AE||(AE=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(zs.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Rv,{keyPath:"compositeKey"})}}catch(e){t(zs.create("storage-open",{originalErrorMessage:e.message}))}}),AE)}function tM(){return(tM=(0,ye.Z)(function*(n,t){const i=(yield b1()).transaction(Rv,"readwrite"),l=i.objectStore(Rv).put({compositeKey:n,value:t});return new Promise((u,h)=>{l.onsuccess=m=>{u()},i.onerror=m=>{var b;h(zs.create("storage-set",{originalErrorMessage:null===(b=m.target.error)||void 0===b?void 0:b.message}))}})})).apply(this,arguments)}const Ov=new Rc.Yd("@firebase/app-check");function D1(n,t){return(0,Rt.hl)()?function mH(n,t){return function w1(n,t){return tM.apply(this,arguments)}(function E1(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Ov.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function T1(){return TE().enabled}function I1(){return sM.apply(this,arguments)}function sM(){return(sM=(0,ye.Z)(function*(){const n=TE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const CH={error:"UNKNOWN_ERROR"};function EH(n){return Rt.US.encodeString(JSON.stringify(n),!1)}function ME(n){return oM.apply(this,arguments)}function oM(){return(oM=(0,ye.Z)(function*(n,t=!1){const e=n.app;y1(e);const i=wr(e);let l,r=i.token;if(!r){const m=yield i.cachedTokenPromise;m&&xE(m)&&(r=m)}if(!t&&r&&xE(r))return{token:r.token};let h,u=!1;if(T1()){i.exchangeTokenPromise||(i.exchangeTokenPromise=XA(hH(e,yield I1()),n.platformLoggerProvider).then(b=>(i.exchangeTokenPromise=void 0,b)),u=!0);const m=yield i.exchangeTokenPromise;return yield D1(e,m),Al(e,Object.assign(Object.assign({},i),{token:m})),{token:m.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(m=>(i.exchangeTokenPromise=void 0,m)),u=!0),r=yield i.exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?Ov.warn(m.message):Ov.error(m),l=m}return r?(h={token:r.token},Al(e,Object.assign(Object.assign({},i),{token:r})),yield D1(e,r)):h=TH(l),u&&A1(e,h),h})).apply(this,arguments)}function lM(n,t){const e=wr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Al(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function S1(n){const{app:t}=n,e=wr(t);let i=e.tokenRefresher;i||(i=function DH(n){const{app:t}=n;return new oH((0,ye.Z)(function*(){let i;if(i=wr(t).token?yield ME(n,!0):yield ME(n),i.error)throw i.error}),()=>!0,()=>{const e=wr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Al(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function A1(n,t){const e=wr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function xE(n){return n.expireTimeMillis-Date.now()>0}function TH(n){return{token:EH(CH),error:n}}class IH{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=wr(this.app);for(const e of t)lM(this.app,e.next);return Promise.resolve()}}const F1="app-check-internal";!function UH(){(0,js._registerComponent)(new Jf.wA("app-check",n=>function SH(n,t){return new IH(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(F1).initialize()})),(0,js._registerComponent)(new Jf.wA(F1,n=>function AH(n){return{getToken:t=>ME(n,t),addTokenListener:t=>function aM(n,t,e,i){const{app:r}=n,l=wr(r),u={next:e,error:i,type:t};if(Al(r,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,u]})),l.token&&xE(l.token)){const h=l.token;Promise.resolve().then(()=>{e({token:h.token}),S1(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>S1(n))}(n,"INTERNAL",t),removeTokenListener:t=>lM(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,js.registerVersion)("@firebase/app-check","0.5.3")}();class hM{constructor(){return(0,On.vb)("app-check")}}"undefined"!=typeof window&&window;var GH=O(127);const B1=new s.OlP("angularfire2.auth.use-emulator"),V1=new s.OlP("angularfire2.auth.settings"),U1=new s.OlP("angularfire2.auth.tenant-id"),H1=new s.OlP("angularfire2.auth.langugage-code"),j1=new s.OlP("angularfire2.auth.use-device-language"),z1=new s.OlP("angularfire.auth.persistence"),q1=(n,t,e,i,r,l,u,h)=>(0,Sl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=t.runOutsideAngular(()=>n.auth());if(e&&m.useEmulator(...e),i&&(m.tenantId=i),m.languageCode=r,l&&m.useDeviceLanguage(),u)for(const[b,D]of Object.entries(u))m.settings[b]=D;return h&&m.setPersistence(h),m},[e,i,r,l,u,h]);let pM=(()=>{class n{constructor(e,i,r,l,u,h,m,b,D,A,P,B){const G=new $e.x,re=We(void 0).pipe((0,DE.Q)(u.outsideAngular),Sn(()=>l.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,5881)))),(0,ut.U)(()=>(0,Sl.on)(e,l,i)),(0,ut.U)(be=>q1(be,l,h,b,D,A,m,P)),p1({bufferSize:1,refCount:!1}));if(za(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=We(null);else{re.pipe(ma()).subscribe();const Xe=re.pipe(Sn(je=>je.getRedirectResult().then(Qt=>Qt,()=>null)),On.iC,p1({bufferSize:1,refCount:!1})),it=re.pipe(Sn(je=>new cn.y(Qt=>({unsubscribe:l.runOutsideAngular(()=>je.onAuthStateChanged(Ln=>Qt.next(Ln),Ln=>Qt.error(Ln),()=>Qt.complete()))})))),et=re.pipe(Sn(je=>new cn.y(Qt=>({unsubscribe:l.runOutsideAngular(()=>je.onIdTokenChanged(Ln=>Qt.next(Ln),Ln=>Qt.error(Ln),()=>Qt.complete()))}))));this.authState=Xe.pipe(g1(it),(0,KA.R)(u.outsideAngular),(0,DE.Q)(u.insideAngular)),this.user=Xe.pipe(g1(et),(0,KA.R)(u.outsideAngular),(0,DE.Q)(u.insideAngular)),this.idToken=this.user.pipe(Sn(je=>je?(0,Un.D)(je.getIdToken()):We(null))),this.idTokenResult=this.user.pipe(Sn(je=>je?(0,Un.D)(je.getIdTokenResult()):We(null))),this.credential=(0,br.T)(Xe,G,this.authState.pipe(Lt(je=>!je))).pipe((0,ut.U)(je=>(null==je?void 0:je.user)?je:null),(0,KA.R)(u.outsideAngular),(0,DE.Q)(u.insideAngular))}return(0,Sl.pX)(this,re,l,{spy:{apply:(be,Xe,it)=>{(be.startsWith("signIn")||be.startsWith("createUser"))&&it.then(et=>G.next(et))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Sl.Dh),s.LFG(Sl.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(On.HU),s.LFG(B1,8),s.LFG(V1,8),s.LFG(U1,8),s.LFG(H1,8),s.LFG(j1,8),s.LFG(z1,8),s.LFG(hM,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),fm=(()=>{class n{constructor(e,i,r,l){this.afAuth=e,this.route=i,this.zone=r,this.activeRoute=l,this.authStatusSub=new Mi(this.getUserProfile),this.currentAuthStatus=this.authStatusSub.asObservable(),this.currentPath=this.route.url,this.detectUserStatusChange()}SignUp(e,i){return this.afAuth.createUserWithEmailAndPassword(e,i).then(r=>{window.alert("You have been successfully registered!"),console.log(r.user)}).catch(r=>{this.ShowError(r)})}SignIn(e,i){return this.afAuth.signInWithEmailAndPassword(e,i).then(r=>{console.log(r)}).catch(r=>{this.ShowError(r)})}signUpEmailPassword(e,i){const r=c();h1(r,e,i).then(l=>{const u=l.user;window.alert("create user ok: "+u.email),console.log("create user ok"+u.email)}).catch(l=>{this.ShowError(l)})}loginWithEmailPassword(e,i){const r=c();kv(r,e,i).then(l=>{console.log("Successfully logged in"+l.user.email),this.StartApp()}).catch(l=>{this.ShowError(l)})}loginWithGoogle(){const e=new Ia.N,i=c();(0,Ia.c)(i,e).then(r=>{const l=Ia.N.credentialFromResult(r);if(!l)return;const u=l.accessToken,h=r.user;console.log("token"),console.log(u),console.log("user"),console.log(h),this.StartApp()}).catch(r=>{Ia.N.credentialFromError(r)}).finally(()=>{this.logout()})}logout(){const e=c();!confirm("Sure to log out? ")||QU(e).then(()=>{this.navigatePage("signIn",!0)}).catch(i=>{this.ShowError(i)})}detectUserStatusChange(){const e=c();this.authStatusSub=new Mi(this.getUserProfile),(0,Ia.t)(e,r=>{r||this.navigatePage("signin",!1)})}navigatePage(e,i,r){if(null==e||"signin"==e)return;const u=c().currentUser;console.log("page param: "+e),u?(this.zone.run(r?()=>{this.route.navigate([r,e])}:()=>{this.route.navigate(["/"+e])}),this.currentPath=e,console.log("path: "+this.currentPath)):(i?window.alert("Sucessfullly logged out."):window.alert("Please sign in first."),this.zone.run(()=>{this.route.navigate(["/signIn"])}))}getAuthStatus(){}reAuthUser(){c(),function ZH(){throw new Error("Function not implemented.")}()}getUserProfile(){const e=c(),i=e.currentUser;return console.log("auth.currentUser"),console.log(e.currentUser),null!==i?i:null}StartApp(){this.navigatePage("project-management",!1,void 0)}ShowError(e){const i=e.code,r=e.message;window.alert(i+": "+r),console.log(i+": "+r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(pM),s.LFG(Wi),s.LFG(s.R0b),s.LFG(ho))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),G1=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WH=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=ri(e);return new cn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new $e.x,r=this._mutationObserverFactory.create(l=>i.next(l));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(G1))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YH=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=It(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=di(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Ic(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(WH),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),KH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[G1]}),n})();const QH=["connectionContainer"],JH=["inputContainer"],XH=["label"];function ej(n,t){1&n&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15),s._UZ(3,"div",16),s._UZ(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15),s._UZ(7,"div",16),s._UZ(8,"div",17),s.qZA(),s.BQk())}function tj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s.NdJ("cdkObserveContent",function(){return s.CHM(e),s.oxw().updateOutlineGap()}),s.Hsn(1,1),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function nj(n,t){if(1&n&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&n){const e=s.oxw(2);s.xp6(3),s.Oqu(e._control.placeholder)}}function ij(n,t){1&n&&s.Hsn(0,3,["*ngSwitchCase","true"])}function rj(n,t){1&n&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function sj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){return s.CHM(e),s.oxw().updateOutlineGap()}),s.YNc(2,nj,4,1,"ng-container",12),s.YNc(3,ij,1,0,"ng-content",12),s.YNc(4,rj,2,0,"span",22),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function oj(n,t){1&n&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function aj(n,t){if(1&n&&(s.TgZ(0,"div",25),s._UZ(1,"span",26),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function lj(n,t){if(1&n&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function cj(n,t){if(1&n&&(s.TgZ(0,"div",30),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function uj(n,t){if(1&n&&(s.TgZ(0,"div",27),s.YNc(1,cj,2,2,"div",28),s.Hsn(2,6),s._UZ(3,"div",29),s.Hsn(4,7),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const dj=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],hj=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let fj=0;const $1=new s.OlP("MatError");let gM=(()=>{class n{constructor(e,i){this.id="mat-error-"+fj++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(s.$8M("aria-live"),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("id",i.id)},inputs:{id:"id"},features:[s._Bn([{provide:$1,useExisting:n}])]}),n})();const pj={transitionMessages:Sc("transitionMessages",[Fs("enter",fi({opacity:1,transform:"translateY(0%)"})),Ls("void => enter",[fi({opacity:0,transform:"translateY(-5px)"}),Ns("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Pv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n})();const gj=new s.OlP("MatHint");let Xf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})(),mj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const _j=new s.OlP("MatPrefix"),yj=new s.OlP("MatSuffix");let Z1=0;const bj=$f(class{constructor(n){this._elementRef=n}},"primary"),wj=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),mM=new s.OlP("MatFormField");let pm=(()=>{class n extends bj{constructor(e,i,r,l,u,h,m){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=l,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new $e.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Z1++,this._labelId="mat-form-field-label-"+Z1++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==m,this.appearance=l&&l.appearance?l.appearance:"legacy",this._hideRequiredMarker=!(!l||null==l.hideRequiredMarker)&&l.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=It(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Pn(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(rn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(rn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,br.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Pn(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Pn(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(rn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Au(this._label.nativeElement,"transitionend").pipe(un(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,r=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",l=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const D=i.querySelectorAll(`${r}, ${l}`);for(let A=0;A<D.length;A++)D[A].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const m=i.querySelectorAll(r),b=i.querySelectorAll(l);if(this._label&&this._label.nativeElement.children.length){const D=i.getBoundingClientRect();if(0===D.width&&0===D.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const A=this._getStartEnd(D),P=e.children,B=this._getStartEnd(P[0].getBoundingClientRect());let G=0;for(let re=0;re<P.length;re++)G+=P[re].offsetWidth;u=Math.abs(B-A)-5,h=G>0?.75*G+10:0}for(let D=0;D<m.length;D++)m[D].style.width=`${u}px`;for(let D=0;D<b.length;D++)b[D].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Ps,8),s.Y36(wj,8),s.Y36(ji),s.Y36(s.R0b),s.Y36(Yo,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Pv,5),s.Suo(r,Pv,7),s.Suo(r,Xf,5),s.Suo(r,Xf,7),s.Suo(r,mj,5),s.Suo(r,$1,5),s.Suo(r,gj,5),s.Suo(r,_j,5),s.Suo(r,yj,5)),2&e){let l;s.iGM(l=s.CRH())&&(i._controlNonStatic=l.first),s.iGM(l=s.CRH())&&(i._controlStatic=l.first),s.iGM(l=s.CRH())&&(i._labelChildNonStatic=l.first),s.iGM(l=s.CRH())&&(i._labelChildStatic=l.first),s.iGM(l=s.CRH())&&(i._placeholderChild=l.first),s.iGM(l=s.CRH())&&(i._errorChildren=l),s.iGM(l=s.CRH())&&(i._hintChildren=l),s.iGM(l=s.CRH())&&(i._prefixChildren=l),s.iGM(l=s.CRH())&&(i._suffixChildren=l)}},viewQuery:function(e,i){if(1&e&&(s.Gf(QH,7),s.Gf(JH,5),s.Gf(XH,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._connectionContainerRef=r.first),s.iGM(r=s.CRH())&&(i._inputContainerRef=r.first),s.iGM(r=s.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&s.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:mM,useExisting:n}]),s.qOj],ngContentSelectors:hj,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(s.F$t(dj),s.TgZ(0,"div",0),s.TgZ(1,"div",1,2),s.NdJ("click",function(l){return i._control.onContainerClick&&i._control.onContainerClick(l)}),s.YNc(3,ej,9,0,"ng-container",3),s.YNc(4,tj,2,1,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,sj,5,16,"label",8),s.qZA(),s.qZA(),s.YNc(10,oj,2,0,"div",9),s.qZA(),s.YNc(11,aj,2,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,lj,2,1,"div",12),s.YNc(14,uj,5,2,"div",13),s.qZA(),s.qZA()),2&e&&(s.xp6(3),s.Q6J("ngIf","outline"==i.appearance),s.xp6(1),s.Q6J("ngIf",i._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",i._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",i._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=i.appearance),s.xp6(1),s.Q6J("ngSwitch",i._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},directives:[Yt,YH,bi,qi],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[pj.transitionMessages]},changeDetection:0}),n})(),_M=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[kr,dn,KH],dn]}),n})();const Y1=$o({passive:!0});let Cj=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Fr.E;const i=ri(e),r=this._monitoredElements.get(i);if(r)return r.subject;const l=new $e.x,u="cdk-text-field-autofilled",h=m=>{"cdk-text-field-autofill-start"!==m.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===m.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>l.next({target:m.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>l.next({target:m.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,Y1),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:l,unlisten:()=>{i.removeEventListener("animationstart",h,Y1)}}),l}stopMonitoring(e){const i=ri(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ji),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Ej=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),Dj=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Tj=0;const Ij=Ev(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let Nv=(()=>{class n extends Ij{constructor(e,i,r,l,u,h,m,b,D,A){super(h,l,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=b,this._formField=A,this._uid="mat-input-"+Tj++,this.focused=!1,this.stateChanges=new $e.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(G=>jd().has(G)),this._iOSKeyupListener=G=>{const re=G.target;!re.value&&0===re.selectionStart&&0===re.selectionEnd&&(re.setSelectionRange(1,1),re.setSelectionRange(0,0))};const P=this._elementRef.nativeElement,B=P.nodeName.toLowerCase();this._inputValueAccessor=m||P,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&D.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===B,this._isTextarea="textarea"===B,this._isInFormField=!!A,this._isNativeSelect&&(this.controlType=P.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=It(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,r,l;return null!==(l=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(fs.required))&&void 0!==l&&l}set required(e){this._required=It(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&jd().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=It(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const r=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(r!==this._previousPlaceholder){const l=this._elementRef.nativeElement;this._previousPlaceholder=r,r?l.setAttribute("placeholder",r):l.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){Dj.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(ji),s.Y36(Os,10),s.Y36(wc,8),s.Y36(Iu,8),s.Y36(ih),s.Y36(Ej,10),s.Y36(Cj),s.Y36(s.R0b),s.Y36(mM,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(s.Ikx("disabled",i.disabled)("required",i.required),s.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),s.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:Pv,useExisting:n}]),s.qOj,s.TTD]}),n})(),Sj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[ih],imports:[[K1,_M,dn],K1,_M]}),n})();const Aj=["mat-button",""],Mj=["*"],kj=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Rj=$f(cm(Zf(class{constructor(n){this._elementRef=n}})));let Ml=(()=>{class n extends Rj{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of kj)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Cl),s.Y36(Yo,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&s.Gf(qu,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:Aj,ngContentSelectors:Mj,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1),s._UZ(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[qu],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),yM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Wf,dn],dn]}),n})(),Oj=(()=>{class n{constructor(e,i,r){this.dialog=e,this.authService=i,this.fb=r,this.signInForm=this.fb.group({email:new ps("",[fs.required,fs.email]),password:new ps("",[fs.required])}),this.dialogWidth="270px"}ngOnInit(){var e;null===(e=this.authService)||void 0===e||e.currentAuthStatus.subscribe(i=>this.isAuthenticated=i)}get emailControl(){return this.signInForm.get("email")}get passwordControl(){return this.signInForm.get("password")}signIn_v2(){this.authService.loginWithEmailPassword(this.emailControl.value,this.passwordControl.value)}signUp_v2(){this.authService.signUpEmailPassword(this.emailControl.value,this.passwordControl.value)}signInEmail(){}signUp(e,i){this.authService.signUpEmailPassword(e,i)}login(e,i){this.authService.loginWithEmailPassword(e,i)}loginWithGoogle(){this.authService.loginWithGoogle()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36($u),s.Y36(fm),s.Y36(dI))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-sign-in"]],decls:18,vars:1,consts:[["type","text/css","rel","stylesheet","href","https://www.gstatic.com/firebasejs/ui/6.0.1/firebase-ui-auth.css"],[1,"authBlock"],[3,"formGroup"],["id","theForm"],["matInput","","placeholder","Email","type","email","formControlName","email"],["matInput","","placeholder","Password","type","password","formControlName","password"],["mat-raised-button","","type","submit","id","SignIn",3,"click"],["mat-raised-button","","type","submit","id","SignUp",3,"click"],["mat-raised-button","","type","submit","id","Google",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"head"),s._UZ(1,"link",0),s.qZA(),s.TgZ(2,"div",1),s.TgZ(3,"form",2),s.TgZ(4,"div",3),s.TgZ(5,"div"),s.TgZ(6,"mat-form-field"),s._UZ(7,"input",4),s.qZA(),s.qZA(),s.TgZ(8,"div"),s.TgZ(9,"mat-form-field"),s._UZ(10,"input",5),s.qZA(),s.qZA(),s.TgZ(11,"div"),s.TgZ(12,"button",6),s.NdJ("click",function(){return i.signIn_v2()}),s._uU(13,"Log In"),s.qZA(),s.TgZ(14,"button",7),s.NdJ("click",function(){return i.signUp_v2()}),s._uU(15,"Sign Up"),s.qZA(),s.TgZ(16,"button",8),s.NdJ("click",function(){return i.loginWithGoogle()}),s._uU(17,"Login with Google"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(3),s.Q6J("formGroup",i.signInForm))},directives:[hf,tf,Iu,pm,Nv,pl,Bd,ay,Ml],styles:["#theForm[_ngcontent-%COMP%]{margin:auto;padding-top:15vh;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content}"]}),n})();var gm=(()=>{return(n=gm||(gm={})).Low="Low",n.Moderate="Moderate",n.High="High",gm;var n})(),Sa=(()=>{return(n=Sa||(Sa={}))[n.NEW=1]="NEW",n[n.EDIT=2]="EDIT",Sa;var n})(),xl=(()=>{return(n=xl||(xl={})).UrgencyHigh="#dd2955",n.UrgencyModerate="#ec5c2b",n.UrgencyLow="#ecae00",n.CalmGreen="#ABC4AA",n.Diabled="#CDCDCD",n.Default="#F1F1F1",n.DarkBlue="#2024A1",n.CalligraphyBlue="#3743cd",xl;var n})();class mm{constructor(){}static get ColorWheel(){return Object.entries(xl).map(([t,e])=>({name:t,color:e}))}static get RandomColor(){const t=Math.floor(Math.random()*mm.ColorWheel.length);return mm.ColorWheel[t].color}static getUrgentColor(t){if(!t)return xl.Default;switch(t){case gm.Low:return xl.UrgencyLow;case gm.Moderate:return xl.UrgencyModerate;case gm.High:return xl.UrgencyHigh;default:return xl.Default}}}class vM{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new $e.x,e&&e.length&&(t?e.forEach(r=>this._markSelected(r)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}let Pj=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Nj=["button"],Fj=["*"],Q1=new s.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),J1=new s.OlP("MatButtonToggleGroup"),Lj={provide:po,useExisting:(0,s.Gpc)(()=>RE),multi:!0};let X1=0;class eN{constructor(t,e){this.source=t,this.value=e}}let RE=(()=>{class n{constructor(e,i){this._changeDetector=e,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+X1++,this.valueChange=new s.vpe,this.change=new s.vpe,this.appearance=i&&i.appearance?i.appearance:"standard"}get name(){return this._name}set name(e){this._name=e,this._buttonToggles&&this._buttonToggles.forEach(i=>{i.name=this._name,i._markForCheck()})}get vertical(){return this._vertical}set vertical(e){this._vertical=It(e)}get value(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(i=>i.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=It(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=It(e),this._buttonToggles&&this._buttonToggles.forEach(i=>i._markForCheck())}ngOnInit(){this._selectionModel=new vM(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked))}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_emitChangeEvent(){const e=this.selected,i=Array.isArray(e)?e[e.length-1]:e,r=new eN(i,this.value);this._controlValueAccessorChangeFn(r.value),this.change.emit(r)}_syncButtonToggle(e,i,r=!1,l=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?i?this._selectionModel.select(e):this._selectionModel.deselect(e):l=!0,l?Promise.resolve().then(()=>this._updateModelValue(r)):this._updateModelValue(r)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(i=>null!=e.value&&i===e.value):e.value===this._rawValue)}_setSelectionByValue(e){this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(i=>this._selectValue(i))):(this._clearSelection(),this._selectValue(e)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>e.checked=!1)}_selectValue(e){const i=this._buttonToggles.find(r=>null!=r.value&&r.value===e);i&&(i.checked=!0,this._selectionModel.select(i))}_updateModelValue(e){e&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(Q1,8))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-button-toggle-group"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,OE,5),2&e){let l;s.iGM(l=s.CRH())&&(i._buttonToggles=l)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(e,i){2&e&&(s.uIk("aria-disabled",i.disabled),s.ekj("mat-button-toggle-vertical",i.vertical)("mat-button-toggle-group-appearance-standard","standard"===i.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[s._Bn([Lj,{provide:J1,useExisting:n}])]}),n})();const Bj=Zf(class{});let OE=(()=>{class n extends Bj{constructor(e,i,r,l,u,h){super(),this._changeDetectorRef=i,this._elementRef=r,this._focusMonitor=l,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new s.vpe;const m=Number(u);this.tabIndex=m||0===m?m:null,this.buttonToggleGroup=e,this.appearance=h&&h.appearance?h.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){const i=It(e);i!==this._checked&&(this._checked=i,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=It(e)}ngOnInit(){const e=this.buttonToggleGroup;this._isSingleSelector=e&&!e.multiple,this.id=this.id||"mat-button-toggle-"+X1++,this._isSingleSelector&&(this.name=e.name),e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){const e=!!this._isSingleSelector||!this._checked;e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new eN(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(J1,8),s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(Cl),s.$8M("tabindex"),s.Y36(Q1,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(e,i){if(1&e&&s.Gf(Nj,5),2&e){let r;s.iGM(r=s.CRH())&&(i._buttonElement=r.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i.focus()}),2&e&&(s.uIk("aria-label",null)("aria-labelledby",null)("id",i.id)("name",null),s.ekj("mat-button-toggle-standalone",!i.buttonToggleGroup)("mat-button-toggle-checked",i.checked)("mat-button-toggle-disabled",i.disabled)("mat-button-toggle-appearance-standard","standard"===i.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[s.qOj],ngContentSelectors:Fj,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(e,i){if(1&e&&(s.F$t(),s.TgZ(0,"button",0,1),s.NdJ("click",function(){return i._onButtonClick()}),s.TgZ(2,"span",2),s.Hsn(3),s.qZA(),s.qZA(),s._UZ(4,"span",3),s._UZ(5,"span",4)),2&e){const r=s.MAs(1);s.Q6J("id",i.buttonId)("disabled",i.disabled||null),s.uIk("tabindex",i.disabled?-1:i.tabIndex)("aria-pressed",i.checked)("name",i.name||null)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby),s.xp6(5),s.Q6J("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)}},directives:[qu],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent;transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .cdk-high-contrast-active .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),n})(),Vj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[dn,Wf],dn]}),n})();class Hj{}class ah{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),l=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,l),this.headers.has(l)?this.headers.get(l).push(u):this.headers.set(l,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ah?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ah;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ah?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const l=t.value;if(l){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===l.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class jj{encodeKey(t){return tN(t)}encodeValue(t){return tN(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const qj=/%(\d[a-f0-9])/gi,Gj={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function tN(n){return encodeURIComponent(n).replace(qj,(t,e)=>{var i;return null!==(i=Gj[e])&&void 0!==i?i:t})}function nN(n){return`${n}`}class lh{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new jj,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function zj(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const l=r.indexOf("="),[u,h]=-1==l?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,l)),t.decodeValue(r.slice(l+1))],m=e.get(u)||[];m.push(h),e.set(u,m)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(l=>{e.push({param:i,value:l,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new lh({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(nN(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(nN(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class $j{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function iN(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function rN(n){return"undefined"!=typeof Blob&&n instanceof Blob}function sN(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Fv{constructor(t,e,i,r){let l;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Zj(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,l=r):l=i,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new ah),this.context||(this.context=new $j),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new lh,this.urlWithParams=e}serializeBody(){return null===this.body?null:iN(this.body)||rN(this.body)||sN(this.body)||function Wj(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof lh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||sN(this.body)?null:rN(this.body)?this.body.type||null:iN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof lh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,l=t.responseType||this.responseType,u=void 0!==t.body?t.body:this.body,h=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,m=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let b=t.headers||this.headers,D=t.params||this.params;const A=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(b=Object.keys(t.setHeaders).reduce((P,B)=>P.set(B,t.setHeaders[B]),b)),t.setParams&&(D=Object.keys(t.setParams).reduce((P,B)=>P.set(B,t.setParams[B]),D)),new Fv(i,r,u,{params:D,headers:b,context:A,reportProgress:m,responseType:l,withCredentials:h})}}var jr=(()=>((jr=jr||{})[jr.Sent=0]="Sent",jr[jr.UploadProgress=1]="UploadProgress",jr[jr.ResponseHeader=2]="ResponseHeader",jr[jr.DownloadProgress=3]="DownloadProgress",jr[jr.Response=4]="Response",jr[jr.User=5]="User",jr))();class bM extends class Yj{constructor(t,e=200,i="OK"){this.headers=t.headers||new ah,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=jr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new bM({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function wM(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let aN=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let l;if(e instanceof Fv)l=e;else{let m,b;m=r.headers instanceof ah?r.headers:new ah(r.headers),r.params&&(b=r.params instanceof lh?r.params:new lh({fromObject:r.params})),l=new Fv(e,i,void 0!==r.body?r.body:null,{headers:m,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=We(l).pipe(sr(m=>this.handler.handle(m)));if(e instanceof Fv||"events"===r.observe)return u;const h=u.pipe(Lt(m=>m instanceof bM));switch(r.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return h.pipe((0,ut.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return h.pipe((0,ut.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return h.pipe((0,ut.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return h.pipe((0,ut.U)(m=>m.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new lh).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,wM(r,i))}post(e,i,r={}){return this.request("POST",e,wM(r,i))}put(e,i,r={}){return this.request("PUT",e,wM(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Hj))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Qj=["*"];let PE;function Lv(n){var t;return(null===(t=function Jj(){if(void 0===PE&&(PE=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(PE=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return PE}())||void 0===t?void 0:t.createHTML(n))||n}function lN(n){return Error(`Unable to find icon with the name "${n}"`)}function cN(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function uN(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class ep{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let NE=(()=>{class n{constructor(e,i,r,l){this._httpClient=e,this._sanitizer=i,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,l){return this._addSvgIconConfig(e,i,new ep(r,null,l))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,l){const u=this._sanitizer.sanitize(s.q3G.HTML,r);if(!u)throw uN(r);const h=Lv(u);return this._addSvgIconConfig(e,i,new ep("",h,l))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new ep(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const l=this._sanitizer.sanitize(s.q3G.HTML,i);if(!l)throw uN(i);const u=Lv(l);return this._addSvgIconSetConfig(e,new ep("",u,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!i)throw cN(e);const r=this._cachedIconsByUrl.get(i);return r?We(FE(r)):this._loadSvgIconFromConfig(new ep(e,null)).pipe((0,Ci.b)(l=>this._cachedIconsByUrl.set(i,l)),(0,ut.U)(l=>FE(l)))}getNamedSvgIcon(e,i=""){const r=dN(i,e);let l=this._svgIconConfigs.get(r);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(i,e),l)return this._svgIconConfigs.set(r,l),this._getSvgFromConfig(l);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):function Uj(n,t){const e=(0,Lr.m)(n)?n:()=>n,i=r=>r.error(e());return new cn.y(t?r=>t.schedule(i,0,r):i)}(lN(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?We(FE(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,ut.U)(i=>FE(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?We(r):Ld(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe($i(h=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(b)),We(null)})))).pipe((0,ut.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw lN(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const l=i[r];if(l.svgText&&l.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(l),h=this._extractSvgIconFromSet(u,e,l.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Ci.b)(i=>e.svgText=i),(0,ut.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?We(null):this._fetchIcon(e).pipe((0,Ci.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const l=e.querySelector(`[id="${i}"]`);if(!l)return null;const u=l.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const h=this._svgElementFromString(Lv("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(Lv("<svg></svg>")),r=e.attributes;for(let l=0;l<r.length;l++){const{name:u,value:h}=r[l];"id"!==u&&i.setAttribute(u,h)}for(let l=0;l<e.childNodes.length;l++)e.childNodes[l].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[l].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:l}=e,u=null!==(i=null==l?void 0:l.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function Xj(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const h=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,r);if(!h)throw cN(r);const m=this._inProgressUrlFetches.get(h);if(m)return m;const b=this._httpClient.get(h,{responseType:"text",withCredentials:u}).pipe((0,ut.U)(D=>Lv(D)),vd(()=>this._inProgressUrlFetches.delete(h)),(0,f1.B)());return this._inProgressUrlFetches.set(h,b),b}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(dN(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const l=this._resolvers[r](i,e);if(l)return t3(l)?new ep(l.url,null,l.options):new ep(l,null)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(aN,8),s.LFG(Mo),s.LFG(X,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FE(n){return n.cloneNode(!0)}function dN(n,t){return n+":"+t}function t3(n){return!(!n.url||!n.options)}const n3=$f(class{constructor(n){this._elementRef=n}}),i3=new s.OlP("mat-icon-location",{providedIn:"root",factory:function r3(){const n=(0,s.f3M)(X),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),hN=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],s3=hN.map(n=>`[${n}]`).join(", "),o3=/^url\(['"]?#(.*?)['"]?\)$/;let Zu=(()=>{class n extends n3{constructor(e,i,r,l,u){super(e),this._iconRegistry=i,this._location=l,this._errorHandler=u,this._inline=!1,this._currentIconFetch=In.w0.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=It(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,l)=>{r.forEach(u=>{l.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(s3),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<i.length;l++)hN.forEach(u=>{const h=i[l],m=h.getAttribute(u),b=m?m.match(o3):null;if(b){let D=r.get(h);D||(D=[],r.set(h,D)),D.push({name:u,value:b[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(un(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${l.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(NE),s.$8M("aria-hidden"),s.Y36(i3),s.Y36(s.qLn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),s.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:Qj,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),a3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[dn],dn]}),n})();const l3=["input"],c3=function(n){return{enterDuration:n}},u3=["*"],d3=new s.OlP("mat-radio-default-options",{providedIn:"root",factory:function h3(){return{color:"accent"}}});let fN=0;const f3={provide:po,useExisting:(0,s.Gpc)(()=>mN),multi:!0};class pN{constructor(t,e){this.source=t,this.value=e}}const gN=new s.OlP("MatRadioGroup");let p3=(()=>{class n{constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+fN++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new s.vpe}get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=It(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=It(e),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new pN(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),n})(),mN=(()=>{class n extends p3{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-radio-group"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,_N,5),2&e){let l;s.iGM(l=s.CRH())&&(i._radios=l)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[s._Bn([f3,{provide:gN,useExisting:n}]),s.qOj]}),n})();class g3{constructor(t){this._elementRef=t}}const m3=Zf($C(g3));let _3=(()=>{class n extends m3{constructor(e,i,r,l,u,h,m,b){super(i),this._changeDetector=r,this._focusMonitor=l,this._radioDispatcher=u,this._providerOverride=m,this._uniqueId="mat-radio-"+ ++fN,this.id=this._uniqueId,this.change=new s.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===h,b&&(this.tabIndex=di(b,0)),this._removeUniqueSelectionListener=u.listen((D,A)=>{D!==this.id&&A===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(e){const i=It(e);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(It(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=It(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new pN(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){var e;const i=this.radioGroup;let r;if(r=i&&i.selected&&!this.disabled?i.selected===this?this.tabIndex:-1:this.tabIndex,r!==this._previousTabIndex){const l=null===(e=this._inputElement)||void 0===e?void 0:e.nativeElement;l&&(l.setAttribute("tabindex",r+""),this._previousTabIndex=r)}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(l3,5),2&e){let r;s.iGM(r=s.CRH())&&(i._inputElement=r.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[s.qOj]}),n})(),_N=(()=>{class n extends _3{constructor(e,i,r,l,u,h,m,b){super(e,i,r,l,u,h,m,b)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(gN,8),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Cl),s.Y36(Pj),s.Y36(Yo,8),s.Y36(d3,8),s.$8M("tabindex"))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._inputElement.nativeElement.focus()}),2&e&&(s.uIk("tabindex",null)("id",i.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),s.ekj("mat-radio-checked",i.checked)("mat-radio-disabled",i.disabled)("_mat-animation-noopable",i._noopAnimations)("mat-primary","primary"===i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[s.qOj],ngContentSelectors:u3,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input",3,"id","checked","disabled","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(e,i){if(1&e&&(s.F$t(),s.TgZ(0,"label",0,1),s.TgZ(2,"span",2),s._UZ(3,"span",3),s._UZ(4,"span",4),s.TgZ(5,"input",5,6),s.NdJ("change",function(l){return i._onInputInteraction(l)})("click",function(l){return i._onInputClick(l)}),s.qZA(),s.TgZ(7,"span",7),s._UZ(8,"span",8),s.qZA(),s.qZA(),s.TgZ(9,"span",9),s.TgZ(10,"span",10),s._uU(11,"\xa0"),s.qZA(),s.Hsn(12),s.qZA(),s.qZA()),2&e){const r=s.MAs(1);s.uIk("for",i.inputId),s.xp6(5),s.Q6J("id",i.inputId)("checked",i.checked)("disabled",i.disabled)("required",i.required),s.uIk("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),s.xp6(2),s.Q6J("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",s.VKq(17,c3,i._noopAnimations?0:150)),s.xp6(2),s.ekj("mat-radio-label-before","before"==i.labelPosition)}},directives:[qu],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{opacity:0;position:absolute;top:0;left:0;margin:0;width:100%;height:100%;cursor:inherit;z-index:-1}.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-ripple,.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-ripple{outline:solid 3px}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})(),y3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Wf,dn],dn]}),n})();function v3(n,t){1&n&&(s.TgZ(0,"h2"),s._uU(1,"New Task"),s.qZA())}function b3(n,t){if(1&n&&(s.TgZ(0,"mat-button-toggle",14),s.TgZ(1,"mat-icon"),s._uU(2,"circle"),s.qZA(),s.qZA()),2&n){const e=t.$implicit,i=s.oxw();s.Q6J("checked",e.color==i.data.task.color)("value",e.color),s.xp6(1),s.Udp("color",e.color)("border","grey")}}function w3(n,t){if(1&n&&(s.TgZ(0,"div"),s._uU(1),s.ALo(2,"date"),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.hij(" Last Update: ",s.xi3(2,1,e.data.task.lastUpdate.seconds,"yyyy/MM/dd h:mm a"),"\n")}}const C3=function(n){return{task:n,delete:!0}};function E3(n,t){if(1&n&&(s.TgZ(0,"button",15),s.TgZ(1,"mat-icon"),s._uU(2,"delete"),s.qZA(),s._uU(3," Delete "),s.qZA()),2&n){const e=s.oxw();s.Q6J("mat-dialog-close",s.VKq(1,C3,e.data.task))}}let yN=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i,this.backupTask=Object.assign({},this.data.task),this.ColorWheel=mm.ColorWheel,this.DialogType=Sa,this.taskColor=this.data.task.color||""}cancel(){this.data.task.title=this.backupTask.title,this.data.task.description=this.backupTask.description,this.data.task.type=this.backupTask.type,this.data.task.urgency=this.backupTask.urgency,this.data.task.color=this.backupTask.color,this.dialogRef.close(this.data)}onSubmit(){this.data.task.color=this.taskColor,this.data.task.lastUpdate={seconds:Date.now()},this.dialogRef.close(this.data)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yf),s.Y36(dm))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-task-dialog"]],decls:33,vars:9,consts:[["id","task-form"],[4,"ngIf"],["appearance","fill","color","primary"],["matInput","",3,"ngModel","ngModelChange"],["appearance","fill"],["id","colorSpec","name","colorSpec","aria-label","ColorWheel",3,"ngModel","ngModelChange"],[3,"checked","value",4,"ngFor","ngForOf"],["aria-label","Urgency","color","primary",3,"ngModel","ngModelChange"],["value","Low"],["value","Moderate"],["value","High"],["id","controls","mat-dialog-actions",""],["mat-button","","color","primary",3,"mat-dialog-close",4,"ngIf"],["id","confirm","mat-fab","","color","primary",3,"click"],[3,"checked","value"],["mat-button","","color","primary",3,"mat-dialog-close"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.YNc(1,v3,2,0,"h2",1),s.TgZ(2,"mat-form-field",2),s.TgZ(3,"mat-label"),s._uU(4,"Title"),s.qZA(),s.TgZ(5,"input",3),s.NdJ("ngModelChange",function(l){return i.data.task.title=l}),s.qZA(),s.qZA(),s.TgZ(6,"mat-form-field",4),s.TgZ(7,"mat-label"),s._uU(8,"Description"),s.qZA(),s.TgZ(9,"textarea",3),s.NdJ("ngModelChange",function(l){return i.data.task.description=l}),s.qZA(),s.qZA(),s.TgZ(10,"mat-form-field",4),s.TgZ(11,"mat-label"),s._uU(12,"Label"),s.qZA(),s.TgZ(13,"input",3),s.NdJ("ngModelChange",function(l){return i.data.task.type=l}),s.qZA(),s.qZA(),s.TgZ(14,"mat-label"),s._uU(15,"Label Color"),s.qZA(),s.TgZ(16,"mat-button-toggle-group",5),s.NdJ("ngModelChange",function(l){return i.taskColor=l}),s.YNc(17,b3,3,6,"mat-button-toggle",6),s.qZA(),s.TgZ(18,"mat-label"),s._uU(19,"Urgency"),s.qZA(),s.TgZ(20,"mat-radio-group",7),s.NdJ("ngModelChange",function(l){return i.data.task.urgency=l}),s.TgZ(21,"mat-radio-button",8),s._uU(22,"Not Rush"),s.qZA(),s.TgZ(23,"mat-radio-button",9),s._uU(24,"Moderate"),s.qZA(),s.TgZ(25,"mat-radio-button",10),s._uU(26,"Urgent!!"),s.qZA(),s.qZA(),s.qZA(),s.YNc(27,w3,3,4,"div",1),s.TgZ(28,"div",11),s.YNc(29,E3,4,3,"button",12),s.TgZ(30,"button",13),s.NdJ("click",function(){return i.onSubmit()}),s.TgZ(31,"mat-icon"),s._uU(32,"done"),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("ngIf",i.data.type==i.DialogType.NEW),s.xp6(4),s.Q6J("ngModel",i.data.task.title),s.xp6(4),s.Q6J("ngModel",i.data.task.description),s.xp6(4),s.Q6J("ngModel",i.data.task.type),s.xp6(3),s.Q6J("ngModel",i.taskColor),s.xp6(1),s.Q6J("ngForOf",i.ColorWheel),s.xp6(3),s.Q6J("ngModel",i.data.task.urgency),s.xp6(7),s.Q6J("ngIf",i.data.task.lastUpdate),s.xp6(2),s.Q6J("ngIf",i.data.enableDelete))},directives:[Yt,pm,Xf,Nv,pl,Bd,_g,RE,yn,OE,Zu,mN,_N,hE,Ml,Av],pipes:[Fa],styles:["#task-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:large}#task-form[_ngcontent-%COMP%]   #close[_ngcontent-%COMP%]{margin-left:auto}#task-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin:0}#task-form[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin:10px 0}#task-form[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}#task-form[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{overflow-x:auto;max-width:100%;width:-moz-fit-content;width:fit-content;margin:10px 0}#controls[_ngcontent-%COMP%]{display:flex}#controls[_ngcontent-%COMP%]   #confirm[_ngcontent-%COMP%]{margin-left:auto}"]}),n})();function CM(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];r?n.setProperty(i,r,(null==e?void 0:e.has(i))?"important":""):n.removeProperty(i)}return n}function _m(n,t){const e=t?"":"none";CM(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function vN(n,t,e){CM(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function LE(n,t){return t&&"none"!=t?n+" "+t:n}function bN(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function EM(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function DM(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function TM(n,t,e){const{top:i,bottom:r,left:l,right:u}=n;return e>=i&&e<=r&&t>=l&&t<=u}function Bv(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function wN(n,t,e,i){const{top:r,right:l,bottom:u,left:h,width:m,height:b}=n,D=m*t,A=b*t;return i>r-A&&i<u+A&&e>h-D&&e<l+D}class CN{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:DM(e)})})}handleScroll(t){const e=vr(t),i=this.positions.get(e);if(!i)return null;const r=i.scrollPosition;let l,u;if(e===this._document){const b=this.getViewportScrollPosition();l=b.top,u=b.left}else l=e.scrollTop,u=e.scrollLeft;const h=r.top-l,m=r.left-u;return this.positions.forEach((b,D)=>{b.clientRect&&e!==D&&e.contains(D)&&Bv(b.clientRect,h,m)}),r.top=l,r.left=u,{top:h,left:m}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function EN(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return"canvas"===i?IN(n,t):("input"===i||"select"===i||"textarea"===i)&&TN(n,t),DN("canvas",n,t,IN),DN("input, textarea, select",n,t,TN),t}function DN(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const l=e.querySelectorAll(n);for(let u=0;u<r.length;u++)i(r[u],l[u])}}let I3=0;function TN(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${I3++}`)}function IN(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch(i){}}const SN=$o({passive:!0}),BE=$o({passive:!1}),IM=new Set(["position"]);class A3{constructor(t,e,i,r,l,u){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=l,this._dragDropRegistry=u,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new $e.x,this._pointerMoveSubscription=In.w0.EMPTY,this._pointerUpSubscription=In.w0.EMPTY,this._scrollSubscription=In.w0.EMPTY,this._resizeSubscription=In.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new $e.x,this.started=new $e.x,this.released=new $e.x,this.ended=new $e.x,this.entered=new $e.x,this.exited=new $e.x,this.dropped=new $e.x,this.moved=this._moveEvents,this._pointerDown=h=>{if(this.beforeStarted.next(),this._handles.length){const m=this._getTargetHandle(h);m&&!this._disabledHandles.has(m)&&!this.disabled&&this._initializeDragSequence(m,h)}else this.disabled||this._initializeDragSequence(this._rootElement,h)},this._pointerMove=h=>{const m=this._getPointerPositionOnPage(h);if(!this._hasStartedDragging){if(Math.abs(m.x-this._pickupPositionOnPage.x)+Math.abs(m.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const B=Date.now()>=this._dragStartTime+this._getDragStartDelay(h),G=this._dropContainer;if(!B)return void this._endDragSequence(h);(!G||!G.isDragging()&&!G.isReceiving())&&(h.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(h)))}return}h.preventDefault();const b=this._getConstrainedPointerPosition(m);if(this._hasMoved=!0,this._lastKnownPointerPosition=m,this._updatePointerDirectionDelta(b),this._dropContainer)this._updateActiveDropContainer(b,m);else{const D=this._activeTransform;D.x=b.x-this._pickupPositionOnPage.x+this._passiveTransform.x,D.y=b.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(D.x,D.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:b,event:h,distance:this._getDragDistance(b),delta:this._pointerDirectionDelta})})},this._pointerUp=h=>{this._endDragSequence(h)},this._nativeDragStart=h=>{if(this._handles.length){const m=this._getTargetHandle(h);m&&!this._disabledHandles.has(m)&&!this.disabled&&h.preventDefault()}else this.disabled||h.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new CN(i),u.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=It(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>_m(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>ri(i)),this._handles.forEach(i=>_m(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=ri(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,BE),e.addEventListener("touchstart",this._pointerDown,SN),e.addEventListener("dragstart",this._nativeDragStart,BE)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?ri(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){var t,e;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(t=this._rootElement)||void 0===t||t.remove()),null===(e=this._anchor)||void 0===e||e.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),_m(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),_m(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var t,e;null===(t=this._preview)||void 0===t||t.remove(),null===(e=this._previewRef)||void 0===e||e.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var t,e;null===(t=this._placeholder)||void 0===t||t.remove(),null===(e=this._placeholderRef)||void 0===e||e.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Vv(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,r=i.parentNode,l=this._placeholder=this._createPlaceholderElement(),u=this._anchor=this._anchor||this._document.createComment(""),h=this._getShadowRoot();r.insertBefore(u,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),vN(i,!1,IM),this._document.body.appendChild(r.replaceChild(l,i)),this._getPreviewInsertionPoint(r,h).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),r=Vv(e),l=!r&&0!==e.button,u=this._rootElement,h=vr(e),m=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),b=r?kf(e):Lg(e);if(h&&h.draggable&&"mousedown"===e.type&&e.preventDefault(),i||l||m||b)return;if(this._handles.length){const P=u.style;this._rootElementTapHighlight=P.webkitTapHighlightColor||"",P.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(P=>this._updateOnScroll(P)),this._boundaryElement&&(this._boundaryRect=DM(this._boundaryElement));const D=this._previewTemplate;this._pickupPositionInElement=D&&D.template&&!D.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const A=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:A.x,y:A.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){vN(this._rootElement,!0,IM),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),l=this._getDragDistance(r),u=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:l,dropPoint:r}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:u,distance:l,dropPoint:r}),e.drop(this,i,this._initialIndex,this._initialContainer,u,l,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:r}){let l=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!l&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(l=this._initialContainer),l&&l!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=l,this._dropContainer.enter(this,t,e,l===this._initialContainer&&l.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:l,currentIndex:l.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let r;if(i&&t){const l=t.matchSize?this._rootElement.getBoundingClientRect():null,u=t.viewContainer.createEmbeddedView(i,t.context);u.detectChanges(),r=MN(u,this._document),this._previewRef=u,t.matchSize?xN(r,l):r.style.transform=VE(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const l=this._rootElement;r=EN(l),xN(r,l.getBoundingClientRect()),this._initialTransform&&(r.style.transform=this._initialTransform)}return CM(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},IM),_m(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(l=>r.classList.add(l)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function T3(n){const t=getComputedStyle(n),e=EM(t,"transition-property"),i=e.find(h=>"transform"===h||"all"===h);if(!i)return 0;const r=e.indexOf(i),l=EM(t,"transition-duration"),u=EM(t,"transition-delay");return bN(l[r])+bN(u[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=u=>{var h;(!u||vr(u)===this._preview&&"transform"===u.propertyName)&&(null===(h=this._preview)||void 0===h||h.removeEventListener("transitionend",r),i(),clearTimeout(l))},l=setTimeout(r,1.5*e);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=MN(this._placeholderRef,this._document)):i=EN(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e){const i=this._rootElement.getBoundingClientRect(),r=t===this._rootElement?null:t,l=r?r.getBoundingClientRect():i,u=Vv(e)?e.targetTouches[0]:e,h=this._getViewportScrollPosition();return{x:l.left-i.left+(u.pageX-l.left-h.left),y:l.top-i.top+(u.pageY-l.top-h.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=Vv(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=i.pageX-e.left,l=i.pageY-e.top;if(this._ownerSVGElement){const u=this._ownerSVGElement.getScreenCTM();if(u){const h=this._ownerSVGElement.createSVGPoint();return h.x=r,h.y=l,h.matrixTransform(u.inverse())}}return{x:r,y:l}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:l,y:u}=this._pickupPositionInElement,h=this._boundaryRect,{width:m,height:b}=this._getPreviewRect(),D=h.top+u,A=h.bottom-(b-u);i=AN(i,h.left+l,h.right-(m-l)),r=AN(r,D,A)}return{x:i,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,r=this._pointerDirectionDelta,l=this._pointerPositionAtLastDirectionChange,u=Math.abs(e-l.x),h=Math.abs(i-l.y);return u>this._config.pointerDirectionChangeThreshold&&(r.x=e>l.x?1:-1,l.x=e),h>this._config.pointerDirectionChangeThreshold&&(r.y=i>l.y?1:-1,l.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,_m(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,BE),t.removeEventListener("touchstart",this._pointerDown,SN),t.removeEventListener("dragstart",this._nativeDragStart,BE)}_applyRootElementTransform(t,e){const i=VE(t,e),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=LE(i,this._initialTransform)}_applyPreviewTransform(t,e){var i;const r=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,l=VE(t,e);this._preview.style.transform=LE(l,r)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===r.width&&0===r.height)return;const l=i.left-r.left,u=r.right-i.right,h=i.top-r.top,m=r.bottom-i.bottom;i.width>r.width?(l>0&&(t+=l),u>0&&(t-=u)):t=0,i.height>r.height?(h>0&&(e+=h),m>0&&(e-=m)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Vv(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=vr(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Bv(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var t;return(null===(t=this._parentPositions.positions.get(this._document))||void 0===t?void 0:t.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=vl(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return ri(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function VE(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function AN(n,t,e){return Math.max(t,Math.min(e,n))}function Vv(n){return"t"===n.type[0]}function MN(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function xN(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=VE(t.left,t.top)}function Uv(n,t){return Math.max(0,Math.min(t,n))}class k3{constructor(t,e,i,r,l){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=l,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new $e.x,this.entered=new $e.x,this.exited=new $e.x,this.dropped=new $e.x,this.sorted=new $e.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=In.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new $e.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function D3(n=0,t=Hd.z){return n<0&&(n=0),Ey(n,n,t)}(0,vy).pipe(rn(this._stopScrollTimers)).subscribe(()=>{const u=this._scrollNode,h=this.autoScrollStep;1===this._verticalScrollDirection?u.scrollBy(0,-h):2===this._verticalScrollDirection&&u.scrollBy(0,h),1===this._horizontalScrollDirection?u.scrollBy(-h,0):2===this._horizontalScrollDirection&&u.scrollBy(h,0)})},this.element=ri(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new CN(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,r){let l;this._draggingStarted(),null==r?(l=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===l&&(l=this._getItemIndexFromPointerPosition(t,e,i))):l=r;const u=this._activeDraggables,h=u.indexOf(t),m=t.getPlaceholderElement();let b=u[l];if(b===t&&(b=u[l+1]),!b&&(null==l||-1===l||l<u.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(b=u[0]),h>-1&&u.splice(h,1),b&&!this._dragDropRegistry.isDragging(b)){const D=b.getRootElement();D.parentElement.insertBefore(m,D),u.splice(l,0,t)}else ri(this.element).appendChild(m),u.push(t);m.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,r,l,u,h){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:l,distance:u,dropPoint:h})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>-1===t.indexOf(r))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=ri(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,r){if(this.sortingDisabled||!this._clientRect||!wN(this._clientRect,.05,e,i))return;const l=this._itemPositions,u=this._getItemIndexFromPointerPosition(t,e,i,r);if(-1===u&&l.length>0)return;const h="horizontal"===this._orientation,m=l.findIndex(be=>be.drag===t),b=l[u],A=b.clientRect,P=m>u?1:-1,B=this._getItemOffsetPx(l[m].clientRect,A,P),G=this._getSiblingOffsetPx(m,l,P),re=l.slice();(function M3(n,t,e){const i=Uv(t,n.length-1),r=Uv(e,n.length-1);if(i===r)return;const l=n[i],u=r<i?-1:1;for(let h=i;h!==r;h+=u)n[h]=n[h+u];n[r]=l})(l,m,u),this.sorted.next({previousIndex:m,currentIndex:u,container:this,item:t}),l.forEach((be,Xe)=>{if(re[Xe]===be)return;const it=be.drag===t,et=it?B:G,je=it?t.getPlaceholderElement():be.drag.getRootElement();be.offset+=et,h?(je.style.transform=LE(`translate3d(${Math.round(be.offset)}px, 0, 0)`,be.initialTransform),Bv(be.clientRect,0,et)):(je.style.transform=LE(`translate3d(0, ${Math.round(be.offset)}px, 0)`,be.initialTransform),Bv(be.clientRect,et,0))}),this._previousSwap.overlaps=TM(A,e,i),this._previousSwap.drag=b.drag,this._previousSwap.delta=h?r.x:r.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,r=0,l=0;if(this._parentPositions.positions.forEach((u,h)=>{h===this._document||!u.clientRect||i||wN(u.clientRect,.05,t,e)&&([r,l]=function R3(n,t,e,i){const r=ON(t,i),l=PN(t,e);let u=0,h=0;if(r){const m=n.scrollTop;1===r?m>0&&(u=1):n.scrollHeight-m>n.clientHeight&&(u=2)}if(l){const m=n.scrollLeft;1===l?m>0&&(h=1):n.scrollWidth-m>n.clientWidth&&(h=2)}return[u,h]}(h,u.clientRect,t,e),(r||l)&&(i=h))}),!r&&!l){const{width:u,height:h}=this._viewportRuler.getViewportSize(),m={width:u,height:h,top:0,right:u,bottom:h,left:0};r=ON(m,e),l=PN(m,t),i=window}i&&(r!==this._verticalScrollDirection||l!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=l,this._scrollNode=i,(r||l)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=ri(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=ri(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:DM(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const t=ri(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var i;const r=e.getRootElement();if(r){const l=null===(i=this._itemPositions.find(u=>u.drag===e))||void 0===i?void 0:i.initialTransform;r.style.transform=l||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,i){const r="horizontal"===this._orientation,l=e[t].clientRect,u=e[t+-1*i];let h=l[r?"width":"height"]*i;if(u){const m=r?"left":"top",b=r?"right":"bottom";-1===i?h-=u.clientRect[m]-l[b]:h+=l[m]-u.clientRect[b]}return h}_getItemOffsetPx(t,e,i){const r="horizontal"===this._orientation;let l=r?e.left-t.left:e.top-t.top;return-1===i&&(l+=r?e.width-t.width:e.height-t.height),l}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const u=i[i.length-1].clientRect;return r?t>=u.right:e>=u.bottom}{const u=i[0].clientRect;return r?t<=u.left:e<=u.top}}_getItemIndexFromPointerPosition(t,e,i,r){const l="horizontal"===this._orientation,u=this._itemPositions.findIndex(({drag:h,clientRect:m})=>{if(h===t)return!1;if(r){const b=l?r.x:r.y;if(h===this._previousSwap.drag&&this._previousSwap.overlaps&&b===this._previousSwap.delta)return!1}return l?e>=Math.floor(m.left)&&e<Math.floor(m.right):i>=Math.floor(m.top)&&i<Math.floor(m.bottom)});return-1!==u&&this.sortPredicate(u,t,this)?u:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&TM(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(r=>r._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!TM(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,i);if(!r)return!1;const l=ri(this.element);return r===l||l.contains(r)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:i})=>{Bv(i,e.top,e.left)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=vl(ri(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function ON(n,t){const{top:e,bottom:i,height:r}=n,l=.05*r;return t>=e-l&&t<=e+l?1:t>=i-l&&t<=i+l?2:0}function PN(n,t){const{left:e,right:i,width:r}=n,l=.05*r;return t>=e-l&&t<=e+l?1:t>=i-l&&t<=i+l?2:0}const UE=$o({passive:!1,capture:!0});let O3=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new $e.x,this.pointerUp=new $e.x,this.scroll=new $e.x,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,UE)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,UE)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:l=>this.pointerUp.next(l),options:!0}).set("scroll",{handler:l=>this.scroll.next(l),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:UE}),r||this._globalListeners.set("mousemove",{handler:l=>this.pointerMove.next(l),options:UE}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((l,u)=>{this._document.addEventListener(u,l.handler,l.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new cn.y(r=>this._ngZone.runOutsideAngular(()=>{const u=h=>{this._activeDragInstances.length&&r.next(h)};return e.addEventListener("scroll",u,!0),()=>{e.removeEventListener("scroll",u,!0)}}))),(0,br.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(X))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const P3={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let SM=(()=>{class n{constructor(e,i,r,l){this._document=e,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=l}createDrag(e,i=P3){return new A3(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new k3(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(X),s.LFG(s.R0b),s.LFG(Ou),s.LFG(O3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NN=new s.OlP("CDK_DRAG_PARENT"),FN=new s.OlP("CdkDropListGroup"),LN=new s.OlP("CDK_DRAG_CONFIG");let N3=0;const BN=new s.OlP("CdkDropList");let F3=(()=>{class n{constructor(e,i,r,l,u,h,m){this.element=e,this._changeDetectorRef=r,this._scrollDispatcher=l,this._dir=u,this._group=h,this._destroyed=new $e.x,this.connectedTo=[],this.id="cdk-drop-list-"+N3++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new s.vpe,this.entered=new s.vpe,this.exited=new s.vpe,this.sorted=new s.vpe,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,m&&this._assignDefaults(m),this._dropListRef.enterPredicate=(b,D)=>this.enterPredicate(b.data,D.data),this._dropListRef.sortPredicate=(b,D,A)=>this.sortPredicate(b,D.data,A.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),h&&h._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=It(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Pn(this._dir.value),rn(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=Ud(this.connectedTo).map(r=>"string"==typeof r?n._dropLists.find(u=>u.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===i.indexOf(r)&&i.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(l=>l.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=It(this.sortingDisabled),e.autoScrollDisabled=It(this.autoScrollDisabled),e.autoScrollStep=di(this.autoScrollStep,2),e.connectedTo(i.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:i,draggingDisabled:r,sortingDisabled:l,listAutoScrollDisabled:u,listOrientation:h}=e;this.disabled=null!=r&&r,this.sortingDisabled=null!=l&&l,this.autoScrollDisabled=null!=u&&u,this.orientation=h||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return n._dropLists=[],n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(SM),s.Y36(s.sBO),s.Y36($d),s.Y36(Ps,8),s.Y36(FN,12),s.Y36(LN,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("id",i.id),s.ekj("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[s._Bn([{provide:FN,useValue:void 0},{provide:BN,useExisting:n}])]}),n})();const VN=new s.OlP("CdkDragHandle"),L3=new s.OlP("CdkDragPlaceholder"),B3=new s.OlP("CdkDragPreview");let U3=(()=>{class n{constructor(e,i,r,l,u,h,m,b,D,A,P){this.element=e,this.dropContainer=i,this._ngZone=l,this._viewContainerRef=u,this._dir=m,this._changeDetectorRef=D,this._selfHandle=A,this._parentDrag=P,this._destroyed=new $e.x,this.started=new s.vpe,this.released=new s.vpe,this.ended=new s.vpe,this.entered=new s.vpe,this.exited=new s.vpe,this.dropped=new s.vpe,this.moved=new cn.y(B=>{const G=this._dragRef.moved.pipe((0,ut.U)(re=>({source:this,pointerPosition:re.pointerPosition,event:re.event,delta:re.delta,distance:re.distance}))).subscribe(B);return()=>{G.unsubscribe()}}),this._dragRef=b.createDrag(e,{dragStartThreshold:h&&null!=h.dragStartThreshold?h.dragStartThreshold:5,pointerDirectionChangeThreshold:h&&null!=h.pointerDirectionChangeThreshold?h.pointerDirectionChangeThreshold:5,zIndex:null==h?void 0:h.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),h&&this._assignDefaults(h),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=It(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(un(1),rn(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,r=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var e;const i=this.element.nativeElement;let r=i;this.rootElementSelector&&(r=void 0!==i.closest?i.closest(this.rootElementSelector):null===(e=i.parentElement)||void 0===e?void 0:e.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||i)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):ri(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,r=this.dragStartDelay,l=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,u=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof r&&r?r:di(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(l).withPreviewTemplate(u).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(un(1)).subscribe(()=>{var i;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(r.classList.contains("cdk-drag")){e.withParent((null===(i=n._dragInstances.find(l=>l.element.nativeElement===r))||void 0===i?void 0:i._dragRef)||null);break}r=r.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:r,constrainPosition:l,previewClass:u,boundaryElement:h,draggingDisabled:m,rootElementSelector:b,previewContainer:D}=e;this.disabled=null!=m&&m,this.dragStartDelay=r||0,i&&(this.lockAxis=i),l&&(this.constrainPosition=l),u&&(this.previewClass=u),h&&(this.boundaryElement=h),b&&(this.rootElementSelector=b),D&&(this.previewContainer=D)}_setupHandlesListener(){this._handles.changes.pipe(Pn(this._handles),(0,Ci.b)(e=>{const i=e.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),Sn(e=>(0,br.T)(...e.map(i=>i._stateChanges.pipe(Pn(i))))),rn(this._destroyed)).subscribe(e=>{const i=this._dragRef,r=e.element.nativeElement;e.disabled?i.disableHandle(r):i.enableHandle(r)})}}return n._dragInstances=[],n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(BN,12),s.Y36(X),s.Y36(s.R0b),s.Y36(s.s_b),s.Y36(LN,8),s.Y36(Ps,8),s.Y36(SM),s.Y36(s.sBO),s.Y36(VN,10),s.Y36(NN,12))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,B3,5),s.Suo(r,L3,5),s.Suo(r,VN,5)),2&e){let l;s.iGM(l=s.CRH())&&(i._previewTemplate=l.first),s.iGM(l=s.CRH())&&(i._placeholderTemplate=l.first),s.iGM(l=s.CRH())&&(i._handles=l)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[s._Bn([{provide:NN,useExisting:n}]),s.TTD]}),n})(),H3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[SM],imports:[Pu]}),n})();var HE,j3=new Uint8Array(16);function z3(){if(!HE&&!(HE="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return HE(j3)}const q3=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,$3=function G3(n){return"string"==typeof n&&q3.test(n)};for(var zr=[],AM=0;AM<256;++AM)zr.push((AM+256).toString(16).substr(1));const Hv=function Y3(n,t,e){var i=(n=n||{}).random||(n.rng||z3)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){e=e||0;for(var r=0;r<16;++r)t[e+r]=i[r];return t}return function Z3(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(zr[n[t+0]]+zr[n[t+1]]+zr[n[t+2]]+zr[n[t+3]]+"-"+zr[n[t+4]]+zr[n[t+5]]+"-"+zr[n[t+6]]+zr[n[t+7]]+"-"+zr[n[t+8]]+zr[n[t+9]]+"-"+zr[n[t+10]]+zr[n[t+11]]+zr[n[t+12]]+zr[n[t+13]]+zr[n[t+14]]+zr[n[t+15]]).toLowerCase();if(!$3(e))throw TypeError("Stringified UUID is invalid");return e}(i)},UN=n=>n.shiftKey||n.metaKey||n.altKey||n.ctrlKey,HN=n=>n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLButtonElement,jN=n=>{n.stopImmediatePropagation(),n.stopPropagation(),n.preventDefault()};function MM(){return(0,ni.e)((n,t)=>{let e,i=!1;n.subscribe((0,nn.x)(t,r=>{const l=e;e=r,i&&t.next([l,r]),i=!0}))})}O(5881);var lt,K3=O(3942),Q3="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Wu={},xM=xM||{},Vt=Q3||self;function jE(){}function kM(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function jv(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var RM="closure_uid_"+(1e9*Math.random()>>>0),X3=0;function e6(n,t,e){return n.call.apply(n.bind,arguments)}function t6(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function qr(n,t,e){return(qr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?e6:t6).apply(null,arguments)}function zE(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Gr(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,l){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[r].apply(i,u)}}function ch(){this.s=this.s,this.o=this.o}var i6={};ch.prototype.s=!1,ch.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function J3(n){return Object.prototype.hasOwnProperty.call(n,RM)&&n[RM]||(n[RM]=++X3)}(this);delete i6[n]}},ch.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zN=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},qN=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let l=0;l<i;l++)l in r&&t.call(e,r[l],l,n)};function GN(n){return Array.prototype.concat.apply([],arguments)}function OM(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function qE(n){return/^[\s\xa0]*$/.test(n)}var Gs,$N=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function qs(n,t){return-1!=n.indexOf(t)}function PM(n,t){return n<t?-1:n>t?1:0}e:{var ZN=Vt.navigator;if(ZN){var WN=ZN.userAgent;if(WN){Gs=WN;break e}}Gs=""}function NM(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function YN(n){const t={};for(const e in n)t[e]=n[e];return t}var KN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function QN(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let l=0;l<KN.length;l++)e=KN[l],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function FM(n){return FM[" "](n),n}FM[" "]=jE;var GE,n,o6=qs(Gs,"Opera"),ym=qs(Gs,"Trident")||qs(Gs,"MSIE"),JN=qs(Gs,"Edge"),LM=JN||ym,XN=qs(Gs,"Gecko")&&!(qs(Gs.toLowerCase(),"webkit")&&!qs(Gs,"Edge"))&&!(qs(Gs,"Trident")||qs(Gs,"MSIE"))&&!qs(Gs,"Edge"),a6=qs(Gs.toLowerCase(),"webkit")&&!qs(Gs,"Edge");function eF(){var n=Vt.document;return n?n.documentMode:void 0}e:{var BM="",VM=(n=Gs,XN?/rv:([^\);]+)(\)|;)/.exec(n):JN?/Edge\/([\d\.]+)/.exec(n):ym?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):a6?/WebKit\/(\S+)/.exec(n):o6?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(VM&&(BM=VM?VM[1]:""),ym){var UM=eF();if(null!=UM&&UM>parseFloat(BM)){GE=String(UM);break e}}GE=BM}var l6={};var u6=Vt.document&&ym&&(eF()||parseInt(GE,10))||void 0,d6=function(){if(!Vt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Vt.addEventListener("test",jE,t),Vt.removeEventListener("test",jE,t)}catch(e){}return n}();function ms(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function zv(n,t){if(ms.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(XN){e:{try{FM(t.nodeName);var r=!0;break e}catch(l){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:h6[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&zv.Z.h.call(this)}}ms.prototype.h=function(){this.defaultPrevented=!0},Gr(zv,ms);var h6={2:"touch",3:"pen",4:"mouse"};zv.prototype.h=function(){zv.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var qv="closure_listenable_"+(1e6*Math.random()|0),f6=0;function p6(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++f6,this.ca=this.fa=!1}function $E(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function ZE(n){this.src=n,this.g={},this.h=0}function jM(n,t){var e=t.type;if(e in n.g){var l,i=n.g[e],r=zN(i,t);(l=0<=r)&&Array.prototype.splice.call(i,r,1),l&&($E(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function zM(n,t,e,i){for(var r=0;r<n.length;++r){var l=n[r];if(!l.ca&&l.listener==t&&l.capture==!!e&&l.ia==i)return r}return-1}ZE.prototype.add=function(n,t,e,i,r){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var u=zM(n,t,i,r);return-1<u?(t=n[u],e||(t.fa=!1)):((t=new p6(t,this.src,l,!!i,r)).fa=e,n.push(t)),t};var qM="closure_lm_"+(1e6*Math.random()|0),GM={};function nF(n,t,e,i,r){if(i&&i.once)return rF(n,t,e,i,r);if(Array.isArray(t)){for(var l=0;l<t.length;l++)nF(n,t[l],e,i,r);return null}return e=YM(e),n&&n[qv]?n.N(t,e,jv(i)?!!i.capture:!!i,r):iF(n,t,e,!1,i,r)}function iF(n,t,e,i,r,l){if(!t)throw Error("Invalid event type");var u=jv(r)?!!r.capture:!!r,h=ZM(n);if(h||(n[qM]=h=new ZE(n)),(e=h.add(t,e,i,u,l)).proxy)return e;if(i=function g6(){var t=m6;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)d6||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(oF(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function rF(n,t,e,i,r){if(Array.isArray(t)){for(var l=0;l<t.length;l++)rF(n,t[l],e,i,r);return null}return e=YM(e),n&&n[qv]?n.O(t,e,jv(i)?!!i.capture:!!i,r):iF(n,t,e,!0,i,r)}function sF(n,t,e,i,r){if(Array.isArray(t))for(var l=0;l<t.length;l++)sF(n,t[l],e,i,r);else i=jv(i)?!!i.capture:!!i,e=YM(e),n&&n[qv]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=zM(l=n.g[t],e,i,r))&&($E(l[e]),Array.prototype.splice.call(l,e,1),0==l.length&&(delete n.g[t],n.h--))):n&&(n=ZM(n))&&(t=n.g[t.toString()],n=-1,t&&(n=zM(t,e,i,r)),(e=-1<n?t[n]:null)&&$M(e))}function $M(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[qv])jM(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(oF(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=ZM(t))?(jM(e,n),0==e.h&&(e.src=null,t[qM]=null)):$E(n)}}}function oF(n){return n in GM?GM[n]:GM[n]="on"+n}function m6(n,t){if(n.ca)n=!0;else{t=new zv(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&$M(n),n=e.call(i,t)}return n}function ZM(n){return(n=n[qM])instanceof ZE?n:null}var WM="__closure_events_fn_"+(1e9*Math.random()>>>0);function YM(n){return"function"==typeof n?n:(n[WM]||(n[WM]=function(t){return n.handleEvent(t)}),n[WM])}function Cr(){ch.call(this),this.i=new ZE(this),this.P=this,this.I=null}function $r(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new ms(t,n);else if(t instanceof ms)t.target=t.target||n;else{var r=t;QN(t=new ms(i,n),r)}if(r=!0,e)for(var l=e.length-1;0<=l;l--){var u=t.g=e[l];r=WE(u,i,!0,t)&&r}if(r=WE(u=t.g=n,i,!0,t)&&r,r=WE(u,i,!1,t)&&r,e)for(l=0;l<e.length;l++)r=WE(u=t.g=e[l],i,!1,t)&&r}function WE(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,l=0;l<t.length;++l){var u=t[l];if(u&&!u.ca&&u.capture==e){var h=u.listener,m=u.ia||u.src;u.fa&&jM(n.i,u),r=!1!==h.call(m,i)&&r}}return r&&!i.defaultPrevented}Gr(Cr,ch),Cr.prototype[qv]=!0,Cr.prototype.removeEventListener=function(n,t,e,i){sF(this,n,t,e,i)},Cr.prototype.M=function(){if(Cr.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)$E(e[i]);delete n.g[t],n.h--}}this.I=null},Cr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Cr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var KM=Vt.JSON.stringify;function _6(){var n=lF;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var JM,aF=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new v6,n=>n.reset());class v6{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function b6(n){Vt.setTimeout(()=>{throw n},0)}function QM(n,t){JM||function w6(){var n=Vt.Promise.resolve(void 0);JM=function(){n.then(C6)}}(),XM||(JM(),XM=!0),lF.add(n,t)}var XM=!1,lF=new class y6{constructor(){this.h=this.g=null}add(t,e){const i=aF.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function C6(){for(var n;n=_6();){try{n.h.call(n.g)}catch(e){b6(e)}var t=aF;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}XM=!1}function YE(n,t){Cr.call(this),this.h=n||1,this.g=t||Vt,this.j=qr(this.kb,this),this.l=Date.now()}function ex(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function tx(n,t,e){if("function"==typeof n)e&&(n=qr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=qr(n.handleEvent,n)}return 2147483647<Number(t)?-1:Vt.setTimeout(n,t||0)}function cF(n){n.g=tx(()=>{n.g=null,n.i&&(n.i=!1,cF(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Gr(YE,Cr),(lt=YE.prototype).da=!1,lt.S=null,lt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),$r(this,"tick"),this.da&&(ex(this),this.start()))}},lt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lt.M=function(){YE.Z.M.call(this),ex(this),delete this.g};class E6 extends ch{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:cF(this)}M(){super.M(),this.g&&(Vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gv(n){ch.call(this),this.h=n,this.g={}}Gr(Gv,ch);var uF=[];function dF(n,t,e,i){Array.isArray(e)||(e&&(uF[0]=e.toString()),e=uF);for(var r=0;r<e.length;r++){var l=nF(t,e[r],i||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function hF(n){NM(n.g,function(t,e){this.g.hasOwnProperty(e)&&$M(t)},n),n.g={}}function KE(){this.g=!0}function vm(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function S6(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var l=r[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var u=1;u<r.length;u++)r[u]=""}}}return KM(e)}catch(h){return t}}(n,e)+(i?" "+i:"")})}Gv.prototype.M=function(){Gv.Z.M.call(this),hF(this)},Gv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},KE.prototype.Aa=function(){this.g=!1},KE.prototype.info=function(){};var tp={},fF=null;function QE(){return fF=fF||new Cr}function pF(n){ms.call(this,tp.Ma,n)}function $v(n){const t=QE();$r(t,new pF(t,n))}function gF(n,t){ms.call(this,tp.STAT_EVENT,n),this.stat=t}function $s(n){const t=QE();$r(t,new gF(t,n))}function mF(n,t){ms.call(this,tp.Na,n),this.size=t}function Zv(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Vt.setTimeout(function(){n()},t)}tp.Ma="serverreachability",Gr(pF,ms),tp.STAT_EVENT="statevent",Gr(gF,ms),tp.Na="timingevent",Gr(mF,ms);var JE={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},_F={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function nx(){}function vF(){}nx.prototype.h=null;var sx,Wv={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ix(){ms.call(this,"d")}function rx(){ms.call(this,"c")}function XE(){}function Yv(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new Gv(this),this.P=A6,this.W=new YE(n=LM?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new bF}function bF(){this.i=null,this.g="",this.h=!1}Gr(ix,ms),Gr(rx,ms),Gr(XE,nx),XE.prototype.g=function(){return new XMLHttpRequest},XE.prototype.i=function(){return{}},sx=new XE;var A6=45e3,ox={},eD={};function ax(n,t,e){n.K=1,n.v=sD(Yu(t)),n.s=e,n.U=!0,wF(n,null)}function wF(n,t){n.F=Date.now(),Kv(n),n.A=Yu(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),xF(e.h,"t",i),n.C=0,e=n.l.H,n.h=new bF,n.g=XF(n.l,e?t:null,!n.s),0<n.O&&(n.L=new E6(qr(n.Ia,n,n.g),n.O)),dF(n.V,n.g,"readystatechange",n.gb),t=n.H?YN(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),$v(1),function D6(n,t,e,i,r,l){n.info(function(){if(n.g)if(l)for(var u="",h=l.split("&"),m=0;m<h.length;m++){var b=h[m].split("=");if(1<b.length){var D=b[0];b=b[1];var A=D.split("_");u=2<=A.length&&"type"==A[1]?u+(D+"=")+b+"&":u+(D+"=redacted&")}}else u=null;else u=l;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function CF(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function EF(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=M6(n,e),r==eD){4==t&&(n.o=4,$s(14),i=!1),vm(n.j,n.m,null,"[Incomplete Response]");break}if(r==ox){n.o=4,$s(15),vm(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}vm(n.j,n.m,r,null),lx(n,r)}CF(n)&&r!=eD&&r!=ox&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,$s(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),vx(t),t.L=!0,$s(11))):(vm(n.j,n.m,e,"[Invalid Chunked Response]"),np(n),Qv(n))}function M6(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?eD:(e=Number(t.substring(e,i)),isNaN(e)?ox:(i+=1)+e>t.length?eD:(t=t.substr(i,e),n.C=i+e,t))}function Kv(n){n.Y=Date.now()+n.P,DF(n,n.P)}function DF(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Zv(qr(n.eb,n),t)}function tD(n){n.B&&(Vt.clearTimeout(n.B),n.B=null)}function Qv(n){0==n.l.G||n.I||YF(n.l,n)}function np(n){tD(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,ex(n.W),hF(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function lx(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||dx(e.i,n)))if(e.I=n.N,!n.J&&dx(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(b){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=Zv(qr(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;dD(e),cD(e)}yx(e),$s(18)}if(1>=OF(e.i)&&e.ka){try{e.ka()}catch(b){}e.ka=void 0}}else sp(e,11)}else if((n.J||e.g==n)&&dD(e),!qE(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let b=r[t];if(e.U=b[0],b=b[1],2==e.G)if("c"==b[0]){e.J=b[1],e.la=b[2];const D=b[3];null!=D&&(e.ma=D,e.h.info("VER="+e.ma));const A=b[4];null!=A&&(e.za=A,e.h.info("SVER="+e.za));const P=b[5];null!=P&&"number"==typeof P&&0<P&&(e.K=i=1.5*P,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const B=n.g;if(B){const G=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var l=i.i;!l.g&&(qs(G,"spdy")||qs(G,"quic")||qs(G,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(hx(l,l.h),l.h=null))}if(i.D){const re=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;re&&(i.sa=re,pi(i.F,i.D,re))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var u=n;if((i=e).oa=JF(i,i.H?i.la:null,i.W),u.J){PF(i.i,u);var h=u,m=i.K;m&&h.setTimeout(m),h.B&&(tD(h),Kv(h)),i.g=u}else ZF(i);0<e.l.length&&uD(e)}else"stop"!=b[0]&&"close"!=b[0]||sp(e,7);else 3==e.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?sp(e,7):mx(e):"noop"!=b[0]&&e.j&&e.j.wa(b),e.A=0)}$v(4)}catch(b){}}function cx(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(kM(n)||"string"==typeof n)qN(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(kM(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function x6(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(kM(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var l=0;l<r;l++)t.call(void 0,i[l],e&&e[l],n)}}function bm(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof bm)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function ux(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];ip(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)ip(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function ip(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(lt=Yv.prototype).setTimeout=function(n){this.P=n},lt.gb=function(n){n=n.target;const t=this.L;t&&3==Ku(n)?t.l():this.Ia(n)},lt.Ia=function(n){try{if(n==this.g)e:{const D=Ku(this.g);var t=this.g.Da();const A=this.g.ba();if(!(3>D)&&(3!=D||LM||this.g&&(this.h.h||this.g.ga()||jF(this.g)))){this.I||4!=D||7==t||$v(8==t||0>=A?3:2),tD(this);var e=this.g.ba();this.N=e;t:if(CF(this)){var i=jF(this.g);n="";var r=i.length,l=4==Ku(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){np(this),Qv(this);var u="";break t}this.h.i=new Vt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:l&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==e,function T6(n,t,e,i,r,l,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+l+" "+u})}(this.j,this.u,this.A,this.m,this.X,D,e),this.i){if(this.$&&!this.J){t:{if(this.g){var h,m=this.g;if((h=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qE(h)){var b=h;break t}}b=null}if(!(e=b)){this.i=!1,this.o=3,$s(12),np(this),Qv(this);break e}vm(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,lx(this,e)}this.U?(EF(this,D,u),LM&&this.i&&3==D&&(dF(this.V,this.W,"tick",this.fb),this.W.start())):(vm(this.j,this.m,u,null),lx(this,u)),4==D&&np(this),this.i&&!this.I&&(4==D?YF(this.l,this):(this.i=!1,Kv(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,$s(12)):(this.o=0,$s(13)),np(this),Qv(this)}}}catch(D){}},lt.fb=function(){if(this.g){var n=Ku(this.g),t=this.g.ga();this.C<t.length&&(tD(this),EF(this,n,t),this.i&&4!=n&&Kv(this))}},lt.cancel=function(){this.I=!0,np(this)},lt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function I6(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&($v(3),$s(17)),np(this),this.o=2,Qv(this)):DF(this,this.Y-n)},(lt=bm.prototype).R=function(){ux(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},lt.T=function(){return ux(this),this.g.concat()},lt.get=function(n,t){return ip(this.h,n)?this.h[n]:t},lt.set=function(n,t){ip(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},lt.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],l=this.get(r);n.call(t,l,r,this)}};var TF=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function rp(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof rp){this.g=void 0!==t?t:n.g,nD(this,n.j),this.s=n.s,iD(this,n.i),rD(this,n.m),this.l=n.l,t=n.h;var e=new eb;e.i=t.i,t.g&&(e.g=new bm(t.g),e.h=t.h),IF(this,e),this.o=n.o}else n&&(e=String(n).match(TF))?(this.g=!!t,nD(this,e[1]||"",!0),this.s=Jv(e[2]||""),iD(this,e[3]||"",!0),rD(this,e[4]),this.l=Jv(e[5]||"",!0),IF(this,e[6]||"",!0),this.o=Jv(e[7]||"")):(this.g=!!t,this.h=new eb(null,this.g))}function Yu(n){return new rp(n)}function nD(n,t,e){n.j=e?Jv(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function iD(n,t,e){n.i=e?Jv(t,!0):t}function rD(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function IF(n,t,e){t instanceof eb?(n.h=t,function V6(n,t){t&&!n.j&&(uh(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(AF(this,i),xF(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=Xv(t,L6)),n.h=new eb(t,n.g))}function pi(n,t,e){n.h.set(t,e)}function sD(n){return pi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Jv(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Xv(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,P6),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function P6(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}rp.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Xv(t,SF,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Xv(t,SF,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(Xv(e,"/"==e.charAt(0)?F6:N6,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Xv(e,B6)),n.join("")};var SF=/[#\/\?@]/g,N6=/[#\?:]/g,F6=/[#\?]/g,L6=/[#\?@]/g,B6=/#/g;function eb(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function uh(n){n.g||(n.g=new bm,n.h=0,n.i&&function k6(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var l=n[e].substring(0,i);r=n[e].substring(i+1)}else l=n[e];t(l,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function AF(n,t){uh(n),t=wm(n,t),ip(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,ip((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&ux(n)))}function MF(n,t){return uh(n),t=wm(n,t),ip(n.g.h,t)}function xF(n,t,e){AF(n,t),0<e.length&&(n.i=null,n.g.set(wm(n,t),OM(e)),n.h+=e.length)}function wm(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function kF(n){this.l=n||H6,n=Vt.PerformanceNavigationTiming?0<(n=Vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Vt.g&&Vt.g.Ea&&Vt.g.Ea()&&Vt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(lt=eb.prototype).add=function(n,t){uh(this),this.i=null,n=wm(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},lt.forEach=function(n,t){uh(this),this.g.forEach(function(e,i){qN(e,function(r){n.call(t,r,i,this)},this)},this)},lt.T=function(){uh(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],l=0;l<r.length;l++)e.push(t[i]);return e},lt.R=function(n){uh(this);var t=[];if("string"==typeof n)MF(this,n)&&(t=GN(t,this.g.get(wm(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=GN(t,n[e])}return t},lt.set=function(n,t){return uh(this),this.i=null,MF(this,n=wm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},lt.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},lt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var l=0;l<i.length;l++){var u=r;""!==i[l]&&(u+="="+encodeURIComponent(String(i[l]))),n.push(u)}}return this.i=n.join("&")};var H6=10;function RF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function OF(n){return n.h?1:n.g?n.g.size:0}function dx(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function hx(n,t){n.g?n.g.add(t):n.h=t}function PF(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function NF(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return OM(n.i)}function fx(){}function j6(){this.g=new fx}function z6(n,t,e){const i=e||"";try{cx(n,function(r,l){let u=r;jv(r)&&(u=KM(r)),t.push(i+l+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function oD(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(l){}}function tb(n){this.l=n.$b||null,this.j=n.ib||!1}function aD(n,t){Cr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=px,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kF.prototype.cancel=function(){if(this.i=NF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},fx.prototype.stringify=function(n){return Vt.JSON.stringify(n,void 0)},fx.prototype.parse=function(n){return Vt.JSON.parse(n,void 0)},Gr(tb,nx),tb.prototype.g=function(){return new aD(this.l,this.j)},tb.prototype.i=function(n){return function(){return n}}({}),Gr(aD,Cr);var px=0;function FF(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function nb(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ib(n)}function ib(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(lt=aD.prototype).open=function(n,t){if(this.readyState!=px)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,ib(this)},lt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Vt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},lt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,nb(this)),this.readyState=px},lt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ib(this)),this.g&&(this.readyState=3,ib(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Vt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;FF(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},lt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?nb(this):ib(this),3==this.readyState&&FF(this)}},lt.Ua=function(n){this.g&&(this.response=this.responseText=n,nb(this))},lt.Ta=function(n){this.g&&(this.response=n,nb(this))},lt.ha=function(){this.g&&nb(this)},lt.setRequestHeader=function(n,t){this.v.append(n,t)},lt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},lt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(aD.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var G6=Vt.JSON.parse;function Ki(n){Cr.call(this),this.headers=new bm,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=LF,this.K=this.L=!1}Gr(Ki,Cr);var LF="",$6=/^https?$/i,Z6=["POST","PUT"];function Y6(n){return"content-type"==n.toLowerCase()}function BF(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,VF(n),lD(n)}function VF(n){n.D||(n.D=!0,$r(n,"complete"),$r(n,"error"))}function UF(n){if(n.h&&void 0!==xM&&(!n.C[1]||4!=Ku(n)||2!=n.ba()))if(n.v&&4==Ku(n))tx(n.Fa,0,n);else if($r(n,"readystatechange"),4==Ku(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(TF)[1]||null;if(!r&&Vt.self&&Vt.self.location){var l=Vt.self.location.protocol;r=l.substr(0,l.length-1)}i=!$6.test(r?r.toLowerCase():"")}e=i}if(e)$r(n,"complete"),$r(n,"success");else{n.m=6;try{var u=2<Ku(n)?n.g.statusText:""}catch(m){u=""}n.j=u+" ["+n.ba()+"]",VF(n)}}finally{lD(n)}}}function lD(n,t){if(n.g){HF(n);const e=n.g,i=n.C[0]?jE:null;n.g=null,n.C=null,t||$r(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function HF(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Vt.clearTimeout(n.A),n.A=null)}function Ku(n){return n.g?n.g.readyState:0}function jF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case LF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function gx(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function K6(n){let t="";return NM(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):pi(n,t,e))}function rb(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function zF(n){this.za=0,this.l=[],this.h=new KE,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=rb("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=rb("baseRetryDelayMs",5e3,n),this.$a=rb("retryDelaySeedMs",1e4,n),this.Ya=rb("forwardChannelMaxRetries",2,n),this.ra=rb("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new kF(n&&n.concurrentRequestLimit),this.Ca=new j6,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function mx(n){if(qF(n),3==n.G){var t=n.V++,e=Yu(n.F);pi(e,"SID",n.J),pi(e,"RID",t),pi(e,"TYPE","terminate"),sb(n,e),(t=new Yv(n,n.h,t,void 0)).K=2,t.v=sD(Yu(e)),e=!1,Vt.navigator&&Vt.navigator.sendBeacon&&(e=Vt.navigator.sendBeacon(t.v.toString(),"")),!e&&Vt.Image&&((new Image).src=t.v,e=!0),e||(t.g=XF(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Kv(t)}QF(n)}function cD(n){n.g&&(vx(n),n.g.cancel(),n.g=null)}function qF(n){cD(n),n.u&&(Vt.clearTimeout(n.u),n.u=null),dD(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Vt.clearTimeout(n.m),n.m=null)}function _x(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&uD(n)}function uD(n){RF(n.i)||n.m||(n.m=!0,QM(n.Ha,n),n.C=0)}function GF(n,t){var e;e=t?t.m:n.V++;const i=Yu(n.F);pi(i,"SID",n.J),pi(i,"RID",e),pi(i,"AID",n.U),sb(n,i),n.o&&n.s&&gx(i,n.o,n.s),e=new Yv(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=$F(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),hx(n.i,e),ax(e,i,t)}function sb(n,t){n.j&&cx({},function(e,i){pi(t,i,e)})}function $F(n,t,e){e=Math.min(n.l.length,e);var i=n.j?qr(n.j.Oa,n.j,n):null;e:{var r=n.l;let l=-1;for(;;){const u=["count="+e];-1==l?0<e?(l=r[0].h,u.push("ofs="+l)):l=0:u.push("ofs="+l);let h=!0;for(let m=0;m<e;m++){let b=r[m].h;const D=r[m].g;if(b-=l,0>b)l=Math.max(0,r[m].h-100),h=!1;else try{z6(D,u,"req"+b+"_")}catch(A){i&&i(D)}}if(h){i=u.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function ZF(n){n.g||n.u||(n.Y=1,QM(n.Ga,n),n.A=0)}function yx(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Zv(qr(n.Ga,n),KF(n,n.A)),n.A++,0))}function vx(n){null!=n.B&&(Vt.clearTimeout(n.B),n.B=null)}function WF(n){n.g=new Yv(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=Yu(n.oa);pi(t,"RID","rpc"),pi(t,"SID",n.J),pi(t,"CI",n.N?"0":"1"),pi(t,"AID",n.U),sb(n,t),pi(t,"TYPE","xmlhttp"),n.o&&n.s&&gx(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=sD(Yu(t)),e.s=null,e.U=!0,wF(e,n)}function dD(n){null!=n.v&&(Vt.clearTimeout(n.v),n.v=null)}function YF(n,t){var e=null;if(n.g==t){dD(n),vx(n),n.g=null;var i=2}else{if(!dx(n.i,t))return;e=t.D,PF(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;$r(i=QE(),new mF(i,e,t,r)),uD(n)}else ZF(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function Q6(n,t){return!(OF(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Zv(qr(n.Ha,n,t),KF(n,n.C)),n.C++,0)))}(n,t)||2==i&&yx(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:sp(n,5);break;case 4:sp(n,10);break;case 3:sp(n,6);break;default:sp(n,2)}}function KF(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function sp(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=qr(n.jb,n);e||(e=new rp("//www.google.com/images/cleardot.gif"),Vt.location&&"http"==Vt.location.protocol||nD(e,"https"),sD(e)),function q6(n,t){const e=new KE;if(Vt.Image){const i=new Image;i.onload=zE(oD,e,i,"TestLoadImage: loaded",!0,t),i.onerror=zE(oD,e,i,"TestLoadImage: error",!1,t),i.onabort=zE(oD,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=zE(oD,e,i,"TestLoadImage: timeout",!1,t),Vt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else $s(2);n.G=0,n.j&&n.j.va(t),QF(n),qF(n)}function QF(n){n.G=0,n.I=-1,n.j&&((0!=NF(n.i).length||0!=n.l.length)&&(n.i.i.length=0,OM(n.l),n.l.length=0),n.j.ua())}function JF(n,t,e){let i=function R6(n){return n instanceof rp?Yu(n):new rp(n,void 0)}(e);if(""!=i.i)t&&iD(i,t+"."+i.i),rD(i,i.m);else{const r=Vt.location;i=function O6(n,t,e,i){var r=new rp(null,void 0);return n&&nD(r,n),t&&iD(r,t),e&&rD(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&NM(n.aa,function(r,l){pi(i,l,r)}),e=n.sa,(t=n.D)&&e&&pi(i,t,e),pi(i,"VER",n.ma),sb(n,i),i}function XF(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Ki(e&&n.Ba&&!n.qa?new tb({ib:!0}):n.qa)).L=n.H,t}function eL(){}function hD(){if(ym&&!(10<=Number(u6)))throw Error("Environmental error: no available transport.")}function Ko(n,t){Cr.call(this),this.g=new zF(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!qE(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!qE(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Cm(this)}function tL(n){ix.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function nL(){rx.call(this),this.status=1}function Cm(n){this.g=n}(lt=Ki.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():sx.g(),this.C=function yF(n){return n.h||(n.h=n.i())}(this.u?this.u:sx),this.g.onreadystatechange=qr(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(l){return void BF(this,l)}n=e||"";const r=new bm(this.headers);i&&cx(i,function(l,u){r.set(u,l)}),i=function r6(n){e:{var t=Y6;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=Vt.FormData&&n instanceof Vt.FormData,!(0<=zN(Z6,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(l,u){this.g.setRequestHeader(u,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{HF(this),0<this.B&&((this.K=function W6(n){return ym&&function c6(){return function s6(n){var t=l6;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=$N(String(GE)).split("."),e=$N("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",l=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==r[0].length&&0==l[0].length)break;n=PM(0==r[1].length?0:parseInt(r[1],10),0==l[1].length?0:parseInt(l[1],10))||PM(0==r[2].length,0==l[2].length)||PM(r[2],l[2]),r=r[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qr(this.pa,this)):this.A=tx(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){BF(this,l)}},lt.pa=function(){void 0!==xM&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$r(this,"timeout"),this.abort(8))},lt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,$r(this,"complete"),$r(this,"abort"),lD(this))},lt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lD(this,!0)),Ki.Z.M.call(this)},lt.Fa=function(){this.s||(this.F||this.v||this.l?UF(this):this.cb())},lt.cb=function(){UF(this)},lt.ba=function(){try{return 2<Ku(this)?this.g.status:-1}catch(n){return-1}},lt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},lt.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),G6(t)}},lt.Da=function(){return this.m},lt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(lt=zF.prototype).ma=8,lt.G=1,lt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},lt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Yv(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=YN(l),QN(l,this.P)):l=this.P),null===this.o&&(r.H=l),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=$F(this,r,t),pi(e=Yu(this.F),"RID",n),pi(e,"CVER",22),this.D&&pi(e,"X-HTTP-Session-Id",this.D),sb(this,e),this.o&&l&&gx(e,this.o,l),hx(this.i,r),this.Ra&&pi(e,"TYPE","init"),this.ja?(pi(e,"$req",t),pi(e,"SID","null"),r.$=!0,ax(r,e,null)):ax(r,e,t),this.G=2}}else 3==this.G&&(n?GF(this,n):0==this.l.length||RF(this.i)||GF(this))},lt.Ga=function(){if(this.u=null,WF(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Zv(qr(this.bb,this),n)}},lt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,$s(10),cD(this),WF(this))},lt.ab=function(){null!=this.v&&(this.v=null,cD(this),yx(this),$s(19))},lt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),$s(2)):(this.h.info("Failed to ping google.com"),$s(1))},(lt=eL.prototype).xa=function(){},lt.wa=function(){},lt.va=function(){},lt.ua=function(){},lt.Oa=function(){},hD.prototype.g=function(n,t){return new Ko(n,t)},Gr(Ko,Cr),Ko.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),QM(qr(n.hb,n,t))),$s(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=JF(n,null,n.W),uD(n)},Ko.prototype.close=function(){mx(this.g)},Ko.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,_x(this.g,t)}else this.v?((t={}).__data__=KM(n),_x(this.g,t)):_x(this.g,n)},Ko.prototype.M=function(){this.g.j=null,delete this.j,mx(this.g),delete this.g,Ko.Z.M.call(this)},Gr(tL,ix),Gr(nL,rx),Gr(Cm,eL),Cm.prototype.xa=function(){$r(this.g,"a")},Cm.prototype.wa=function(n){$r(this.g,new tL(n))},Cm.prototype.va=function(n){$r(this.g,new nL(n))},Cm.prototype.ua=function(){$r(this.g,"b")},hD.prototype.createWebChannel=hD.prototype.g,Ko.prototype.send=Ko.prototype.u,Ko.prototype.open=Ko.prototype.m,Ko.prototype.close=Ko.prototype.close,JE.NO_ERROR=0,JE.TIMEOUT=8,JE.HTTP_ERROR=6,_F.COMPLETE="complete",vF.EventType=Wv,Wv.OPEN="a",Wv.CLOSE="b",Wv.ERROR="c",Wv.MESSAGE="d",Cr.prototype.listen=Cr.prototype.N,Ki.prototype.listenOnce=Ki.prototype.O,Ki.prototype.getLastError=Ki.prototype.La,Ki.prototype.getLastErrorCode=Ki.prototype.Da,Ki.prototype.getStatus=Ki.prototype.ba,Ki.prototype.getResponseJson=Ki.prototype.Qa,Ki.prototype.getResponseText=Ki.prototype.ga,Ki.prototype.send=Ki.prototype.ea;var J6=Wu.createWebChannelTransport=function(){return new hD},X6=Wu.getStatEventTarget=function(){return QE()},bx=Wu.ErrorCode=JE,ez=Wu.EventType=_F,tz=Wu.Event=tp,iL=Wu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},nz=Wu.FetchXmlHttpFactory=tb,fD=Wu.WebChannel=vF,iz=Wu.XhrIo=Ki;const rL="@firebase/firestore";class Zr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Zr.UNAUTHENTICATED=new Zr(null),Zr.GOOGLE_CREDENTIALS=new Zr("google-credentials-uid"),Zr.FIRST_PARTY=new Zr("first-party-uid"),Zr.MOCK_USER=new Zr("mock-user");let Em="9.6.5";const dh=new Rc.Yd("@firebase/firestore");function wx(){return dh.logLevel}function He(n,...t){if(dh.logLevel<=Rc.in.DEBUG){const e=t.map(Cx);dh.debug(`Firestore (${Em}): ${n}`,...e)}}function Qi(n,...t){if(dh.logLevel<=Rc.in.ERROR){const e=t.map(Cx);dh.error(`Firestore (${Em}): ${n}`,...e)}}function ob(n,...t){if(dh.logLevel<=Rc.in.WARN){const e=t.map(Cx);dh.warn(`Firestore (${Em}): ${n}`,...e)}}function Cx(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function wt(n="Unexpected state"){const t=`FIRESTORE (${Em}) INTERNAL ASSERTION FAILED: `+n;throw Qi(t),new Error(t)}function Ot(n,t){n||wt()}function Qe(n,t){return n}const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Rt.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Er{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class sL{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class oz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Zr.UNAUTHENTICATED))}shutdown(){}}class az{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class lz{constructor(t){this.t=t,this.currentUser=Zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const l=b=>this.i!==r?(r=this.i,e(b)):Promise.resolve();let u=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Er,t.enqueueRetryable(()=>l(this.currentUser))};const h=()=>{const b=u;t.enqueueRetryable((0,ye.Z)(function*(){yield b.promise,yield l(i.currentUser)}))},m=b=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(b=>m(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?m(b):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Er)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ot("string"==typeof i.accessToken),new sL(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ot(null===t||"string"==typeof t),new Zr(t)}}class cz{constructor(t,e,i){this.type="FirstParty",this.user=Zr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class uz{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new cz(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oL{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dz{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null}start(t,e){this.o=r=>{t.enqueueRetryable(()=>{return null!=(l=r).error&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`),e(l.token);var l})};const i=r=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.g.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.g.getImmediate({optional:!0});r?i(r):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ot("string"==typeof e.token),new oL(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Qo{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.p(i),this.T=i=>e.writeSequenceNumber(i))}p(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function hz(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}Qo.I=-1;class aL{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=hz(40);for(let l=0;l<r.length;++l)i.length<20&&r[l]<e&&(i+=t.charAt(r[l]%t.length))}return i}}function an(n,t){return n<t?-1:n>t?1:0}function Dm(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function lL(n){return n+"\0"}class Dr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ne(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ne(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ne(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ne(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Dr.fromMillis(Date.now())}static fromDate(t){return Dr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Dr(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?an(this.nanoseconds,t.nanoseconds):an(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class qt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new qt(t)}static min(){return new qt(new Dr(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function cL(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function op(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function uL(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ab{constructor(t,e,i){void 0===e?e=0:e>t.length&&wt(),void 0===i?i=t.length-e:i>t.length-e&&wt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===ab.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ab?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const l=t.get(r),u=e.get(r);if(l<u)return-1;if(l>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Mn extends ab{construct(t,e,i){return new Mn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ne(ve.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Mn(e)}static emptyPath(){return new Mn([])}}const fz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wr extends ab{construct(t,e,i){return new Wr(t,e,i)}static isValidIdentifier(t){return fz.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Wr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const l=()=>{if(0===i.length)throw new Ne(ve.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new Ne(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[r+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Ne(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=m,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(l(),r++)}if(l(),u)throw new Ne(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Wr(e)}static emptyPath(){return new Wr([])}}class Tm{constructor(t){this.fields=t,t.sort(Wr.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Dm(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class ur{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new ur(e)}static fromUint8Array(t){const e=function(i){let r="";for(let l=0;l<i.length;++l)r+=String.fromCharCode(i[l]);return r}(t);return new ur(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return an(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ur.EMPTY_BYTE_STRING=new ur("");const gz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hh(n){if(Ot(!!n),"string"==typeof n){let t=0;const e=gz.exec(n);if(Ot(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ji(n.seconds),nanos:Ji(n.nanos)}}function Ji(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Im(n){return"string"==typeof n?ur.fromBase64String(n):ur.fromUint8Array(n)}function Ex(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function dL(n){const t=n.mapValue.fields.__previous_value__;return Ex(t)?dL(t):t}function lb(n){const t=hh(n.mapValue.fields.__local_write_time__.timestampValue);return new Dr(t.seconds,t.nanos)}function ap(n){return null==n}function pD(n){return 0===n&&1/n==-1/0}function hL(n){return"number"==typeof n&&Number.isInteger(n)&&!pD(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class vt{constructor(t){this.path=t}static fromPath(t){return new vt(Mn.fromString(t))}static fromName(t){return new vt(Mn.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===Mn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Mn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new Mn(t.slice()))}}function lp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ex(n)?4:10:wt()}function Oc(n,t){if(n===t)return!0;const e=lp(n);if(e!==lp(t))return!1;switch(e){case 0:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return lb(n).isEqual(lb(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const l=hh(i.timestampValue),u=hh(r.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Im(n.bytesValue).isEqual(Im(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Ji(i.geoPointValue.latitude)===Ji(r.geoPointValue.latitude)&&Ji(i.geoPointValue.longitude)===Ji(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ji(i.integerValue)===Ji(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const l=Ji(i.doubleValue),u=Ji(r.doubleValue);return l===u?pD(l)===pD(u):isNaN(l)&&isNaN(u)}return!1}(n,t);case 9:return Dm(n.arrayValue.values||[],t.arrayValue.values||[],Oc);case 10:return function(i,r){const l=i.mapValue.fields||{},u=r.mapValue.fields||{};if(cL(l)!==cL(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(void 0===u[h]||!Oc(l[h],u[h])))return!1;return!0}(n,t);default:return wt()}var r}function cb(n,t){return void 0!==(n.values||[]).find(e=>Oc(e,t))}function Sm(n,t){if(n===t)return 0;const e=lp(n),i=lp(t);if(e!==i)return an(e,i);switch(e){case 0:return 0;case 1:return an(n.booleanValue,t.booleanValue);case 2:return function(r,l){const u=Ji(r.integerValue||r.doubleValue),h=Ji(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return fL(n.timestampValue,t.timestampValue);case 4:return fL(lb(n),lb(t));case 5:return an(n.stringValue,t.stringValue);case 6:return function(r,l){const u=Im(r),h=Im(l);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,l){const u=r.split("/"),h=l.split("/");for(let m=0;m<u.length&&m<h.length;m++){const b=an(u[m],h[m]);if(0!==b)return b}return an(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,l){const u=an(Ji(r.latitude),Ji(l.latitude));return 0!==u?u:an(Ji(r.longitude),Ji(l.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,l){const u=r.values||[],h=l.values||[];for(let m=0;m<u.length&&m<h.length;++m){const b=Sm(u[m],h[m]);if(b)return b}return an(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,l){const u=r.fields||{},h=Object.keys(u),m=l.fields||{},b=Object.keys(m);h.sort(),b.sort();for(let D=0;D<h.length&&D<b.length;++D){const A=an(h[D],b[D]);if(0!==A)return A;const P=Sm(u[h[D]],m[b[D]]);if(0!==P)return P}return an(h.length,b.length)}(n.mapValue,t.mapValue);default:throw wt()}}function fL(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return an(n,t);const e=hh(n),i=hh(t),r=an(e.seconds,i.seconds);return 0!==r?r:an(e.nanos,i.nanos)}function Dx(n){return Tx(n)}function Tx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=hh(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Im(n.bytesValue).toBase64():"referenceValue"in n?vt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",l=!0;for(const u of i.values||[])l?l=!1:r+=",",r+=Tx(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const h of r)u?u=!1:l+=",",l+=`${h}:${Tx(i.fields[h])}`;return l+"}"}(n.mapValue):wt();var t}function gD(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Ix(n){return!!n&&"integerValue"in n}function Sx(n){return!!n&&"arrayValue"in n}function pL(n){return!!n&&"nullValue"in n}function gL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mD(n){return!!n&&"mapValue"in n}function ub(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return op(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=ub(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=ub(n.arrayValue.values[e]);return t}return Object.assign({},n)}class _s{constructor(t){this.value=t}static empty(){return new _s({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!mD(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ub(e)}setAll(t){let e=Wr.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const m=this.getFieldsMap(e);this.applyChanges(m,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=ub(u):r.push(h.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,i,r)}delete(t){const e=this.field(t.popLast());mD(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Oc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];mD(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){op(e,(r,l)=>t[r]=l);for(const r of i)delete t[r]}clone(){return new _s(ub(this.value))}}function mL(n){const t=[];return op(n.fields,(e,i)=>{const r=new Wr([e]);if(mD(i)){const l=mL(i.mapValue).fields;if(0===l.length)t.push(r);else for(const u of l)t.push(r.child(u))}else t.push(r)}),new Tm(t)}class gi{constructor(t,e,i,r,l){this.key=t,this.documentType=e,this.version=i,this.data=r,this.documentState=l}static newInvalidDocument(t){return new gi(t,0,qt.min(),_s.empty(),0)}static newFoundDocument(t,e,i){return new gi(t,1,e,i,0)}static newNoDocument(t,e){return new gi(t,2,e,_s.empty(),0)}static newUnknownDocument(t,e){return new gi(t,3,e,_s.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_s.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_s.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof gi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new gi(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mz{constructor(t,e=null,i=[],r=[],l=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=l,this.startAt=u,this.endAt=h,this.R=null}}function _L(n,t=null,e=[],i=[],r=null,l=null,u=null){return new mz(n,t,e,i,r,l,u)}function db(n){const t=Qe(n);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>function yz(n){return n.field.canonicalString()+n.op.toString()+Dx(n.value)}(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),ap(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=vD(t.startAt)),t.endAt&&(e+="|ub:",e+=vD(t.endAt)),t.R=e}return t.R}function _D(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!Iz(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Oc(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!bL(n.startAt,t.startAt)&&bL(n.endAt,t.endAt)}function yD(n){return vt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Zs extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.P(t,e,i):new vz(t,e,i):"array-contains"===e?new Cz(t,i):"in"===e?new Ez(t,i):"not-in"===e?new Dz(t,i):"array-contains-any"===e?new Tz(t,i):new Zs(t,e,i)}static P(t,e,i){return"in"===e?new bz(t,i):new wz(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(Sm(e,this.value)):null!==e&&lp(this.value)===lp(e)&&this.v(Sm(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return wt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class vz extends Zs{constructor(t,e,i){super(t,e,i),this.key=vt.fromName(i.referenceValue)}matches(t){const e=vt.comparator(t.key,this.key);return this.v(e)}}class bz extends Zs{constructor(t,e){super(t,"in",e),this.keys=yL(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class wz extends Zs{constructor(t,e){super(t,"not-in",e),this.keys=yL(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function yL(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>vt.fromName(i.referenceValue))}class Cz extends Zs{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Sx(e)&&cb(e.arrayValue,this.value)}}class Ez extends Zs{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&cb(this.value.arrayValue,e)}}class Dz extends Zs{constructor(t,e){super(t,"not-in",e)}matches(t){if(cb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!cb(this.value.arrayValue,e)}}class Tz extends Zs{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Sx(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>cb(this.value.arrayValue,i))}}class hb{constructor(t,e){this.position=t,this.before=e}}function vD(n){return`${n.before?"b":"a"}:${n.position.map(t=>Dx(t)).join(",")}`}class Am{constructor(t,e="asc"){this.field=t,this.dir=e}}function Iz(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function vL(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const l=t[r],u=n.position[r];if(i=l.field.isKeyField()?vt.comparator(vt.fromName(u.referenceValue),e.key):Sm(u,e.data.field(l.field)),"desc"===l.dir&&(i*=-1),0!==i)break}return n.before?i<=0:i<0}function bL(n,t){if(null===n)return null===t;if(null===t||n.before!==t.before||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Oc(n.position[e],t.position[e]))return!1;return!0}class Qu{constructor(t,e=null,i=[],r=[],l=null,u="F",h=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=m,this.S=null,this.D=null}}function wL(n,t,e,i,r,l,u,h){return new Qu(n,t,e,i,r,l,u,h)}function Mm(n){return new Qu(n)}function bD(n){return!ap(n.limit)&&"F"===n.limitType}function wD(n){return!ap(n.limit)&&"L"===n.limitType}function Ax(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Mx(n){for(const t of n.filters)if(t.V())return t.field;return null}function xx(n){return null!==n.collectionGroup}function xm(n){const t=Qe(n);if(null===t.S){t.S=[];const e=Mx(t),i=Ax(t);if(null!==e&&null===i)e.isKeyField()||t.S.push(new Am(e)),t.S.push(new Am(Wr.keyField(),"asc"));else{let r=!1;for(const l of t.explicitOrderBy)t.S.push(l),l.field.isKeyField()&&(r=!0);if(!r){const l=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Am(Wr.keyField(),l))}}}return t.S}function Aa(n){const t=Qe(n);if(!t.D)if("F"===t.limitType)t.D=_L(t.path,t.collectionGroup,xm(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const l of xm(t))e.push(new Am(l.field,"desc"===l.dir?"asc":"desc"));const i=t.endAt?new hb(t.endAt.position,!t.endAt.before):null,r=t.startAt?new hb(t.startAt.position,!t.startAt.before):null;t.D=_L(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.D}function CL(n,t,e){return new Qu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function fb(n,t){return _D(Aa(n),Aa(t))&&n.limitType===t.limitType}function EL(n){return`${db(Aa(n))}|lt:${n.limitType}`}function kx(n){return`Query(target=${function _z(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${Dx(i.value)}`;var i}).join(", ")}]`),ap(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: "+vD(n.startAt)),n.endAt&&(t+=", endAt: "+vD(n.endAt)),`Target(${t})`}(Aa(n))}; limitType=${n.limitType})`}function pb(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):vt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!vL(e.startAt,xm(e),i)||e.endAt&&vL(e.endAt,xm(e),i)));var e,i}function DL(n){return(t,e)=>{let i=!1;for(const r of xm(n)){const l=Sz(r,t,e);if(0!==l)return l;i=i||r.field.isKeyField()}return 0}}function Sz(n,t,e){const i=n.field.isKeyField()?vt.comparator(t.key,e.key):function(r,l,u){const h=l.data.field(r),m=u.data.field(r);return null!==h&&null!==m?Sm(h,m):wt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return wt()}}function TL(n,t){if(n.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pD(t)?"-0":t}}function IL(n){return{integerValue:""+n}}function SL(n,t){return hL(t)?IL(t):TL(n,t)}class CD{constructor(){this._=void 0}}function Az(n,t,e){return n instanceof km?function(i,r){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(l.fields.__previous_value__=r),{mapValue:l}}(e,t):n instanceof cp?ML(n,t):n instanceof up?xL(n,t):function(i,r){const l=AL(i,r),u=kL(l)+kL(i.N);return Ix(l)&&Ix(i.N)?IL(u):TL(i.k,u)}(n,t)}function Mz(n,t,e){return n instanceof cp?ML(n,t):n instanceof up?xL(n,t):e}function AL(n,t){return n instanceof Rm?Ix(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class km extends CD{}class cp extends CD{constructor(t){super(),this.elements=t}}function ML(n,t){const e=RL(t);for(const i of n.elements)e.some(r=>Oc(r,i))||e.push(i);return{arrayValue:{values:e}}}class up extends CD{constructor(t){super(),this.elements=t}}function xL(n,t){let e=RL(t);for(const i of n.elements)e=e.filter(r=>!Oc(r,i));return{arrayValue:{values:e}}}class Rm extends CD{constructor(t,e){super(),this.k=t,this.N=e}}function kL(n){return Ji(n.integerValue||n.doubleValue)}function RL(n){return Sx(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class gb{constructor(t,e){this.field=t,this.transform=e}}class kz{constructor(t,e){this.version=t,this.transformResults=e}}class Xi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Xi}static exists(t){return new Xi(void 0,t)}static updateTime(t){return new Xi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ED(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class DD{}function Rz(n,t,e){n instanceof mb?function(i,r,l){const u=i.value.clone(),h=FL(i.fieldTransforms,r,l.transformResults);u.setAll(h),r.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,t,e):n instanceof fh?function(i,r,l){if(!ED(i.precondition,r))return void r.convertToUnknownDocument(l.version);const u=FL(i.fieldTransforms,r,l.transformResults),h=r.data;h.setAll(NL(i)),h.setAll(u),r.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Rx(n,t,e){var r;n instanceof mb?function(i,r,l){if(!ED(i.precondition,r))return;const u=i.value.clone(),h=LL(i.fieldTransforms,l,r);u.setAll(h),r.convertToFoundDocument(PL(r),u).setHasLocalMutations()}(n,t,e):n instanceof fh?function(i,r,l){if(!ED(i.precondition,r))return;const u=LL(i.fieldTransforms,l,r),h=r.data;h.setAll(NL(i)),h.setAll(u),r.convertToFoundDocument(PL(r),h).setHasLocalMutations()}(n,t,e):ED(n.precondition,r=t)&&r.convertToNoDocument(qt.min())}function Oz(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),l=AL(i.transform,r||null);null!=l&&(null==e&&(e=_s.empty()),e.set(i.field,l))}return e||null}function OL(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Dm(e,i,(r,l)=>function xz(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof cp&&i instanceof cp||e instanceof up&&i instanceof up?Dm(e.elements,i.elements,Oc):e instanceof Rm&&i instanceof Rm?Oc(e.N,i.N):e instanceof km&&i instanceof km);var e,i}(r,l))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function PL(n){return n.isFoundDocument()?n.version:qt.min()}class mb extends DD{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}}class fh extends DD{constructor(t,e,i,r,l=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=l,this.type=1}}function NL(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function FL(n,t,e){const i=new Map;Ot(n.length===e.length);for(let r=0;r<e.length;r++){const l=n[r],u=l.transform,h=t.data.field(l.field);i.set(l.field,Mz(u,h,e[r]))}return i}function LL(n,t,e){const i=new Map;for(const r of n){const l=r.transform,u=e.data.field(r.field);i.set(r.field,Az(l,u,t))}return i}class _b extends DD{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class Ox extends DD{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class Pz{constructor(t){this.count=t}}var er,mn;function BL(n){switch(n){default:return wt();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0}}function VL(n){if(void 0===n)return Qi("GRPC error has no .code"),ve.UNKNOWN;switch(n){case er.OK:return ve.OK;case er.CANCELLED:return ve.CANCELLED;case er.UNKNOWN:return ve.UNKNOWN;case er.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case er.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case er.INTERNAL:return ve.INTERNAL;case er.UNAVAILABLE:return ve.UNAVAILABLE;case er.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case er.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case er.NOT_FOUND:return ve.NOT_FOUND;case er.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case er.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case er.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case er.ABORTED:return ve.ABORTED;case er.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case er.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case er.DATA_LOSS:return ve.DATA_LOSS;default:return wt()}}(mn=er||(er={}))[mn.OK=0]="OK",mn[mn.CANCELLED=1]="CANCELLED",mn[mn.UNKNOWN=2]="UNKNOWN",mn[mn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mn[mn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mn[mn.NOT_FOUND=5]="NOT_FOUND",mn[mn.ALREADY_EXISTS=6]="ALREADY_EXISTS",mn[mn.PERMISSION_DENIED=7]="PERMISSION_DENIED",mn[mn.UNAUTHENTICATED=16]="UNAUTHENTICATED",mn[mn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mn[mn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mn[mn.ABORTED=10]="ABORTED",mn[mn.OUT_OF_RANGE=11]="OUT_OF_RANGE",mn[mn.UNIMPLEMENTED=12]="UNIMPLEMENTED",mn[mn.INTERNAL=13]="INTERNAL",mn[mn.UNAVAILABLE=14]="UNAVAILABLE",mn[mn.DATA_LOSS=15]="DATA_LOSS";class dr{constructor(t,e){this.comparator=t,this.root=e||Yr.EMPTY}insert(t,e){return new dr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Yr.BLACK,null,null))}remove(t){return new dr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Yr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new TD(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new TD(this.root,t,this.comparator,!1)}getReverseIterator(){return new TD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new TD(this.root,t,this.comparator,!0)}}class TD{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,r&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(0===l){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Yr{constructor(t,e,i,r,l){this.key=t,this.value=e,this.color=null!=i?i:Yr.RED,this.left=null!=r?r:Yr.EMPTY,this.right=null!=l?l:Yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,l){return new Yr(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const l=i(t,r.key);return r=l<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===l?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Yr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Yr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const t=this.left.check();if(t!==this.right.check())throw wt();return t+(this.isRed()?0:1)}}Yr.EMPTY=null,Yr.RED=!0,Yr.BLACK=!1,Yr.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Yr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oi{constructor(t){this.comparator=t,this.data=new dr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new UL(this.data.getIterator())}getIteratorFrom(t){return new UL(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Oi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,l=i.getNext().key;if(0!==this.comparator(r,l))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Oi(this.comparator);return e.data=t,e}}class UL{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Nz=new dr(vt.comparator);function Ma(){return Nz}const Fz=new dr(vt.comparator);function Px(){return Fz}const Lz=new dr(vt.comparator);function HL(){return Lz}const Bz=new Oi(vt.comparator);function Fn(...n){let t=Bz;for(const e of n)t=t.add(e);return t}const Vz=new Oi(an);function ID(){return Vz}class yb{constructor(t,e,i,r,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,vb.createSynthesizedTargetChangeForCurrentChange(t,e)),new yb(qt.min(),i,ID(),Ma(),Fn())}}class vb{constructor(t,e,i,r,l){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e){return new vb(ur.EMPTY_BYTE_STRING,e,Fn(),Fn(),Fn())}}class SD{constructor(t,e,i,r){this.$=t,this.removedTargetIds=e,this.key=i,this.O=r}}class jL{constructor(t,e){this.targetId=t,this.M=e}}class zL{constructor(t,e,i=ur.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class qL{constructor(){this.F=0,this.L=$L(),this.B=ur.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(t){t.approximateByteSize()>0&&(this.q=!0,this.B=t)}G(){let t=Fn(),e=Fn(),i=Fn();return this.L.forEach((r,l)=>{switch(l){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:wt()}}),new vb(this.B,this.U,t,e,i)}H(){this.q=!1,this.L=$L()}J(t,e){this.q=!0,this.L=this.L.insert(t,e)}Y(t){this.q=!0,this.L=this.L.remove(t)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class Uz{constructor(t){this.et=t,this.nt=new Map,this.st=Ma(),this.it=GL(),this.rt=new Oi(an)}ot(t){for(const e of t.$)t.O&&t.O.isFoundDocument()?this.ct(e,t.O):this.at(e,t.key,t.O);for(const e of t.removedTargetIds)this.at(e,t.key,t.O)}ut(t){this.forEachTarget(t,e=>{const i=this.ht(e);switch(t.state){case 0:this.lt(e)&&i.W(t.resumeToken);break;case 1:i.Z(),i.K||i.H(),i.W(t.resumeToken);break;case 2:i.Z(),i.K||this.removeTarget(e);break;case 3:this.lt(e)&&(i.tt(),i.W(t.resumeToken));break;case 4:this.lt(e)&&(this.ft(e),i.W(t.resumeToken));break;default:wt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.nt.forEach((i,r)=>{this.lt(r)&&e(r)})}dt(t){const e=t.targetId,i=t.M.count,r=this.wt(e);if(r){const l=r.target;if(yD(l))if(0===i){const u=new vt(l.path);this.at(e,u,gi.newNoDocument(u,qt.min()))}else Ot(1===i);else this._t(e)!==i&&(this.ft(e),this.rt=this.rt.add(e))}}gt(t){const e=new Map;this.nt.forEach((l,u)=>{const h=this.wt(u);if(h){if(l.current&&yD(h.target)){const m=new vt(h.target.path);null!==this.st.get(m)||this.yt(u,m)||this.at(u,m,gi.newNoDocument(m,t))}l.j&&(e.set(u,l.G()),l.H())}});let i=Fn();this.it.forEach((l,u)=>{let h=!0;u.forEachWhile(m=>{const b=this.wt(m);return!b||2===b.purpose||(h=!1,!1)}),h&&(i=i.add(l))});const r=new yb(t,e,this.rt,this.st,i);return this.st=Ma(),this.it=GL(),this.rt=new Oi(an),r}ct(t,e){if(!this.lt(t))return;const i=this.yt(t,e.key)?2:0;this.ht(t).J(e.key,i),this.st=this.st.insert(e.key,e),this.it=this.it.insert(e.key,this.Tt(e.key).add(t))}at(t,e,i){if(!this.lt(t))return;const r=this.ht(t);this.yt(t,e)?r.J(e,1):r.Y(e),this.it=this.it.insert(e,this.Tt(e).delete(t)),i&&(this.st=this.st.insert(e,i))}removeTarget(t){this.nt.delete(t)}_t(t){const e=this.ht(t).G();return this.et.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}X(t){this.ht(t).X()}ht(t){let e=this.nt.get(t);return e||(e=new qL,this.nt.set(t,e)),e}Tt(t){let e=this.it.get(t);return e||(e=new Oi(an),this.it=this.it.insert(t,e)),e}lt(t){const e=null!==this.wt(t);return e||He("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.nt.get(t);return e&&e.K?null:this.et.Et(t)}ft(t){this.nt.set(t,new qL),this.et.getRemoteKeysForTarget(t).forEach(e=>{this.at(t,e,null)})}yt(t,e){return this.et.getRemoteKeysForTarget(t).has(e)}}function GL(){return new dr(vt.comparator)}function $L(){return new dr(vt.comparator)}const Hz={asc:"ASCENDING",desc:"DESCENDING"},jz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class zz{constructor(t,e){this.databaseId=t,this.C=e}}function bb(n,t){return n.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ZL(n,t){return n.C?t.toBase64():t.toUint8Array()}function qz(n,t){return bb(n,t.toTimestamp())}function Tr(n){return Ot(!!n),qt.fromTimestamp(function(t){const e=hh(t);return new Dr(e.seconds,e.nanos)}(n))}function Nx(n,t){return(e=n,new Mn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function WL(n){const t=Mn.fromString(n);return Ot(oB(t)),t}function wb(n,t){return Nx(n.databaseId,t.path)}function Pc(n,t){const e=WL(t);if(e.get(1)!==n.databaseId.projectId)throw new Ne(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ne(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new vt(KL(e))}function Fx(n,t){return Nx(n.databaseId,t)}function YL(n){const t=WL(n);return 4===t.length?Mn.emptyPath():KL(t)}function Cb(n){return new Mn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function KL(n){return Ot(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function QL(n,t,e){return{name:wb(n,t),fields:e.value.mapValue.fields}}function JL(n,t,e){const i=Pc(n,t.name),r=Tr(t.updateTime),l=new _s({mapValue:{fields:t.fields}}),u=gi.newFoundDocument(i,r,l);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function AD(n,t){let e;if(t instanceof mb)e={update:QL(n,t.key,t.value)};else if(t instanceof _b)e={delete:wb(n,t.key)};else if(t instanceof fh)e={update:QL(n,t.key,t.data),updateMask:Xz(t.fieldMask)};else{if(!(t instanceof Ox))return wt();e={verify:wb(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,l){const u=l.transform;if(u instanceof km)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof cp)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof up)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Rm)return{fieldPath:l.field.canonicalString(),increment:u.N};throw wt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:qz(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:wt()),e;var r}function XL(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Xi.updateTime(Tr(r.updateTime)):void 0!==r.exists?Xi.exists(r.exists):Xi.none():Xi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(l,u){let h=null;"setToServerValue"in u?(Ot("REQUEST_TIME"===u.setToServerValue),h=new km):"appendMissingElements"in u?h=new cp(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new up(u.removeAllFromArray.values||[]):"increment"in u?h=new Rm(l,u.increment):wt();const m=Wr.fromServerFormat(u.fieldPath);return new gb(m,h)}(n,r)):[];var r;if(t.update){const r=Pc(n,t.update.name),l=new _s({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new Tm((t.updateMask.fieldPaths||[]).map(b=>Wr.fromServerFormat(b)));return new fh(r,l,u,e,i)}return new mb(r,l,e,i)}if(t.delete){const r=Pc(n,t.delete);return new _b(r,e)}if(t.verify){const r=Pc(n,t.verify);return new Ox(r,e)}return wt()}function eB(n,t){return{documents:[Fx(n,t.path)]}}function tB(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=Fx(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=Fx(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(h){if(0===h.length)return;const m=h.map(b=>function(D){if("=="===D.op){if(gL(D.value))return{unaryFilter:{field:Om(D.field),op:"IS_NAN"}};if(pL(D.value))return{unaryFilter:{field:Om(D.field),op:"IS_NULL"}}}else if("!="===D.op){if(gL(D.value))return{unaryFilter:{field:Om(D.field),op:"IS_NOT_NAN"}};if(pL(D.value))return{unaryFilter:{field:Om(D.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Om(D.field),op:Kz(D.op),value:D.value}}}(b));return 1===m.length?m[0]:{compositeFilter:{op:"AND",filters:m}}}(t.filters);r&&(e.structuredQuery.where=r);const l=function(h){if(0!==h.length)return h.map(m=>{return{field:Om((b=m).field),direction:Yz(b.dir)};var b})}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=(m=t.limit,n.C||ap(m)?m:{value:m});var m;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=rB(t.startAt)),t.endAt&&(e.structuredQuery.endAt=rB(t.endAt)),e}function nB(n){let t=YL(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Ot(1===i);const D=e.from[0];D.allDescendants?r=D.collectionId:t=t.child(D.collectionId)}let l=[];e.where&&(l=iB(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(D=>{return new Am(Pm((A=D).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let h=null;e.limit&&(h=function(D){let A;return A="object"==typeof D?D.value:D,ap(A)?null:A}(e.limit));let m=null;e.startAt&&(m=sB(e.startAt));let b=null;return e.endAt&&(b=sB(e.endAt)),wL(t,r,u,l,h,"F",m,b)}function iB(n){return n?void 0!==n.unaryFilter?[Jz(n)]:void 0!==n.fieldFilter?[Qz(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>iB(t)).reduce((t,e)=>t.concat(e)):wt():[]}function rB(n){return{before:n.before,values:n.position}}function sB(n){return new hb(n.values||[],!!n.before)}function Yz(n){return Hz[n]}function Kz(n){return jz[n]}function Om(n){return{fieldPath:n.canonicalString()}}function Pm(n){return Wr.fromServerFormat(n.fieldPath)}function Qz(n){return Zs.create(Pm(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(n.fieldFilter.op),n.fieldFilter.value)}function Jz(n){switch(n.unaryFilter.op){case"IS_NAN":const t=Pm(n.unaryFilter.field);return Zs.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=Pm(n.unaryFilter.field);return Zs.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Pm(n.unaryFilter.field);return Zs.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Pm(n.unaryFilter.field);return Zs.create(r,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}function Xz(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function oB(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function kl(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=aB(t)),t=eq(n.get(e),t);return aB(t)}function eq(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const l=n.charAt(r);switch(l){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=l}}return e}function aB(n){return n+"\x01\x01"}function Ju(n){const t=n.length;if(Ot(t>=2),2===t)return Ot("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Mn.emptyPath();const e=t-2,i=[];let r="";for(let l=0;l<t;){const u=n.indexOf("\x01",l);switch((u<0||u>e)&&wt(),n.charAt(u+1)){case"\x01":const h=n.substring(l,u);let m;0===r.length?m=h:(r+=h,m=r,r=""),i.push(m);break;case"\x10":r+=n.substring(l,u),r+="\0";break;case"\x11":r+=n.substring(l,u+1);break;default:wt()}l=u+2}return new Mn(i)}class tq{constructor(t,e){this.seconds=t,this.nanoseconds=e}}class Jo{constructor(t,e,i){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=i}}Jo.store="owner",Jo.key="owner";class ph{constructor(t,e,i){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=i}}ph.store="mutationQueues",ph.keyPath="userId";class si{constructor(t,e,i,r,l){this.userId=t,this.batchId=e,this.localWriteTimeMs=i,this.baseMutations=r,this.mutations=l}}si.store="mutations",si.keyPath="batchId",si.userMutationsIndex="userMutationsIndex",si.userMutationsKeyPath=["userId","batchId"];class ys{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,kl(e)]}static key(t,e,i){return[t,kl(e),i]}}ys.store="documentMutations",ys.PLACEHOLDER=new ys;class nq{constructor(t,e){this.path=t,this.readTime=e}}class iq{constructor(t,e){this.path=t,this.version=e}}class Pi{constructor(t,e,i,r,l,u){this.unknownDocument=t,this.noDocument=e,this.document=i,this.hasCommittedMutations=r,this.readTime=l,this.parentPath=u}}Pi.store="remoteDocuments",Pi.readTimeIndex="readTimeIndex",Pi.readTimeIndexPath="readTime",Pi.collectionReadTimeIndex="collectionReadTimeIndex",Pi.collectionReadTimeIndexPath=["parentPath","readTime"];class Nc{constructor(t){this.byteSize=t}}Nc.store="remoteDocumentGlobal",Nc.key="remoteDocumentGlobalKey";class vo{constructor(t,e,i,r,l,u,h){this.targetId=t,this.canonicalId=e,this.readTime=i,this.resumeToken=r,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=u,this.query=h}}vo.store="targets",vo.keyPath="targetId",vo.queryTargetsIndexName="queryTargetsIndex",vo.queryTargetsKeyPath=["canonicalId","targetId"];class Kr{constructor(t,e,i){this.targetId=t,this.path=e,this.sequenceNumber=i}}Kr.store="targetDocuments",Kr.keyPath=["targetId","path"],Kr.documentTargetsIndex="documentTargetsIndex",Kr.documentTargetsKeyPath=["path","targetId"];class Xo{constructor(t,e,i,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=i,this.targetCount=r}}Xo.key="targetGlobalKey",Xo.store="targetGlobal";class dp{constructor(t,e){this.collectionId=t,this.parent=e}}dp.store="collectionParents",dp.keyPath=["collectionId","parent"];class Xu{constructor(t,e,i,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=i,this.inForeground=r}}Xu.store="clientMetadata",Xu.keyPath="clientId";class Nm{constructor(t,e,i){this.bundleId=t,this.createTime=e,this.version=i}}Nm.store="bundles",Nm.keyPath="bundleId";class Fm{constructor(t,e,i){this.name=t,this.readTime=e,this.bundledQuery=i}}Fm.store="namedQueries",Fm.keyPath="name";const rq=[ph.store,si.store,ys.store,Pi.store,vo.store,Jo.store,Xo.store,Kr.store,Xu.store,Nc.store,dp.store,Nm.store,Fm.store],lB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class Pe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Pe((i,r)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,r)},this.catchCallback=l=>{this.wrapFailure(e,l).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Pe?e:Pe.resolve(e)}catch(e){return Pe.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Pe.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Pe.reject(e)}static resolve(t){return new Pe((e,i)=>{e(t)})}static reject(t){return new Pe((e,i)=>{i(t)})}static waitFor(t){return new Pe((e,i)=>{let r=0,l=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++l,u&&l===r&&e()},m=>i(m))}),u=!0,l===r&&e()})}static or(t){let e=Pe.resolve(!1);for(const i of t)e=e.next(r=>r?Pe.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,l)=>{i.push(e.call(this,r,l))}),this.waitFor(i)}}class MD{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.It=new Er,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{e.error?this.It.reject(new Eb(t,e.error)):this.It.resolve()},this.transaction.onerror=i=>{const r=Lx(i.target.error);this.It.reject(new Eb(t,r))}}static open(t,e,i,r){try{return new MD(e,t.transaction(r,i))}catch(l){throw new Eb(e,l)}}get At(){return this.It.promise}abort(t){t&&this.It.reject(t),this.aborted||(He("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(t){const e=this.transaction.objectStore(t);return new oq(e)}}class Rl{constructor(t,e,i){this.name=t,this.version=e,this.Rt=i,12.2===Rl.bt((0,Rt.z$)())&&Qi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return He("SimpleDb","Removing database:",t),fp(window.indexedDB.deleteDatabase(t)).toPromise()}static Pt(){if(!(0,Rt.hl)())return!1;if(Rl.vt())return!0;const t=(0,Rt.z$)(),e=Rl.bt(t),i=0<e&&e<10,r=Rl.Vt(t),l=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||l)}static vt(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.St)}static Dt(t,e){return t.store(e)}static bt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Vt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Ct(t){var e=this;return(0,ye.Z)(function*(){return e.db||(He("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const l=indexedDB.open(e.name,e.version);l.onsuccess=u=>{i(u.target.result)},l.onblocked=()=>{r(new Eb(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new Ne(ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Ne(ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Eb(t,h))},l.onupgradeneeded=u=>{He("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.Rt.Nt(u.target.result,l.transaction,u.oldVersion,e.version).next(()=>{He("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.kt&&(e.db.onversionchange=i=>e.kt(i)),e.db})()}xt(t){this.kt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var l=this;return(0,ye.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{l.db=yield l.Ct(t);const m=MD.open(l.db,t,u?"readonly":"readwrite",i),b=r(m).catch(D=>(m.abort(D),Pe.reject(D))).toPromise();return b.catch(()=>{}),yield m.At,b}catch(m){const b="FirebaseError"!==m.name&&h<3;if(He("SimpleDb","Transaction failed with error:",m.message,"Retrying:",b),l.close(),!b)return Promise.reject(m)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class sq{constructor(t){this.$t=t,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(t){this.$t=t}done(){this.Ot=!0}Lt(t){this.Mt=t}delete(){return fp(this.$t.delete())}}class Eb extends Ne{constructor(t,e){super(ve.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function hp(n){return"IndexedDbTransactionError"===n.name}class oq{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(He("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(He("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),fp(i)}add(t){return He("SimpleDb","ADD",this.store.name,t,t),fp(this.store.add(t))}get(t){return fp(this.store.get(t)).next(e=>(void 0===e&&(e=null),He("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return He("SimpleDb","DELETE",this.store.name,t),fp(this.store.delete(t))}count(){return He("SimpleDb","COUNT",this.store.name),fp(this.store.count())}Bt(t,e){const i=this.cursor(this.options(t,e)),r=[];return this.Ut(i,(l,u)=>{r.push(u)}).next(()=>r)}qt(t,e){He("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Kt=!1;const r=this.cursor(i);return this.Ut(r,(l,u,h)=>h.delete())}jt(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.Ut(r,e)}Qt(t){const e=this.cursor({});return new Pe((i,r)=>{e.onerror=l=>{const u=Lx(l.target.error);r(u)},e.onsuccess=l=>{const u=l.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}Ut(t,e){const i=[];return new Pe((r,l)=>{t.onerror=u=>{l(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const m=new sq(h),b=e(h.primaryKey,h.value,m);if(b instanceof Pe){const D=b.catch(A=>(m.done(),Pe.reject(A)));i.push(D)}m.isDone?r():null===m.Ft?h.continue():h.continue(m.Ft)}}).next(()=>Pe.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Kt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function fp(n){return new Pe((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=Lx(i.target.error);e(r)}})}let uB=!1;function Lx(n){const t=Rl.bt((0,Rt.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return uB||(uB=!0,setTimeout(()=>{throw i},0)),i}}return n}class dB extends cB{constructor(t,e){super(),this.Wt=t,this.currentSequenceNumber=e}}function bo(n,t){const e=Qe(n);return Rl.Dt(e.Wt,t)}class Bx{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const l=this.mutations[r];l.key.isEqual(t.key)&&Rz(l,t,i[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&Rx(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&Rx(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(qt.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Fn())}isEqual(t){return this.batchId===t.batchId&&Dm(this.mutations,t.mutations,(e,i)=>OL(e,i))&&Dm(this.baseMutations,t.baseMutations,(e,i)=>OL(e,i))}}class Vx{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Ot(t.mutations.length===i.length);let r=HL();const l=t.mutations;for(let u=0;u<l.length;u++)r=r.insert(l[u].key,i[u].version);return new Vx(t,e,i,r)}}class gh{constructor(t,e,i,r,l=qt.min(),u=qt.min(),h=ur.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new gh(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new gh(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new gh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class hB{constructor(t){this.Gt=t}}function Ux(n,t){if(t.document)return JL(n.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=vt.fromSegments(t.noDocument.path),i=Bm(t.noDocument.readTime),r=gi.newNoDocument(e,i);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=vt.fromSegments(t.unknownDocument.path),i=Bm(t.unknownDocument.version);return gi.newUnknownDocument(e,i)}return wt()}function fB(n,t,e){const i=Hx(e),r=t.key.path.popLast().toArray();if(t.isFoundDocument()){const l={name:wb(h=n.Gt,(m=t).key),fields:m.data.value.mapValue.fields,updateTime:bb(h,m.version.toTimestamp())};return new Pi(null,null,l,t.hasCommittedMutations,i,r)}var h,m;if(t.isNoDocument()){const l=t.key.path.toArray(),u=Lm(t.version),h=t.hasCommittedMutations;return new Pi(null,new nq(l,u),null,h,i,r)}if(t.isUnknownDocument()){const l=t.key.path.toArray(),u=Lm(t.version);return new Pi(new iq(l,u),null,null,!0,i,r)}return wt()}function Hx(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function pB(n){const t=new Dr(n[0],n[1]);return qt.fromTimestamp(t)}function Lm(n){const t=n.toTimestamp();return new tq(t.seconds,t.nanoseconds)}function Bm(n){const t=new Dr(n.seconds,n.nanoseconds);return qt.fromTimestamp(t)}function Vm(n,t){const e=(t.baseMutations||[]).map(l=>XL(n.Gt,l));for(let l=0;l<t.mutations.length-1;++l){const u=t.mutations[l];l+1<t.mutations.length&&void 0!==t.mutations[l+1].transform&&(u.updateTransforms=t.mutations[l+1].transform.fieldTransforms,t.mutations.splice(l+1,1),++l)}const i=t.mutations.map(l=>XL(n.Gt,l)),r=Dr.fromMillis(t.localWriteTimeMs);return new Bx(t.batchId,r,e,i)}function Db(n){const t=Bm(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Bm(n.lastLimboFreeSnapshotVersion):qt.min();let i;var r;return void 0!==n.query.documents?(Ot(1===(r=n.query).documents.length),i=Aa(Mm(YL(r.documents[0])))):i=Aa(nB(n.query)),new gh(i,n.targetId,0,n.lastListenSequenceNumber,t,e,ur.fromBase64String(n.resumeToken))}function gB(n,t){const e=Lm(t.snapshotVersion),i=Lm(t.lastLimboFreeSnapshotVersion);let r;r=yD(t.target)?eB(n.Gt,t.target):tB(n.Gt,t.target);const l=t.resumeToken.toBase64();return new vo(t.targetId,db(t.target),e,l,t.sequenceNumber,i,r)}function jx(n){const t=nB({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?CL(t,t.limit,"L"):t}class aq{getBundleMetadata(t,e){return mB(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Bm(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return mB(t).put({bundleId:(i=e).id,createTime:Lm(Tr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return _B(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:jx(r.bundledQuery),readTime:Bm(r.readTime)};var r})}saveNamedQuery(t,e){return _B(t).put({name:(i=e).name,readTime:Lm(Tr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function mB(n){return bo(n,Nm.store)}function _B(n){return bo(n,Fm.store)}class lq{constructor(){this.zt=new zx}addToCollectionParentIndex(t,e){return this.zt.add(e),Pe.resolve()}getCollectionParents(t,e){return Pe.resolve(this.zt.getEntries(e))}}class zx{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Oi(Mn.comparator),l=!r.has(i);return this.index[e]=r.add(i),l}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Oi(Mn.comparator)).toArray()}}class cq{constructor(){this.Ht=new zx}addToCollectionParentIndex(t,e){if(!this.Ht.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ht.add(e)});const l={collectionId:i,parent:kl(r)};return yB(t).put(l)}return Pe.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[lL(e),""],!1,!0);return yB(t).Bt(r).next(l=>{for(const u of l){if(u.collectionId!==e)break;i.push(Ju(u.parent))}return i})}}function yB(n){return bo(n,dp.store)}const vB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class wo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new wo(t,wo.DEFAULT_COLLECTION_PERCENTILE,wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function bB(n,t,e){const i=n.store(si.store),r=n.store(ys.store),l=[],u=IDBKeyRange.only(e.batchId);let h=0;const m=i.jt({range:u},(D,A,P)=>(h++,P.delete()));l.push(m.next(()=>{Ot(1===h)}));const b=[];for(const D of e.mutations){const A=ys.key(t,D.key.path,e.batchId);l.push(r.delete(A)),b.push(D.key)}return Pe.waitFor(l).next(()=>b)}function xD(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw wt();t=n.noDocument}return JSON.stringify(t).length}wo.DEFAULT_COLLECTION_PERCENTILE=10,wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wo.DEFAULT=new wo(41943040,wo.DEFAULT_COLLECTION_PERCENTILE,wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wo.DISABLED=new wo(-1,0,0);class qx{constructor(t,e,i,r){this.userId=t,this.k=e,this.Jt=i,this.referenceDelegate=r,this.Yt={}}static Xt(t,e,i,r){Ot(""!==t.uid);const l=t.isAuthenticated()?t.uid:"";return new qx(l,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mh(t).jt({index:si.userMutationsIndex,range:i},(r,l,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const l=Um(t),u=mh(t);return u.add({}).next(h=>{Ot("number"==typeof h);const m=new Bx(h,e,i,r),b=function(P,B,G){const re=G.baseMutations.map(Xe=>AD(P.Gt,Xe)),be=G.mutations.map(Xe=>AD(P.Gt,Xe));return new si(B,G.batchId,G.localWriteTime.toMillis(),re,be)}(this.k,this.userId,m),D=[];let A=new Oi((P,B)=>an(P.canonicalString(),B.canonicalString()));for(const P of r){const B=ys.key(this.userId,P.key.path,h);A=A.add(P.key.path.popLast()),D.push(u.put(b)),D.push(l.put(B,ys.PLACEHOLDER))}return A.forEach(P=>{D.push(this.Jt.addToCollectionParentIndex(t,P))}),t.addOnCommittedListener(()=>{this.Yt[h]=m.keys()}),Pe.waitFor(D).next(()=>m)})}lookupMutationBatch(t,e){return mh(t).get(e).next(i=>i?(Ot(i.userId===this.userId),Vm(this.k,i)):null)}Zt(t,e){return this.Yt[e]?Pe.resolve(this.Yt[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Yt[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return mh(t).jt({index:si.userMutationsIndex,range:r},(u,h,m)=>{h.userId===this.userId&&(Ot(h.batchId>=i),l=Vm(this.k,h)),m.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return mh(t).jt({index:si.userMutationsIndex,range:e,reverse:!0},(r,l,u)=>{i=l.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mh(t).Bt(si.userMutationsIndex,e).next(i=>i.map(r=>Vm(this.k,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=ys.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),l=[];return Um(t).jt({range:r},(u,h,m)=>{const[b,D,A]=u,P=Ju(D);if(b===this.userId&&e.path.isEqual(P))return mh(t).get(A).next(B=>{if(!B)throw wt();Ot(B.userId===this.userId),l.push(Vm(this.k,B))});m.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Oi(an);const r=[];return e.forEach(l=>{const u=ys.prefixForPath(this.userId,l.path),h=IDBKeyRange.lowerBound(u),m=Um(t).jt({range:h},(b,D,A)=>{const[P,B,G]=b,re=Ju(B);P===this.userId&&l.path.isEqual(re)?i=i.add(G):A.done()});r.push(m)}),Pe.waitFor(r).next(()=>this.te(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,l=ys.prefixForPath(this.userId,i),u=IDBKeyRange.lowerBound(l);let h=new Oi(an);return Um(t).jt({range:u},(m,b,D)=>{const[A,P,B]=m,G=Ju(P);A===this.userId&&i.isPrefixOf(G)?G.length===r&&(h=h.add(B)):D.done()}).next(()=>this.te(t,h))}te(t,e){const i=[],r=[];return e.forEach(l=>{r.push(mh(t).get(l).next(u=>{if(null===u)throw wt();Ot(u.userId===this.userId),i.push(Vm(this.k,u))}))}),Pe.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return bB(t.Wt,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.ee(e.batchId)}),Pe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}ee(t){delete this.Yt[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Pe.resolve();const i=IDBKeyRange.lowerBound(ys.prefixForUser(this.userId)),r=[];return Um(t).jt({range:i},(l,u,h)=>{if(l[0]===this.userId){const m=Ju(l[1]);r.push(m)}else h.done()}).next(()=>{Ot(0===r.length)})})}containsKey(t,e){return wB(t,this.userId,e)}ne(t){return CB(t).get(this.userId).next(e=>e||new ph(this.userId,-1,""))}}function wB(n,t,e){const i=ys.prefixForPath(t,e.path),r=i[1],l=IDBKeyRange.lowerBound(i);let u=!1;return Um(n).jt({range:l,Kt:!0},(h,m,b)=>{const[D,A,P]=h;D===t&&A===r&&(u=!0),b.done()}).next(()=>u)}function mh(n){return bo(n,si.store)}function Um(n){return bo(n,ys.store)}function CB(n){return bo(n,ph.store)}class pp{constructor(t){this.se=t}next(){return this.se+=2,this.se}static ie(){return new pp(0)}static re(){return new pp(-1)}}class uq{constructor(t,e){this.referenceDelegate=t,this.k=e}allocateTargetId(t){return this.oe(t).next(e=>{const i=new pp(e.highestTargetId);return e.highestTargetId=i.next(),this.ce(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.oe(t).next(e=>qt.fromTimestamp(new Dr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.oe(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.oe(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.ce(t,r)))}addTargetData(t,e){return this.ae(t,e).next(()=>this.oe(t).next(i=>(i.targetCount+=1,this.ue(e,i),this.ce(t,i))))}updateTargetData(t,e){return this.ae(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Hm(t).delete(e.targetId)).next(()=>this.oe(t)).next(i=>(Ot(i.targetCount>0),i.targetCount-=1,this.ce(t,i)))}removeTargets(t,e,i){let r=0;const l=[];return Hm(t).jt((u,h)=>{const m=Db(h);m.sequenceNumber<=e&&null===i.get(m.targetId)&&(r++,l.push(this.removeTargetData(t,m)))}).next(()=>Pe.waitFor(l)).next(()=>r)}forEachTarget(t,e){return Hm(t).jt((i,r)=>{const l=Db(r);e(l)})}oe(t){return EB(t).get(Xo.key).next(e=>(Ot(null!==e),e))}ce(t,e){return EB(t).put(Xo.key,e)}ae(t,e){return Hm(t).put(gB(this.k,e))}ue(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.oe(t).next(e=>e.targetCount)}getTargetData(t,e){const i=db(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return Hm(t).jt({range:r,index:vo.queryTargetsIndexName},(u,h,m)=>{const b=Db(h);_D(e,b.target)&&(l=b,m.done())}).next(()=>l)}addMatchingKeys(t,e,i){const r=[],l=_h(t);return e.forEach(u=>{const h=kl(u.path);r.push(l.put(new Kr(i,h))),r.push(this.referenceDelegate.addReference(t,i,u))}),Pe.waitFor(r)}removeMatchingKeys(t,e,i){const r=_h(t);return Pe.forEach(e,l=>{const u=kl(l.path);return Pe.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,l)])})}removeMatchingKeysForTargetId(t,e){const i=_h(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=_h(t);let l=Fn();return r.jt({range:i,Kt:!0},(u,h,m)=>{const b=Ju(u[1]),D=new vt(b);l=l.add(D)}).next(()=>l)}containsKey(t,e){const i=kl(e.path),r=IDBKeyRange.bound([i],[lL(i)],!1,!0);let l=0;return _h(t).jt({index:Kr.documentTargetsIndex,Kt:!0,range:r},([u,h],m,b)=>{0!==u&&(l++,b.done())}).next(()=>l>0)}Et(t,e){return Hm(t).get(e).next(i=>i?Db(i):null)}}function Hm(n){return bo(n,vo.store)}function EB(n){return bo(n,Xo.store)}function _h(n){return bo(n,Kr.store)}function gp(n){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,ye.Z)(function*(n){if(n.code!==ve.FAILED_PRECONDITION||n.message!==lB)throw n;He("LocalStore","Unexpectedly lost primary lease")}),Gx.apply(this,arguments)}function DB([n,t],[e,i]){const r=an(n,e);return 0===r?an(t,i):r}class dq{constructor(t){this.he=t,this.buffer=new Oi(DB),this.le=0}fe(){return++this.le}de(t){const e=[t,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();DB(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class hq{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.we=!1,this._e=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(t)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(t){var e=this;const i=this.we?3e5:6e4;He("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,ye.Z)(function*(){e._e=null,e.we=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(r){hp(r)?He("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield gp(r)}yield e.me(t)}))}}class fq{constructor(t,e){this.ge=t,this.params=e}calculateTargetCount(t,e){return this.ge.ye(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Pe.resolve(Qo.I);const i=new dq(e);return this.ge.forEachTarget(t,r=>i.de(r.sequenceNumber)).next(()=>this.ge.pe(t,r=>i.de(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.ge.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.ge.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector","Garbage collection skipped; disabled"),Pe.resolve(vB)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vB):this.Te(t,e))}getCacheSize(t){return this.ge.getCacheSize(t)}Te(t,e){let i,r,l,u,h,m,b;const D=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),r=this.params.maximumSequenceNumbersToCollect):r=A,u=Date.now(),this.nthSequenceNumber(t,r))).next(A=>(i=A,h=Date.now(),this.removeTargets(t,i,e))).next(A=>(l=A,m=Date.now(),this.removeOrphanedDocuments(t,i))).next(A=>(b=Date.now(),wx()<=Rc.in.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-D}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${l} targets in `+(m-h)+`ms\n\tRemoved ${A} documents in `+(b-m)+`ms\nTotal Duration: ${b-D}ms`),Pe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:l,documentsRemoved:A})))}}class pq{constructor(t,e){this.db=t,this.garbageCollector=new fq(this,e)}ye(t){const e=this.Ee(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Ee(t){let e=0;return this.pe(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}pe(t,e){return this.Ie(t,(i,r)=>e(r))}addReference(t,e,i){return kD(t,i)}removeReference(t,e,i){return kD(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return kD(t,e)}Ae(t,e){return function(i,r){let l=!1;return CB(i).Qt(u=>wB(i,u,r).next(h=>(h&&(l=!0),Pe.resolve(!h)))).next(()=>l)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let l=0;return this.Ie(t,(u,h)=>{if(h<=e){const m=this.Ae(t,u).next(b=>{if(!b)return l++,i.getEntry(t,u).next(()=>(i.removeEntry(u),_h(t).delete([0,kl(u.path)])))});r.push(m)}}).next(()=>Pe.waitFor(r)).next(()=>i.apply(t)).next(()=>l)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return kD(t,e)}Ie(t,e){const i=_h(t);let r,l=Qo.I;return i.jt({index:Kr.documentTargetsIndex},([u,h],{path:m,sequenceNumber:b})=>{0===u?(l!==Qo.I&&e(new vt(Ju(r)),l),l=b,r=m):l=Qo.I}).next(()=>{l!==Qo.I&&e(new vt(Ju(r)),l)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function kD(n,t){return _h(n).put((i=n.currentSequenceNumber,new Kr(0,kl(t.path),i)));var i}class jm{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,l]of i)if(this.equalsFn(r,t))return l}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0!==r){for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return void(r[l]=[t,e]);r.push([t,e])}else this.inner[i]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),!0;return!1}forEach(t){op(this.inner,(e,i)=>{for(const[r,l]of i)t(r,l)})}isEmpty(){return uL(this.inner)}}class TB{constructor(){this.changes=new jm(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:qt.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:gi.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Pe.resolve(i.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class gq{constructor(t,e){this.k=t,this.Jt=e}addEntry(t,e,i){return yh(t).put(RD(e),i)}removeEntry(t,e){const i=yh(t),r=RD(e);return i.delete(r)}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Re(t,i)))}getEntry(t,e){return yh(t).get(RD(e)).next(i=>this.be(e,i))}Pe(t,e){return yh(t).get(RD(e)).next(i=>({document:this.be(e,i),size:xD(i)}))}getEntries(t,e){let i=Ma();return this.ve(t,e,(r,l)=>{const u=this.be(r,l);i=i.insert(r,u)}).next(()=>i)}Ve(t,e){let i=Ma(),r=new dr(vt.comparator);return this.ve(t,e,(l,u)=>{const h=this.be(l,u);i=i.insert(l,h),r=r.insert(l,xD(u))}).next(()=>({documents:i,Se:r}))}ve(t,e,i){if(e.isEmpty())return Pe.resolve();const r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),l=e.getIterator();let u=l.getNext();return yh(t).jt({range:r},(h,m,b)=>{const D=vt.fromSegments(h);for(;u&&vt.comparator(u,D)<0;)i(u,null),u=l.getNext();u&&u.isEqual(D)&&(i(u,m),u=l.hasNext()?l.getNext():null),u?b.Lt(u.path.toArray()):b.done()}).next(()=>{for(;u;)i(u,null),u=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(t,e,i){let r=Ma();const l=e.path.length+1,u={};if(i.isEqual(qt.min())){const h=e.path.toArray();u.range=IDBKeyRange.lowerBound(h)}else{const h=e.path.toArray(),m=Hx(i);u.range=IDBKeyRange.lowerBound([h,m],!0),u.index=Pi.collectionReadTimeIndex}return yh(t).jt(u,(h,m,b)=>{if(h.length!==l)return;const D=Ux(this.k,m);e.path.isPrefixOf(D.key.path)?pb(e,D)&&(r=r.insert(D.key,D)):b.done()}).next(()=>r)}newChangeBuffer(t){return new mq(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return IB(t).get(Nc.key).next(e=>(Ot(!!e),e))}Re(t,e){return IB(t).put(Nc.key,e)}be(t,e){if(e){const i=Ux(this.k,e);if(!i.isNoDocument()||!i.version.isEqual(qt.min()))return i}return gi.newInvalidDocument(t)}}class mq extends TB{constructor(t,e){super(),this.De=t,this.trackRemovals=e,this.Ce=new jm(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Oi((l,u)=>an(l.canonicalString(),u.canonicalString()));return this.changes.forEach((l,u)=>{const h=this.Ce.get(l);if(u.document.isValidDocument()){const m=fB(this.De.k,u.document,this.getReadTime(l));r=r.add(l.path.popLast()),i+=xD(m)-h,e.push(this.De.addEntry(t,l,m))}else if(i-=h,this.trackRemovals){const m=fB(this.De.k,gi.newNoDocument(l,qt.min()),this.getReadTime(l));e.push(this.De.addEntry(t,l,m))}else e.push(this.De.removeEntry(t,l))}),r.forEach(l=>{e.push(this.De.Jt.addToCollectionParentIndex(t,l))}),e.push(this.De.updateMetadata(t,i)),Pe.waitFor(e)}getFromCache(t,e){return this.De.Pe(t,e).next(i=>(this.Ce.set(e,i.size),i.document))}getAllFromCache(t,e){return this.De.Ve(t,e).next(({documents:i,Se:r})=>(r.forEach((l,u)=>{this.Ce.set(l,u)}),i))}}function IB(n){return bo(n,Nc.store)}function yh(n){return bo(n,Pi.store)}function RD(n){return n.path.toArray()}class _q{constructor(t){this.k=t}Nt(t,e,i,r){Ot(i<r&&i>=0&&r<=11);const l=new MD("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore(Jo.store),(h=t).createObjectStore(ph.store,{keyPath:ph.keyPath}),h.createObjectStore(si.store,{keyPath:si.keyPath,autoIncrement:!0}).createIndex(si.userMutationsIndex,si.userMutationsKeyPath,{unique:!0}),h.createObjectStore(ys.store),SB(t),function(h){h.createObjectStore(Pi.store)}(t));let u=Pe.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore(Kr.store),h.deleteObjectStore(vo.store),h.deleteObjectStore(Xo.store)}(t),SB(t)),u=u.next(()=>function(h){const m=h.store(Xo.store),b=new Xo(0,0,qt.min().toTimestamp(),0);return m.put(Xo.key,b)}(l))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,m){return m.store(si.store).Bt().next(b=>{h.deleteObjectStore(si.store),h.createObjectStore(si.store,{keyPath:si.keyPath,autoIncrement:!0}).createIndex(si.userMutationsIndex,si.userMutationsKeyPath,{unique:!0});const D=m.store(si.store),A=b.map(P=>D.put(P));return Pe.waitFor(A)})}(t,l))),u=u.next(()=>{!function(h){h.createObjectStore(Xu.store,{keyPath:Xu.keyPath})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Ne(l))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore(Nc.store)}(t),this.ke(l)))),i<7&&r>=7&&(u=u.next(()=>this.xe(l))),i<8&&r>=8&&(u=u.next(()=>this.$e(t,l))),i<9&&r>=9&&(u=u.next(()=>{(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(t),function(h){const m=h.objectStore(Pi.store);m.createIndex(Pi.readTimeIndex,Pi.readTimeIndexPath,{unique:!1}),m.createIndex(Pi.collectionReadTimeIndex,Pi.collectionReadTimeIndexPath,{unique:!1})}(e)})),i<10&&r>=10&&(u=u.next(()=>this.Oe(l))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore(Nm.store,{keyPath:Nm.keyPath})})(t),function(h){h.createObjectStore(Fm.store,{keyPath:Fm.keyPath})}(t)})),u}ke(t){let e=0;return t.store(Pi.store).jt((i,r)=>{e+=xD(r)}).next(()=>{const i=new Nc(e);return t.store(Nc.store).put(Nc.key,i)})}Ne(t){const e=t.store(ph.store),i=t.store(si.store);return e.Bt().next(r=>Pe.forEach(r,l=>{const u=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return i.Bt(si.userMutationsIndex,u).next(h=>Pe.forEach(h,m=>{Ot(m.userId===l.userId);const b=Vm(this.k,m);return bB(t,l.userId,b).next(()=>{})}))}))}xe(t){const e=t.store(Kr.store),i=t.store(Pi.store);return t.store(Xo.store).get(Xo.key).next(r=>{const l=[];return i.jt((u,h)=>{const m=new Mn(u),b=[0,kl(m)];l.push(e.get(b).next(D=>D?Pe.resolve():e.put(new Kr(0,kl(m),r.highestListenSequenceNumber))))}).next(()=>Pe.waitFor(l))})}$e(t,e){t.createObjectStore(dp.store,{keyPath:dp.keyPath});const i=e.store(dp.store),r=new zx,l=u=>{if(r.add(u)){const h=u.lastSegment(),m=u.popLast();return i.put({collectionId:h,parent:kl(m)})}};return e.store(Pi.store).jt({Kt:!0},(u,h)=>{const m=new Mn(u);return l(m.popLast())}).next(()=>e.store(ys.store).jt({Kt:!0},([u,h,m],b)=>{const D=Ju(h);return l(D.popLast())}))}Oe(t){const e=t.store(vo.store);return e.jt((i,r)=>{const l=Db(r),u=gB(this.k,l);return e.put(u)})}}function SB(n){n.createObjectStore(Kr.store,{keyPath:Kr.keyPath}).createIndex(Kr.documentTargetsIndex,Kr.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(vo.store,{keyPath:vo.keyPath}).createIndex(vo.queryTargetsIndexName,vo.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Xo.store)}const $x="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Zx{constructor(t,e,i,r,l,u,h,m,b,D){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Me=l,this.window=u,this.document=h,this.Fe=b,this.Le=D,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=A=>Promise.resolve(),!Zx.Pt())throw new Ne(ve.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pq(this,r),this.Ge=e+"main",this.k=new hB(m),this.ze=new Rl(this.Ge,11,new _q(this.k)),this.He=new uq(this.referenceDelegate,this.k),this.Jt=new cq,this.Je=new gq(this.k,this.Jt),this.Ye=new aq,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===D&&Qi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(ve.FAILED_PRECONDITION,$x);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.He.getHighestSequenceNumber(t))}).then(t=>{this.Be=new Qo(t,this.Fe)}).then(()=>{this.Ue=!0}).catch(t=>(this.ze&&this.ze.close(),Promise.reject(t)))}sn(t){var e=this;return this.We=function(){var i=(0,ye.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ze.xt(function(){var e=(0,ye.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Me.enqueueAndForget((0,ye.Z)(function*(){e.started&&(yield e.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>OD(t).put(new Xu(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(t).next(e=>{e||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(t)).next(e=>this.isPrimary&&!e?this.cn(t).next(()=>!1):!!e&&this.an(t).next(()=>!0))).catch(t=>{if(hp(t))return He("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return He("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Me.enqueueRetryable(()=>this.We(t)),this.isPrimary=t})}rn(t){return Tb(t).get(Jo.key).next(e=>Pe.resolve(this.un(e)))}hn(t){return OD(t).delete(this.clientId)}ln(){var t=this;return(0,ye.Z)(function*(){if(t.isPrimary&&!t.fn(t.Qe,18e5)){t.Qe=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=bo(i,Xu.store);return r.Bt().next(l=>{const u=t.dn(l,18e5),h=l.filter(m=>-1===u.indexOf(m));return Pe.forEach(h,m=>r.delete(m.clientId)).next(()=>h)})}).catch(()=>[]);if(t.Xe)for(const i of e)t.Xe.removeItem(t.wn(i.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(t){return!!t&&t.ownerId===this.clientId}on(t){return this.Le?Pe.resolve(!0):Tb(t).get(Jo.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)){if(this.un(e)&&this.networkEnabled)return!0;if(!this.un(e)){if(!e.allowTabSynchronization)throw new Ne(ve.FAILED_PRECONDITION,$x);return!1}}return!(!this.networkEnabled||!this.inForeground)||OD(t).Bt().next(i=>void 0===this.dn(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&He("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ye.Z)(function*(){t.Ue=!1,t.mn(),t.je&&(t.je.cancel(),t.je=null),t.gn(),t.yn(),yield t.ze.runTransaction("shutdown","readwrite",[Jo.store,Xu.store],e=>{const i=new dB(e,Qo.I);return t.cn(i).next(()=>t.hn(i))}),t.ze.close(),t.pn()})()}dn(t,e){return t.filter(i=>this.fn(i.updateTimeMs,e)&&!this._n(i.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",t=>OD(t).Bt().next(e=>this.dn(e,18e5).map(i=>i.clientId)))}get started(){return this.Ue}getMutationQueue(t){return qx.Xt(t,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(t,e,i){let l;return He("IndexedDbPersistence","Starting transaction:",t),this.ze.runTransaction(t,"readonly"===e?"readonly":"readwrite",rq,u=>(l=new dB(u,this.Be?this.Be.next():Qo.I),"readwrite-primary"===e?this.rn(l).next(h=>!!h||this.on(l)).next(h=>{if(!h)throw Qi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new Ne(ve.FAILED_PRECONDITION,lB);return i(l)}).next(h=>this.an(l).next(()=>h)):this.En(l).next(()=>i(l)))).then(u=>(l.raiseOnCommittedEvent(),u))}En(t){return Tb(t).get(Jo.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)&&!this.un(e)&&!(this.Le||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ne(ve.FAILED_PRECONDITION,$x)})}an(t){const e=new Jo(this.clientId,this.allowTabSynchronization,Date.now());return Tb(t).put(Jo.key,e)}static Pt(){return Rl.Pt()}cn(t){const e=Tb(t);return e.get(Jo.key).next(i=>this.un(i)?(He("IndexedDbPersistence","Releasing primary lease."),e.delete(Jo.key)):Pe.resolve())}fn(t,e){const i=Date.now();return!(t<i-e||t>i&&(Qi(`Detected an update time that is in the future: ${t} > ${i}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.qe=()=>{this.mn(),(0,Rt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(t){var e;try{const i=null!==(null===(e=this.Xe)||void 0===e?void 0:e.getItem(this.wn(t)));return He("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Qi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(t){Qi("Failed to set zombie client id.",t)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(t){}}wn(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Tb(n){return bo(n,Jo.store)}function OD(n){return bo(n,Xu.store)}function Wx(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class yq{constructor(t,e){this.progress=t,this.In=e}}class AB{constructor(t,e,i){this.Je=t,this.An=e,this.Jt=i}Rn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.bn(t,e,i))}bn(t,e,i){return this.Je.getEntry(t,e).next(r=>{for(const l of i)l.applyToLocalView(r);return r})}Pn(t,e){t.forEach((i,r)=>{for(const l of e)l.applyToLocalView(r)})}vn(t,e){return this.Je.getEntries(t,e).next(i=>this.Vn(t,i).next(()=>i))}Vn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.Pn(e,i))}getDocumentsMatchingQuery(t,e,i){return vt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.Sn(t,e.path):xx(e)?this.Dn(t,e,i):this.Cn(t,e,i);var r}Sn(t,e){return this.Rn(t,new vt(e)).next(i=>{let r=Px();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Dn(t,e,i){const r=e.collectionGroup;let l=Px();return this.Jt.getCollectionParents(t,r).next(u=>Pe.forEach(u,h=>{const m=(b=e,D=h.child(r),new Qu(D,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,D;return this.Cn(t,m,i).next(b=>{b.forEach((D,A)=>{l=l.insert(D,A)})})}).next(()=>l))}Cn(t,e,i){let r,l;return this.Je.getDocumentsMatchingQuery(t,e,i).next(u=>(r=u,this.An.getAllMutationBatchesAffectingQuery(t,e))).next(u=>(l=u,this.Nn(t,l,r).next(h=>{r=h;for(const m of l)for(const b of m.mutations){const D=b.key;let A=r.get(D);null==A&&(A=gi.newInvalidDocument(D),r=r.insert(D,A)),Rx(b,A,m.localWriteTime),A.isFoundDocument()||(r=r.remove(D))}}))).next(()=>(r.forEach((u,h)=>{pb(e,h)||(r=r.remove(u))}),r))}Nn(t,e,i){let r=Fn();for(const u of e)for(const h of u.mutations)h instanceof fh&&null===i.get(h.key)&&(r=r.add(h.key));let l=i;return this.Je.getEntries(t,r).next(u=>(u.forEach((h,m)=>{m.isFoundDocument()&&(l=l.insert(h,m))}),l))}}class Yx{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.kn=i,this.xn=r}static $n(t,e){let i=Fn(),r=Fn();for(const l of e.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:r=r.add(l.doc.key)}return new Yx(t,e.fromCache,i,r)}}class MB{On(t){this.Mn=t}getDocumentsMatchingQuery(t,e,i,r){return 0===(l=e).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||i.isEqual(qt.min())?this.Fn(t,e):this.Mn.vn(t,r).next(l=>{const u=this.Ln(e,l);return(bD(e)||wD(e))&&this.Bn(e.limitType,u,r,i)?this.Fn(t,e):(wx()<=Rc.in.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),kx(e)),this.Mn.getDocumentsMatchingQuery(t,e,i).next(h=>(u.forEach(m=>{h=h.insert(m.key,m)}),h)))});var l}Ln(t,e){let i=new Oi(DL(t));return e.forEach((r,l)=>{pb(t,l)&&(i=i.add(l))}),i}Bn(t,e,i,r){if(i.size!==e.size)return!0;const l="F"===t?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(r)>0)}Fn(t,e){return wx()<=Rc.in.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",kx(e)),this.Mn.getDocumentsMatchingQuery(t,e,qt.min())}}class vq{constructor(t,e,i,r){this.persistence=t,this.Un=e,this.k=r,this.qn=new dr(an),this.Kn=new jm(l=>db(l),_D),this.jn=qt.min(),this.An=t.getMutationQueue(i),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new AB(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.qn))}}function xB(n,t,e,i){return new vq(n,t,e,i)}function kB(n,t){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,ye.Z)(function*(n,t){const e=Qe(n);let i=e.An,r=e.Wn;const l=yield e.persistence.runTransaction("Handle user change","readonly",u=>{let h;return e.An.getAllMutationBatches(u).next(m=>(h=m,i=e.persistence.getMutationQueue(t),r=new AB(e.Qn,i,e.persistence.getIndexManager()),i.getAllMutationBatches(u))).next(m=>{const b=[],D=[];let A=Fn();for(const P of h){b.push(P.batchId);for(const B of P.mutations)A=A.add(B.key)}for(const P of m){D.push(P.batchId);for(const B of P.mutations)A=A.add(B.key)}return r.vn(u,A).next(P=>({Gn:P,removedBatchIds:b,addedBatchIds:D}))})});return e.An=i,e.Wn=r,e.Un.On(e.Wn),l}),Kx.apply(this,arguments)}function bq(n,t){const e=Qe(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),l=e.Qn.newChangeBuffer({trackRemovals:!0});return function(u,h,m,b){const D=m.batch,A=D.keys();let P=Pe.resolve();return A.forEach(B=>{P=P.next(()=>b.getEntry(h,B)).next(G=>{const re=m.docVersions.get(B);Ot(null!==re),G.version.compareTo(re)<0&&(D.applyToRemoteDocument(G,m),G.isValidDocument()&&b.addEntry(G,m.commitVersion))})}),P.next(()=>u.An.removeMutationBatch(h,D))}(e,i,t,l).next(()=>l.apply(i)).next(()=>e.An.performConsistencyCheck(i)).next(()=>e.Wn.vn(i,r))})}function RB(n){const t=Qe(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.He.getLastRemoteSnapshotVersion(e))}function wq(n,t){const e=Qe(n),i=t.snapshotVersion;let r=e.qn;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=e.Qn.newChangeBuffer({trackRemovals:!0});r=e.qn;const h=[];t.targetChanges.forEach((b,D)=>{const A=r.get(D);if(!A)return;h.push(e.He.removeMatchingKeys(l,b.removedDocuments,D).next(()=>e.He.addMatchingKeys(l,b.addedDocuments,D)));let P=A.withSequenceNumber(l.currentSequenceNumber);var B,G,re;t.targetMismatches.has(D)?P=P.withResumeToken(ur.EMPTY_BYTE_STRING,qt.min()).withLastLimboFreeSnapshotVersion(qt.min()):b.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(b.resumeToken,i)),r=r.insert(D,P),G=P,re=b,(0===(B=A).resumeToken.approximateByteSize()||G.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0)&&h.push(e.He.updateTargetData(l,P))});let m=Ma();if(t.documentUpdates.forEach((b,D)=>{t.resolvedLimboDocuments.has(b)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(l,b))}),h.push(OB(l,u,t.documentUpdates,i,void 0).next(b=>{m=b})),!i.isEqual(qt.min())){const b=e.He.getLastRemoteSnapshotVersion(l).next(D=>e.He.setTargetsMetadata(l,l.currentSequenceNumber,i));h.push(b)}return Pe.waitFor(h).next(()=>u.apply(l)).next(()=>e.Wn.Vn(l,m)).next(()=>m)}).then(l=>(e.qn=r,l))}function OB(n,t,e,i,r){let l=Fn();return e.forEach(u=>l=l.add(u)),t.getEntries(n,l).next(u=>{let h=Ma();return e.forEach((m,b)=>{const D=u.get(m),A=(null==r?void 0:r.get(m))||i;b.isNoDocument()&&b.version.isEqual(qt.min())?(t.removeEntry(m,A),h=h.insert(m,b)):!D.isValidDocument()||b.version.compareTo(D.version)>0||0===b.version.compareTo(D.version)&&D.hasPendingWrites?(t.addEntry(b,A),h=h.insert(m,b)):He("LocalStore","Ignoring outdated watch update for ",m,". Current version:",D.version," Watch version:",b.version)}),h})}function Cq(n,t){const e=Qe(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.An.getNextMutationBatchAfterBatchId(i,t)))}function zm(n,t){const e=Qe(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.He.getTargetData(i,t).next(l=>l?(r=l,Pe.resolve(r)):e.He.allocateTargetId(i).next(u=>(r=new gh(t,u,0,i.currentSequenceNumber),e.He.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.qn.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.qn=e.qn.insert(i.targetId,i),e.Kn.set(t,i.targetId)),i})}function qm(n,t,e){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,ye.Z)(function*(n,t,e){const i=Qe(n),r=i.qn.get(t),l=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!hp(u))throw u;He("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.qn=i.qn.remove(t),i.Kn.delete(r.target)}),Qx.apply(this,arguments)}function PD(n,t,e){const i=Qe(n);let r=qt.min(),l=Fn();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,m,b){const D=Qe(h),A=D.Kn.get(b);return void 0!==A?Pe.resolve(D.qn.get(A)):D.He.getTargetData(m,b)}(i,u,Aa(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.He.getMatchingKeysForTargetId(u,h.targetId).next(m=>{l=m})}).next(()=>i.Un.getDocumentsMatchingQuery(u,t,e?r:qt.min(),e?l:Fn())).next(h=>({documents:h,zn:l})))}function PB(n,t){const e=Qe(n),i=Qe(e.He),r=e.qn.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",l=>i.Et(l,t).next(u=>u?u.target:null))}function NB(n){const t=Qe(n);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(i,r,l){const u=Qe(i);let h=Ma(),m=Hx(l);const b=yh(r),D=IDBKeyRange.lowerBound(m,!0);return b.jt({index:Pi.readTimeIndex,range:D},(A,P)=>{const B=Ux(u.k,P);h=h.insert(B.key,B),m=P.readTime}).next(()=>({In:h,readTime:pB(m)}))}(t.Qn,e,t.jn)).then(({In:e,readTime:i})=>(t.jn=i,e))}function Jx(){return Jx=(0,ye.Z)(function*(n){const t=Qe(n);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(i){const r=yh(i);let l=qt.min();return r.jt({index:Pi.readTimeIndex,reverse:!0},(u,h,m)=>{h.readTime&&(l=pB(h.readTime)),m.done()}).next(()=>l)}(e)).then(e=>{t.jn=e})}),Jx.apply(this,arguments)}function Xx(){return Xx=(0,ye.Z)(function*(n,t,e,i){const r=Qe(n);let l=Fn(),u=Ma(),h=HL();for(const D of e){const A=t.Hn(D.metadata.name);D.document&&(l=l.add(A)),u=u.insert(A,t.Jn(D)),h=h.insert(A,t.Yn(D.metadata.readTime))}const m=r.Qn.newChangeBuffer({trackRemovals:!0}),b=yield zm(r,(D=i,Aa(Mm(Mn.fromString(`__bundle__/docs/${D}`)))));var D;return r.persistence.runTransaction("Apply bundle documents","readwrite",D=>OB(D,m,u,qt.min(),h).next(A=>(m.apply(D),A)).next(A=>r.He.removeMatchingKeysForTargetId(D,b.targetId).next(()=>r.He.addMatchingKeys(D,l,b.targetId)).next(()=>r.Wn.Vn(D,A)).next(()=>A)))}),Xx.apply(this,arguments)}function Tq(n,t){return ek.apply(this,arguments)}function ek(){return ek=(0,ye.Z)(function*(n,t,e=Fn()){const i=yield zm(n,Aa(jx(t.bundledQuery))),r=Qe(n);return r.persistence.runTransaction("Save named query","readwrite",l=>{const u=Tr(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ye.saveNamedQuery(l,t);const h=i.withResumeToken(ur.EMPTY_BYTE_STRING,u);return r.qn=r.qn.insert(h.targetId,h),r.He.updateTargetData(l,h).next(()=>r.He.removeMatchingKeysForTargetId(l,i.targetId)).next(()=>r.He.addMatchingKeys(l,e,i.targetId)).next(()=>r.Ye.saveNamedQuery(l,t))})}),ek.apply(this,arguments)}class Iq{constructor(t){this.k=t,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(t,e){return Pe.resolve(this.Xn.get(e))}saveBundleMetadata(t,e){var i;return this.Xn.set(e.id,{id:(i=e).id,version:i.version,createTime:Tr(i.createTime)}),Pe.resolve()}getNamedQuery(t,e){return Pe.resolve(this.Zn.get(e))}saveNamedQuery(t,e){return this.Zn.set(e.name,{name:(i=e).name,query:jx(i.bundledQuery),readTime:Tr(i.readTime)}),Pe.resolve();var i}}class tk{constructor(){this.ts=new Oi(Ir.es),this.ns=new Oi(Ir.ss)}isEmpty(){return this.ts.isEmpty()}addReference(t,e){const i=new Ir(t,e);this.ts=this.ts.add(i),this.ns=this.ns.add(i)}rs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.os(new Ir(t,e))}cs(t,e){t.forEach(i=>this.removeReference(i,e))}us(t){const e=new vt(new Mn([])),i=new Ir(e,t),r=new Ir(e,t+1),l=[];return this.ns.forEachInRange([i,r],u=>{this.os(u),l.push(u.key)}),l}hs(){this.ts.forEach(t=>this.os(t))}os(t){this.ts=this.ts.delete(t),this.ns=this.ns.delete(t)}ls(t){const e=new vt(new Mn([])),i=new Ir(e,t),r=new Ir(e,t+1);let l=Fn();return this.ns.forEachInRange([i,r],u=>{l=l.add(u.key)}),l}containsKey(t){const e=new Ir(t,0),i=this.ts.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Ir{constructor(t,e){this.key=t,this.fs=e}static es(t,e){return vt.comparator(t.key,e.key)||an(t.fs,e.fs)}static ss(t,e){return an(t.fs,e.fs)||vt.comparator(t.key,e.key)}}class Sq{constructor(t,e){this.Jt=t,this.referenceDelegate=e,this.An=[],this.ds=1,this.ws=new Oi(Ir.es)}checkEmpty(t){return Pe.resolve(0===this.An.length)}addMutationBatch(t,e,i,r){const l=this.ds;this.ds++;const u=new Bx(l,e,i,r);this.An.push(u);for(const h of r)this.ws=this.ws.add(new Ir(h.key,l)),this.Jt.addToCollectionParentIndex(t,h.key.path.popLast());return Pe.resolve(u)}lookupMutationBatch(t,e){return Pe.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.gs(e+1),l=r<0?0:r;return Pe.resolve(this.An.length>l?this.An[l]:null)}getHighestUnacknowledgedBatchId(){return Pe.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(t){return Pe.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ir(e,0),r=new Ir(e,Number.POSITIVE_INFINITY),l=[];return this.ws.forEachInRange([i,r],u=>{const h=this._s(u.fs);l.push(h)}),Pe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Oi(an);return e.forEach(r=>{const l=new Ir(r,0),u=new Ir(r,Number.POSITIVE_INFINITY);this.ws.forEachInRange([l,u],h=>{i=i.add(h.fs)})}),Pe.resolve(this.ys(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let l=i;vt.isDocumentKey(l)||(l=l.child(""));const u=new Ir(new vt(l),0);let h=new Oi(an);return this.ws.forEachWhile(m=>{const b=m.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(h=h.add(m.fs)),!0)},u),Pe.resolve(this.ys(h))}ys(t){const e=[];return t.forEach(i=>{const r=this._s(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Ot(0===this.ps(e.batchId,"removed")),this.An.shift();let i=this.ws;return Pe.forEach(e.mutations,r=>{const l=new Ir(r.key,e.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ws=i})}ee(t){}containsKey(t,e){const i=new Ir(e,0),r=this.ws.firstAfterOrEqual(i);return Pe.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Pe.resolve()}ps(t,e){return this.gs(t)}gs(t){return 0===this.An.length?0:t-this.An[0].batchId}_s(t){const e=this.gs(t);return e<0||e>=this.An.length?null:this.An[e]}}class Aq{constructor(t,e){this.Jt=t,this.Ts=e,this.docs=new dr(vt.comparator),this.size=0}addEntry(t,e,i){const r=e.key,l=this.docs.get(r),u=l?l.size:0,h=this.Ts(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:h,readTime:i}),this.size+=h-u,this.Jt.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Pe.resolve(i?i.document.mutableCopy():gi.newInvalidDocument(e))}getEntries(t,e){let i=Ma();return e.forEach(r=>{const l=this.docs.get(r);i=i.insert(r,l?l.document.mutableCopy():gi.newInvalidDocument(r))}),Pe.resolve(i)}getDocumentsMatchingQuery(t,e,i){let r=Ma();const l=new vt(e.path.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:m,readTime:b}}=u.getNext();if(!e.path.isPrefixOf(h.path))break;b.compareTo(i)<=0||pb(e,m)&&(r=r.insert(m.key,m.mutableCopy()))}return Pe.resolve(r)}Es(t,e){return Pe.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Mq(this)}getSize(t){return Pe.resolve(this.size)}}class Mq extends TB{constructor(t){super(),this.De=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.document.isValidDocument()?e.push(this.De.addEntry(t,r.document,this.getReadTime(i))):this.De.removeEntry(i)}),Pe.waitFor(e)}getFromCache(t,e){return this.De.getEntry(t,e)}getAllFromCache(t,e){return this.De.getEntries(t,e)}}class xq{constructor(t){this.persistence=t,this.Is=new jm(e=>db(e),_D),this.lastRemoteSnapshotVersion=qt.min(),this.highestTargetId=0,this.As=0,this.Rs=new tk,this.targetCount=0,this.bs=pp.ie()}forEachTarget(t,e){return this.Is.forEach((i,r)=>e(r)),Pe.resolve()}getLastRemoteSnapshotVersion(t){return Pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Pe.resolve(this.As)}allocateTargetId(t){return this.highestTargetId=this.bs.next(),Pe.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.As&&(this.As=e),Pe.resolve()}ae(t){this.Is.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.bs=new pp(e),this.highestTargetId=e),t.sequenceNumber>this.As&&(this.As=t.sequenceNumber)}addTargetData(t,e){return this.ae(e),this.targetCount+=1,Pe.resolve()}updateTargetData(t,e){return this.ae(e),Pe.resolve()}removeTargetData(t,e){return this.Is.delete(e.target),this.Rs.us(e.targetId),this.targetCount-=1,Pe.resolve()}removeTargets(t,e,i){let r=0;const l=[];return this.Is.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Is.delete(u),l.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),Pe.waitFor(l).next(()=>r)}getTargetCount(t){return Pe.resolve(this.targetCount)}getTargetData(t,e){const i=this.Is.get(e)||null;return Pe.resolve(i)}addMatchingKeys(t,e,i){return this.Rs.rs(e,i),Pe.resolve()}removeMatchingKeys(t,e,i){this.Rs.cs(e,i);const r=this.persistence.referenceDelegate,l=[];return r&&e.forEach(u=>{l.push(r.markPotentiallyOrphaned(t,u))}),Pe.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.Rs.us(e),Pe.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Rs.ls(e);return Pe.resolve(i)}containsKey(t,e){return Pe.resolve(this.Rs.containsKey(e))}}class kq{constructor(t,e){this.Ps={},this.Be=new Qo(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new xq(this),this.Jt=new lq,this.Je=new Aq(this.Jt,i=>this.referenceDelegate.vs(i)),this.k=new hB(e),this.Ye=new Iq(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(t){let e=this.Ps[t.toKey()];return e||(e=new Sq(this.Jt,this.referenceDelegate),this.Ps[t.toKey()]=e),e}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(t,e,i){He("MemoryPersistence","Starting transaction:",t);const r=new Rq(this.Be.next());return this.referenceDelegate.Vs(),i(r).next(l=>this.referenceDelegate.Ss(r).next(()=>l)).toPromise().then(l=>(r.raiseOnCommittedEvent(),l))}Ds(t,e){return Pe.or(Object.values(this.Ps).map(i=>()=>i.containsKey(t,e)))}}class Rq extends cB{constructor(t){super(),this.currentSequenceNumber=t}}class nk{constructor(t){this.persistence=t,this.Cs=new tk,this.Ns=null}static ks(t){return new nk(t)}get xs(){if(this.Ns)return this.Ns;throw wt()}addReference(t,e,i){return this.Cs.addReference(i,e),this.xs.delete(i.toString()),Pe.resolve()}removeReference(t,e,i){return this.Cs.removeReference(i,e),this.xs.add(i.toString()),Pe.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),Pe.resolve()}removeTarget(t,e){this.Cs.us(e.targetId).forEach(r=>this.xs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(l=>this.xs.add(l.toString()))}).next(()=>i.removeTargetData(t,e))}Vs(){this.Ns=new Set}Ss(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.xs,i=>{const r=vt.fromPath(i);return this.$s(t,r).next(l=>{l||e.removeEntry(r)})}).next(()=>(this.Ns=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(i=>{i?this.xs.delete(e.toString()):this.xs.add(e.toString())})}vs(t){return 0}$s(t,e){return Pe.or([()=>Pe.resolve(this.Cs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ds(t,e)])}}function FB(n,t){return`firestore_clients_${n}_${t}`}function LB(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function ik(n,t){return`firestore_targets_${n}_${t}`}class ND{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Os(t,e,i){const r=JSON.parse(i);let l,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(l=new Ne(r.error.code,r.error.message))),u?new ND(t,e,r.state,l):(Qi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Ms(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Ib{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Os(t,e){const i=JSON.parse(e);let r,l="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(r=new Ne(i.error.code,i.error.message))),l?new Ib(t,i.state,r):(Qi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Ms(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class FD{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Os(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,l=ID();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=hL(i.activeTargetIds[u]),l=l.add(i.activeTargetIds[u]);return r?new FD(t,l):(Qi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class rk{constructor(t,e){this.clientId=t,this.onlineState=e}static Os(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new rk(e.clientId,e.onlineState):(Qi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class sk{constructor(){this.activeTargetIds=ID()}Fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ls(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ms(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ok{constructor(t,e,i,r,l){this.window=t,this.Me=e,this.persistenceKey=i,this.Bs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new dr(an),this.started=!1,this.js=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Qs=FB(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new sk),this.Gs=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(h){return`firestore_bundle_loaded_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ye.Z)(function*(){const e=yield t.syncEngine.Tn();for(const r of e){if(r===t.Bs)continue;const l=t.getItem(FB(t.persistenceKey,r));if(l){const u=FD.Os(r,l);u&&(t.Ks=t.Ks.insert(u.clientId,u))}}t.Xs();const i=t.storage.getItem(t.Js);if(i){const r=t.Zs(i);r&&t.ti(r)}for(const r of t.js)t.qs(r);t.js=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ws,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(t){let e=!1;return this.Ks.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.ni(t,"pending")}updateMutationState(t,e,i){this.ni(t,e,i),this.si(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(ik(this.persistenceKey,t));if(i){const r=Ib.Os(t,i);r&&(e=r.state)}}return this.ii.Fs(t),this.Xs(),e}removeLocalQueryTarget(t){this.ii.Ls(t),this.Xs()}isLocalQueryTarget(t){return this.ii.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(ik(this.persistenceKey,t))}updateQueryState(t,e,i){this.ri(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.si(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.oi(t)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return He("SharedClientState","READ",t,e),e}setItem(t,e){He("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){He("SharedClientState","REMOVE",t),this.storage.removeItem(t)}qs(t){var e=this;const i=t;if(i.storageArea===this.storage){if(He("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Qs)return void Qi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,ye.Z)(function*(){if(e.started){if(null!==i.key)if(e.Gs.test(i.key)){if(null==i.newValue){const r=e.ai(i.key);return e.ui(r,null)}{const r=e.hi(i.key,i.newValue);if(r)return e.ui(r.clientId,r)}}else if(e.zs.test(i.key)){if(null!==i.newValue){const r=e.li(i.key,i.newValue);if(r)return e.fi(r)}}else if(e.Hs.test(i.key)){if(null!==i.newValue){const r=e.di(i.key,i.newValue);if(r)return e.wi(r)}}else if(i.key===e.Js){if(null!==i.newValue){const r=e.Zs(i.newValue);if(r)return e.ti(r)}}else if(i.key===e.Ws){const r=function(l){let u=Qo.I;if(null!=l)try{const h=JSON.parse(l);Ot("number"==typeof h),u=h}catch(h){Qi("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==Qo.I&&e.sequenceNumberHandler(r)}else if(i.key===e.Ys)return e.syncEngine._i()}else e.js.push(i)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(t,e,i){const r=new ND(this.currentUser,t,e,i),l=LB(this.persistenceKey,this.currentUser,t);this.setItem(l,r.Ms())}si(t){const e=LB(this.persistenceKey,this.currentUser,t);this.removeItem(e)}oi(t){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:t}))}ri(t,e,i){const r=ik(this.persistenceKey,t),l=new Ib(t,e,i);this.setItem(r,l.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(t){const e=this.Gs.exec(t);return e?e[1]:null}hi(t,e){const i=this.ai(t);return FD.Os(i,e)}li(t,e){const i=this.zs.exec(t),r=Number(i[1]);return ND.Os(new Zr(void 0!==i[2]?i[2]:null),r,e)}di(t,e){const i=this.Hs.exec(t),r=Number(i[1]);return Ib.Os(r,e)}Zs(t){return rk.Os(t)}fi(t){var e=this;return(0,ye.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.mi(t.batchId,t.state,t.error);He("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}wi(t){return this.syncEngine.gi(t.targetId,t.state,t.error)}ui(t,e){const i=e?this.Ks.insert(t,e):this.Ks.remove(t),r=this.ei(this.Ks),l=this.ei(i),u=[],h=[];return l.forEach(m=>{r.has(m)||u.push(m)}),r.forEach(m=>{l.has(m)||h.push(m)}),this.syncEngine.yi(u,h).then(()=>{this.Ks=i})}ti(t){this.Ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ei(t){let e=ID();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class BB{constructor(){this.pi=new sk,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.pi.Fs(t),this.Ti[t]||"not-current"}updateQueryState(t,e,i){this.Ti[t]=e}removeLocalQueryTarget(t){this.pi.Ls(t)}isLocalQueryTarget(t){return this.pi.activeTargetIds.has(t)}clearQueryState(t){delete this.Ti[t]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(t){return this.pi.activeTargetIds.has(t)}start(){return this.pi=new sk,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class Oq{Ei(t){}shutdown(){}}class VB{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(t){this.Pi.push(t)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){He("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Pi)t(0)}bi(){He("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Pi)t(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Pq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Nq{constructor(t){this.Vi=t.Vi,this.Si=t.Si}Di(t){this.Ci=t}Ni(t){this.ki=t}onMessage(t){this.xi=t}close(){this.Si()}send(t){this.Vi(t)}$i(){this.Ci()}Oi(t){this.ki(t)}Mi(t){this.xi(t)}}class Fq extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Fi=(t.ssl?"https":"http")+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(t,e,i,r,l){const u=this.Ui(t,e);He("RestConnection","Sending: ",u,i);const h={};return this.qi(h,r,l),this.Ki(t,u,h,i).then(m=>(He("RestConnection","Received: ",m),m),m=>{throw ob("RestConnection",`${t} failed with error: `,m,"url: ",u,"request:",i),m})}ji(t,e,i,r,l){return this.Bi(t,e,i,r,l)}qi(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Em,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,l)=>t[l]=r),i&&i.headers.forEach((r,l)=>t[l]=r)}Ui(t,e){return`${this.Fi}/v1/${e}:${Pq[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Ki(t,e,i,r){return new Promise((l,u)=>{const h=new iz;h.listenOnce(ez.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case bx.NO_ERROR:const b=h.getResponseJson();He("Connection","XHR received:",JSON.stringify(b)),l(b);break;case bx.TIMEOUT:He("Connection",'RPC "'+t+'" timed out'),u(new Ne(ve.DEADLINE_EXCEEDED,"Request time out"));break;case bx.HTTP_ERROR:const D=h.getStatus();if(He("Connection",'RPC "'+t+'" failed with status:',D,"response text:",h.getResponseText()),D>0){const A=h.getResponseJson().error;if(A&&A.status&&A.message){const P=function(B){const G=B.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(G)>=0?G:ve.UNKNOWN}(A.status);u(new Ne(P,A.message))}else u(new Ne(ve.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Ne(ve.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{He("Connection",'RPC "'+t+'" completed.')}});const m=JSON.stringify(r);h.send(e,"POST",m,i,15)})}Qi(t,e,i){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=J6(),u=X6(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new nz({})),this.qi(h.initMessageHeaders,e,i),(0,Rt.uI)()||(0,Rt.b$)()||(0,Rt.d)()||(0,Rt.w1)()||(0,Rt.Mn)()||(0,Rt.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const m=r.join("");He("Connection","Creating WebChannel: "+m,h);const b=l.createWebChannel(m,h);let D=!1,A=!1;const P=new Nq({Vi:G=>{A?He("Connection","Not sending because WebChannel is closed:",G):(D||(He("Connection","Opening WebChannel transport."),b.open(),D=!0),He("Connection","WebChannel sending:",G),b.send(G))},Si:()=>b.close()}),B=(G,re,be)=>{G.listen(re,Xe=>{try{be(Xe)}catch(it){setTimeout(()=>{throw it},0)}})};return B(b,fD.EventType.OPEN,()=>{A||He("Connection","WebChannel transport opened.")}),B(b,fD.EventType.CLOSE,()=>{A||(A=!0,He("Connection","WebChannel transport closed"),P.Oi())}),B(b,fD.EventType.ERROR,G=>{A||(A=!0,ob("Connection","WebChannel transport errored:",G),P.Oi(new Ne(ve.UNAVAILABLE,"The operation could not be completed")))}),B(b,fD.EventType.MESSAGE,G=>{var re;if(!A){const be=G.data[0];Ot(!!be);const Xe=be,it=Xe.error||(null===(re=Xe[0])||void 0===re?void 0:re.error);if(it){He("Connection","WebChannel received error:",it);const et=it.status;let je=function(Ln){const _i=er[Ln];if(void 0!==_i)return VL(_i)}(et),Qt=it.message;void 0===je&&(je=ve.INTERNAL,Qt="Unknown error status: "+et+" with message "+it.message),A=!0,P.Oi(new Ne(je,Qt)),b.close()}else He("Connection","WebChannel received:",be),P.Mi(be)}}),B(u,tz.STAT_EVENT,G=>{G.stat===iL.PROXY?He("Connection","Detected buffering proxy"):G.stat===iL.NOPROXY&&He("Connection","Detected no buffering proxy")}),setTimeout(()=>{P.$i()},0),P}}function UB(){return"undefined"!=typeof window?window:null}function LD(){return"undefined"!=typeof document?document:null}function Sb(n){return new zz(n,!0)}class ak{constructor(t,e,i=1e3,r=1.5,l=6e4){this.Me=t,this.timerId=e,this.Wi=i,this.Gi=r,this.zi=l,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(t){this.cancel();const e=Math.floor(this.Hi+this.tr()),i=Math.max(0,Date.now()-this.Yi),r=Math.max(0,e-i);r>0&&He("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Hi} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,r,()=>(this.Yi=Date.now(),t())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class HB{constructor(t,e,i,r,l,u,h,m){this.Me=t,this.nr=i,this.sr=r,this.ir=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new ak(t,e)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var t=this;return(0,ye.Z)(function*(){t.hr()&&(yield t.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(t){this.yr(),this.stream.send(t)}mr(){var t=this;return(0,ye.Z)(function*(){if(t.lr())return t.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(t,e){var i=this;return(0,ye.Z)(function*(){i.yr(),i.pr(),i.ur.cancel(),i.rr++,4!==t?i.ur.reset():e&&e.code===ve.RESOURCE_EXHAUSTED?(Qi(e.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),i.ur.Xi()):e&&e.code===ve.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Tr(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Ni(e)})()}Tr(){}auth(){this.state=1;const t=this.Er(this.rr),e=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.rr===e&&this.Ir(i,r)},i=>{t(()=>{const r=new Ne(ve.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Ar(r)})})}Ir(t,e){const i=this.Er(this.rr);this.stream=this.Rr(t,e),this.stream.Di(()=>{i(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(r=>{i(()=>this.Ar(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}dr(){var t=this;this.state=5,this.ur.Zi((0,ye.Z)(function*(){t.state=0,t.start()}))}Ar(t){return He("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Er(t){return e=>{this.Me.enqueueAndForget(()=>this.rr===t?e():(He("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lq extends HB{constructor(t,e,i,r,l,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.k=l}Rr(t,e){return this.ir.Qi("Listen",t,e)}onMessage(t){this.ur.reset();const e=function $z(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(m=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:wt(),r=t.targetChange.targetIds||[],l=function(m,b){return m.C?(Ot(void 0===b||"string"==typeof b),ur.fromBase64String(b||"")):(Ot(void 0===b||b instanceof Uint8Array),ur.fromUint8Array(b||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(m){const b=void 0===m.code?ve.UNKNOWN:VL(m.code);return new Ne(b,m.message||"")}(u);e=new zL(i,r,l,h||null)}else if("documentChange"in t){const i=t.documentChange,r=Pc(n,i.document.name),l=Tr(i.document.updateTime),u=new _s({mapValue:{fields:i.document.fields}}),h=gi.newFoundDocument(r,l,u);e=new SD(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=Pc(n,i.document),l=i.readTime?Tr(i.readTime):qt.min(),u=gi.newNoDocument(r,l);e=new SD([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=Pc(n,i.document);e=new SD([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return wt();{const i=t.filter,l=new Pz(i.count||0);e=new jL(i.targetId,l)}}var m;return e}(this.k,t),i=function(r){if(!("targetChange"in r))return qt.min();const l=r.targetChange;return l.targetIds&&l.targetIds.length?qt.min():l.readTime?Tr(l.readTime):qt.min()}(t);return this.listener.br(e,i)}Pr(t){const e={};e.database=Cb(this.k),e.addTarget=function(r,l){let u;const h=l.target;return u=yD(h)?{documents:eB(r,h)}:{query:tB(r,h)},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?u.resumeToken=ZL(r,l.resumeToken):l.snapshotVersion.compareTo(qt.min())>0&&(u.readTime=bb(r,l.snapshotVersion.toTimestamp())),u}(this.k,t);const i=function Wz(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return wt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.gr(e)}vr(t){const e={};e.database=Cb(this.k),e.removeTarget=t,this.gr(e)}}class Bq extends HB{constructor(t,e,i,r,l,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.k=l,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(t,e){return this.ir.Qi("Write",t,e)}onMessage(t){if(Ot(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Vr){this.ur.reset();const e=function Zz(n,t){return n&&n.length>0?(Ot(void 0!==t),n.map(e=>function(i,r){let l=Tr(i.updateTime?i.updateTime:r);return l.isEqual(qt.min())&&(l=Tr(r)),new kz(l,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Tr(t.commitTime);return this.listener.Cr(i,e)}return Ot(!t.writeResults||0===t.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const t={};t.database=Cb(this.k),this.gr(t)}Dr(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>AD(this.k,i))};this.gr(e)}}class Vq extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.ir=i,this.k=r,this.$r=!1}Or(){if(this.$r)throw new Ne(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(t,e,i){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,l])=>this.ir.Bi(t,e,i,r,l)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ne(ve.UNKNOWN,r.toString())})}ji(t,e,i){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,l])=>this.ir.ji(t,e,i,r,l)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ne(ve.UNKNOWN,r.toString())})}terminate(){this.$r=!0}}class Uq{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(t){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Ur("Offline")))}set(t){this.jr(),this.Mr=0,"Online"===t&&(this.Lr=!1),this.Ur(t)}Ur(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}qr(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Qi(e),this.Lr=!1):He("OnlineStateTracker",e)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class Hq{constructor(t,e,i,r,l){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=l,this.Hr.Ei(h=>{i.enqueueAndForget((0,ye.Z)(function*(){var m;vh(u)&&(He("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,ye.Z)(function*(b){const D=Qe(b);D.Gr.add(4),yield Gm(D),D.Jr.set("Unknown"),D.Gr.delete(4),yield Ab(D)}),function(b){return m.apply(this,arguments)})(u))}))}),this.Jr=new Uq(i,r)}}function Ab(n){return lk.apply(this,arguments)}function lk(){return lk=(0,ye.Z)(function*(n){if(vh(n))for(const t of n.zr)yield t(!0)}),lk.apply(this,arguments)}function Gm(n){return ck.apply(this,arguments)}function ck(){return ck=(0,ye.Z)(function*(n){for(const t of n.zr)yield t(!1)}),ck.apply(this,arguments)}function BD(n,t){const e=Qe(n);e.Wr.has(t.targetId)||(e.Wr.set(t.targetId,t),hk(e)?dk(e):Zm(e).lr()&&uk(e,t))}function Mb(n,t){const e=Qe(n),i=Zm(e);e.Wr.delete(t),i.lr()&&jB(e,t),0===e.Wr.size&&(i.lr()?i._r():vh(e)&&e.Jr.set("Unknown"))}function uk(n,t){n.Yr.X(t.targetId),Zm(n).Pr(t)}function jB(n,t){n.Yr.X(t),Zm(n).vr(t)}function dk(n){n.Yr=new Uz({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Wr.get(t)||null}),Zm(n).start(),n.Jr.Br()}function hk(n){return vh(n)&&!Zm(n).hr()&&n.Wr.size>0}function vh(n){return 0===Qe(n).Gr.size}function zB(n){n.Yr=void 0}function jq(n){return fk.apply(this,arguments)}function fk(){return fk=(0,ye.Z)(function*(n){n.Wr.forEach((t,e)=>{uk(n,t)})}),fk.apply(this,arguments)}function zq(n,t){return pk.apply(this,arguments)}function pk(){return pk=(0,ye.Z)(function*(n,t){zB(n),hk(n)?(n.Jr.Kr(t),dk(n)):n.Jr.set("Unknown")}),pk.apply(this,arguments)}function qq(n,t,e){return gk.apply(this,arguments)}function gk(){return gk=(0,ye.Z)(function*(n,t,e){if(n.Jr.set("Online"),t instanceof zL&&2===t.state&&t.cause)try{yield(i=(0,ye.Z)(function*(r,l){const u=l.cause;for(const h of l.targetIds)r.Wr.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.Wr.delete(h),r.Yr.removeTarget(h))}),function(r,l){return i.apply(this,arguments)})(n,t)}catch(i){He("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield VD(n,i)}else if(t instanceof SD?n.Yr.ot(t):t instanceof jL?n.Yr.dt(t):n.Yr.ut(t),!e.isEqual(qt.min()))try{const i=yield RB(n.localStore);e.compareTo(i)>=0&&(yield function(r,l){const u=r.Yr.gt(l);return u.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const b=r.Wr.get(m);b&&r.Wr.set(m,b.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach(h=>{const m=r.Wr.get(h);if(!m)return;r.Wr.set(h,m.withResumeToken(ur.EMPTY_BYTE_STRING,m.snapshotVersion)),jB(r,h);const b=new gh(m.target,h,1,m.sequenceNumber);uk(r,b)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){He("RemoteStore","Failed to raise snapshot:",i),yield VD(n,i)}var i}),gk.apply(this,arguments)}function VD(n,t,e){return mk.apply(this,arguments)}function mk(){return mk=(0,ye.Z)(function*(n,t,e){if(!hp(t))throw t;n.Gr.add(1),yield Gm(n),n.Jr.set("Offline"),e||(e=()=>RB(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){He("RemoteStore","Retrying IndexedDB access"),yield e(),n.Gr.delete(1),yield Ab(n)}))}),mk.apply(this,arguments)}function qB(n,t){return t().catch(e=>VD(n,e,t))}function $m(n){return _k.apply(this,arguments)}function _k(){return _k=(0,ye.Z)(function*(n){const t=Qe(n),e=bh(t);let i=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;Gq(t);)try{const r=yield Cq(t.localStore,i);if(null===r){0===t.Qr.length&&e._r();break}i=r.batchId,$q(t,r)}catch(r){yield VD(t,r)}GB(t)&&$B(t)}),_k.apply(this,arguments)}function Gq(n){return vh(n)&&n.Qr.length<10}function $q(n,t){n.Qr.push(t);const e=bh(n);e.lr()&&e.Sr&&e.Dr(t.mutations)}function GB(n){return vh(n)&&!bh(n).hr()&&n.Qr.length>0}function $B(n){bh(n).start()}function Zq(n){return yk.apply(this,arguments)}function yk(){return yk=(0,ye.Z)(function*(n){bh(n).kr()}),yk.apply(this,arguments)}function Wq(n){return vk.apply(this,arguments)}function vk(){return vk=(0,ye.Z)(function*(n){const t=bh(n);for(const e of n.Qr)t.Dr(e.mutations)}),vk.apply(this,arguments)}function Yq(n,t,e){return bk.apply(this,arguments)}function bk(){return bk=(0,ye.Z)(function*(n,t,e){const i=n.Qr.shift(),r=Vx.from(i,t,e);yield qB(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield $m(n)}),bk.apply(this,arguments)}function Kq(n,t){return wk.apply(this,arguments)}function wk(){return wk=(0,ye.Z)(function*(n,t){var e;t&&bh(n).Sr&&(yield(e=(0,ye.Z)(function*(i,r){if(BL(l=r.code)&&l!==ve.ABORTED){const u=i.Qr.shift();bh(i).wr(),yield qB(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield $m(i)}var l}),function(i,r){return e.apply(this,arguments)})(n,t)),GB(n)&&$B(n)}),wk.apply(this,arguments)}function ZB(n,t){return Ck.apply(this,arguments)}function Ck(){return Ck=(0,ye.Z)(function*(n,t){const e=Qe(n);e.asyncQueue.verifyOperationInProgress(),He("RemoteStore","RemoteStore received new credentials");const i=vh(e);e.Gr.add(3),yield Gm(e),i&&e.Jr.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.Gr.delete(3),yield Ab(e)}),Ck.apply(this,arguments)}function Ek(n,t){return Dk.apply(this,arguments)}function Dk(){return Dk=(0,ye.Z)(function*(n,t){const e=Qe(n);t?(e.Gr.delete(2),yield Ab(e)):t||(e.Gr.add(2),yield Gm(e),e.Jr.set("Unknown"))}),Dk.apply(this,arguments)}function Zm(n){return n.Xr||(n.Xr=function(t,e,i){const r=Qe(t);return r.Or(),new Lq(e,r.ir,r.authCredentials,r.appCheckCredentials,r.k,i)}(n.datastore,n.asyncQueue,{Di:jq.bind(null,n),Ni:zq.bind(null,n),br:qq.bind(null,n)}),n.zr.push(function(){var t=(0,ye.Z)(function*(e){e?(n.Xr.wr(),hk(n)?dk(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),zB(n))});return function(e){return t.apply(this,arguments)}}())),n.Xr}function bh(n){return n.Zr||(n.Zr=function(t,e,i){const r=Qe(t);return r.Or(),new Bq(e,r.ir,r.authCredentials,r.appCheckCredentials,r.k,i)}(n.datastore,n.asyncQueue,{Di:Zq.bind(null,n),Ni:Kq.bind(null,n),Nr:Wq.bind(null,n),Cr:Yq.bind(null,n)}),n.zr.push(function(){var t=(0,ye.Z)(function*(e){e?(n.Zr.wr(),yield $m(n)):(yield n.Zr.stop(),n.Qr.length>0&&(He("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(e){return t.apply(this,arguments)}}())),n.Zr}class Tk{constructor(t,e,i,r,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=l,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,l){const u=Date.now()+i,h=new Tk(t,e,u,r,l);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(ve.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wm(n,t){if(Qi("AsyncQueue",`${t}: ${n}`),hp(n))return new Ne(ve.UNAVAILABLE,`${t}: ${n}`);throw n}class Ym{constructor(t){this.comparator=t?(e,i)=>t(e,i)||vt.comparator(e.key,i.key):(e,i)=>vt.comparator(e.key,i.key),this.keyedMap=Px(),this.sortedSet=new dr(this.comparator)}static emptySet(t){return new Ym(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ym)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,l=i.getNext().key;if(!r.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Ym;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class WB{constructor(){this.eo=new dr(vt.comparator)}track(t){const e=t.doc.key,i=this.eo.get(e);i?0!==t.type&&3===i.type?this.eo=this.eo.insert(e,t):3===t.type&&1!==i.type?this.eo=this.eo.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.eo=this.eo.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.eo=this.eo.remove(e):1===t.type&&2===i.type?this.eo=this.eo.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):wt():this.eo=this.eo.insert(e,t)}no(){const t=[];return this.eo.inorderTraversal((e,i)=>{t.push(i)}),t}}class Km{constructor(t,e,i,r,l,u,h,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=m}static fromInitialDocuments(t,e,i,r){const l=[];return e.forEach(u=>{l.push({type:0,doc:u})}),new Km(t,e,Ym.emptySet(e),l,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class Qq{constructor(){this.so=void 0,this.listeners=[]}}class Jq{constructor(){this.queries=new jm(t=>EL(t),fb),this.onlineState="Unknown",this.io=new Set}}function Ik(n,t){return Sk.apply(this,arguments)}function Sk(){return Sk=(0,ye.Z)(function*(n,t){const e=Qe(n),i=t.query;let r=!1,l=e.queries.get(i);if(l||(r=!0,l=new Qq),r)try{l.so=yield e.onListen(i)}catch(u){const h=Wm(u,`Initialization of query '${kx(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,l),l.listeners.push(t),t.ro(e.onlineState),l.so&&t.oo(l.so)&&xk(e)}),Sk.apply(this,arguments)}function Ak(n,t){return Mk.apply(this,arguments)}function Mk(){return Mk=(0,ye.Z)(function*(n,t){const e=Qe(n),i=t.query;let r=!1;const l=e.queries.get(i);if(l){const u=l.listeners.indexOf(t);u>=0&&(l.listeners.splice(u,1),r=0===l.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),Mk.apply(this,arguments)}function Xq(n,t){const e=Qe(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const h of u.listeners)h.oo(r)&&(i=!0);u.so=r}}i&&xk(e)}function eG(n,t,e){const i=Qe(n),r=i.queries.get(t);if(r)for(const l of r.listeners)l.onError(e);i.queries.delete(t)}function xk(n){n.io.forEach(t=>{t.next()})}class kk{constructor(t,e,i){this.query=t,this.co=e,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=i||{}}oo(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Km(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.ao?this.ho(t)&&(this.co.next(t),e=!0):this.lo(t,this.onlineState)&&(this.fo(t),e=!0),this.uo=t,e}onError(t){this.co.error(t)}ro(t){this.onlineState=t;let e=!1;return this.uo&&!this.ao&&this.lo(this.uo,t)&&(this.fo(this.uo),e=!0),e}lo(t,e){return!t.fromCache||!(this.options.wo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}ho(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(t){t=Km.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.ao=!0,this.co.next(t)}}class tG{constructor(t,e){this.payload=t,this.byteLength=e}_o(){return"metadata"in this.payload}}class YB{constructor(t){this.k=t}Hn(t){return Pc(this.k,t)}Jn(t){return t.metadata.exists?JL(this.k,t.document,!1):gi.newNoDocument(this.Hn(t.metadata.name),this.Yn(t.metadata.readTime))}Yn(t){return Tr(t)}}class nG{constructor(t,e,i){this.mo=t,this.localStore=e,this.k=i,this.queries=[],this.documents=[],this.progress=KB(t)}yo(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}po(t){const e=new Map,i=new YB(this.k);for(const r of t)if(r.metadata.queries){const l=i.Hn(r.metadata.name);for(const u of r.metadata.queries){const h=(e.get(u)||Fn()).add(l);e.set(u,h)}}return e}complete(){var t=this;return(0,ye.Z)(function*(){const e=yield function Dq(n,t,e,i){return Xx.apply(this,arguments)}(t.localStore,new YB(t.k),t.documents,t.mo.id),i=t.po(t.documents);for(const r of t.queries)yield Tq(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",new yq(Object.assign({},t.progress),e)})()}}function KB(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class QB{constructor(t){this.key=t}}class JB{constructor(t){this.key=t}}class XB{constructor(t,e){this.query=t,this.To=e,this.Eo=null,this.current=!1,this.Io=Fn(),this.mutatedKeys=Fn(),this.Ao=DL(t),this.Ro=new Ym(this.Ao)}get bo(){return this.To}Po(t,e){const i=e?e.vo:new WB,r=e?e.Ro:this.Ro;let l=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const m=bD(this.query)&&r.size===this.query.limit?r.last():null,b=wD(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((D,A)=>{const P=r.get(D),B=pb(this.query,A)?A:null,G=!!P&&this.mutatedKeys.has(P.key),re=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let be=!1;P&&B?P.data.isEqual(B.data)?G!==re&&(i.track({type:3,doc:B}),be=!0):this.Vo(P,B)||(i.track({type:2,doc:B}),be=!0,(m&&this.Ao(B,m)>0||b&&this.Ao(B,b)<0)&&(h=!0)):!P&&B?(i.track({type:0,doc:B}),be=!0):P&&!B&&(i.track({type:1,doc:P}),be=!0,(m||b)&&(h=!0)),be&&(B?(u=u.add(B),l=re?l.add(D):l.delete(D)):(u=u.delete(D),l=l.delete(D)))}),bD(this.query)||wD(this.query))for(;u.size>this.query.limit;){const D=bD(this.query)?u.last():u.first();u=u.delete(D.key),l=l.delete(D.key),i.track({type:1,doc:D})}return{Ro:u,vo:i,Bn:h,mutatedKeys:l}}Vo(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Ro;this.Ro=t.Ro,this.mutatedKeys=t.mutatedKeys;const l=t.vo.no();l.sort((b,D)=>function(A,P){const B=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return B(A)-B(P)}(b.type,D.type)||this.Ao(b.doc,D.doc)),this.So(i);const u=e?this.Do():[],h=0===this.Io.size&&this.current?1:0,m=h!==this.Eo;return this.Eo=h,0!==l.length||m?{snapshot:new Km(this.query,t.Ro,r,l,t.mutatedKeys,0===h,m,!1),Co:u}:{Co:u}}ro(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new WB,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(t){return!this.To.has(t)&&!!this.Ro.has(t)&&!this.Ro.get(t).hasLocalMutations}So(t){t&&(t.addedDocuments.forEach(e=>this.To=this.To.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.To=this.To.delete(e)),this.current=t.current)}Do(){if(!this.current)return[];const t=this.Io;this.Io=Fn(),this.Ro.forEach(i=>{this.No(i.key)&&(this.Io=this.Io.add(i.key))});const e=[];return t.forEach(i=>{this.Io.has(i)||e.push(new JB(i))}),this.Io.forEach(i=>{t.has(i)||e.push(new QB(i))}),e}ko(t){this.To=t.zn,this.Io=Fn();const e=this.Po(t.documents);return this.applyChanges(e,!0)}xo(){return Km.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class iG{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class rG{constructor(t){this.key=t,this.$o=!1}}class sG{constructor(t,e,i,r,l,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Oo={},this.Mo=new jm(h=>EL(h),fb),this.Fo=new Map,this.Lo=new Set,this.Bo=new dr(vt.comparator),this.Uo=new Map,this.qo=new tk,this.Ko={},this.jo=new Map,this.Qo=pp.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function oG(n,t){return Rk.apply(this,arguments)}function Rk(){return Rk=(0,ye.Z)(function*(n,t){const e=tR(n);let i,r;const l=e.Mo.get(t);if(l)i=l.targetId,e.sharedClientState.addLocalQueryTarget(i),r=l.view.xo();else{const u=yield zm(e.localStore,Aa(t)),h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield Ok(e,t,i,"current"===h),e.isPrimaryClient&&BD(e.remoteStore,u)}return r}),Rk.apply(this,arguments)}function Ok(n,t,e,i){return Pk.apply(this,arguments)}function Pk(){return Pk=(0,ye.Z)(function*(n,t,e,i){n.Go=(D,A,P)=>{return(B=(0,ye.Z)(function*(G,re,be,Xe){let it=re.view.Po(be);it.Bn&&(it=yield PD(G.localStore,re.query,!1).then(({documents:Qt})=>re.view.Po(Qt,it)));const et=Xe&&Xe.targetChanges.get(re.targetId),je=re.view.applyChanges(it,G.isPrimaryClient,et);return qk(G,re.targetId,je.Co),je.snapshot}),function(G,re,be,Xe){return B.apply(this,arguments)})(n,D,A,P);var B};const r=yield PD(n.localStore,t,!0),l=new XB(t,r.zn),u=l.Po(r.documents),h=vb.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),m=l.applyChanges(u,n.isPrimaryClient,h);qk(n,e,m.Co);const b=new iG(t,e,l);return n.Mo.set(t,b),n.Fo.has(e)?n.Fo.get(e).push(t):n.Fo.set(e,[t]),m.snapshot}),Pk.apply(this,arguments)}function aG(n,t){return Nk.apply(this,arguments)}function Nk(){return Nk=(0,ye.Z)(function*(n,t){const e=Qe(n),i=e.Mo.get(t),r=e.Fo.get(i.targetId);if(r.length>1)return e.Fo.set(i.targetId,r.filter(l=>!fb(l,t))),void e.Mo.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield qm(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Mb(e.remoteStore,i.targetId),Qm(e,i.targetId)}).catch(gp))):(Qm(e,i.targetId),yield qm(e.localStore,i.targetId,!0))}),Nk.apply(this,arguments)}function Fk(){return Fk=(0,ye.Z)(function*(n,t,e){const i=nR(n);try{const r=yield function(l,u){const h=Qe(l),m=Dr.now(),b=u.reduce((A,P)=>A.add(P.key),Fn());let D;return h.persistence.runTransaction("Locally write mutations","readwrite",A=>h.Wn.vn(A,b).next(P=>{D=P;const B=[];for(const G of u){const re=Oz(G,D.get(G.key));null!=re&&B.push(new fh(G.key,re,mL(re.value.mapValue),Xi.exists(!0)))}return h.An.addMutationBatch(A,m,B,u)})).then(A=>(A.applyToLocalDocumentSet(D),{batchId:A.batchId,changes:D}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(l,u,h){let m=l.Ko[l.currentUser.toKey()];m||(m=new dr(an)),m=m.insert(u,h),l.Ko[l.currentUser.toKey()]=m}(i,r.batchId,e),yield ed(i,r.changes),yield $m(i.remoteStore)}catch(r){const l=Wm(r,"Failed to persist write");e.reject(l)}}),Fk.apply(this,arguments)}function e2(n,t){return Lk.apply(this,arguments)}function Lk(){return Lk=(0,ye.Z)(function*(n,t){const e=Qe(n);try{const i=yield wq(e.localStore,t);t.targetChanges.forEach((r,l)=>{const u=e.Uo.get(l);u&&(Ot(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.$o=!0:r.modifiedDocuments.size>0?Ot(u.$o):r.removedDocuments.size>0&&(Ot(u.$o),u.$o=!1))}),yield ed(e,i,t)}catch(i){yield gp(i)}}),Lk.apply(this,arguments)}function t2(n,t,e){const i=Qe(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.Mo.forEach((l,u)=>{const h=u.view.ro(t);h.snapshot&&r.push(h.snapshot)}),function(l,u){const h=Qe(l);h.onlineState=u;let m=!1;h.queries.forEach((b,D)=>{for(const A of D.listeners)A.ro(u)&&(m=!0)}),m&&xk(h)}(i.eventManager,t),r.length&&i.Oo.br(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function cG(n,t,e){return Bk.apply(this,arguments)}function Bk(){return Bk=(0,ye.Z)(function*(n,t,e){const i=Qe(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Uo.get(t),l=r&&r.key;if(l){let u=new dr(vt.comparator);u=u.insert(l,gi.newNoDocument(l,qt.min()));const h=Fn().add(l),m=new yb(qt.min(),new Map,new Oi(an),u,h);yield e2(i,m),i.Bo=i.Bo.remove(l),i.Uo.delete(t),Gk(i)}else yield qm(i.localStore,t,!1).then(()=>Qm(i,t,e)).catch(gp)}),Bk.apply(this,arguments)}function uG(n,t){return Vk.apply(this,arguments)}function Vk(){return Vk=(0,ye.Z)(function*(n,t){const e=Qe(n),i=t.batch.batchId;try{const r=yield bq(e.localStore,t);zk(e,i,null),jk(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield ed(e,r)}catch(r){yield gp(r)}}),Vk.apply(this,arguments)}function dG(n,t,e){return Uk.apply(this,arguments)}function Uk(){return Uk=(0,ye.Z)(function*(n,t,e){const i=Qe(n);try{const r=yield function(l,u){const h=Qe(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let b;return h.An.lookupMutationBatch(m,u).next(D=>(Ot(null!==D),b=D.keys(),h.An.removeMutationBatch(m,D))).next(()=>h.An.performConsistencyCheck(m)).next(()=>h.Wn.vn(m,b))})}(i.localStore,t);zk(i,t,e),jk(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield ed(i,r)}catch(r){yield gp(r)}}),Uk.apply(this,arguments)}function Hk(){return Hk=(0,ye.Z)(function*(n,t){const e=Qe(n);vh(e.remoteStore)||He("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(l){const u=Qe(l);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.An.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.jo.get(i)||[];r.push(t),e.jo.set(i,r)}catch(i){const r=Wm(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),Hk.apply(this,arguments)}function jk(n,t){(n.jo.get(t)||[]).forEach(e=>{e.resolve()}),n.jo.delete(t)}function zk(n,t,e){const i=Qe(n);let r=i.Ko[i.currentUser.toKey()];if(r){const l=r.get(t);l&&(e?l.reject(e):l.resolve(),r=r.remove(t)),i.Ko[i.currentUser.toKey()]=r}}function Qm(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Fo.get(t))n.Mo.delete(i),e&&n.Oo.zo(i,e);n.Fo.delete(t),n.isPrimaryClient&&n.qo.us(t).forEach(i=>{n.qo.containsKey(i)||n2(n,i)})}function n2(n,t){n.Lo.delete(t.path.canonicalString());const e=n.Bo.get(t);null!==e&&(Mb(n.remoteStore,e),n.Bo=n.Bo.remove(t),n.Uo.delete(e),Gk(n))}function qk(n,t,e){for(const i of e)i instanceof QB?(n.qo.addReference(i.key,t),fG(n,i)):i instanceof JB?(He("SyncEngine","Document no longer in limbo: "+i.key),n.qo.removeReference(i.key,t),n.qo.containsKey(i.key)||n2(n,i.key)):wt()}function fG(n,t){const e=t.key,i=e.path.canonicalString();n.Bo.get(e)||n.Lo.has(i)||(He("SyncEngine","New document in limbo: "+e),n.Lo.add(i),Gk(n))}function Gk(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const t=n.Lo.values().next().value;n.Lo.delete(t);const e=new vt(Mn.fromString(t)),i=n.Qo.next();n.Uo.set(i,new rG(e)),n.Bo=n.Bo.insert(e,i),BD(n.remoteStore,new gh(Aa(Mm(e.path)),i,2,Qo.I))}}function ed(n,t,e){return $k.apply(this,arguments)}function $k(){return $k=(0,ye.Z)(function*(n,t,e){const i=Qe(n),r=[],l=[],u=[];var h;i.Mo.isEmpty()||(i.Mo.forEach((h,m)=>{u.push(i.Go(m,t,e).then(b=>{if(b){i.isPrimaryClient&&i.sharedClientState.updateQueryState(m.targetId,b.fromCache?"not-current":"current"),r.push(b);const D=Yx.$n(m.targetId,b);l.push(D)}}))}),yield Promise.all(u),i.Oo.br(r),yield(h=(0,ye.Z)(function*(m,b){const D=Qe(m);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>Pe.forEach(b,P=>Pe.forEach(P.kn,B=>D.persistence.referenceDelegate.addReference(A,P.targetId,B)).next(()=>Pe.forEach(P.xn,B=>D.persistence.referenceDelegate.removeReference(A,P.targetId,B)))))}catch(A){if(!hp(A))throw A;He("LocalStore","Failed to update sequence numbers: "+A)}for(const A of b){const P=A.targetId;if(!A.fromCache){const B=D.qn.get(P),re=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);D.qn=D.qn.insert(P,re)}}}),function(m,b){return h.apply(this,arguments)})(i.localStore,l))}),$k.apply(this,arguments)}function pG(n,t){return Zk.apply(this,arguments)}function Zk(){return Zk=(0,ye.Z)(function*(n,t){const e=Qe(n);if(!e.currentUser.isEqual(t)){He("SyncEngine","User change. New user:",t.toKey());const i=yield kB(e.localStore,t);e.currentUser=t,(r=e).jo.forEach(u=>{u.forEach(h=>{h.reject(new Ne(ve.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.jo.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield ed(e,i.Gn)}var r}),Zk.apply(this,arguments)}function gG(n,t){const e=Qe(n),i=e.Uo.get(t);if(i&&i.$o)return Fn().add(i.key);{let r=Fn();const l=e.Fo.get(t);if(!l)return r;for(const u of l){const h=e.Mo.get(u);r=r.unionWith(h.view.bo)}return r}}function mG(n,t){return Wk.apply(this,arguments)}function Wk(){return Wk=(0,ye.Z)(function*(n,t){const e=Qe(n),i=yield PD(e.localStore,t.query,!0),r=t.view.ko(i);return e.isPrimaryClient&&qk(e,t.targetId,r.Co),r}),Wk.apply(this,arguments)}function _G(n){return Yk.apply(this,arguments)}function Yk(){return Yk=(0,ye.Z)(function*(n){const t=Qe(n);return NB(t.localStore).then(e=>ed(t,e))}),Yk.apply(this,arguments)}function yG(n,t,e,i){return Kk.apply(this,arguments)}function Kk(){return Kk=(0,ye.Z)(function*(n,t,e,i){const r=Qe(n),l=yield function(u,h){const m=Qe(u),b=Qe(m.An);return m.persistence.runTransaction("Lookup mutation documents","readonly",D=>b.Zt(D,h).next(A=>A?m.Wn.vn(D,A):Pe.resolve(null)))}(r.localStore,t);var h;null!==l?("pending"===e?yield $m(r.remoteStore):"acknowledged"===e||"rejected"===e?(zk(r,t,i||null),jk(r,t),h=t,Qe(Qe(r.localStore).An).ee(h)):wt(),yield ed(r,l)):He("SyncEngine","Cannot apply mutation batch with id: "+t)}),Kk.apply(this,arguments)}function Qk(){return Qk=(0,ye.Z)(function*(n,t){const e=Qe(n);if(tR(e),nR(e),!0===t&&!0!==e.Wo){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield r2(e,i.toArray());e.Wo=!0,yield Ek(e.remoteStore,!0);for(const l of r)BD(e.remoteStore,l)}else if(!1===t&&!1!==e.Wo){const i=[];let r=Promise.resolve();e.Fo.forEach((l,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(Qm(e,u),qm(e.localStore,u,!0))),Mb(e.remoteStore,u)}),yield r,yield r2(e,i),function(l){const u=Qe(l);u.Uo.forEach((h,m)=>{Mb(u.remoteStore,m)}),u.qo.hs(),u.Uo=new Map,u.Bo=new dr(vt.comparator)}(e),e.Wo=!1,yield Ek(e.remoteStore,!1)}}),Qk.apply(this,arguments)}function r2(n,t,e){return Jk.apply(this,arguments)}function Jk(){return Jk=(0,ye.Z)(function*(n,t,e){const i=Qe(n),r=[],l=[];for(const u of t){let h;const m=i.Fo.get(u);if(m&&0!==m.length){h=yield zm(i.localStore,Aa(m[0]));for(const b of m){const D=i.Mo.get(b),A=yield mG(i,D);A.snapshot&&l.push(A.snapshot)}}else{const b=yield PB(i.localStore,u);h=yield zm(i.localStore,b),yield Ok(i,s2(b),u,!1)}r.push(h)}return i.Oo.br(l),r}),Jk.apply(this,arguments)}function s2(n){return wL(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function bG(n){const t=Qe(n);return Qe(Qe(t.localStore).persistence).Tn()}function wG(n,t,e,i){return Xk.apply(this,arguments)}function Xk(){return Xk=(0,ye.Z)(function*(n,t,e,i){const r=Qe(n);if(r.Wo)He("SyncEngine","Ignoring unexpected query state notification.");else if(r.Fo.has(t))switch(e){case"current":case"not-current":{const l=yield NB(r.localStore),u=yb.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield ed(r,l,u);break}case"rejected":yield qm(r.localStore,t,!0),Qm(r,t,i);break;default:wt()}}),Xk.apply(this,arguments)}function CG(n,t,e){return eR.apply(this,arguments)}function eR(){return eR=(0,ye.Z)(function*(n,t,e){const i=tR(n);if(i.Wo){for(const r of t){if(i.Fo.has(r)){He("SyncEngine","Adding an already active target "+r);continue}const l=yield PB(i.localStore,r),u=yield zm(i.localStore,l);yield Ok(i,s2(l),u.targetId,!1),BD(i.remoteStore,u)}for(const r of e)i.Fo.has(r)&&(yield qm(i.localStore,r,!1).then(()=>{Mb(i.remoteStore,r),Qm(i,r)}).catch(gp))}}),eR.apply(this,arguments)}function tR(n){const t=Qe(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=e2.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gG.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cG.bind(null,t),t.Oo.br=Xq.bind(null,t.eventManager),t.Oo.zo=eG.bind(null,t.eventManager),t}function nR(n){const t=Qe(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uG.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dG.bind(null,t),t}class o2{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ye.Z)(function*(){e.k=Sb(t.databaseInfo.databaseId),e.sharedClientState=e.Jo(t),e.persistence=e.Yo(t),yield e.persistence.start(),e.gcScheduler=e.Xo(t),e.localStore=e.Zo(t)})()}Xo(t){return null}Zo(t){return xB(this.persistence,new MB,t.initialUser,this.k)}Yo(t){return new kq(nk.ks,this.k)}Jo(t){return new BB}terminate(){var t=this;return(0,ye.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class a2 extends o2{constructor(t,e,i){super(),this.tc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ye.Z)(function*(){yield e().call(i,t),yield function Eq(n){return Jx.apply(this,arguments)}(i.localStore),yield i.tc.initialize(i,t),yield nR(i.tc.syncEngine),yield $m(i.tc.remoteStore),yield i.persistence.sn(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Zo(t){return xB(this.persistence,new MB,t.initialUser,this.k)}Xo(t){return new hq(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}Yo(t){const e=Wx(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?wo.withCacheSize(this.cacheSizeBytes):wo.DEFAULT;return new Zx(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,UB(),LD(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(t){return new BB}}class DG extends a2{constructor(t,e){super(t,e,!1),this.tc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ye.Z)(function*(){yield e().call(i,t);const r=i.tc.syncEngine;i.sharedClientState instanceof ok&&(i.sharedClientState.syncEngine={mi:yG.bind(null,r),gi:wG.bind(null,r),yi:CG.bind(null,r),Tn:bG.bind(null,r),_i:_G.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.sn(function(){var l=(0,ye.Z)(function*(u){yield function vG(n,t){return Qk.apply(this,arguments)}(i.tc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):u||i.gcScheduler.stop())});return function(u){return l.apply(this,arguments)}}())})()}Jo(t){const e=UB();if(!ok.Pt(e))throw new Ne(ve.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Wx(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new ok(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class iR{initialize(t,e){var i=this;return(0,ye.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>t2(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=pG.bind(null,i.syncEngine),yield Ek(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Jq}createDatastore(t){const e=Sb(t.databaseInfo.databaseId),i=new Fq(t.databaseInfo);return new Vq(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,l=h=>t2(this.syncEngine,h,0),u=VB.Pt()?new VB:new Oq,new Hq(e,i,r,l,u);var e,i,r,l,u}createSyncEngine(t,e){return function(i,r,l,u,h,m,b){const D=new sG(i,r,l,u,h,m);return b&&(D.Wo=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ye.Z)(function*(e){const i=Qe(e);He("RemoteStore","RemoteStore shutting down."),i.Gr.add(5),yield Gm(i),i.Hr.shutdown(),i.Jr.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function l2(n,t=10240){let e=0;return{read:()=>(0,ye.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class UD{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.ec(this.observer.next,t)}error(t){this.observer.error?this.ec(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}nc(){this.muted=!0}ec(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class TG{constructor(t,e){this.sc=t,this.k=e,this.metadata=new Er,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(i=>{i&&i._o()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.sc.cancel()}getMetadata(){var t=this;return(0,ye.Z)(function*(){return t.metadata.promise})()}Ho(){var t=this;return(0,ye.Z)(function*(){return yield t.getMetadata(),t.rc()})()}rc(){var t=this;return(0,ye.Z)(function*(){const e=yield t.oc();if(null===e)return null;const i=t.ic.decode(e),r=Number(i);isNaN(r)&&t.cc(`length string (${i}) is not valid number`);const l=yield t.ac(r);return new tG(JSON.parse(l),e.length+r)})()}uc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}oc(){var t=this;return(0,ye.Z)(function*(){for(;t.uc()<0&&!(yield t.hc()););if(0===t.buffer.length)return null;const e=t.uc();e<0&&t.cc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}ac(t){var e=this;return(0,ye.Z)(function*(){for(;e.buffer.length<t;)(yield e.hc())&&e.cc("Reached the end of bundle when more is expected.");const i=e.ic.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}cc(t){throw this.sc.cancel(),new Error(`Invalid bundle format: ${t}`)}hc(){var t=this;return(0,ye.Z)(function*(){const e=yield t.sc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class IG{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ne(ve.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ye.Z)(function*(l,u){const h=Qe(l),m=Cb(h.k)+"/documents",b={documents:u.map(B=>wb(h.k,B))},D=yield h.ji("BatchGetDocuments",m,b),A=new Map;D.forEach(B=>{const G=function Gz(n,t){return"found"in t?function(e,i){Ot(!!i.found);const r=Pc(e,i.found.name),l=Tr(i.found.updateTime),u=new _s({mapValue:{fields:i.found.fields}});return gi.newFoundDocument(r,l,u)}(n,t):"missing"in t?function(e,i){Ot(!!i.missing),Ot(!!i.readTime);const r=Pc(e,i.missing),l=Tr(i.readTime);return gi.newNoDocument(r,l)}(n,t):wt()}(h.k,B);A.set(G.key.toString(),G)});const P=[];return u.forEach(B=>{const G=A.get(B.toString());Ot(!!G),P.push(G)}),P}),function(l,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new _b(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const l=vt.fromPath(r);t.mutations.push(new Ox(l,t.precondition(l)))}),yield(i=(0,ye.Z)(function*(r,l){const u=Qe(r),h=Cb(u.k)+"/documents",m={writes:l.map(b=>AD(u.k,b))};yield u.Bi("Commit",h,m)}),function(r,l){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw wt();e=qt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ne(ve.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Xi.updateTime(e):Xi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(qt.min()))throw new Ne(ve.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xi.updateTime(e)}return Xi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class SG{constructor(t,e,i,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=i,this.deferred=r,this.lc=5,this.ur=new ak(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var t=this;this.ur.Zi((0,ye.Z)(function*(){const e=new IG(t.datastore),i=t.dc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(l=>{t.wc(l)}))}).catch(r=>{t.wc(r)})}))}dc(t){try{const e=this.updateFunction(t);return!ap(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}wc(t){this.lc>0&&this._c(t)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(t)}_c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!BL(e)}return!1}}class AG{constructor(t,e,i,r){var l=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Zr.UNAUTHENTICATED,this.clientId=aL.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,ye.Z)(function*(h){He("FirestoreClient","Received user=",h.uid),yield l.authCredentialListener(h),l.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(He("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,ye.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(ve.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Wm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function c2(n,t){return rR.apply(this,arguments)}function rR(){return rR=(0,ye.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),He("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,ye.Z)(function*(l){i.isEqual(l)||(yield kB(t.localStore,l),i=l)});return function(l){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),rR.apply(this,arguments)}function u2(n,t){return sR.apply(this,arguments)}function sR(){return sR=(0,ye.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield oR(n);He("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>ZB(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,l)=>ZB(t.remoteStore,l)),n.onlineComponents=t}),sR.apply(this,arguments)}function oR(n){return aR.apply(this,arguments)}function aR(){return aR=(0,ye.Z)(function*(n){return n.offlineComponents||(He("FirestoreClient","Using default OfflineComponentProvider"),yield c2(n,new o2)),n.offlineComponents}),aR.apply(this,arguments)}function HD(n){return lR.apply(this,arguments)}function lR(){return lR=(0,ye.Z)(function*(n){return n.onlineComponents||(He("FirestoreClient","Using default OnlineComponentProvider"),yield u2(n,new iR)),n.onlineComponents}),lR.apply(this,arguments)}function d2(n){return oR(n).then(t=>t.persistence)}function cR(n){return oR(n).then(t=>t.localStore)}function h2(n){return HD(n).then(t=>t.remoteStore)}function uR(n){return HD(n).then(t=>t.syncEngine)}function Jm(n){return dR.apply(this,arguments)}function dR(){return dR=(0,ye.Z)(function*(n){const t=yield HD(n),e=t.eventManager;return e.onListen=oG.bind(null,t.syncEngine),e.onUnlisten=aG.bind(null,t.syncEngine),e}),dR.apply(this,arguments)}function f2(n,t,e={}){const i=new Er;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(r,l,u,h,m){const b=new UD({next:A=>{l.enqueueAndForget(()=>Ak(r,D));const P=A.docs.has(u);!P&&A.fromCache?m.reject(new Ne(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&A.fromCache&&h&&"server"===h.source?m.reject(new Ne(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(A)},error:A=>m.reject(A)}),D=new kk(Mm(u.path),b,{includeMetadataChanges:!0,wo:!0});return Ik(r,D)}(yield Jm(n),n.asyncQueue,t,e,i)})),i.promise}function p2(n,t,e={}){const i=new Er;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(r,l,u,h,m){const b=new UD({next:A=>{l.enqueueAndForget(()=>Ak(r,D)),A.fromCache&&"server"===h.source?m.reject(new Ne(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(A)},error:A=>m.reject(A)}),D=new kk(u,b,{includeMetadataChanges:!0,wo:!0});return Ik(r,D)}(yield Jm(n),n.asyncQueue,t,e,i)})),i.promise}class LG{constructor(t,e,i,r,l,u,h,m){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=m}}class Xm{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Xm&&t.projectId===this.projectId&&t.database===this.database}}const g2=new Map;function hR(n,t,e){if(!e)throw new Ne(ve.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function m2(n,t,e,i){if(!0===t&&!0===i)throw new Ne(ve.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function _2(n){if(!vt.isDocumentKey(n))throw new Ne(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function y2(n){if(vt.isDocumentKey(n))throw new Ne(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":wt()}function hn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ne(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=jD(n);throw new Ne(ve.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function v2(n,t){if(t<=0)throw new Ne(ve.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class b2{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ne(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ne(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,m2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xb{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b2({}),this._settingsFrozen=!1,t instanceof Xm?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ne(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xm(r.options.projectId)}(t))}get app(){if(!this._app)throw new Ne(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ne(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b2(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new oz;switch(e.type){case"gapi":const i=e.client;return Ot(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new uz(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ne(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=g2.get(t);e&&(He("ComponentProvider","Removing Datastore"),g2.delete(t),e.terminate())}(this),Promise.resolve()}}class oi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new oi(this.firestore,t,this._key)}}class vs{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new vs(this.firestore,t,this._query)}}class Fc extends vs{constructor(t,e,i){super(t,e,Mm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new oi(this.firestore,null,new vt(t))}withConverter(t){return new Fc(this.firestore,t,this._path)}}function w2(n,t,...e){if(n=(0,Rt.m9)(n),hR("collection","path",t),n instanceof xb){const i=Mn.fromString(t,...e);return y2(i),new Fc(n,null,i)}{if(!(n instanceof oi||n instanceof Fc))throw new Ne(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mn.fromString(t,...e));return y2(i),new Fc(n.firestore,null,i)}}function zD(n,t,...e){if(n=(0,Rt.m9)(n),1===arguments.length&&(t=aL.A()),hR("doc","path",t),n instanceof xb){const i=Mn.fromString(t,...e);return _2(i),new oi(n,null,new vt(i))}{if(!(n instanceof oi||n instanceof Fc))throw new Ne(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mn.fromString(t,...e));return _2(i),new oi(n.firestore,n instanceof Fc?n.converter:null,new vt(i))}}function C2(n,t){return n=(0,Rt.m9)(n),t=(0,Rt.m9)(t),(n instanceof oi||n instanceof Fc)&&(t instanceof oi||t instanceof Fc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function E2(n,t){return n=(0,Rt.m9)(n),t=(0,Rt.m9)(t),n instanceof vs&&t instanceof vs&&n.firestore===t.firestore&&fb(n._query,t._query)&&n.converter===t.converter}class UG{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new ak(this,"async_queue_retry"),this.bc=()=>{const e=LD();e&&He("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const t=LD();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pc(),this.vc(t)}enterRestrictedMode(t){if(!this.yc){this.yc=!0,this.Ac=t||!1;const e=LD();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.bc)}}enqueue(t){if(this.Pc(),this.yc)return new Promise(()=>{});const e=new Er;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.gc.push(t),this.Vc()))}Vc(){var t=this;return(0,ye.Z)(function*(){if(0!==t.gc.length){try{yield t.gc[0](),t.gc.shift(),t.ur.reset()}catch(e){if(!hp(e))throw e;He("AsyncQueue","Operation failed with retryable error: "+e)}t.gc.length>0&&t.ur.Zi(()=>t.Vc())}})()}vc(t){const e=this.mc.then(()=>(this.Ic=!0,t().catch(i=>{throw this.Ec=i,this.Ic=!1,Qi("INTERNAL UNHANDLED ERROR: ",function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),u}(i)),i}).then(i=>(this.Ic=!1,i))));return this.mc=e,e}enqueueAfterDelay(t,e,i){this.Pc(),this.Rc.indexOf(t)>-1&&(e=0);const r=Tk.createAndSchedule(this,t,e,i,l=>this.Sc(l));return this.Tc.push(r),r}Pc(){this.Ec&&wt()}verifyOperationInProgress(){}Dc(){var t=this;return(0,ye.Z)(function*(){let e;do{e=t.mc,yield e}while(e!==t.mc)})()}Cc(t){for(const e of this.Tc)if(e.timerId===t)return!0;return!1}Nc(t){return this.Dc().then(()=>{this.Tc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Tc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Dc()})}kc(t){this.Rc.push(t)}Sc(t){const e=this.Tc.indexOf(t);this.Tc.splice(e,1)}}function fR(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class HG{constructor(){this._progressObserver={},this._taskCompletionResolver=new Er,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class mi extends xb{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new UG,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||D2(this),this._firestoreClient.terminate()}}function tr(n){return n._firestoreClient||D2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function D2(n){var t;const e=n._freezeSettings(),i=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new LG(n._databaseId,l,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var l,h;n._firestoreClient=new AG(n._authCredentials,n._appCheckCredentials,n._queue,i)}function T2(n,t,e){const i=new Er;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield c2(n,e),yield u2(n,t),i.resolve()}catch(r){if(!("FirebaseError"===(l=r).name?l.code===ve.FAILED_PRECONDITION||l.code===ve.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var l})).then(()=>i.promise)}function I2(n){if(n._initialized||n._terminated)throw new Ne(ve.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class td{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ne(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Lc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Lc(ur.fromBase64String(t))}catch(e){throw new Ne(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Lc(ur.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class mp{constructor(t){this._methodName=t}}class qD{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ne(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ne(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return an(this._lat,t._lat)||an(this._long,t._long)}}const QG=/^__.*__$/;class JG{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new fh(t,this.data,this.fieldMask,e,this.fieldTransforms):new mb(t,this.data,e,this.fieldTransforms)}}class S2{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new fh(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function A2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class GD{constructor(t,e,i,r,l,u){this.settings=t,this.databaseId=e,this.k=i,this.ignoreUndefinedProperties=r,void 0===l&&this.xc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(t){return new GD(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:i,Fc:!1});return r.Lc(t),r}Bc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:i,Fc:!1});return r.xc(),r}Uc(t){return this.Oc({path:void 0,Fc:!0})}qc(t){return WD(t,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.Lc(this.path.get(t))}Lc(t){if(0===t.length)throw this.qc("Document fields must not be empty");if(A2(this.$c)&&QG.test(t))throw this.qc('Document fields cannot begin and end with "__"')}}class XG{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.k=i||Sb(t)}Qc(t,e,i,r=!1){return new GD({$c:t,methodName:e,jc:i,path:Wr.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function _p(n){const t=n._freezeSettings(),e=Sb(n._databaseId);return new XG(n._databaseId,!!t.ignoreUndefinedProperties,e)}function $D(n,t,e,i,r,l={}){const u=n.Qc(l.merge||l.mergeFields?2:0,t,e,r);_R("Data must be an object, but it was:",u,i);const h=k2(i,u);let m,b;if(l.merge)m=new Tm(u.fieldMask),b=u.fieldTransforms;else if(l.mergeFields){const D=[];for(const A of l.mergeFields){const P=yR(t,A,e);if(!u.contains(P))throw new Ne(ve.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);O2(D,P)||D.push(P)}m=new Tm(D),b=u.fieldTransforms.filter(A=>m.covers(A.field))}else m=null,b=u.fieldTransforms;return new JG(new _s(h),m,b)}class kb extends mp{_toFieldTransform(t){if(2!==t.$c)throw t.qc(1===t.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof kb}}function M2(n,t,e){return new GD({$c:3,jc:t.settings.jc,methodName:n._methodName,Fc:e},t.databaseId,t.k,t.ignoreUndefinedProperties)}class pR extends mp{_toFieldTransform(t){return new gb(t.path,new km)}isEqual(t){return t instanceof pR}}class e$ extends mp{constructor(t,e){super(t),this.Wc=e}_toFieldTransform(t){const e=M2(this,t,!0),i=this.Wc.map(l=>yp(l,e)),r=new cp(i);return new gb(t.path,r)}isEqual(t){return this===t}}class t$ extends mp{constructor(t,e){super(t),this.Wc=e}_toFieldTransform(t){const e=M2(this,t,!0),i=this.Wc.map(l=>yp(l,e)),r=new up(i);return new gb(t.path,r)}isEqual(t){return this===t}}class n$ extends mp{constructor(t,e){super(t),this.Gc=e}_toFieldTransform(t){const e=new Rm(t.k,SL(t.k,this.Gc));return new gb(t.path,e)}isEqual(t){return this===t}}function gR(n,t,e,i){const r=n.Qc(1,t,e);_R("Data must be an object, but it was:",r,i);const l=[],u=_s.empty();op(i,(m,b)=>{const D=ZD(t,m,e);b=(0,Rt.m9)(b);const A=r.Bc(D);if(b instanceof kb)l.push(D);else{const P=yp(b,A);null!=P&&(l.push(D),u.set(D,P))}});const h=new Tm(l);return new S2(u,h,r.fieldTransforms)}function mR(n,t,e,i,r,l){const u=n.Qc(1,t,e),h=[yR(t,i,e)],m=[r];if(l.length%2!=0)throw new Ne(ve.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<l.length;P+=2)h.push(yR(t,l[P])),m.push(l[P+1]);const b=[],D=_s.empty();for(let P=h.length-1;P>=0;--P)if(!O2(b,h[P])){const B=h[P];let G=m[P];G=(0,Rt.m9)(G);const re=u.Bc(B);if(G instanceof kb)b.push(B);else{const be=yp(G,re);null!=be&&(b.push(B),D.set(B,be))}}const A=new Tm(b);return new S2(D,A,u.fieldTransforms)}function x2(n,t,e,i=!1){return yp(e,n.Qc(i?4:3,t))}function yp(n,t){if(R2(n=(0,Rt.m9)(n)))return _R("Unsupported field value:",t,n),k2(n,t);if(n instanceof mp)return function(e,i){if(!A2(i.$c))throw i.qc(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qc(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,i){const r=[];let l=0;for(const u of e){let h=yp(u,i.Uc(l));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),l++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,Rt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return SL(i.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Dr.fromDate(e);return{timestampValue:bb(i.k,r)}}if(e instanceof Dr){const r=new Dr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:bb(i.k,r)}}if(e instanceof qD)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Lc)return{bytesValue:ZL(i.k,e._byteString)};if(e instanceof oi){const r=i.databaseId,l=e.firestore._databaseId;if(!l.isEqual(r))throw i.qc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Nx(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.qc(`Unsupported field value: ${jD(e)}`)}(n,t)}function k2(n,t){const e={};return uL(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):op(n,(i,r)=>{const l=yp(r,t.Mc(i));null!=l&&(e[i]=l)}),{mapValue:{fields:e}}}function R2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Dr||n instanceof qD||n instanceof Lc||n instanceof oi||n instanceof mp)}function _R(n,t,e){if(!R2(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=jD(e);throw t.qc("an object"===i?n+" a custom object":n+" "+i)}var i}function yR(n,t,e){if((t=(0,Rt.m9)(t))instanceof td)return t._internalPath;if("string"==typeof t)return ZD(n,t);throw WD("Field path arguments must be of type string or ",n,!1,void 0,e)}const i$=new RegExp("[~\\*/\\[\\]]");function ZD(n,t,e){if(t.search(i$)>=0)throw WD(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new td(...t.split("."))._internalPath}catch(i){throw WD(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function WD(n,t,e,i,r){const l=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${i}`),u&&(m+=` in document ${r}`),m+=")"),new Ne(ve.INVALID_ARGUMENT,h+n+m)}function O2(n,t){return n.some(e=>e.isEqual(t))}class Rb{constructor(t,e,i,r,l){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new oi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new r$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(YD("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class r$ extends Rb{data(){return super.data()}}function YD(n,t){return"string"==typeof t?ZD(n,t):t instanceof td?t._internalPath:t._delegate._internalPath}class vp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class nd extends Rb{constructor(t,e,i,r,l,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Ob(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(YD("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Ob extends nd{data(t={}){return super.data(t)}}class wh{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new vp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Ob(this._firestore,this._userDataWriter,i.key,i,new vp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ne(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new Ob(i._firestore,i._userDataWriter,u.doc.key,u.doc,new vp(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:l++}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new Ob(i._firestore,i._userDataWriter,u.doc.key,u.doc,new vp(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,b=-1;return 0!==u.type&&(m=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),1!==u.type&&(l=l.add(u.doc),b=l.indexOf(u.doc.key)),{type:s$(u.type),doc:h,oldIndex:m,newIndex:b}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function s$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}function P2(n,t){return n instanceof nd&&t instanceof nd?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof wh&&t instanceof wh&&n._firestore===t._firestore&&E2(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function N2(n){if(wD(n)&&0===n.explicitOrderBy.length)throw new Ne(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pb{}function Ch(n,...t){for(const e of t)n=e._apply(n);return n}class o$ extends Pb{constructor(t,e,i){super(),this.zc=t,this.Hc=e,this.Jc=i,this.type="where"}_apply(t){const e=_p(t.firestore),i=function(r,l,u,h,m,b,D){let A;if(m.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Ne(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){H2(D,b);const B=[];for(const G of D)B.push(U2(h,r,G));A={arrayValue:{values:B}}}else A=U2(h,r,D)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||H2(D,b),A=x2(u,"where",D,"in"===b||"not-in"===b);const P=Zs.create(m,b,A);return function(B,G){if(G.V()){const be=Mx(B);if(null!==be&&!be.isEqual(G.field))throw new Ne(ve.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${be.toString()}' and '${G.field.toString()}'`);const Xe=Ax(B);null!==Xe&&j2(0,G.field,Xe)}const re=function(be,Xe){for(const it of be.filters)if(Xe.indexOf(it.op)>=0)return it.op;return null}(B,function(be){switch(be){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(G.op));if(null!==re)throw new Ne(ve.INVALID_ARGUMENT,re===G.op?`Invalid query. You cannot use more than one '${G.op.toString()}' filter.`:`Invalid query. You cannot use '${G.op.toString()}' filters with '${re.toString()}' filters.`)}(r,P),P}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new vs(t.firestore,t.converter,function(r,l){const u=r.filters.concat([l]);return new Qu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class l$ extends Pb{constructor(t,e){super(),this.zc=t,this.Yc=e,this.type="orderBy"}_apply(t){const e=function(i,r,l){if(null!==i.startAt)throw new Ne(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ne(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Am(r,l);return function(h,m){if(null===Ax(h)){const b=Mx(h);null!==b&&j2(0,b,m.field)}}(i,u),u}(t._query,this.zc,this.Yc);return new vs(t.firestore,t.converter,function(i,r){const l=i.explicitOrderBy.concat([r]);return new Qu(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class F2 extends Pb{constructor(t,e,i){super(),this.type=t,this.Xc=e,this.Zc=i}_apply(t){return new vs(t.firestore,t.converter,CL(t._query,this.Xc,this.Zc))}}class L2 extends Pb{constructor(t,e,i){super(),this.type=t,this.ta=e,this.ea=i}_apply(t){const e=V2(t,this.type,this.ta,this.ea);return new vs(t.firestore,t.converter,(r=e,new Qu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class B2 extends Pb{constructor(t,e,i){super(),this.type=t,this.ta=e,this.ea=i}_apply(t){const e=V2(t,this.type,this.ta,this.ea);return new vs(t.firestore,t.converter,(r=e,new Qu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function V2(n,t,e,i){if(e[0]=(0,Rt.m9)(e[0]),e[0]instanceof Rb)return function(r,l,u,h,m){if(!h)throw new Ne(ve.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const D of xm(r))if(D.field.isKeyField())b.push(gD(l,h.key));else{const A=h.data.field(D.field);if(Ex(A))throw new Ne(ve.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const P=D.field.canonicalString();throw new Ne(ve.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}b.push(A)}return new hb(b,m)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=_p(n.firestore);return function(l,u,h,m,b,D){const A=l.explicitOrderBy;if(b.length>A.length)throw new Ne(ve.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let B=0;B<b.length;B++){const G=b[B];if(A[B].field.isKeyField()){if("string"!=typeof G)throw new Ne(ve.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof G}`);if(!xx(l)&&-1!==G.indexOf("/"))throw new Ne(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${G}' contains a slash.`);const re=l.path.child(Mn.fromString(G));if(!vt.isDocumentKey(re))throw new Ne(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${re}' is not because it contains an odd number of segments.`);const be=new vt(re);P.push(gD(u,be))}else{const re=x2(h,m,G);P.push(re)}}return new hb(P,D)}(n._query,n.firestore._databaseId,r,t,e,i)}}function U2(n,t,e){if("string"==typeof(e=(0,Rt.m9)(e))){if(""===e)throw new Ne(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xx(t)&&-1!==e.indexOf("/"))throw new Ne(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Mn.fromString(e));if(!vt.isDocumentKey(i))throw new Ne(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return gD(n,new vt(i))}if(e instanceof oi)return gD(n,e._key);throw new Ne(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jD(e)}.`)}function H2(n,t){if(!Array.isArray(n)||0===n.length)throw new Ne(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Ne(ve.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function j2(n,t,e){if(!e.isEqual(t))throw new Ne(ve.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class vR{convertValue(t,e="none"){switch(lp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ji(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Im(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw wt()}}convertObject(t,e){const i={};return op(t.fields,(r,l)=>{i[r]=this.convertValue(l,e)}),i}convertGeoPoint(t){return new qD(Ji(t.latitude),Ji(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=dL(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(lb(t));default:return null}}convertTimestamp(t){const e=hh(t);return new Dr(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Mn.fromString(t);Ot(oB(i));const r=new Xm(i.get(1),i.get(3)),l=new vt(i.popFirst(5));return r.isEqual(e)||Qi(`Document ${l} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}function KD(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class m$ extends vR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Lc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new oi(this.firestore,null,e)}}class z2{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=_p(t)}set(t,e,i){this._verifyNotCommitted();const r=Eh(t,this._firestore),l=KD(r.converter,e,i),u=$D(this._dataReader,"WriteBatch.set",r._key,l,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Xi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const l=Eh(t,this._firestore);let u;return u="string"==typeof(e=(0,Rt.m9)(e))||e instanceof td?mR(this._dataReader,"WriteBatch.update",l._key,e,i,r):gR(this._dataReader,"WriteBatch.update",l._key,e),this._mutations.push(u.toMutation(l._key,Xi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Eh(t,this._firestore);return this._mutations=this._mutations.concat(new _b(e._key,Xi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Eh(n,t){if((n=(0,Rt.m9)(n)).firestore!==t)throw new Ne(ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class bp extends vR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Lc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new oi(this.firestore,null,e)}}function q2(n,t,e){n=hn(n,oi);const i=hn(n.firestore,mi),r=KD(n.converter,t,e);return e_(i,[$D(_p(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Xi.none())])}function G2(n,t,e,...i){n=hn(n,oi);const r=hn(n.firestore,mi),l=_p(r);let u;return u="string"==typeof(t=(0,Rt.m9)(t))||t instanceof td?mR(l,"updateDoc",n._key,t,e,i):gR(l,"updateDoc",n._key,t),e_(r,[u.toMutation(n._key,Xi.exists(!0))])}function $2(n,...t){var e,i,r;n=(0,Rt.m9)(n);let l={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||fR(t[u])||(l=t[u],u++);const h={includeMetadataChanges:l.includeMetadataChanges};if(fR(t[u])){const A=t[u];t[u]=null===(e=A.next)||void 0===e?void 0:e.bind(A),t[u+1]=null===(i=A.error)||void 0===i?void 0:i.bind(A),t[u+2]=null===(r=A.complete)||void 0===r?void 0:r.bind(A)}let m,b,D;if(n instanceof oi)b=hn(n.firestore,mi),D=Mm(n._key.path),m={next:A=>{t[u]&&t[u](bR(b,n,A))},error:t[u+1],complete:t[u+2]};else{const A=hn(n,vs);b=hn(A.firestore,mi),D=A._query;const P=new bp(b);m={next:B=>{t[u]&&t[u](new wh(b,P,A,B))},error:t[u+1],complete:t[u+2]},N2(n._query)}return function(A,P,B,G){const re=new UD(G),be=new kk(P,re,B);return A.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return Ik(yield Jm(A),be)})),()=>{re.nc(),A.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return Ak(yield Jm(A),be)}))}}(tr(b),D,h,m)}function e_(n,t){return function(e,i){const r=new Er;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function lG(n,t,e){return Fk.apply(this,arguments)}(yield uR(e),i,r)})),r.promise}(tr(n),t)}function bR(n,t,e){const i=e.docs.get(t._key),r=new bp(n);return new nd(n,r,t._key,i,new vp(e.hasPendingWrites,e.fromCache),t.converter)}class I$ extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=_p(t)}get(t){const e=Eh(t,this._firestore),i=new m$(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return wt();const l=r[0];if(l.isFoundDocument())return new Rb(this._firestore,i,l.key,l,e.converter);if(l.isNoDocument())return new Rb(this._firestore,i,e._key,null,e.converter);throw wt()})}set(t,e,i){const r=Eh(t,this._firestore),l=KD(r.converter,e,i),u=$D(this._dataReader,"Transaction.set",r._key,l,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const l=Eh(t,this._firestore);let u;return u="string"==typeof(e=(0,Rt.m9)(e))||e instanceof td?mR(this._dataReader,"Transaction.update",l._key,e,i,r):gR(this._dataReader,"Transaction.update",l._key,e),this._transaction.update(l._key,u),this}delete(t){const e=Eh(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Eh(t,this._firestore),i=new bp(this._firestore);return super.get(t).then(r=>new nd(this._firestore,i,e._key,r._document,new vp(!1,!1),e.converter))}}function CR(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function W2(){if("undefined"==typeof Uint8Array)throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function Y2(){if(!function pz(){return"undefined"!=typeof atob}())throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Em=js.SDK_VERSION,(0,js._registerComponent)(new Jf.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=new mi(r,new lz(e.getProvider("auth-internal")),new dz(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),l._setSettings(i),l},"PUBLIC")),(0,js.registerVersion)(rL,"3.4.4",n),(0,js.registerVersion)(rL,"3.4.4","esm2017")}();class Nb{constructor(t){this._delegate=t}static fromBase64String(t){return Y2(),new Nb(Lc.fromBase64String(t))}static fromUint8Array(t){return W2(),new Nb(Lc.fromUint8Array(t))}toBase64(){return Y2(),this._delegate.toBase64()}toUint8Array(){return W2(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ER(n){return function N$(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class F${enableIndexedDbPersistence(t,e){return function zG(n,t){I2(n=hn(n,mi));const e=tr(n),i=n._freezeSettings(),r=new iR;return T2(e,r,new a2(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function qG(n){I2(n=hn(n,mi));const t=tr(n),e=n._freezeSettings(),i=new iR;return T2(t,i,new DG(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function GG(n){if(n._initialized&&!n._terminated)throw new Ne(ve.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Er;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(e=(0,ye.Z)(function*(i){if(!Rl.Pt())return Promise.resolve();const r=i+"main";yield Rl.delete(r)}),function(i){return e.apply(this,arguments)})(Wx(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class K2{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Xm||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&ob("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function BG(n,t,e,i={}){var r;const l=(n=hn(n,xb))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==t&&ob("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=Zr.MOCK_USER;else{u=(0,Rt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new Ne(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Zr(m)}n._authCredentials=new az(new sL(u,h))}}(this._delegate,t,e,i)}enableNetwork(){return function ZG(n){return function MG(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const t=yield d2(n),e=yield h2(n);return t.setNetworkEnabled(!0),function(i){const r=Qe(i);return r.Gr.delete(0),Ab(r)}(e)}))}(tr(n=hn(n,mi)))}(this._delegate)}disableNetwork(){return function WG(n){return function xG(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const t=yield d2(n),e=yield h2(n);return t.setNetworkEnabled(!1),(i=(0,ye.Z)(function*(r){const l=Qe(r);l.Gr.add(0),yield Gm(l),l.Jr.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(tr(n=hn(n,mi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,m2("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function $G(n){return function(t){const e=new Er;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function hG(n,t){return Hk.apply(this,arguments)}(yield uR(t),e)})),e.promise}(tr(n=hn(n,mi)))}(this._delegate)}onSnapshotsInSync(t){return function T$(n,t){return function OG(n,t){const e=new UD(t);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return i=yield Jm(n),r=e,Qe(i).io.add(r),void r.next();var i,r})),()=>{e.nc(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return i=yield Jm(n),r=e,void Qe(i).io.delete(r);var i,r}))}}(tr(n=hn(n,mi)),fR(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new t_(this,w2(this._delegate,t))}catch(e){throw Ws(e,"collection()","Firestore.collection()")}}doc(t){try{return new xa(this,zD(this._delegate,t))}catch(e){throw Ws(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ys(this,function VG(n,t){if(n=hn(n,xb),hR("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ne(ve.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new vs(n,null,(e=t,new Qu(Mn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Ws(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function S$(n,t){return function PG(n,t){const e=new Er;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const i=yield(r=n,HD(r).then(l=>l.datastore));var r;new SG(n.asyncQueue,i,t,e).run()})),e.promise}(tr(n=hn(n,mi)),e=>t(new I$(n,e)))}(this._delegate,e=>t(new Q2(this,e)))}batch(){return tr(this._delegate),new J2(new z2(this._delegate,t=>e_(this._delegate,t)))}loadBundle(t){return function YG(n,t){const e=tr(n=hn(n,mi)),i=new HG;return function NG(n,t,e,i){const r=function(l,u){let h;return h="string"==typeof l?(new TextEncoder).encode(l):l,m=function(m,b){if(m instanceof Uint8Array)return l2(m,b);if(m instanceof ArrayBuffer)return l2(new Uint8Array(m),b);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new TG(m,u);var m}(e,Sb(t));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function EG(n,t,e){const i=Qe(n);var r;(r=(0,ye.Z)(function*(l,u,h){try{const m=yield u.getMetadata();if(yield function(P,B){const G=Qe(P),re=Tr(B.createTime);return G.persistence.runTransaction("hasNewerBundle","readonly",be=>G.Ye.getBundleMetadata(be,B.id)).then(be=>!!be&&be.createTime.compareTo(re)>=0)}(l.localStore,m))return yield u.close(),void h._completeWith((P=m,{taskState:"Success",documentsLoaded:P.totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}));h._updateProgress(KB(m));const b=new nG(m,l.localStore,u.k);let D=yield u.Ho();for(;D;){const P=yield b.yo(D);P&&h._updateProgress(P),D=yield u.Ho()}const A=yield b.complete();yield ed(l,A.In,void 0),yield function(P,B){const G=Qe(P);return G.persistence.runTransaction("Save bundle","readwrite",re=>G.Ye.saveBundleMetadata(re,B))}(l.localStore,m),h._completeWith(A.progress)}catch(m){ob("SyncEngine",`Loading bundle failed with ${m}`),h._failWith(m)}var P}),function(l,u,h){return r.apply(this,arguments)})(i,t,e).then(()=>{i.sharedClientState.notifyBundleLoaded()})}(yield uR(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function KG(n,t){return function FG(n,t){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(e,i){const r=Qe(e);return r.persistence.runTransaction("Get named query","readonly",l=>r.Ye.getNamedQuery(l,i))}(yield cR(n),t)}))}(tr(n=hn(n,mi)),t).then(e=>e?new vs(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Ys(this,e):null)}}class QD extends vR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Nb(new Lc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return xa.forKey(e,this.firestore,null)}}class Q2{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new QD(t)}get(t){const e=Cp(t);return this._delegate.get(e).then(i=>new Fb(this._firestore,new nd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Cp(t);return i?(CR("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const l=Cp(t);return 2===arguments.length?this._delegate.update(l,e):this._delegate.update(l,e,i,...r),this}delete(t){const e=Cp(t);return this._delegate.delete(e),this}}class J2{constructor(t){this._delegate=t}set(t,e,i){const r=Cp(t);return i?(CR("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const l=Cp(t);return 2===arguments.length?this._delegate.update(l,e):this._delegate.update(l,e,i,...r),this}delete(t){const e=Cp(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class wp{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Ob(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Lb(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=wp.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let l=r.get(e);return l||(l=new wp(t,new QD(t),e),r.set(e,l)),l}}wp.INSTANCES=new WeakMap;class xa{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new QD(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new xa(e,new oi(e._delegate,i,new vt(t)))}static forKey(t,e,i){return new xa(e,new oi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new t_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new t_(this.firestore,w2(this._delegate,t))}catch(e){throw Ws(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Rt.m9)(t))instanceof oi&&C2(this._delegate,t)}set(t,e){e=CR("DocumentReference.set",e);try{return e?q2(this._delegate,t,e):q2(this._delegate,t)}catch(i){throw Ws(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?G2(this._delegate,t):G2(this._delegate,t,e,...i)}catch(r){throw Ws(r,"updateDoc()","DocumentReference.update()")}}delete(){return function E$(n){return e_(hn(n.firestore,mi),[new _b(n._key,Xi.none())])}(this._delegate)}onSnapshot(...t){const e=X2(t),i=eV(t,r=>new Fb(this.firestore,new nd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return $2(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function y$(n){n=hn(n,oi);const t=hn(n.firestore,mi),e=tr(t),i=new bp(t);return function kG(n,t){const e=new Er;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(i=(0,ye.Z)(function*(r,l,u){try{const h=yield function(m,b){const D=Qe(m);return D.persistence.runTransaction("read document","readonly",A=>D.Wn.Rn(A,b))}(r,l);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Ne(ve.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const m=Wm(h,`Failed to get document '${l} from cache`);u.reject(m)}}),function(r,l,u){return i.apply(this,arguments)})(yield cR(n),t,e);var i})),e.promise}(e,n._key).then(r=>new nd(t,i,n._key,r,new vp(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function v$(n){n=hn(n,oi);const t=hn(n.firestore,mi);return f2(tr(t),n._key,{source:"server"}).then(e=>bR(t,n,e))}(this._delegate):function _$(n){n=hn(n,oi);const t=hn(n.firestore,mi);return f2(tr(t),n._key).then(e=>bR(t,n,e))}(this._delegate),e.then(i=>new Fb(this.firestore,new nd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new xa(this.firestore,this._delegate.withConverter(t?wp.getInstance(this.firestore,t):null))}}function Ws(n,t,e){return n.message=n.message.replace(t,e),n}function X2(n){for(const t of n)if("object"==typeof t&&!ER(t))return t;return{}}function eV(n,t){var e,i;let r;return r=ER(n[0])?n[0]:ER(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{r.next&&r.next(t(l))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Fb{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new xa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return P2(this._delegate,t._delegate)}}class Lb extends Fb{data(t){const e=this._delegate.data(t);return function sz(n,t){n||wt()}(void 0!==e),e}}class Ys{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new QD(t)}where(t,e,i){try{return new Ys(this.firestore,Ch(this._delegate,function a$(n,t,e){const i=t,r=YD("where",n);return new o$(r,i,e)}(t,e,i)))}catch(r){throw Ws(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ys(this.firestore,Ch(this._delegate,function c$(n,t="asc"){const e=t,i=YD("orderBy",n);return new l$(i,e)}(t,e)))}catch(i){throw Ws(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ys(this.firestore,Ch(this._delegate,function u$(n){return v2("limit",n),new F2("limit",n,"F")}(t)))}catch(e){throw Ws(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ys(this.firestore,Ch(this._delegate,function d$(n){return v2("limitToLast",n),new F2("limitToLast",n,"L")}(t)))}catch(e){throw Ws(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ys(this.firestore,Ch(this._delegate,function h$(...n){return new L2("startAt",n,!0)}(...t)))}catch(e){throw Ws(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ys(this.firestore,Ch(this._delegate,function f$(...n){return new L2("startAfter",n,!1)}(...t)))}catch(e){throw Ws(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ys(this.firestore,Ch(this._delegate,function p$(...n){return new B2("endBefore",n,!0)}(...t)))}catch(e){throw Ws(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ys(this.firestore,Ch(this._delegate,function g$(...n){return new B2("endAt",n,!1)}(...t)))}catch(e){throw Ws(e,"endAt()","Query.endAt()")}}isEqual(t){return E2(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function w$(n){n=hn(n,vs);const t=hn(n.firestore,mi),e=tr(t),i=new bp(t);return function RG(n,t){const e=new Er;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(i=(0,ye.Z)(function*(r,l,u){try{const h=yield PD(r,l,!0),m=new XB(l,h.zn),b=m.Po(h.documents),D=m.applyChanges(b,!1);u.resolve(D.snapshot)}catch(h){const m=Wm(h,`Failed to execute query '${l} against cache`);u.reject(m)}}),function(r,l,u){return i.apply(this,arguments)})(yield cR(n),t,e);var i})),e.promise}(e,n._query).then(r=>new wh(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function C$(n){n=hn(n,vs);const t=hn(n.firestore,mi),e=tr(t),i=new bp(t);return p2(e,n._query,{source:"server"}).then(r=>new wh(t,i,n,r))}(this._delegate):function b$(n){n=hn(n,vs);const t=hn(n.firestore,mi),e=tr(t),i=new bp(t);return N2(n._query),p2(e,n._query).then(r=>new wh(t,i,n,r))}(this._delegate),e.then(i=>new DR(this.firestore,new wh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=X2(t),i=eV(t,r=>new DR(this.firestore,new wh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return $2(this._delegate,e,i)}withConverter(t){return new Ys(this.firestore,this._delegate.withConverter(t?wp.getInstance(this.firestore,t):null))}}class B${constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Lb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class DR{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ys(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Lb(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new B$(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Lb(this._firestore,i))})}isEqual(t){return P2(this._delegate,t._delegate)}}class t_ extends Ys{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new xa(this.firestore,t):null}doc(t){try{return new xa(this.firestore,void 0===t?zD(this._delegate):zD(this._delegate,t))}catch(e){throw Ws(e,"doc()","CollectionReference.doc()")}}add(t){return function D$(n,t){const e=hn(n.firestore,mi),i=zD(n),r=KD(n.converter,t);return e_(e,[$D(_p(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Xi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new xa(this.firestore,e))}isEqual(t){return C2(this._delegate,t._delegate)}withConverter(t){return new t_(this.firestore,this._delegate.withConverter(t?wp.getInstance(this.firestore,t):null))}}function Cp(n){return hn(n,oi)}class TR{constructor(...t){this._delegate=new td(...t)}static documentId(){return new TR(Wr.keyField().canonicalString())}isEqual(t){return(t=(0,Rt.m9)(t))instanceof td&&this._delegate._internalPath.isEqual(t._internalPath)}}class Ep{constructor(t){this._delegate=t}static serverTimestamp(){const t=function M$(){return new pR("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Ep(t)}static delete(){const t=function A$(){return new kb("deleteField")}();return t._methodName="FieldValue.delete",new Ep(t)}static arrayUnion(...t){const e=function x$(...n){return new e$("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Ep(e)}static arrayRemove(...t){const e=function k$(...n){return new t$("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Ep(e)}static increment(t){const e=function R$(n){return new n$("increment",n)}(t);return e._methodName="FieldValue.increment",new Ep(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const V$={Firestore:K2,GeoPoint:qD,Timestamp:Dr,Blob:Nb,Transaction:Q2,WriteBatch:J2,DocumentReference:xa,DocumentSnapshot:Fb,Query:Ys,QueryDocumentSnapshot:Lb,QuerySnapshot:DR,CollectionReference:t_,FieldPath:TR,FieldValue:Ep,setLogLevel:function L$(n){!function rz(n){dh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function tV(n,t){return function j$(n,t=Hd.z){return new cn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function IR(n,t){return tV(n,t).pipe((0,ut.U)(e=>({payload:e,type:"query"})))}function JD(n,t){return IR(n,t).pipe(Pn(void 0),MM(),(0,ut.U)(([e,i])=>{const r=i.payload.docChanges(),l=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const m=r.find(D=>D.doc.ref.isEqual(u.ref)),b=null==e?void 0:e.payload.docs.find(D=>D.ref.isEqual(u.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(u.metadata)||!m&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||l.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),l}))}function nV(n,t,e){return JD(n,e).pipe(cs((i,r)=>function q$(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function G$(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return SR(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return SR(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return SR(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(l=>l.payload),t),[]),Pg(),(0,ut.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function SR(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function iV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function H$(n){(function U$(n,t){n.INTERNAL.registerComponent(new Jf.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},V$)))})(n,(t,e)=>new K2(t,e,new F$)),n.registerVersion("@firebase/firestore-compat","0.1.13")}(K3.Z);class rV{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=JD(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,ut.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Pn(void 0),MM(),Lt(([i,r])=>r.length>0||!i),(0,ut.U)(([i,r])=>r),On.iC)}auditTrail(t){return this.stateChanges(t).pipe(cs((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=iV(t);return nV(this.query,e,this.afs.schedulers.outsideAngular).pipe(On.iC)}valueChanges(t={}){return IR(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),On.iC)}get(t){return(0,Un.D)(this.query.get(t)).pipe(On.iC)}add(t){return this.ref.add(t)}doc(t){return new sV(this.ref.doc(t),this.afs)}}class sV{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:l}=lV(i,e);return new rV(r,l,this.afs)}snapshotChanges(){return function z$(n,t){return tV(n,t).pipe(Pn(void 0),MM(),(0,ut.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(On.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ut.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Un.D)(this.ref.get(t)).pipe(On.iC)}}class $${constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?JD(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Lt(e=>e.length>0),On.iC):JD(this.query,this.afs.schedulers.outsideAngular).pipe(On.iC)}auditTrail(t){return this.stateChanges(t).pipe(cs((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=iV(t);return nV(this.query,e,this.afs.schedulers.outsideAngular).pipe(On.iC)}valueChanges(t={}){return IR(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),On.iC)}get(t){return(0,Un.D)(this.query.get(t)).pipe(On.iC)}}const oV=new s.OlP("angularfire2.enableFirestorePersistence"),aV=new s.OlP("angularfire2.firestore.persistenceSettings"),Z$=new s.OlP("angularfire2.firestore.settings"),W$=new s.OlP("angularfire2.firestore.use-emulator");function lV(n,t=(e=>e)){return{query:t(n),ref:n}}let Bb=(()=>{class n{constructor(e,i,r,l,u,h,m,b,D,A,P,B,G,re,be,Xe,it){this.schedulers=m;const et=(0,Sl.on)(e,h,i),je=D;A&&q1(et,h,P,G,re,be,B,Xe),[this.firestore,this.persistenceEnabled$]=(0,Sl.cc)(`${et.name}.firestore`,"AngularFirestore",et.name,()=>{const Qt=h.runOutsideAngular(()=>et.firestore());if(l&&Qt.settings(l),je&&Qt.useEmulator(...je),r&&!za(u)){const Ln=()=>{try{return(0,Un.D)(Qt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(_i){return"undefined"!=typeof console&&console.warn(_i),We(!1)}};return[Qt,h.runOutsideAngular(Ln)]}return[Qt,We(!1)]},[l,je,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:l,query:u}=lV(r,i),h=this.schedulers.ngZone.run(()=>l);return new rV(h,u,this)}collectionGroup(e,i){const r=i||(u=>u),l=this.firestore.collectionGroup(e);return new $$(r(l),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new sV(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Sl.Dh),s.LFG(Sl.xv,8),s.LFG(oV,8),s.LFG(Z$,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(On.HU),s.LFG(aV,8),s.LFG(W$,8),s.LFG(pM,8),s.LFG(B1,8),s.LFG(V1,8),s.LFG(U1,8),s.LFG(H1,8),s.LFG(j1,8),s.LFG(z1,8),s.LFG(hM,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Y$=(()=>{class n{constructor(){GH.Z.registerVersion("angularfire",On.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:oV,useValue:!0},{provide:aV,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Bb]}),n})();const cV="firebasestorage.googleapis.com",uV="storageBucket";class Ni extends Rt.ZR{constructor(t,e){super(AR(t),`Firebase Storage: ${e} (${AR(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ni.prototype)}_codeEquals(t){return AR(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function AR(n){return"storage/"+n}function MR(){return new Ni("unknown","An unknown error occurred, please check the error payload for server response.")}function xR(n){return new Ni("invalid-argument",n)}function fV(){return new Ni("app-deleted","The Firebase app was deleted.")}function Vb(n,t){return new Ni("invalid-format","String does not match format '"+n+"': "+t)}function Ub(n){throw new Ni("internal-error","Internal error: "+n)}class Ks{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Ks.makeFromUrl(t,e)}catch(r){return new Ks(t,"")}if(""===i.path)return i;throw function sZ(n){return new Ni("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function b(je){je.path_=decodeURIComponent(je.path)}const A=e.replace(/[.]/g,"\\."),et=[{regex:h,indices:{bucket:1,path:3},postModify:function l(je){"/"===je.path.charAt(je.path.length-1)&&(je.path_=je.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${A}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:b},{regex:new RegExp(`^https?://${e===cV?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:b}];for(let je=0;je<et.length;je++){const Qt=et[je],Ln=Qt.regex.exec(t);if(Ln){let Xs=Ln[Qt.indices.path];Xs||(Xs=""),i=new Ks(Ln[Qt.indices.bucket],Xs),Qt.postModify(i);break}}if(null==i)throw function rZ(n){return new Ni("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class uZ{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function XD(n){return"string"==typeof n||n instanceof String}function pV(n){return kR()&&n instanceof Blob}function kR(){return"undefined"!=typeof Blob}function RR(n,t,e,i){if(i<t)throw xR(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw xR(`Invalid value for '${n}'. Expected ${e} or less.`)}function id(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function gV(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var Dh=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Dh||(Dh={})),Dh))();class mZ{constructor(t,e,i,r,l,u,h,m,b,D,A){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=m,this.timeout_=b,this.progressCallback_=D,this.connectionFactory_=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,B)=>{this.resolve_=P,this.reject_=B,this.start_()})}start_(){const e=(i,r)=>{const l=this.resolve_,u=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const m=this.callback_(h,h.getResponse());!function fZ(n){return void 0!==n}(m)?l():l(m)}catch(m){u(m)}else if(null!==h){const m=MR();m.serverResponse=h.getErrorText(),u(this.errorCallback_?this.errorCallback_(h,m):m)}else u(r.canceled?this.appDelete_?fV():function dV(){return new Ni("canceled","User canceled the upload/download.")}():function iZ(){return new Ni("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new eT(!1,null,!0)):this.backoffId_=function dZ(n,t,e){let i=1,r=null,l=null,u=!1,h=0;function m(){return 2===h}let b=!1;function D(...be){b||(b=!0,t.apply(null,be))}function A(be){r=setTimeout(()=>{r=null,n(B,m())},be)}function P(){l&&clearTimeout(l)}function B(be,...Xe){if(b)return void P();if(be)return P(),void D.call(null,be,...Xe);if(m()||u)return P(),void D.call(null,be,...Xe);let et;i<64&&(i*=2),1===h?(h=2,et=0):et=1e3*(i+Math.random()),A(et)}let G=!1;function re(be){G||(G=!0,P(),!b&&(null!==r?(be||(h=2),clearTimeout(r),A(0)):be||(h=1)))}return A(0),l=setTimeout(()=>{u=!0,re(!0)},e),re}((i,r)=>{if(r)return void i(!1,new eT(!1,null,!0));const l=this.connectionFactory_();this.pendingConnection_=l;const u=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const h=l.getErrorCode()===Dh.NO_ERROR,m=l.getStatus();if(!h||this.isRetryStatusCode_(m)){const D=l.getErrorCode()===Dh.ABORT;return void i(!1,new eT(!1,null,D))}const b=-1!==this.successCodes_.indexOf(m);i(!0,new eT(b,l))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function hZ(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,r=-1!==[408,429].indexOf(t),l=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||l}}class eT{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function EZ(...n){const t=function CZ(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(kR())return new Blob(n);throw new Ni("unsupported-environment","This browser doesn't seem to support creating Blobs")}class OR{constructor(t,e){this.data=t,this.contentType=e||null}}function _V(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function yV(n,t){switch(n){case"base64":{const r=-1!==t.indexOf("-"),l=-1!==t.indexOf("_");if(r||l)throw Vb(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const r=-1!==t.indexOf("+"),l=-1!==t.indexOf("/");if(r||l)throw Vb(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function TZ(n){return atob(n)}(t)}catch(r){throw Vb(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class vV{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw Vb("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function MZ(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class rd{constructor(t,e){let i=0,r="";pV(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(pV(this.data_)){const r=function DZ(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new rd(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new rd(i,!0)}}static getBlob(...t){if(kR()){const e=t.map(i=>i instanceof rd?i.data_:i);return new rd(EZ.apply(null,e))}{const e=t.map(u=>XD(u)?function mV(n,t){switch(n){case"raw":return new OR(_V(t));case"base64":case"base64url":return new OR(yV(n,t));case"data_url":return new OR(function SZ(n){const t=new vV(n);return t.base64?yV("base64",t.rest):function IZ(n){let t;try{t=decodeURIComponent(n)}catch(e){throw Vb("data_url","Malformed data URL.")}return _V(t)}(t.rest)}(t),function AZ(n){return new vV(n).contentType}(t))}throw MR()}("raw",u).data:u.data_);let i=0;e.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let l=0;return e.forEach(u=>{for(let h=0;h<u.length;h++)r[l++]=u[h]}),new rd(r,!0)}}uploadData(){return this.data_}}function PR(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function gZ(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function bV(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function RZ(n,t){return t}class Qs{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||RZ}}let tT=null;function Hb(){if(tT)return tT;const n=[];n.push(new Qs("bucket")),n.push(new Qs("generation")),n.push(new Qs("metageneration")),n.push(new Qs("name","fullPath",!0));const e=new Qs("name");e.xform=function t(l,u){return function OZ(n){return!XD(n)||n.length<2?n:bV(n)}(u)},n.push(e);const r=new Qs("size");return r.xform=function i(l,u){return void 0!==u?Number(u):u},n.push(r),n.push(new Qs("timeCreated")),n.push(new Qs("updated")),n.push(new Qs("md5Hash",null,!0)),n.push(new Qs("cacheControl",null,!0)),n.push(new Qs("contentDisposition",null,!0)),n.push(new Qs("contentEncoding",null,!0)),n.push(new Qs("contentLanguage",null,!0)),n.push(new Qs("contentType",null,!0)),n.push(new Qs("metadata","customMetadata",!0)),tT=n,tT}function wV(n,t,e){const i=PR(t);return null===i?null:function NZ(n,t,e){const i={type:"file"},r=e.length;for(let l=0;l<r;l++){const u=e[l];i[u.local]=u.xform(i,t[u.server])}return function PZ(n,t){Object.defineProperty(n,"ref",{get:function e(){const l=new Ks(n.bucket,n.fullPath);return t._makeStorageReference(l)}})}(i,n),i}(n,i,e)}class Bc{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Vc(n){if(!n)throw MR()}function n_(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function tZ(){return new Ni("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function eZ(){return new Ni("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function X$(n){return new Ni("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function nZ(n){return new Ni("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function SV(n,t,e,i,r){const l=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},m=function h(){let et="";for(let je=0;je<2;je++)et+=Math.random().toString().slice(2);return et}();u["Content-Type"]="multipart/related; boundary="+m;const b=function IV(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function GZ(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}(t,i,r),D=function NR(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const l=t[r];l.writable&&(e[l.server]=n[l.local])}return JSON.stringify(e)}(b,e),B=rd.getBlob("--"+m+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+D+"\r\n--"+m+"\r\nContent-Type: "+b.contentType+"\r\n\r\n",i,"\r\n--"+m+"--");if(null===B)throw function hV(){return new Ni("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}();const G={name:b.fullPath},re=id(l,n.host,n._protocol),Xe=n.maxUploadRetryTime,it=new Bc(re,"POST",function nT(n,t){return function e(i,r){const l=wV(n,r,t);return Vc(null!==l),l}}(n,e),Xe);return it.urlParams=G,it.headers=u,it.body=B.uploadData(),it.errorHandler=n_(t),it}class QZ extends class KZ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Dh.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Dh.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Dh.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw Ub("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const l in r)r.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,r[l].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ub("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ub("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw Ub("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ub("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function Pl(){return new QZ}class Dp{constructor(t,e){this._service=t,this._location=e instanceof Ks?e:Ks.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Dp(t,e)}get root(){const t=new Ks(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bV(this._location.path)}get storage(){return this._service}get parent(){const t=function xZ(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Ks(this._location.bucket,t);return new Dp(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw function cZ(n){return new Ni("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)}}function uW(n){n._throwIfRoot("getDownloadURL");const t=function jZ(n,t,e){const r=id(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Bc(r,"GET",function UZ(n,t){return function e(i,r){const l=wV(n,r,t);return Vc(null!==l),function FZ(n,t,e,i){const r=PR(t);if(null===r||!XD(r.downloadTokens))return null;const l=r.downloadTokens;if(0===l.length)return null;const u=encodeURIComponent;return l.split(",").map(b=>{const A=n.fullPath;return id("/b/"+u(n.bucket)+"/o/"+u(A),e,i)+gV({alt:"media",token:b})})[0]}(l,r,n.host,n._protocol)}}(n,e),u);return h.errorHandler=function jb(n){const t=n_(n);return function e(i,r){let l=t(i,r);return 404===i.getStatus()&&(l=function J$(n){return new Ni("object-not-found","Object '"+n+"' does not exist.")}(n.path)),l.serverResponse=r.serverResponse,l}}(t),h}(n.storage,n._location,Hb());return n.storage.makeRequestWithTokens(t,Pl).then(e=>{if(null===e)throw function lZ(){return new Ni("no-download-url","The given file does not have any download URLs.")}();return e})}function PV(n,t){if(n instanceof VR){const e=n;if(null==e._bucket)throw function oZ(){return new Ni("no-default-bucket","No default bucket found. Did you set the '"+uV+"' property when initializing the app?")}();const i=new Dp(e,e._bucket);return null!=t?PV(i,t):i}return void 0!==t?function OV(n,t){const e=function kZ(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Ks(n._location.bucket,e);return new Dp(n.storage,i)}(n,t):n}function NV(n,t){const e=null==t?void 0:t[uV];return null==e?null:Ks.makeFromBucketSpec(e,n)}class VR{constructor(t,e,i,r,l){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=l,this._bucket=null,this._host=cV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Ks.makeFromBucketSpec(r,this._host):NV(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Ks.makeFromBucketSpec(this._url,t):NV(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){RR("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){RR("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,ye.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,ye.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Dp(this,t)}_makeRequest(t,e,i,r){if(this._deleted)return new uZ(fV());{const l=function wZ(n,t,e,i,r,l){const u=gV(n.urlParams),h=n.url+u,m=Object.assign({},n.headers);return function vZ(n,t){t&&(n["X-Firebase-GMPID"]=t)}(m,t),function _Z(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(m,e),function yZ(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(m,l),function bZ(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(m,i),new mZ(h,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(t,this._appId,i,r,e,this._firebaseVersion);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(t,e){var i=this;return(0,ye.Z)(function*(){const[r,l]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,l).getPromise()})()}}const FV="@firebase/storage",BV="storage";function mW(n,t,e){return function xV(n,t,e){n._throwIfRoot("uploadBytes");const i=SV(n.storage,n._location,Hb(),new rd(t,!0),e);return n.storage.makeRequestWithTokens(i,Pl).then(r=>({metadata:r,ref:n}))}(n=(0,Rt.m9)(n),t,e)}function _W(n){return uW(n=(0,Rt.m9)(n))}function yW(n,t){return function pW(n,t){if(t&&function hW(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof VR)return function fW(n,t){return new Dp(n,t)}(n,t);throw xR("To use ref(service, url), the first argument must be a Storage instance.")}return PV(n,t)}(n=(0,Rt.m9)(n),t)}function vW(n=(0,js.getApp)(),t){return n=(0,Rt.m9)(n),(0,js._getProvider)(n,BV).getImmediate({identifier:t})}function bW(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new VR(e,i,r,t,js.SDK_VERSION)}!function wW(){(0,js._registerComponent)(new Jf.wA(BV,bW,"PUBLIC").setMultipleInstances(!0)),(0,js.registerVersion)(FV,"0.9.2",""),(0,js.registerVersion)(FV,"0.9.2","esm2017")}();const UV=(0,On.u3)(_W,!0),HV=(0,On.u3)(vW,!0),jV=(0,On.u3)(yW,!0),zV=(0,On.u3)(mW,!0);let zb=(()=>{class n{constructor(e){this.store=e}syncTask(){this.todo=this.store.collection("todo").valueChanges({idField:"id"}),this.inProgress=this.store.collection("inProgress").valueChanges({idField:"id"}),this.done=this.store.collection("done").valueChanges({idField:"id"}),this.dinner=this.store.collection("Dinner").valueChanges({idField:"id"})}getTodo(){const e=this.store.collection("todo",i=>i.orderBy("lastUpdate","desc"));return this.todo=e.valueChanges({idField:"id"})}getTodoWithORder(){var e=this;return(0,ye.Z)(function*(){console.log("getTodoWithORder");const r=e.store.collection("todo",l=>l.orderBy("createdDT","desc")).valueChanges({idField:"id"});return r.forEach(l=>{l.forEach(u=>{var h;const m=(null===(h=u.lastUpdate)||void 0===h?void 0:h.seconds)||0,b=new Date(m);console.log(b.toLocaleString()+": "+u.title)})}),r})()}getInProgress(){const e=this.store.collection("inProgress",i=>i.orderBy("lastUpdate","desc"));return this.inProgress=e.valueChanges({idField:"id"})}getDone(){const i=this.store.collection("done",r=>r.limit(5).orderBy("lastUpdate","desc")).valueChanges({idField:"id"});return this.done=i}editTask(e,i,r){e.afterClosed().subscribe(l=>{!l||(l.delete?this.store.collection(i).doc(r.id).delete():this.store.collection(i).doc(r.id).update(r))})}insertTask(e,i){this.store.collection(e).add(i)}deleteTask(e,i){this.store.collection(e).doc(i.id).delete()}updateTask(e,i){this.store.collection(e).doc(i.id).update(i)}getUserList(){return this.store.collection("User").valueChanges({idField:"id"})}getReadingList(){return this.store.collection("ReadingList",i=>i.orderBy("lastUpdate","desc")).valueChanges({idField:"id"})}addReadingList(e){try{return this.store.collection("ReadingList").add(e),!0}catch(i){return console.log(i),!1}}deleteReadingText(e){var i=this;return(0,ye.Z)(function*(){null!=e&&i.store.collection("ReadingList").doc(e.id).delete()})()}updateReadingText(e){var i=this;return(0,ye.Z)(function*(){null!=e&&i.store.collection("ReadingList").doc(e.id).update(e)})()}uploadImage_v2(e){const i=HV(),r=jV(i,"folder/test123.jpg");zV(r,e).then(l=>{let u="";UV(l.ref).then(h=>(console.log("File available at",h),u=h,h))},l=>{console.log("some error here"),console.log(l.message)})}uploadImage_v3(e){const i=HV(),r=jV(i,"folder/test123.jpg"),l=zV(r,e).then(function(){var u=(0,ye.Z)(function*(h){return yield UV(h.ref).then(m=>(console.log("File available at",m),m||""))});return function(h){return u.apply(this,arguments)}}(),u=>(console.log("some error here"),console.log(u.message),""));return console.log("uploadUrl: "+l),l||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Bb))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const IW=["*",[["mat-card-footer"]]],SW=["*","mat-card-footer"];let qV=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yo,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:SW,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(IW),s.Hsn(0),s.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),AW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[dn],dn]}),n})();function MW(n,t){if(1&n&&s._UZ(0,"div",1),2&n){const e=s.oxw();s.Udp("background",e.backgroundColor)}}var qb=(()=>(function(n){n[n.Category=1]="Category",n[n.Status=2]="Status",n[n.Urgency=3]="Urgency"}(qb||(qb={})),qb))();let xW=(()=>{class n{constructor(){this.bubbleType=null,this.bubbleValue="",this.disabled=!1}ngOnInit(){}get backgroundColor(){return this.disabled?xl.Diabled:this.bubbleType===qb.Urgency?mm.getUrgentColor(this.bubbleValue||""):this.bubbleValue||xl.Default}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-type-bubble"]],inputs:{bubbleType:"bubbleType",bubbleValue:"bubbleValue",disabled:"disabled"},decls:1,vars:1,consts:[["class","bubble",3,"background",4,"ngIf"],[1,"bubble"]],template:function(e,i){1&e&&s.YNc(0,MW,1,2,"div",0),2&e&&s.Q6J("ngIf",i.bubbleValue)},directives:[Yt],styles:[".bubble[_ngcontent-%COMP%]{min-height:15px;min-width:15px;max-height:20px;max-width:20px;border-radius:100%;border:solid 2px #cfcfcf}"]}),n})();function kW(n,t){if(1&n&&(s.TgZ(0,"div",9),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Udp("background",e.task.color||"#CDCDCD")("color","WHITE"),s.xp6(1),s.hij(" ",e.task.type," ")}}function RW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-card",1),s.NdJ("dblclick",function(){s.CHM(e);const r=s.oxw();return r.edit.emit(r.task)}),s.TgZ(1,"div",2),s.TgZ(2,"div",3),s.TgZ(3,"div",4),s._uU(4),s.qZA(),s._UZ(5,"div",5),s.YNc(6,kW,2,5,"div",6),s._UZ(7,"app-type-bubble",7),s.qZA(),s.qZA(),s.TgZ(8,"div",8),s.TgZ(9,"div"),s.TgZ(10,"p"),s._uU(11),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&n){const e=s.oxw();s.xp6(4),s.Oqu(e.task.title),s.xp6(2),s.Q6J("ngIf",e.task.type),s.xp6(1),s.Q6J("bubbleType",e.BubbleType)("bubbleValue",e.task.urgency),s.xp6(4),s.Oqu(e.task.description)}}let OW=(()=>{class n{constructor(){this.task=null,this.edit=new s.vpe,this.BubbleType=qb.Urgency}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-task"]],inputs:{task:"task"},outputs:{edit:"edit"},decls:1,vars:1,consts:[["class","item",3,"dblclick",4,"ngIf"],[1,"item",3,"dblclick"],[1,"heading"],[1,"supportings"],[1,"title"],[1,"hori-space"],["class","task-type",3,"background","color",4,"ngIf"],[3,"bubbleType","bubbleValue"],[1,"content"],[1,"task-type"]],template:function(e,i){1&e&&s.YNc(0,RW,12,5,"mat-card",0),2&e&&s.Q6J("ngIf",i.task)},directives:[Yt,qV,xW],styles:["[_nghost-%COMP%]{display:block}.item[_ngcontent-%COMP%]{margin-bottom:10px;cursor:pointer;background-color:#f5f5f559}.heading[_ngcontent-%COMP%]{margin-bottom:6px}.heading[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:Helvetica Neue,Roboto,sans-serif;font-weight:500;font-size:18px;margin-bottom:6px}.heading[_ngcontent-%COMP%]   .supportings[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.heading[_ngcontent-%COMP%]   .hori-space[_ngcontent-%COMP%]{margin-left:auto}.heading[_ngcontent-%COMP%]   .task-type[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;max-width:70px;min-width:22px;border-radius:20px;padding:4px 10px;line-height:normal;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.heading[_ngcontent-%COMP%]   app-type-bubble[_ngcontent-%COMP%]{margin-left:10px}.content[_ngcontent-%COMP%]{margin-left:2px}"]}),n})();function PW(n,t){if(1&n&&(s.TgZ(0,"mat-icon"),s._uU(1),s.qZA()),2&n){const e=t.ngIf;s.xp6(1),s.Oqu(e)}}var sd=(()=>(function(n){n[n.Small=36]="Small",n[n.Medium=100]="Medium",n[n.Large=200]="Large"}(sd||(sd={})),sd))(),rT=(()=>(function(n){n.key="Button",n.displayName="Button",n.ref="",n.shortcutKey="z",n.description="Button",n.icon="touch_app"}(rT||(rT={})),rT))();let jR=(()=>{class n{constructor(){this.buttonSpec=rT,this.showSelectedIcon=!0,this.grid=!1,this.selected=!1,this.disabled=!1,this.ClickEvent=new s.vpe}ngOnInit(){}get buttonColor(){return this.disabled?void 0:this.selected?"white":"DimGray"}get backgroundColor(){return this.disabled?void 0:this.selected?"grey":void 0}get buttonClass(){return this.grid?"shared-button grid":"shared-button"}get buttonHeight(){var e;return null==(null===(e=this.buttonSpec)||void 0===e?void 0:e.size)?sd.Small:this.buttonSpec.size}get buttonWidth(){var e;return this.grid&&(null===(e=this.buttonSpec)||void 0===e?void 0:e.size)==sd.Large?this.buttonHeight:void 0}get buttonFontSize(){var e;return this.grid&&(null===(e=this.buttonSpec)||void 0===e?void 0:e.size)!=sd.Small?"large":void 0}buttonClicked(e){this.ClickEvent.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["shared-button"]],inputs:{buttonSpec:"buttonSpec",showSelectedIcon:"showSelectedIcon",displayName:"displayName",leadingIcon:"leadingIcon",grid:"grid",selected:"selected",disabled:"disabled"},outputs:{ClickEvent:"ClickEvent"},decls:4,vars:19,consts:[["mat-button","",3,"disabled","click"],[4,"ngIf"]],template:function(e,i){1&e&&(s.TgZ(0,"button",0),s.NdJ("click",function(l){return i.buttonClicked(l)}),s.YNc(1,PW,2,1,"mat-icon",1),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.qZA()),2&e&&(s.Tol(i.buttonClass),s.Udp("selected",i.selected)("color",i.buttonColor)("background",i.backgroundColor)("height",i.buttonHeight,"px")("width",i.buttonWidth,"px")("font-size",i.buttonFontSize),s.ekj("mat-stroked-button",i.selected),s.Q6J("disabled",i.disabled),s.xp6(1),s.Q6J("ngIf",i.leadingIcon||(null==i.buttonSpec?null:i.buttonSpec.icon)),s.xp6(2),s.Oqu(i.displayName||(null==i.buttonSpec?null:i.buttonSpec.displayName)))},directives:[Ml,Yt,Zu],styles:[".shared-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding-left:12px}.grid[_ngcontent-%COMP%]{align-items:center;justify-content:center}mat-icon[_ngcontent-%COMP%]{padding-right:8px}span[_ngcontent-%COMP%]{text-overflow:ellipsis}"]}),n})();function NW(n,t){1&n&&(s.TgZ(0,"p",21),s._uU(1,"Empty list"),s.qZA())}function FW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"app-task",22),s.NdJ("edit",function(r){return s.CHM(e),s.oxw().editTask("todo",r)}),s.qZA()}2&n&&s.Q6J("task",t.$implicit)}function LW(n,t){1&n&&(s.TgZ(0,"p",21),s._uU(1,"Empty list"),s.qZA())}function BW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"app-task",22),s.NdJ("edit",function(r){return s.CHM(e),s.oxw().editTask("inProgress",r)}),s.qZA()}2&n&&s.Q6J("task",t.$implicit)}function VW(n,t){1&n&&(s.TgZ(0,"p",21),s._uU(1,"Empty list"),s.qZA())}function UW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"app-task",22),s.NdJ("edit",function(r){return s.CHM(e),s.oxw().editTask("done",r)}),s.qZA()}2&n&&s.Q6J("task",t.$implicit)}const zR=function(n,t){return[n,t]};let HW=(()=>{class n{constructor(e,i,r,l){this.dialog=e,this.store=i,this.dataset=r,this.authService=l,this.dialogDimen={width:"80vw",height:"80vh",maxWidth:"80vw",maxHeight:"80vh"}}ngOnInit(){var e,i;null===(i=null===(e=this.authService)||void 0===e?void 0:e.currentAuthStatus)||void 0===i||i.subscribe(r=>this.isAuthenticated=r),this.syncTask()}documentKeyDown(e){UN(e)||HN(e)||("r"==e.key&&this.syncTask(),"n"==e.key&&this.newTask(),jN(e))}syncTask(){console.log("start sync "+(new Date).toISOString().slice(0,19)),this.todo=this.dataset.getTodo(),this.inProgress=this.dataset.getInProgress(),this.done=this.dataset.getDone()}newTask(){null!=this.dialog&&this.dialog.closeAll(),this.dialog.open(yN,{width:this.dialogDimen.width,height:this.dialogDimen.height,maxWidth:this.dialogDimen.maxWidth,maxHeight:this.dialogDimen.maxHeight,data:{task:{},type:Sa.NEW}}).afterClosed().subscribe(i=>{if(!i)return;const r=Object.assign(Object.assign({},i.task),{lastUpdate:{seconds:Date.now()},createdDT:new Date});this.dataset.insertTask("todo",Object.assign({id:Hv()},r))})}editTask(e,i){null!=this.dialog&&this.dialog.closeAll(),this.dialog.open(yN,{width:this.dialogDimen.width,height:this.dialogDimen.height,maxWidth:this.dialogDimen.maxWidth,maxHeight:this.dialogDimen.maxHeight,data:{type:Sa.EDIT,task:Object.assign({},i),enableDelete:!0}}).afterClosed().subscribe(l=>{!l||(l.delete?this.dataset.deleteTask(e,l.task):this.dataset.updateTask(e,l.task))})}drop(e){if(e.previousContainer===e.container||!e.previousContainer.data||!e.container.data)return;const i=Object.assign(Object.assign({},e.previousContainer.data[e.previousIndex]),{lastUpdate:{seconds:Date.now()}});this.store.firestore.runTransaction(()=>Promise.all([this.dataset.deleteTask(e.previousContainer.id,i),this.dataset.insertTask(e.container.id,i)])),function x3(n,t,e,i){const r=Uv(e,n.length-1),l=Uv(i,t.length);n.length&&t.splice(l,0,n.splice(r,1)[0])}(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex)}logout(){this.authService.logout()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36($u),s.Y36(Bb),s.Y36(zb),s.Y36(fm))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-task-management"]],hostBindings:function(e,i){1&e&&s.NdJ("keydown",function(l){return i.documentKeyDown(l)},!1,s.evT)},decls:47,vars:42,consts:[[1,"content-wrapper"],[2,"position","relative","width","100%","height","100%"],[1,"content-real","background-container",2,"background-color","#fbfbfb","align-items","center"],[1,"img-container"],["src","../../assets/media/bkg3.jpg"],[1,"content-real",2,"position","absolute"],[1,"ordinary-section","left-small-space"],["mat-raised-button","","color","primary",3,"click"],["mat-button","",3,"click"],[1,"task-list-container"],[1,"task-block-list"],[2,"padding-left","20px"],["cdkDropList","","id","todo",1,"list","task-list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["todoList","cdkDropList"],["class","empty-label",4,"ngIf"],["cdkDrag","",3,"task","edit",4,"ngFor","ngForOf"],["displayName","add","leadingIcon","add",3,"selected","disabled","showSelectedIcon","click"],["cdkDropList","","id","inProgress",1,"list","task-list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["inProgressList","cdkDropList"],["cdkDropList","","id","done",1,"list","task-list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["doneList","cdkDropList"],[1,"empty-label"],["cdkDrag","",3,"task","edit"]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s._UZ(4,"img",4),s.qZA(),s.qZA(),s.TgZ(5,"div",5),s.TgZ(6,"div",6),s.TgZ(7,"button",7),s.NdJ("click",function(){return i.syncTask()}),s._uU(8," Refresh "),s.TgZ(9,"mat-icon"),s._uU(10,"refresh"),s.qZA(),s.qZA(),s.TgZ(11,"button",8),s.NdJ("click",function(){return i.newTask()}),s._uU(12," New Task "),s.TgZ(13,"mat-icon"),s._uU(14,"add"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(15,"div",9),s.TgZ(16,"div",10),s.TgZ(17,"h2",11),s._uU(18,"Backlog"),s.qZA(),s.TgZ(19,"mat-card",12,13),s.NdJ("cdkDropListDropped",function(l){return i.drop(l)}),s.ALo(21,"async"),s.YNc(22,NW,2,0,"p",14),s.ALo(23,"async"),s.YNc(24,FW,1,1,"app-task",15),s.ALo(25,"async"),s.TgZ(26,"shared-button",16),s.NdJ("click",function(){return i.newTask()}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(27,"div",10),s.TgZ(28,"h2",11),s._uU(29,"In progress"),s.qZA(),s.TgZ(30,"mat-card",17,18),s.NdJ("cdkDropListDropped",function(l){return i.drop(l)}),s.ALo(32,"async"),s.YNc(33,LW,2,0,"p",14),s.ALo(34,"async"),s.YNc(35,BW,1,1,"app-task",15),s.ALo(36,"async"),s.qZA(),s.qZA(),s.TgZ(37,"div",10),s.TgZ(38,"h2",11),s._uU(39,"Done"),s.qZA(),s.TgZ(40,"mat-card",19,20),s.NdJ("cdkDropListDropped",function(l){return i.drop(l)}),s.ALo(42,"async"),s.YNc(43,VW,2,0,"p",14),s.ALo(44,"async"),s.YNc(45,UW,1,1,"app-task",15),s.ALo(46,"async"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e){const r=s.MAs(20),l=s.MAs(31),u=s.MAs(41);let h,m,b;s.xp6(19),s.Q6J("cdkDropListData",s.lcZ(21,15,i.todo))("cdkDropListConnectedTo",s.WLB(33,zR,u,l)),s.xp6(3),s.Q6J("ngIf",0===(null==(h=s.lcZ(23,17,i.todo))?null:h.length)),s.xp6(2),s.Q6J("ngForOf",s.lcZ(25,19,i.todo)),s.xp6(2),s.Q6J("selected",!1)("disabled",!1)("showSelectedIcon",!0),s.xp6(4),s.Q6J("cdkDropListData",s.lcZ(32,21,i.inProgress))("cdkDropListConnectedTo",s.WLB(36,zR,r,u)),s.xp6(3),s.Q6J("ngIf",0===(null==(m=s.lcZ(34,23,i.inProgress))?null:m.length)),s.xp6(2),s.Q6J("ngForOf",s.lcZ(36,25,i.inProgress)),s.xp6(5),s.Q6J("cdkDropListData",s.lcZ(42,27,i.done))("cdkDropListConnectedTo",s.WLB(39,zR,r,l)),s.xp6(3),s.Q6J("ngIf",0===(null==(b=s.lcZ(44,29,i.done))?null:b.length)),s.xp6(2),s.Q6J("ngForOf",s.lcZ(46,31,i.done))}},directives:[Ml,Zu,qV,F3,Yt,yn,OW,U3,jR],pipes:[Na],styles:[".cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.content-wrapper[_ngcontent-%COMP%]{overflow:auto;height:100%}.content-real[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:inherit;max-width:100%}.background-container[_ngcontent-%COMP%]{position:absolute;width:100%;overflow:hidden;display:flex;flex-direction:row;justify-content:center}.background-container[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{flex-shrink:0;flex-grow:0}.background-container[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;height:100%;border:none}.task-list-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex:1;overflow:auto;max-width:inherit}.task-block-list[_ngcontent-%COMP%]{margin:0 25px 25px 0}.task-list[_ngcontent-%COMP%]{overflow:auto;max-width:300px;width:300px;min-height:50px;max-height:60vh;background-color:#f2f2f280}","mat-toolbar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:10px}#app[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%}#top-banner[_ngcontent-%COMP%]{flex:0 0 64px;flex-shrink:0;height:-moz-fit-content;height:fit-content}#main[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;overflow:auto}#nav[_ngcontent-%COMP%]{border-right:1px solid #a4a4a4;display:flex;flex-direction:column;flex:0 0 188px;flex-shrink:0;justify-content:space-between;height:100%}#nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}mat-sidenav-container[_ngcontent-%COMP%]{width:100%}#main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;overflow:auto}#content[_ngcontent-%COMP%]{height:100%}.Loading-Spinner[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;padding:10px 0}",".ordinary-section[_ngcontent-%COMP%]{padding:12px 0}.ordinary-row[_ngcontent-%COMP%]{padding:8px 4px}.ordinary-top-bottom[_ngcontent-%COMP%]{padding:8px 0}.left-small-space[_ngcontent-%COMP%]{padding-left:16px}.right-small-space[_ngcontent-%COMP%]{padding-right:16px}"]}),n})();function jW(n,t){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const e=s.oxw(),i=s.MAs(1);s.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),s.uIk("r",e._getCircleRadius())}}function zW(n,t){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const e=s.oxw(),i=s.MAs(1);s.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),s.uIk("r",e._getCircleRadius())}}const GW=$f(class{constructor(n){this._elementRef=n}},"primary"),$W=new s.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function ZW(){return{diameter:100}}});class Uc extends GW{constructor(t,e,i,r,l,u,h,m){super(t),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=In.w0.EMPTY,this.mode="determinate";const b=Uc._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),b.has(i.head)||b.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!l&&!l._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),l&&(l.diameter&&(this.diameter=l.diameter),l.strokeWidth&&(this.strokeWidth=l.strokeWidth)),e.isBrowser&&e.SAFARI&&h&&u&&m&&(this._resizeSubscription=h.change(150).subscribe(()=>{"indeterminate"===this.mode&&m.run(()=>u.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=di(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=di(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,di(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=vl(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){var e;const i=50*(null!==(e=t.currentScale)&&void 0!==e?e:1);return`${i}% ${i}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=Uc._diameters;let r=i.get(t);if(!r||!r.has(e)){const l=this._document.createElement("style");l.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),l.textContent=this._getAnimationText(),t.appendChild(l),r||(r=new Set,i.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Uc._diameters=new WeakMap,Uc.\u0275fac=function(t){return new(t||Uc)(s.Y36(s.SBq),s.Y36(ji),s.Y36(X,8),s.Y36(Yo,8),s.Y36($W),s.Y36(s.sBO),s.Y36(Ou),s.Y36(s.R0b))},Uc.\u0275cmp=s.Xpm({type:Uc,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(s.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),s.Udp("width",e.diameter,"px")("height",e.diameter,"px"),s.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[s.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(s.O4$(),s.TgZ(0,"svg",0,1),s.YNc(2,jW,1,11,"circle",2),s.YNc(3,zW,1,9,"circle",3),s.qZA()),2&t&&(s.Udp("width",e.diameter,"px")("height",e.diameter,"px"),s.Q6J("ngSwitch","indeterminate"===e.mode),s.uIk("viewBox",e._getViewBox()),s.xp6(2),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1))},directives:[bi,qi],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let YW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[dn,kr],dn]}),n})();function KW(n,t){1&n&&(s.TgZ(0,"h2"),s._uU(1,"Create Memo"),s.qZA())}function QW(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"You must enter a value"),s.qZA())}function JW(n,t){1&n&&s._UZ(0,"mat-spinner",13),2&n&&s.Q6J("diameter",20)}function XW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",14),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return r.openInNewTab(r.data.readingItem.img)}),s.TgZ(1,"mat-icon"),s._uU(2,"open_in_new"),s.qZA(),s._uU(3," Preview Image "),s.qZA()}}const e8=function(n){return{readingItem:n,delete:!0}};function t8(n,t){if(1&n&&(s.TgZ(0,"button",15),s.TgZ(1,"mat-icon"),s._uU(2,"delete"),s.qZA(),s._uU(3," Delete "),s.qZA()),2&n){const e=s.oxw();s.Q6J("mat-dialog-close",s.VKq(1,e8,e.data.readingItem))}}function n8(n,t){if(1&n&&(s.TgZ(0,"div",16),s._uU(1),s.ALo(2,"date"),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.hij("Last Update: ",s.xi3(2,1,null==e.data.readingItem.lastUpdate?null:e.data.readingItem.lastUpdate.seconds,"yyyy/MM/dd h:mm a"),"")}}var Nl=(()=>(function(n){n.width="80vw",n.height="fit-content",n.maxWidth="80vw",n.maxHeight="80vh"}(Nl||(Nl={})),Nl))();let GV=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.data=i,this.dataset=r,this.backupReadingItem=Object.assign({},this.data.readingItem),this.title=new ps("",[fs.required]),this.content=new ps(""),this.url=new ps(""),this.img="",this.loading=!1}ngOnInit(){this.initReadingItem()}initReadingItem(){this.title.setValue(this.data.readingItem.title),this.content.setValue(this.data.readingItem.content||""),this.url.setValue(this.data.readingItem.url||""),console.log(this.data.readingItem.img)}filesSelected(e){var i;const r=null===(i=e.target)||void 0===i?void 0:i.files;!r||(this.loading=!0,this.dataset.uploadImage_v3(r[0]).then(l=>{this.data.readingItem.img=l}).finally(()=>{this.loading=!1}).catch(l=>{this.loading=!1}))}openInNewTab(e){null==e||""==e||window.open(e,"_blank")}cancel(){this.data.readingItem=this.backupReadingItem,this.dialogRef.close(this.data)}onSubmit(){this.title.errors||(this.data.readingItem.lastUpdate={seconds:Date.now()},this.data.readingItem.title=this.title.value,this.data.readingItem.content=this.content.value,this.data.readingItem.url=this.url.value,console.log("here"),console.log(this.data.readingItem),this.dialogRef.close(this.data))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yf),s.Y36(dm),s.Y36(zb))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-reading-item-dialog"]],decls:29,vars:10,consts:[["id","task-form"],[4,"ngIf"],["appearance","fill","color","primary"],["matInput","",3,"formControl"],["mat-button","","color","primary",1,"upload",3,"disabled","click"],[3,"diameter",4,"ngIf"],["type","file","id","upload","accept","image/*",3,"change"],["inputfile",""],["mat-button","","class","upload","color","primary",3,"click",4,"ngIf"],[1,"ordinary-top-bottom"],["mat-button","","color","primary",3,"mat-dialog-close",4,"ngIf"],["mat-raised-button","","type","submit","color","primary",1,"save",3,"click"],["class","hint",4,"ngIf"],[3,"diameter"],["mat-button","","color","primary",1,"upload",3,"click"],["mat-button","","color","primary",3,"mat-dialog-close"],[1,"hint"]],template:function(e,i){if(1&e){const r=s.EpF();s.TgZ(0,"form",0),s.YNc(1,KW,2,0,"h2",1),s.TgZ(2,"mat-form-field",2),s.TgZ(3,"mat-label"),s._uU(4,"Title"),s.qZA(),s._UZ(5,"input",3),s.YNc(6,QW,2,0,"mat-error",1),s.qZA(),s.TgZ(7,"mat-form-field",2),s.TgZ(8,"mat-label"),s._uU(9,"Content"),s.qZA(),s._UZ(10,"textarea",3),s.qZA(),s.TgZ(11,"mat-form-field",2),s.TgZ(12,"mat-label"),s._uU(13,"URL"),s.qZA(),s._UZ(14,"input",3),s.qZA(),s.TgZ(15,"div"),s.TgZ(16,"button",4),s.NdJ("click",function(){return s.CHM(r),s.MAs(22).click()}),s.TgZ(17,"mat-icon"),s._uU(18,"upload"),s.qZA(),s._uU(19," Upload Memo Image "),s.qZA(),s.YNc(20,JW,1,1,"mat-spinner",5),s.TgZ(21,"input",6,7),s.NdJ("change",function(u){return i.filesSelected(u)}),s.qZA(),s.YNc(23,XW,4,0,"button",8),s.qZA(),s.TgZ(24,"div",9),s.YNc(25,t8,4,3,"button",10),s.TgZ(26,"button",11),s.NdJ("click",function(){return i.onSubmit()}),s._uU(27," Save "),s.qZA(),s.YNc(28,n8,3,4,"div",12),s.qZA(),s.qZA()}2&e&&(s.xp6(1),s.Q6J("ngIf",1==i.data.type),s.xp6(4),s.Q6J("formControl",i.title),s.xp6(1),s.Q6J("ngIf",i.title.invalid),s.xp6(4),s.Q6J("formControl",i.content),s.xp6(4),s.Q6J("formControl",i.url),s.xp6(2),s.Q6J("disabled",i.data.readingItem.img||i.loading),s.xp6(4),s.Q6J("ngIf",i.loading),s.xp6(3),s.Q6J("ngIf",null==i.data.readingItem?null:i.data.readingItem.img),s.xp6(2),s.Q6J("ngIf",i.data.enableDelete),s.xp6(3),s.Q6J("ngIf",i.data.enableDelete))},directives:[hf,tf,wc,Yt,pm,Xf,Nv,pl,Bd,Vd,gM,Ml,Zu,Uc,Av],pipes:[Fa],styles:["#task-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:large}#task-form[_ngcontent-%COMP%]   #close[_ngcontent-%COMP%]{margin-left:auto}#task-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin:0}#task-form[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{color:red}#task-form[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}#task-form[_ngcontent-%COMP%]   .upload[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}#task-form[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]{width:100%}#task-form[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-size:smaller}","mat-toolbar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:10px}#app[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%}#top-banner[_ngcontent-%COMP%]{flex:0 0 64px;flex-shrink:0;height:-moz-fit-content;height:fit-content}#main[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;overflow:auto}#nav[_ngcontent-%COMP%]{border-right:1px solid #a4a4a4;display:flex;flex-direction:column;flex:0 0 188px;flex-shrink:0;justify-content:space-between;height:100%}#nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}mat-sidenav-container[_ngcontent-%COMP%]{width:100%}#main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;overflow:auto}#content[_ngcontent-%COMP%]{height:100%}.Loading-Spinner[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;padding:10px 0}",".ordinary-section[_ngcontent-%COMP%]{padding:12px 0}.ordinary-row[_ngcontent-%COMP%]{padding:8px 4px}.ordinary-top-bottom[_ngcontent-%COMP%]{padding:8px 0}.left-small-space[_ngcontent-%COMP%]{padding-left:16px}.right-small-space[_ngcontent-%COMP%]{padding-right:16px}"]}),n})();const $V=new Set;let r_,i8=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):s8}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function r8(n){if(!$V.has(n))try{r_||(r_=document.createElement("style"),r_.setAttribute("type","text/css"),document.head.appendChild(r_)),r_.sheet&&(r_.sheet.insertRule(`@media ${n} {body{ }}`,0),$V.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ji))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function s8(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let ZV=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new $e.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return WV(Ud(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let l=ha(WV(Ud(e)).map(u=>this._registerQuery(u).observable));return l=Ro(l.pipe(un(1)),l.pipe(Fw(1),Ic(0))),l.pipe((0,ut.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:m,query:b})=>{h.matches=h.matches||m,h.breakpoints[b]=m}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),l={observable:new cn.y(u=>{const h=m=>this._zone.run(()=>u.next(m));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(Pn(i),(0,ut.U)(({matches:u})=>({query:e,matches:u})),rn(this._destroySubject)),mql:i};return this._queries.set(e,l),l}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(i8),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WV(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function a8(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.TgZ(1,"button",3),s.NdJ("click",function(){return s.CHM(e),s.oxw().action()}),s._uU(2),s.qZA(),s.qZA()}if(2&n){const e=s.oxw();s.xp6(2),s.Oqu(e.data.action)}}function l8(n,t){}const YV=new s.OlP("MatSnackBarData");class sT{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const c8=Math.pow(2,31)-1;class GR{constructor(t,e){this._overlayRef=e,this._afterDismissed=new $e.x,this._afterOpened=new $e.x,this._onAction=new $e.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,c8))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let u8=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(GR),s.Y36(YV))},n.\u0275cmp=s.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"span",0),s._uU(1),s.qZA(),s.YNc(2,a8,3,1,"div",1)),2&e&&(s.xp6(1),s.Oqu(i.data.message),s.xp6(1),s.Q6J("ngIf",i.hasAction))},directives:[Ml,Yt],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),n})();const d8={snackBarState:Sc("state",[Fs("void, hidden",fi({transform:"scale(0.8)",opacity:0})),Fs("visible",fi({transform:"scale(1)",opacity:1})),Ls("* => visible",Ns("150ms cubic-bezier(0, 0, 0.2, 1)")),Ls("* => void, * => hidden",Ns("75ms cubic-bezier(0.4, 0.0, 1, 1)",fi({opacity:0})))])};let h8=(()=>{class n extends Ig{constructor(e,i,r,l,u){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=l,this.snackBarConfig=u,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new $e.x,this._onExit=new $e.x,this._onEnter=new $e.x,this._animationState="void",this.attachDomPortal=h=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(h)),this._live="assertive"!==u.politeness||u.announcementMessage?"off"===u.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const l=this._onEnter;this._ngZone.run(()=>{l.next(),l.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(un(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),null==r||r.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.R0b),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(ji),s.Y36(sT))},n.\u0275cmp=s.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(e,i){if(1&e&&s.Gf(wf,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&s.WFA("@state.done",function(l){return i.onAnimationEnd(l)}),2&e&&s.d8E("@state",i._animationState)},features:[s.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.YNc(1,l8,0,0,"ng-template",1),s.qZA(),s._UZ(2,"div")),2&e&&(s.xp6(2),s.uIk("aria-live",i._live)("role",i._role))},directives:[wf],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[d8.snackBarState]}}),n})(),KV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Og,Ty,kr,yM,dn],dn]}),n})();const QV=new s.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function f8(){return new sT}});let p8=(()=>{class n{constructor(e,i,r,l,u,h){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=l,this._parentSnackBar=u,this._defaultConfig=h,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const l=Object.assign(Object.assign({},this._defaultConfig),r);return l.data={message:e,action:i},l.announcementMessage===e&&(l.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,l)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const l=s.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:sT,useValue:i}]}),u=new Tg(this.snackBarContainerComponent,i.viewContainerRef,l),h=e.attach(u);return h.instance.snackBarConfig=i,h.instance}_attach(e,i){const r=Object.assign(Object.assign(Object.assign({},new sT),this._defaultConfig),i),l=this._createOverlay(r),u=this._attachSnackBarContainer(l,r),h=new GR(u,l);if(e instanceof s.Rgc){const m=new bf(e,null,{$implicit:r.data,snackBarRef:h});h.instance=u.attachTemplatePortal(m)}else{const m=this._createInjector(r,h),b=new Tg(e,void 0,m),D=u.attachComponentPortal(b);h.instance=D.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(rn(l.detachments())).subscribe(m=>{l.overlayElement.classList.toggle(this.handsetCssClass,m.matches)}),r.announcementMessage&&u._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(h,r),this._openedSnackBarRef=h,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new Lu;i.direction=e.direction;let r=this._overlay.position().global();const l="rtl"===e.direction,u="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!l||"end"===e.horizontalPosition&&l,h=!u&&"center"!==e.horizontalPosition;return u?r.left("0"):h?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return s.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:GR,useValue:i},{provide:YV,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Wo),s.LFG(Bg),s.LFG(s.zs3),s.LFG(ZV),s.LFG(n,12),s.LFG(QV))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),g8=(()=>{class n extends p8{constructor(e,i,r,l,u,h){super(e,i,r,l,u,h),this.simpleSnackBarComponent=u8,this.snackBarContainerComponent=h8,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Wo),s.LFG(Bg),s.LFG(s.zs3),s.LFG(ZV),s.LFG(n,12),s.LFG(QV))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:KV}),n})(),JV=(()=>{class n{constructor(e,i){this.zone=e,this.notiBar=i}openBar(e,i,r=3e3,l=0){this.zone.run(()=>{setTimeout(()=>{this.notiBar.open(e,i,{duration:r})},l)})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(g8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function m8(n,t){if(1&n&&(s.TgZ(0,"div",14),s._UZ(1,"img",15),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Q6J("src",e.img,s.LSH)}}function _8(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5),s.YNc(1,m8,2,1,"div",6),s.TgZ(2,"div",7),s.TgZ(3,"div",8),s._uU(4),s.qZA(),s.TgZ(5,"div",9),s._uU(6),s.qZA(),s.TgZ(7,"div",10),s.NdJ("click",function(){const l=s.CHM(e).$implicit;return s.oxw().copyText(l.url)}),s._uU(8),s.qZA(),s.qZA(),s.TgZ(9,"div",11),s.TgZ(10,"button",12),s.NdJ("click",function(){const l=s.CHM(e).$implicit;return s.oxw().editText(l)}),s.TgZ(11,"mat-icon"),s._uU(12,"edit"),s.qZA(),s.qZA(),s.TgZ(13,"button",12),s.NdJ("click",function(){const l=s.CHM(e).$implicit;return s.oxw().copyText(l.url)}),s.TgZ(14,"mat-icon"),s._uU(15,"content_copy"),s.qZA(),s.qZA(),s.TgZ(16,"button",13),s.NdJ("click",function(){const l=s.CHM(e).$implicit;return s.oxw().openInNewTab(l.url)}),s.TgZ(17,"mat-icon"),s._uU(18,"open_in_new"),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf",e.img),s.xp6(3),s.Oqu(e.title),s.xp6(2),s.Oqu(e.content),s.xp6(2),s.Oqu(e.url),s.xp6(8),s.Q6J("disabled",!e.url)}}let y8=(()=>{class n{constructor(e,i,r){this.notiBar=e,this.dataset=i,this.dialog=r,this.prologue="Two households, both alike in dignity(In fair Verona, where we lay our scene),From ancient grudge break to new mutiny,Where civil blood makes civil hands unclean.From forth the fatal loins of these two foesA pair of star-crossed lovers take their life;Whose misadventured piteous overthrowsDoth with their death bury their parents\u2019 strife.The fearful passage of their death-marked loveAnd the continuance of their parents\u2019 rage,Which, but their children\u2019s end, naught could remove,Is now the two hours\u2019 traffic of our stage;The which, if you with patient ears attend,What here shall miss, our toil shall strive to mend."}ngOnInit(){this.syncReadingList()}syncReadingList(){this.readingList=this.dataset.getReadingList()}openToast(e){this.notiBar.openBar(e,"close")}copyText(e){var i=this;return(0,ye.Z)(function*(){try{yield navigator.clipboard.writeText(e),i.openToast("copied")}catch(r){i.openToast("copy failed")}})()}openInNewTab(e){window.open(e,"_blank")}filesSelected(e){var i;const r=null===(i=e.target)||void 0===i?void 0:i.files;if(!r)return;const l=this.dataset.uploadImage_v2(r[0]);void 0!==l&&this.openToast("file uploaded: "+l)}createText(){const e={id:"123",title:"Predictability",content:"Predictability in the cloud lets you move forward with confidence. Predictability can be focused on performance predictability or cost predictability. Both performance and cost predictability are heavily influenced by the Microsoft Azure Well-Architected Framework. Deploy a solution that\u2019s built around this framework and you have a solution whose cost and performance are predictable.",url:"",img:"",lastUpdate:{seconds:Date.now()}};this.dataset.addReadingList(e)}editText(e){null!=this.dialog&&this.dialog.closeAll(),this.dialog.open(GV,{width:Nl.width,height:Nl.height,maxWidth:Nl.maxWidth,maxHeight:Nl.maxHeight,data:{type:Sa.EDIT,readingItem:e,enableDelete:!0}}).afterClosed().subscribe(r=>{if(!r)return;const l=Object.assign({},r.readingItem);r.delete&&confirm("Are you sure to delete this dinner?")?(this.dataset.deleteReadingText(l),this.notiBar.openBar("Item deleted")):(this.dataset.updateReadingText(l),this.notiBar.openBar("Item udpated"))})}createText_v2(){null!=this.dialog&&this.dialog.closeAll(),this.dialog.open(GV,{width:Nl.width,height:Nl.height,maxWidth:Nl.maxWidth,maxHeight:Nl.maxHeight,data:{type:Sa.NEW,readingItem:{}}}).afterClosed().subscribe(i=>{if(!i)return;const r=Object.assign(Object.assign({},i.readingItem),{id:Hv()});console.log(r),this.dataset.addReadingList(r)?this.notiBar.openBar("Item created."):this.notiBar.openBar("Failed to create item")})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(JV),s.Y36(zb),s.Y36($u))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-text-editor"]],decls:17,vars:3,consts:[[1,"ordinary-section","left-small-space","right-small-space"],["mat-raised-button","","color","primary",3,"click"],[1,"ordinary-row","url-session"],[1,"reading-item","click","ordinary-section","new-text",3,"click"],["class","reading-item",4,"ngFor","ngForOf"],[1,"reading-item"],["class","img-container",4,"ngIf"],["id","context"],[1,"title"],[1,"content"],[1,"click",3,"click"],[1,"controls"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","primary",3,"disabled","click"],[1,"img-container"],[3,"src"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"h2"),s._uU(2,"To Do List"),s.qZA(),s.TgZ(3,"button",1),s.NdJ("click",function(){return i.syncReadingList()}),s._uU(4," Refresh "),s.TgZ(5,"mat-icon"),s._uU(6,"refresh"),s.qZA(),s.qZA(),s.TgZ(7,"div",2),s.TgZ(8,"div",3),s.NdJ("click",function(){return i.createText_v2()}),s.TgZ(9,"div"),s.TgZ(10,"mat-icon"),s._uU(11,"add"),s.qZA(),s.qZA(),s.TgZ(12,"div"),s.TgZ(13,"div"),s._uU(14,"Add new text"),s.qZA(),s.qZA(),s.qZA(),s.YNc(15,_8,19,5,"div",4),s.ALo(16,"async"),s.qZA(),s.qZA()),2&e&&(s.xp6(15),s.Q6J("ngForOf",s.lcZ(16,1,i.readingList)))},directives:[Ml,Zu,yn,Yt],pipes:[Na],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.url-session[_ngcontent-%COMP%]{display:grid;max-width:1200px;margin:0 auto;grid-gap:1rem;gap:1rem}@media (min-width: 300px){.url-session[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}@media (min-width: 700px){.url-session[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (min-width: 1000px){.url-session[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}.url-session[_ngcontent-%COMP%]   .reading-item[_ngcontent-%COMP%]{background-color:#f1f1f1;border-radius:15px;max-height:13rem;display:flex;flex-direction:column;transition:background-color .3s linear}.url-session[_ngcontent-%COMP%]   .reading-item[_ngcontent-%COMP%]:hover{background-color:#e1dfdf}.url-session[_ngcontent-%COMP%]   .reading-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;border-radius:inherit}.url-session[_ngcontent-%COMP%]   .reading-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:6rem;width:auto}.url-session[_ngcontent-%COMP%]   .reading-item[_ngcontent-%COMP%]   #context[_ngcontent-%COMP%]{min-width:5rem;height:80%;padding:8px 10px 0;display:flex;flex-direction:column}.url-session[_ngcontent-%COMP%]   .reading-item[_ngcontent-%COMP%]   #context[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:500}.url-session[_ngcontent-%COMP%]   .reading-item[_ngcontent-%COMP%]   #context[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow-y:auto}.url-session[_ngcontent-%COMP%]   .reading-item[_ngcontent-%COMP%]   #context[_ngcontent-%COMP%]   .new-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}.url-session[_ngcontent-%COMP%]   .reading-item[_ngcontent-%COMP%]   #context[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{align-self:flex-end}.new-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.new-text[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:3rem}.click[_ngcontent-%COMP%]{cursor:pointer}","mat-toolbar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:10px}#app[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%}#top-banner[_ngcontent-%COMP%]{flex:0 0 64px;flex-shrink:0;height:-moz-fit-content;height:fit-content}#main[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;overflow:auto}#nav[_ngcontent-%COMP%]{border-right:1px solid #a4a4a4;display:flex;flex-direction:column;flex:0 0 188px;flex-shrink:0;justify-content:space-between;height:100%}#nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}mat-sidenav-container[_ngcontent-%COMP%]{width:100%}#main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;overflow:auto}#content[_ngcontent-%COMP%]{height:100%}.Loading-Spinner[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;padding:10px 0}",".ordinary-section[_ngcontent-%COMP%]{padding:12px 0}.ordinary-row[_ngcontent-%COMP%]{padding:8px 4px}.ordinary-top-bottom[_ngcontent-%COMP%]{padding:8px 0}.left-small-space[_ngcontent-%COMP%]{padding-left:16px}.right-small-space[_ngcontent-%COMP%]{padding-right:16px}"]}),n})();function v8(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"shared-button",5),s.NdJ("click",function(){const l=s.CHM(e).$implicit;return s.oxw(2).changeRouteBP(l)}),s.qZA()}if(2&n){const e=t.$implicit;s.s9C("leadingIcon",e.icon?e.icon:"lens_blur"),s.Q6J("buttonSpec",e)("grid",!0)("showSelectedIcon",!0)("selected",!1)("disabled",!1)}}function b8(n,t){if(1&n&&(s.TgZ(0,"div"),s.TgZ(1,"div"),s._uU(2,"Choose Task"),s.qZA(),s.TgZ(3,"div",3),s.YNc(4,v8,1,6,"shared-button",4),s.qZA(),s.qZA()),2&n){const e=s.oxw();s.xp6(4),s.Q6J("ngForOf",e.plannerSpecList)}}function w8(n,t){1&n&&(s.TgZ(0,"div"),s._uU(1,"/budeget-planner"),s.qZA())}function C8(n,t){1&n&&(s.TgZ(0,"div"),s._uU(1,"/paytgt"),s.qZA())}let E8=(()=>{class n{constructor(e,i,r){this.route=e,this.authService=i,this.activeRoute=r,this.plannerSpecList=[{key:"t",displayName:"Pay Together",ref:"paytgt",size:sd.Medium,order:0,description:"Go to PT",shortcutKey:"T",icon:"diversity_1"},{key:"p",displayName:"Planner",ref:"Planner",size:sd.Medium,order:0,description:"Go to P",shortcutKey:"P",icon:"calendar_month"}],e.events.subscribe(l=>{this.currentRoute=e.url})}ngOnInit(){console.log("currentRoute: "+this.currentRoute)}changeRouteBP(e){this.authService.navigatePage(e.ref,!1,this.currentRoute)}logout(){this.authService.logout()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Wi),s.Y36(fm),s.Y36(ho))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-budget-planner"]],decls:5,vars:4,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[2,"display","flex","flex-direction","row"],[3,"buttonSpec","leadingIcon","grid","showSelectedIcon","selected","disabled","click",4,"ngFor","ngForOf"],[3,"buttonSpec","leadingIcon","grid","showSelectedIcon","selected","disabled","click"]],template:function(e,i){1&e&&(s.YNc(0,b8,5,1,"div",0),s.ynx(1,1),s.YNc(2,w8,2,0,"div",2),s.YNc(3,C8,2,0,"div",2),s.BQk(),s._UZ(4,"router-outlet")),2&e&&(s.Q6J("ngIf","/budget-planner"==i.currentRoute),s.xp6(1),s.Q6J("ngSwitch",i.currentRoute),s.xp6(1),s.Q6J("ngSwitchCase","/budget-planner"),s.xp6(1),s.Q6J("ngSwitchCase","/paytgt"))},directives:[Yt,yn,jR,bi,qi,Eu],styles:[""]}),n})();function $R(n){return(0,ut.U)(()=>n)}function XV(n,t){return t?e=>Ro(t.pipe(un(1),function D8(){return(0,ni.e)((n,t)=>{n.subscribe((0,nn.x)(t,Mu.Z))})}()),e.pipe(XV(n))):(0,Hn.z)((e,i)=>n(e,i).pipe(un(1),$R(e)))}function eU(n,t=Hd.z){const e=Ey(n,t);return XV(()=>e)}const T8=["mat-menu-item",""];function I8(n,t){1&n&&(s.O4$(),s.TgZ(0,"svg",2),s._UZ(1,"polygon",3),s.qZA())}const tU=["*"];function S8(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",0),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw()._handleKeydown(r)})("click",function(){return s.CHM(e),s.oxw().closed.emit("click")})("@transformMenu.start",function(r){return s.CHM(e),s.oxw()._onAnimationStart(r)})("@transformMenu.done",function(r){return s.CHM(e),s.oxw()._onAnimationDone(r)}),s.TgZ(1,"div",1),s.Hsn(2),s.qZA(),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),s.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const oT={transformMenu:Sc("transformMenu",[Fs("void",fi({opacity:0,transform:"scale(0.8)"})),Ls("void => enter",Ns("120ms cubic-bezier(0, 0, 0.2, 1)",fi({opacity:1,transform:"scale(1)"}))),Ls("* => void",Ns("100ms 25ms linear",fi({opacity:0})))]),fadeInItems:Sc("fadeInItems",[Fs("showing",fi({opacity:1})),Ls("void => *",[fi({opacity:0}),Ns("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},A8=new s.OlP("MatMenuContent"),ZR=new s.OlP("MAT_MENU_PANEL"),M8=Zf(cm(class{}));let aT=(()=>{class n extends M8{constructor(e,i,r,l,u){var h;super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=l,this._changeDetectorRef=u,this.role="menuitem",this._hovered=new $e.x,this._focused=new $e.x,this._highlighted=!1,this._triggersSubmenu=!1,null===(h=null==l?void 0:l.addItem)||void 0===h||h.call(l,this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var e;const i=this._elementRef.nativeElement.cloneNode(!0),r=i.querySelectorAll("mat-icon, .material-icons");for(let l=0;l<r.length;l++)r[l].remove();return(null===(e=i.textContent)||void 0===e?void 0:e.trim())||""}_setHighlighted(e){var i;this._highlighted=e,null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(X),s.Y36(Cl),s.Y36(ZR,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&s.NdJ("click",function(l){return i._checkDisabled(l)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(s.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),s.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[s.qOj],attrs:T8,ngContentSelectors:tU,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(s.F$t(),s.Hsn(0),s._UZ(1,"div",0),s.YNc(2,I8,2,0,"svg",1)),2&e&&(s.xp6(1),s.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),s.xp6(1),s.Q6J("ngIf",i._triggersSubmenu))},directives:[qu,Yt],encapsulation:2,changeDetection:0}),n})();const nU=new s.OlP("mat-menu-default-options",{providedIn:"root",factory:function x8(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let k8=0,Gb=(()=>{class n{constructor(e,i,r,l){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=l,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new s.n_E,this._tabSubscription=In.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new $e.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new s.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+k8++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=It(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=It(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Bw(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Pn(this._directDescendantItems),Sn(e=>(0,br.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{var i;const r=this._keyManager;if("enter"===this._panelAnimationState&&(null===(i=r.activeItem)||void 0===i?void 0:i._hasFocus())){const l=e.toArray(),u=Math.max(0,Math.min(l.length-1,r.activeItemIndex||0));l[u]&&!l[u].disabled?r.setActiveItem(u):r.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Pn(this._directDescendantItems),Sn(i=>(0,br.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:Zo(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._ngZone.onStable.pipe(un(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,l=Object.keys(this._classList).find(u=>u.startsWith(this._elevationPrefix));(!l||l===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){var r;const l=this._classList;l["mat-menu-before"]="before"===e,l["mat-menu-after"]="after"===e,l["mat-menu-above"]="above"===i,l["mat-menu-below"]="below"===i,null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Pn(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(nU),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,A8,5),s.Suo(r,aT,5),s.Suo(r,aT,4)),2&e){let l;s.iGM(l=s.CRH())&&(i.lazyContent=l.first),s.iGM(l=s.CRH())&&(i._allItems=l),s.iGM(l=s.CRH())&&(i.items=l)}},viewQuery:function(e,i){if(1&e&&s.Gf(s.Rgc,5),2&e){let r;s.iGM(r=s.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),R8=(()=>{class n extends Gb{constructor(e,i,r,l){super(e,i,r,l),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(nU),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&s.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[s._Bn([{provide:ZR,useExisting:n}]),s.qOj],ngContentSelectors:tU,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,S8,3,6,"ng-template"))},directives:[ns],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::before{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[oT.transformMenu,oT.fadeInItems]},changeDetection:0}),n})();const iU=new s.OlP("mat-menu-scroll-strategy"),P8={provide:iU,deps:[Wo],useFactory:function O8(n){return()=>n.scrollStrategies.reposition()}},sU=$o({passive:!0});let N8=(()=>{class n{constructor(e,i,r,l,u,h,m,b,D){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=h,this._dir=m,this._focusMonitor=b,this._ngZone=D,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=In.w0.EMPTY,this._hoverSubscription=In.w0.EMPTY,this._menuCloseSubscription=In.w0.EMPTY,this._handleTouchStart=A=>{kf(A)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new s.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new s.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=l,this._parentMaterialMenu=u instanceof Gb?u:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,sU),h&&(h._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,sU),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const e=this._createOverlay(),i=e.getConfig(),r=i.positionStrategy;this._setPosition(r),i.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof Gb&&(this.menu._startAnimation(),this.menu._directDescendantItems.changes.pipe(rn(this.menu.close)).subscribe(()=>{r.withLockedPosition(!1).reapplyLastPosition(),r.withLockedPosition(!0)}))}closeMenu(){this.menu.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){var e;null===(e=this._overlayRef)||void 0===e||e.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof Gb?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(Lt(r=>"void"===r.toState),un(1),rn(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i.lazyContent&&i.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let e=0,i=this.menu.parentMenu;for(;i;)e++,i=i.parentMenu;this.menu.setElevation(e)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new Lu({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e){this.menu.setPositionClasses&&e.positionChanges.subscribe(i=>{const r="start"===i.connectionPair.overlayX?"after":"before",l="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>this.menu.setPositionClasses(r,l)):this.menu.setPositionClasses(r,l)})}_setPosition(e){let[i,r]="before"===this.menu.xPosition?["end","start"]:["start","end"],[l,u]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[h,m]=[l,u],[b,D]=[i,r],A=0;this.triggersSubmenu()?(D=i="before"===this.menu.xPosition?"start":"end",r=b="end"===i?"start":"end",A="bottom"===l?8:-8):this.menu.overlapTrigger||(h="top"===l?"bottom":"top",m="top"===u?"bottom":"top"),e.withPositions([{originX:i,originY:h,overlayX:b,overlayY:l,offsetY:A},{originX:r,originY:h,overlayX:D,overlayY:l,offsetY:A},{originX:i,originY:m,overlayX:b,overlayY:u,offsetY:-A},{originX:r,originY:m,overlayX:D,overlayY:u,offsetY:-A}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:We(),l=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Lt(u=>u!==this._menuItemInstance),Lt(()=>this._menuOpen)):We();return(0,br.T)(e,r,l,i)}_handleMousedown(e){Lg(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Lt(e=>e===this._menuItemInstance&&!e.disabled),eU(0,_f)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Gb&&this.menu._isAnimating?this.menu._animationDone.pipe(un(1),eU(0,_f),rn(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new bf(this.menu.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Wo),s.Y36(s.SBq),s.Y36(s.s_b),s.Y36(iU),s.Y36(ZR,8),s.Y36(aT,10),s.Y36(Ps,8),s.Y36(Cl),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,hostAttrs:["aria-haspopup","true"],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(l){return i._handleClick(l)})("mousedown",function(l){return i._handleMousedown(l)})("keydown",function(l){return i._handleKeydown(l)}),2&e&&s.uIk("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),F8=(()=>{class n extends N8{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[s.qOj]}),n})(),L8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[P8],imports:[[kr,dn,Wf,Og],Pu,dn]}),n})();function B8(n,t){1&n&&(s.TgZ(0,"h2"),s._uU(1,"Create Dinner"),s.qZA())}function V8(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"You must enter a value"),s.qZA())}function U8(n,t){if(1&n&&(s.TgZ(0,"mat-button-toggle",13),s.TgZ(1,"mat-icon",10),s._uU(2),s.qZA(),s.TgZ(3,"mat-label"),s._uU(4),s.qZA(),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e)("checked",e.joinedDinner),s.xp6(1),s.Udp("color",e.color)("border","grey"),s.xp6(1),s.hij(" ",e.icon||"attribution"," "),s.xp6(2),s.hij(" ",e.Username," ")}}function H8(n,t){if(1&n&&(s.TgZ(0,"div",14),s._uU(1),s.ALo(2,"date"),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.hij("Last Update: ",s.xi3(2,1,null==e.data.dinner.lastUpdate?null:e.data.dinner.lastUpdate.seconds,"yyyy/MM/dd h:mm a"),"")}}const j8=function(n){return{dinner:n,delete:!0}};function z8(n,t){if(1&n&&(s.TgZ(0,"button",15),s.TgZ(1,"mat-icon"),s._uU(2,"delete"),s.qZA(),s.TgZ(3,"span"),s._uU(4,"Delete"),s.qZA(),s.qZA()),2&n){const e=s.oxw();s.Q6J("mat-dialog-close",s.VKq(1,j8,e.data.dinner))}}var Js=(()=>(function(n){n.width="80vw",n.height="fit-content",n.maxWidth="80vw",n.maxHeight="80vh"}(Js||(Js={})),Js))();let oU=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.data=i,this.dataset=r,this.backupDinner=Object.assign({},this.data.dinner),this.name=new ps("",[fs.required]),this.member=new ps("",[fs.required]),this.IconWheel=[{name:"flower",icon:"local_florist"},{name:"surf",icon:"surfing"},{name:"skateboard",icon:"skateboarding"}]}ngOnInit(){this.userList=this.dataset.getUserList(),this.initDinner()}initDinner(){this.getDinnerMember(),this.name.setValue(this.data.dinner.name)}getDinnerMember(){var e;this.userList=null===(e=this.userList)||void 0===e?void 0:e.pipe((0,ut.U)(i=>i.map(r=>{var l;return{Privilege:r.Privilege,Status:r.Status,Username:r.Username,icon:r.icon,id:r.id,sum:r.sum,color:r.color,joinedDinner:!!(null===(l=this.data.dinner.members)||void 0===l?void 0:l.find(u=>u.id===r.id))}})))}cancel(){this.data.dinner.name=this.backupDinner.name,this.data.dinner.icon=this.backupDinner.icon,this.dialogRef.close(this.data)}onSubmit(){this.name.errors||(this.data.type==Sa.NEW&&(this.data.dinner.orders=[]),this.data.dinner.lastUpdate={seconds:Date.now()},this.data.dinner.name=this.name.value,this.dialogRef.close(this.data))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yf),s.Y36(dm),s.Y36(zb))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-dinner-dialog"]],decls:22,vars:11,consts:[["id","task-form"],[4,"ngIf"],["appearance","fill","color","primary"],["matInput","",3,"formControl"],["id","colorSpec","name","colorSpec","aria-label","ColorWheel","multiple","","required","true",3,"ngModel","formControl","ngModelChange"],[3,"value","checked",4,"ngFor","ngForOf"],["class","hint",4,"ngIf"],[1,"ordinary-top-bottom"],["mat-raised-button","","type","submit","color","primary",3,"click"],["mat-icon-button","","matTooltip","More options","color","primary",3,"matMenuTriggerFor"],["color","primary"],["menu","matMenu"],["mat-menu-item","","color","primary",3,"mat-dialog-close",4,"ngIf"],[3,"value","checked"],[1,"hint"],["mat-menu-item","","color","primary",3,"mat-dialog-close"]],template:function(e,i){if(1&e&&(s.TgZ(0,"form",0),s.YNc(1,B8,2,0,"h2",1),s.TgZ(2,"mat-form-field",2),s.TgZ(3,"mat-label"),s._uU(4,"Dinner Name"),s.qZA(),s._UZ(5,"input",3),s.YNc(6,V8,2,0,"mat-error",1),s.qZA(),s.TgZ(7,"mat-label"),s._uU(8,"Please select eaters"),s.qZA(),s.TgZ(9,"mat-button-toggle-group",4),s.NdJ("ngModelChange",function(l){return i.data.dinner.members=l}),s.YNc(10,U8,5,8,"mat-button-toggle",5),s.ALo(11,"async"),s.qZA(),s.YNc(12,H8,3,4,"div",6),s.TgZ(13,"div",7),s.TgZ(14,"button",8),s.NdJ("click",function(){return i.onSubmit()}),s._uU(15," Save "),s.qZA(),s.TgZ(16,"button",9),s.TgZ(17,"mat-icon"),s._uU(18,"more_vert"),s.qZA(),s.qZA(),s.TgZ(19,"mat-menu",10,11),s.YNc(21,z8,5,3,"button",12),s.qZA(),s.qZA(),s.qZA()),2&e){const r=s.MAs(20);s.xp6(1),s.Q6J("ngIf",1==i.data.type),s.xp6(4),s.Q6J("formControl",i.name),s.xp6(1),s.Q6J("ngIf",i.name.invalid),s.xp6(3),s.Q6J("ngModel",i.data.dinner.members)("formControl",i.member),s.xp6(1),s.Q6J("ngForOf",s.lcZ(11,9,i.userList)),s.xp6(2),s.Q6J("ngIf",i.data.enableDelete),s.xp6(4),s.Q6J("matMenuTriggerFor",r),s.xp6(5),s.Q6J("ngIf",i.data.enableDelete)}},directives:[hf,tf,wc,Yt,pm,Xf,Nv,pl,Bd,Vd,gM,RE,_l,yn,OE,Zu,Ml,F8,R8,aT,Av],pipes:[Na,Fa],styles:[".hint[_ngcontent-%COMP%]{font-size:smaller}","#task-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:large}#task-form[_ngcontent-%COMP%]   #close[_ngcontent-%COMP%]{margin-left:auto}#task-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin:0}#task-form[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{color:red}#task-form[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin:10px 0}#task-form[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}#task-form[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{overflow-y:auto;width:-moz-fit-content;width:fit-content;margin:10px 0}#task-form[_ngcontent-%COMP%]   .member-form-list[_ngcontent-%COMP%]{overflow:auto;display:flexbox}",".ordinary-section[_ngcontent-%COMP%]{padding:12px 0}.ordinary-row[_ngcontent-%COMP%]{padding:8px 4px}.ordinary-top-bottom[_ngcontent-%COMP%]{padding:8px 0}.left-small-space[_ngcontent-%COMP%]{padding-left:16px}.right-small-space[_ngcontent-%COMP%]{padding-right:16px}"]}),n})();function q8(n,t){1&n&&(s.TgZ(0,"h2"),s._uU(1,"New Item"),s.qZA())}function G8(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"You must enter a value"),s.qZA())}function $8(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"You must enter a numer"),s.qZA())}function Z8(n,t){1&n&&(s.TgZ(0,"mat-error",10),s._uU(1,"You must pick a user"),s.qZA())}function W8(n,t){if(1&n&&(s.TgZ(0,"mat-button-toggle",11),s.TgZ(1,"mat-icon",12),s._uU(2),s.qZA(),s.TgZ(3,"mat-label"),s._uU(4),s.qZA(),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.Udp("color",e.color)("border","grey"),s.xp6(1),s.hij(" ",e.icon||"attribution"," "),s.xp6(2),s.hij(" ",e.Username," ")}}let Y8=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.data=i,this.dataset=r,this.name=new ps("",[fs.required]),this.price=new ps("",[fs.required,fs.min(0),fs.pattern("^[0-9]*$")]),this.member=new ps("",[fs.required])}ngOnInit(){this.userList=this.dataset.getUserList(),this.initOrder()}initOrder(){this.getOrderMember()}getOrderMember(){var e;this.userList=null===(e=this.userList)||void 0===e?void 0:e.pipe((0,ut.U)(i=>i.map(r=>{var l;return{Privilege:r.Privilege,Status:r.Status,Username:r.Username,icon:r.icon,id:r.id,sum:r.sum,color:r.color,joinedDinner:!!(null===(l=this.data.dinner.members)||void 0===l?void 0:l.find(u=>u.id===r.id))}}).filter(r=>!0===r.joinedDinner)))}onSubmit(){this.name.errors||this.price.errors||this.member.errors||(this.data.order.name=this.name.value,this.data.order.price=Number(this.price.value),this.data.order.sharedMember=this.member.value,this.dialogRef.close(this.data))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yf),s.Y36(dm),s.Y36(zb))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-order-dialog"]],decls:21,vars:12,consts:[["id","task-form"],[4,"ngIf"],["appearance","fill","color","primary"],["matInput","",3,"formControl","readonly"],["matInput","","pattern","\\d*",3,"formControl","readonly"],["style","font-size: smaller;",4,"ngIf"],[1,"member-form-list"],["id","colorSpec","name","colorSpec","aria-label","ColorWheel","multiple","","required","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","type","submit","color","primary",3,"click"],[2,"font-size","smaller"],[3,"value"],["color","primary"]],template:function(e,i){1&e&&(s.TgZ(0,"form",0),s.YNc(1,q8,2,0,"h2",1),s.TgZ(2,"mat-form-field",2),s.TgZ(3,"mat-label"),s._uU(4,"Name"),s.qZA(),s._UZ(5,"input",3),s.YNc(6,G8,2,0,"mat-error",1),s.qZA(),s.TgZ(7,"mat-form-field",2),s.TgZ(8,"mat-label"),s._uU(9,"Price"),s.qZA(),s._UZ(10,"input",4),s.YNc(11,$8,2,0,"mat-error",1),s.qZA(),s.TgZ(12,"mat-label"),s._uU(13,"Please select eaters"),s.qZA(),s.YNc(14,Z8,2,0,"mat-error",5),s.TgZ(15,"div",6),s.TgZ(16,"mat-button-toggle-group",7),s.YNc(17,W8,5,7,"mat-button-toggle",8),s.ALo(18,"async"),s.qZA(),s.qZA(),s.TgZ(19,"button",9),s.NdJ("click",function(){return i.onSubmit()}),s._uU(20," Save "),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("ngIf",1==i.data.type),s.xp6(4),s.Q6J("formControl",i.name)("readonly",2==i.data.type),s.xp6(1),s.Q6J("ngIf",i.name.invalid),s.xp6(4),s.Q6J("formControl",i.price)("readonly",2==i.data.type),s.xp6(1),s.Q6J("ngIf",i.price.invalid),s.xp6(3),s.Q6J("ngIf",i.member.invalid),s.xp6(2),s.Q6J("formControl",i.member),s.xp6(1),s.Q6J("ngForOf",s.lcZ(18,10,i.userList)))},directives:[hf,tf,wc,Yt,pm,Xf,Nv,pl,Bd,Vd,gM,my,RE,_l,yn,OE,Zu,Ml],pipes:[Na],styles:["","#task-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:large}#task-form[_ngcontent-%COMP%]   #close[_ngcontent-%COMP%]{margin-left:auto}#task-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin:0}#task-form[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{color:red}#task-form[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin:10px 0}#task-form[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}#task-form[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{overflow-y:auto;width:-moz-fit-content;width:fit-content;margin:10px 0}#task-form[_ngcontent-%COMP%]   .member-form-list[_ngcontent-%COMP%]{overflow:auto;display:flexbox}"]}),n})(),K8=(()=>{class n{constructor(e){this.store=e}getDinner(){return this.store.collection("Dinner",i=>i.orderBy("lastUpdate","desc")).valueChanges({idField:"id"})}getOneDinner(e){return this.store.collection("Dinner").doc(e).valueChanges()}insertDinner(e){this.store.collection("Dinner").add(e)}insertDinnerOrder(e){var i=this;return(0,ye.Z)(function*(){const u=(yield i.store.collection("Dinner").ref.where("id","==",e.dinnerID).limit(1).get()).docs[0].data();e.dinnerID=u.id,e.id=Hv(),u.orders.push(e),u.totalSum+=e.price,yield i.updateDinner(u)})()}updateDinner(e){var i=this;return(0,ye.Z)(function*(){if(null==e)return;const l=yield i.store.collection("Dinner").ref.where("id","==",e.id).limit(1).get();i.store.collection("Dinner").doc(l.docs[0].id).update(e)})()}deleteDinner(e){var i=this;return(0,ye.Z)(function*(){const l=(yield i.store.collection("Dinner").ref.where("id","==",e).limit(1).get())||null;void 0!==l.docs[0]?i.store.collection("Dinner").doc(l.docs[0].id).delete():alert("please try again")})()}deleteOrder(e){var i=this;return(0,ye.Z)(function*(){const u=(yield i.store.collection("Dinner").ref.where("id","==",e.dinnerID).limit(1).get()).docs[0].data(),h=Object.assign(Object.assign({},u),{orders:u.orders.filter(m=>m.id!==e.id)});i.updateDinner(h)})()}updateDinnerMemberSum(e){}genDinnerSum(e,i){var r=this;return(0,ye.Z)(function*(){return(yield r.store.collection("Dinner").ref.where("id","==",e.id).limit(1).get()).docs[0].data().orders.filter(m=>m.sharedMember.find(b=>b.id===i.id)).reduce((m,b)=>m+b.price,0)})()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Bb))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Q8=["trigger"],J8=["panel"];function X8(n,t){if(1&n&&(s.TgZ(0,"span",8),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.placeholder)}}function e4(n,t){if(1&n&&(s.TgZ(0,"span",12),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.triggerValue)}}function t4(n,t){1&n&&s.Hsn(0,0,["*ngSwitchCase","true"])}function n4(n,t){if(1&n&&(s.TgZ(0,"span",9),s.YNc(1,e4,2,1,"span",10),s.YNc(2,t4,1,0,"ng-content",11),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngSwitch",!!e.customTrigger),s.xp6(2),s.Q6J("ngSwitchCase",!0)}}function i4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",13),s.TgZ(1,"div",14,15),s.NdJ("@transformPanel.done",function(r){return s.CHM(e),s.oxw()._panelDoneAnimatingStream.next(r.toState)})("keydown",function(r){return s.CHM(e),s.oxw()._handleKeydown(r)}),s.Hsn(3,1),s.qZA(),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("@transformPanelWrap",void 0),s.xp6(1),s.Gre("mat-select-panel ",e._getPanelTheme(),""),s.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),s.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),s.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const r4=[[["mat-select-trigger"]],"*"],s4=["mat-select-trigger","*"],aU={transformPanelWrap:Sc("transformPanelWrap",[Ls("* => void",Ug("@transformPanel",[Rf()],{optional:!0}))]),transformPanel:Sc("transformPanel",[Fs("void",fi({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Fs("showing",fi({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Fs("showing-multiple",fi({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Ls("void => *",Ns("120ms cubic-bezier(0, 0, 0.2, 1)")),Ls("* => void",Ns("100ms 25ms linear",fi({opacity:0})))])};let lU=0;const uU=new s.OlP("mat-select-scroll-strategy"),c4=new s.OlP("MAT_SELECT_CONFIG"),u4={provide:uU,deps:[Wo],useFactory:function l4(n){return()=>n.scrollStrategies.reposition()}};class d4{constructor(t,e){this.source=t,this.value=e}}const h4=Zf($C(cm(Ev(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r}})))),f4=new s.OlP("MatSelectTrigger");let p4=(()=>{class n extends h4{constructor(e,i,r,l,u,h,m,b,D,A,P,B,G,re){var be,Xe,it;super(u,l,m,b,A),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=h,this._parentFormField=D,this._liveAnnouncer=G,this._defaultOptions=re,this._panelOpen=!1,this._compareWith=(et,je)=>et===je,this._uid="mat-select-"+lU++,this._triggerAriaLabelledBy=null,this._destroy=new $e.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+lU++,this._panelDoneAnimatingStream=new $e.x,this._overlayPanelClass=(null===(be=this._defaultOptions)||void 0===be?void 0:be.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(it=null===(Xe=this._defaultOptions)||void 0===Xe?void 0:Xe.disableOptionCentering)&&void 0!==it&&it,this.ariaLabel="",this.optionSelectionChanges=il(()=>{const et=this.options;return et?et.changes.pipe(Pn(et),Sn(()=>(0,br.T)(...et.map(je=>je.onSelectionChange)))):this._ngZone.onStable.pipe(un(1),Sn(()=>this.optionSelectionChanges))}),this.openedChange=new s.vpe,this._openedStream=this.openedChange.pipe(Lt(et=>et),(0,ut.U)(()=>{})),this._closedStream=this.openedChange.pipe(Lt(et=>!et),(0,ut.U)(()=>{})),this.selectionChange=new s.vpe,this.valueChange=new s.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==re?void 0:re.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=re.typeaheadDebounceInterval),this._scrollStrategyFactory=B,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(P)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){var e,i,r,l;return null!==(l=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(fs.required))&&void 0!==l&&l}set required(e){this._required=It(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=It(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=It(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=di(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new vM(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Pg(),rn(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(rn(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Pn(null),rn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,i;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,l=13===i||32===i,u=this._keyManager;if(!u.isTyping()&&l&&!Zo(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const h=this.selected;u.onKeydown(e);const m=this.selected;m&&h!==m&&this._liveAnnouncer.announce(m.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,l=40===r||38===r,u=i.isTyping();if(l&&e.altKey)e.preventDefault(),this.close();else if(u||13!==r&&32!==r||!i.activeItem||Zo(e))if(!u&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const h=this.options.some(m=>!m.disabled&&!m.selected);this.options.forEach(m=>{m.disabled||(h?m.select():m.deselect())})}else{const h=i.activeItemIndex;i.onKeydown(e),this._multiple&&l&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==h&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(un(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch(l){return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new Lw(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(rn(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(rn(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,br.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(rn(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,br.T)(...this.options.map(i=>i._stateChanges)).pipe(rn(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ou),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(ih),s.Y36(s.SBq),s.Y36(Ps,8),s.Y36(wc,8),s.Y36(Iu,8),s.Y36(mM,8),s.Y36(Os,10),s.$8M("tabindex"),s.Y36(uU),s.Y36(Bg),s.Y36(c4,8))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&(s.Gf(Q8,5),s.Gf(J8,5),s.Gf(zy,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.trigger=r.first),s.iGM(r=s.CRH())&&(i.panel=r.first),s.iGM(r=s.CRH())&&(i._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[s.qOj,s.TTD]}),n})(),g4=(()=>{class n extends p4{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const l=this._getItemHeight();return Math.min(Math.max(0,l*e-i+l/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(rn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(un(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=oE(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function OA(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new d4(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),l=this.multiple?56:32;let u;if(this.multiple)u=40;else if(this.disableOptionCentering)u=16;else{let b=this._selectionModel.selected[0]||this.options.first;u=b&&b.group?32:16}r||(u*=-1);const h=0-(e.left+u-(r?l:0)),m=e.right+u-i.width+(r?0:l);h>0?u+=h+8:m>0&&(u-=m+8),this._overlayDir.offsetX=Math.round(u),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const l=this._getItemHeight(),u=(l-this._triggerRect.height)/2,h=Math.floor(256/l);let m;return this.disableOptionCentering?0:(m=0===this._scrollTop?e*l:this._scrollTop===r?(e-(this._getItemCount()-h))*l+(l-(this._getItemCount()*l-256)%l):i-l/2,Math.round(-1*m-u))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),l=this._triggerRect.top-8,u=r.height-this._triggerRect.bottom-8,h=Math.abs(this._offsetY),b=Math.min(this._getItemCount()*i,256)-h-this._triggerRect.height;b>u?this._adjustPanelUp(b,u):h>l?this._adjustPanelDown(h,l,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const l=Math.round(e-i);if(this._scrollTop+=l,this._offsetY+=l,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),u=i*e-r;let h;h=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),h+=oE(h,this.options,this.optionGroups);const m=r/2;this._scrollTop=this._calculateOverlayScroll(h,m,u),this._offsetY=this._calculateOverlayOffsetY(h,m,u),this._checkOverlayWithinViewport(u)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,f4,5),s.Suo(r,Iv,5),s.Suo(r,sh,5)),2&e){let l;s.iGM(l=s.CRH())&&(i.customTrigger=l.first),s.iGM(l=s.CRH())&&(i.options=l),s.iGM(l=s.CRH())&&(i.optionGroups=l)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&s.NdJ("keydown",function(l){return i._handleKeydown(l)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(s.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),s.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[s._Bn([{provide:Pv,useExisting:n},{provide:Tv,useExisting:n}]),s.qOj],ngContentSelectors:s4,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(s.F$t(r4),s.TgZ(0,"div",0,1),s.NdJ("click",function(){return i.toggle()}),s.TgZ(3,"div",2),s.YNc(4,X8,2,1,"span",3),s.YNc(5,n4,3,2,"span",4),s.qZA(),s.TgZ(6,"div",5),s._UZ(7,"div",6),s.qZA(),s.qZA(),s.YNc(8,i4,4,14,"ng-template",7),s.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=s.MAs(1);s.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),s.xp6(3),s.Q6J("ngSwitch",i.empty),s.uIk("id",i._valueId),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1),s.xp6(3),s.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[jy,bi,qi,Pa,zy,ns],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[aU.transformPanelWrap,aU.transformPanel]},changeDetection:0}),n})(),m4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[u4],imports:[[kr,Og,PA,dn],Pu,_M,PA,dn]}),n})();function _4(n,t){1&n&&(s.TgZ(0,"div",16),s._UZ(1,"mat-spinner",17),s.qZA()),2&n&&(s.xp6(1),s.Q6J("diameter",30))}function y4(n,t){1&n&&(s.TgZ(0,"mat-option",18),s._uU(1,"Loading.."),s.qZA()),2&n&&s.Q6J("disabled",!0)}function v4(n,t){if(1&n&&(s.TgZ(0,"mat-option",19),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e.id),s.xp6(1),s.hij(" ",e.name," ")}}function b4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",20),s.NdJ("click",function(){return s.CHM(e),s.oxw().AddNewOrder_v2()}),s._uU(1," Add New Order "),s.TgZ(2,"mat-icon"),s._uU(3,"add"),s.qZA(),s.qZA()}}function w4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",21),s.NdJ("click",function(){return s.CHM(e),s.oxw().ViewDinner()}),s._uU(1," Edit Dinner "),s.TgZ(2,"mat-icon"),s._uU(3,"edit"),s.qZA(),s.qZA()}}function C4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",32),s.NdJ("click",function(){const l=s.CHM(e).$implicit;return s.oxw(2).getUserSum(l)}),s.TgZ(1,"div"),s._uU(2),s.qZA(),s.TgZ(3,"div"),s.TgZ(4,"mat-icon",33),s._uU(5),s.qZA(),s.qZA(),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.Username),s.xp6(2),s.Udp("color",e.color),s.xp6(1),s.Oqu(e.icon)}}function E4(n,t){if(1&n&&(s.TgZ(0,"div",37),s.TgZ(1,"mat-icon",33),s._uU(2),s.qZA(),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Udp("color",e.color),s.xp6(1),s.hij(" ",e.icon," ")}}function D4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",34),s.TgZ(1,"mat-label"),s._uU(2),s.qZA(),s.TgZ(3,"mat-label"),s._uU(4),s.qZA(),s.TgZ(5,"div",35),s.YNc(6,E4,3,3,"div",36),s.qZA(),s.TgZ(7,"button",5),s.NdJ("click",function(){const l=s.CHM(e).$implicit;return s.oxw(2).deleteOrder(l)}),s.TgZ(8,"mat-icon"),s._uU(9,"clear"),s.qZA(),s.qZA(),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(2),s.hij(" ",e.name," "),s.xp6(2),s.hij(" $ ",e.price," "),s.xp6(2),s.Q6J("ngForOf",e.sharedMember)}}function T4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",38),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).AddNewOrder_v2()}),s._uU(1," Click to add order "),s.qZA()}}function I4(n,t){if(1&n&&(s.TgZ(0,"div",22),s.TgZ(1,"div",23),s._uU(2," Your Members "),s.qZA(),s.TgZ(3,"div",24),s.YNc(4,C4,6,4,"div",25),s.ALo(5,"async"),s.qZA(),s.TgZ(6,"div",26),s.TgZ(7,"div",23),s._uU(8," Your Orders "),s.qZA(),s.TgZ(9,"div",27),s.TgZ(10,"div"),s._uU(11,"Items"),s.qZA(),s.TgZ(12,"div"),s._uU(13,"Price"),s.qZA(),s.TgZ(14,"div",28),s._uU(15,"Users"),s.qZA(),s._UZ(16,"div"),s.qZA(),s.YNc(17,D4,10,3,"div",29),s.TgZ(18,"div",26),s.YNc(19,T4,2,0,"button",30),s.qZA(),s.qZA(),s.TgZ(20,"div",26),s.TgZ(21,"div",31),s.TgZ(22,"div"),s._uU(23,"Total"),s.qZA(),s.TgZ(24,"div"),s._uU(25),s.qZA(),s._UZ(26,"div"),s.qZA(),s.qZA(),s.qZA()),2&n){const e=t.ngIf,i=s.oxw();let r;s.xp6(4),s.Q6J("ngForOf",null==(r=s.lcZ(5,4,i.dinner$))?null:r.members),s.xp6(13),s.Q6J("ngForOf",e.orders),s.xp6(2),s.Q6J("ngIf",e),s.xp6(6),s.hij("$ ",e.totalSum,"")}}const S4=[{path:"",pathMatch:"full",redirectTo:"signIn"},{path:"signIn",pathMatch:"full",component:Oj},{path:"project-management",component:HW},{path:"text-editor",component:y8},{path:"budget-planner",component:E8,children:[{path:"paytgt",component:(()=>{class n{constructor(e,i,r,l,u){this.dialog=e,this.service=r,this.authService=l,this.notiBar=u,this.loadingData=!1}ngOnInit(){this.syncDinner()}syncDinner(){this.loadingData=!1,this.dinnerList=this.service.getDinner(),this.dinnerList.subscribe(e=>{e.length>0&&(this.loadingData=!0)})}SelectDinner(e){console.log("event: "+e),this.SetCurrentDinner(String(e))}SetCurrentDinner(e){var i;this.dinner$=this.service.getOneDinner(e),this.dinner$.forEach(r=>{this.dinner=r}),console.log("current dinner: "+(null===(i=this.dinner)||void 0===i?void 0:i.name))}ViewDinner(){null!=this.dialog&&this.dialog.closeAll(),this.dialog.open(oU,{width:Js.width,height:Js.height,maxWidth:Js.maxWidth,maxHeight:Js.maxHeight,data:{type:Sa.EDIT,dinner:this.dinner,enableDelete:!0}}).afterClosed().subscribe(i=>{if(!i)return;const r=Object.assign({},i.dinner);i.delete&&confirm("Are you sure to delete this dinner?")?this.service.deleteDinner(r.id):this.service.updateDinner(r)})}NewDinner(){null!=this.dialog&&this.dialog.closeAll(),this.dialog.open(oU,{width:Js.width,height:Js.height,maxWidth:Js.maxWidth,maxHeight:Js.maxHeight,data:{type:Sa.NEW,dinner:{}}}).afterClosed().subscribe(i=>{if(!i)return;const r=Object.assign(Object.assign({},i.dinner),{id:Hv(),dinnerID:i.dinner.name.replace(" ","_"),totalSum:0});this.service.insertDinner(r),this.notiBar.openBar(r.name+" is created."),this.SetCurrentDinner(r.dinnerID)})}DeleteDinner(e){this.service.deleteDinner(e)}documentKeyDown(e){UN(e)||HN(e)||("r"==e.key&&this.syncDinner(),"n"==e.key&&this.AddNewOrder_v2(),jN(e))}AddNewOrder(){if(null==this.dinner)return;const e={id:Hv(),name:"dinner 0410 (3)",price:123,dinnerID:this.dinner.dinnerID,sharedMember:this.dinner.members};this.service.insertDinnerOrder(e)}AddNewOrder_v2(){null!=this.dialog&&this.dialog.closeAll(),this.dialog.open(Y8,{width:Js.width,height:Js.height,maxWidth:Js.maxWidth,maxHeight:Js.maxHeight,data:{type:Sa.NEW,order:{},dinner:this.dinner}}).afterClosed().subscribe(i=>{if(!i||null==this.dinner)return;const r=Object.assign(Object.assign({},i.order),{dinnerID:this.dinner.id});this.service.insertDinnerOrder(r),this.notiBar.openBar(i.order.name+" is created.")})}deleteOrder(e){null!=this.dinner&&(!confirm("Sure to delete?")||this.service.deleteOrder(e))}getUserSum(e){var i=this;return(0,ye.Z)(function*(){if(void 0===i.dinner)return 0;const r=yield i.service.genDinnerSum(i.dinner,e);return i.notiBar.openBar(e.Username+"'s Total: $"+r),r})()}updateLocalUserSum(){var i,r,e=this;try{this.loadingData=!0,null===(i=this.dinner)||void 0===i||i.members.map(function(){var l=(0,ye.Z)(function*(u){const h=Number((yield e.getUserSum(u)).toString());return console.log(h),u.sum=h,u});return function(u){return l.apply(this,arguments)}}()),console.log(null===(r=this.dinner)||void 0===r?void 0:r.members),this.service.updateDinner(this.dinner)}catch(l){this.notiBar.openBar("Please try again")}finally{this.loadingData=!1}}testUpdateDinner(){}get getColor(){return mm.RandomColor}}return n.\u0275fac=function(e){return new(e||n)(s.Y36($u),s.Y36(Bb),s.Y36(K8),s.Y36(fm),s.Y36(JV))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-paytgt"]],hostBindings:function(e,i){1&e&&s.NdJ("keydown",function(l){return i.documentKeyDown(l)},!1,s.evT)},decls:27,vars:10,consts:[[1,"content-wrapper"],[1,"content-real"],[1,"content"],[1,"page-title-text","ordinary-section",2,"align-items","center","justify-content","space-between"],["style","padding-left: 10px;",4,"ngIf"],["mat-icon-button","","color","primary",3,"click"],["appearance","fill","id","dinner-option"],[3,"valueChange"],[3,"disabled",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[3,"click"],[1,"ordinary-section"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","color","primary",3,"click",4,"ngIf"],["class","ordinary-section order",4,"ngIf"],[2,"visibility","hidden"],[2,"padding-left","10px"],[3,"diameter"],[3,"disabled"],[3,"value"],["mat-raised-button","","color","primary",3,"click"],["mat-button","","color","primary",3,"click"],[1,"ordinary-section","order"],[1,"page-title-text","ordinary-section"],[1,"order-section","member-list"],["class","member",3,"click",4,"ngFor","ngForOf"],[1,"order-section"],[1,"order-group","header"],[2,"justify-content","flex-end"],["class","order-group",4,"ngFor","ngForOf"],["mat-button","","color","primary","class","order-section",3,"click",4,"ngIf"],[1,"sum"],[1,"member",3,"click"],["color","primary"],[1,"order-group"],[1,"icon"],["class","member",4,"ngFor","ngForOf"],[1,"member"],["mat-button","","color","primary",1,"order-section",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s._uU(4," Pick the Occasion "),s.YNc(5,_4,2,1,"div",4),s.TgZ(6,"button",5),s.NdJ("click",function(){return i.syncDinner()}),s.TgZ(7,"mat-icon"),s._uU(8,"refresh"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"mat-form-field",6),s.TgZ(10,"mat-label"),s._uU(11,"Choose One ~"),s.qZA(),s.TgZ(12,"mat-select",7),s.NdJ("valueChange",function(l){return i.SelectDinner(l)}),s.YNc(13,y4,2,1,"mat-option",8),s.YNc(14,v4,2,2,"mat-option",9),s.ALo(15,"async"),s.TgZ(16,"mat-option",10),s.NdJ("click",function(){return i.NewDinner()}),s.TgZ(17,"mat-icon"),s._uU(18,"add"),s.qZA(),s._uU(19," New Dinner "),s.qZA(),s.qZA(),s.qZA(),s.TgZ(20,"div",11),s.YNc(21,b4,4,0,"button",12),s.YNc(22,w4,4,0,"button",13),s.qZA(),s.YNc(23,I4,27,6,"div",14),s.ALo(24,"async"),s.qZA(),s.TgZ(25,"pre",15),s._uU(26,"Occasion: (dropdown to choose dinner)\n    \n    Members: (circles here)\n    \n    -----------------------------------\n    show dishes details here + price            member icon\n    \n    \n    -----------------------------------\n                                                total price\n    \n                    (Button)  Generate Result\n    -----------------------------------\n                                    Paid\n    member icon:            sum     (checkbox)\n    member icon:            sum     (checkbox)\n    member icon:            sum     (checkbox)\n    ----------------------------\n    3 Members               total sum\n    "),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(5),s.Q6J("ngIf",!i.loadingData),s.xp6(8),s.Q6J("ngIf",!i.loadingData),s.xp6(1),s.Q6J("ngForOf",s.lcZ(15,6,i.dinnerList)),s.xp6(7),s.Q6J("ngIf",i.dinner),s.xp6(1),s.Q6J("ngIf",i.dinner),s.xp6(1),s.Q6J("ngIf",s.lcZ(24,8,i.dinner$)))},directives:[Yt,Uc,Ml,Zu,pm,Xf,g4,Iv,yn],pipes:[Na],styles:[".content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;padding:4px 12px}.page-title-text[_ngcontent-%COMP%]{font-family:Montserrat,Roboto,monospace;font-size:x-large;color:#4d362e;display:flex;flex-direction:row}#dinner-option[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:0!important}.order[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.order[_ngcontent-%COMP%]   .order-section[_ngcontent-%COMP%]{min-height:50px;width:100%}.order[_ngcontent-%COMP%]   .member-list[_ngcontent-%COMP%]{display:flex;flex-direction:row}.order[_ngcontent-%COMP%]   .member-list[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]{padding:0 10px;display:flex;flex-direction:column;align-items:center;cursor:pointer}.order[_ngcontent-%COMP%]   .order-group[_ngcontent-%COMP%]{display:grid;grid-template-columns:4fr 2fr 2fr 36px;padding:8px;font-size:larger}.order[_ngcontent-%COMP%]   .order-group[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;flex-direction:row}.order[_ngcontent-%COMP%]   .order-group[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-left:10px}.order[_ngcontent-%COMP%]   .order-group[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{max-height:15px;width:auto;margin-bottom:4px}.order[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-weight:500;color:#795548;background-color:#7955481c}.order[_ngcontent-%COMP%]   .sum[_ngcontent-%COMP%]{padding:8px;border-top:solid 2px #795548;font-weight:500;color:#795548;display:grid;grid-template-columns:4fr 2fr 2fr;font-size:larger}","mat-toolbar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:10px}#app[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%}#top-banner[_ngcontent-%COMP%]{flex:0 0 64px;flex-shrink:0;height:-moz-fit-content;height:fit-content}#main[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;overflow:auto}#nav[_ngcontent-%COMP%]{border-right:1px solid #a4a4a4;display:flex;flex-direction:column;flex:0 0 188px;flex-shrink:0;justify-content:space-between;height:100%}#nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}mat-sidenav-container[_ngcontent-%COMP%]{width:100%}#main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;overflow:auto}#content[_ngcontent-%COMP%]{height:100%}.Loading-Spinner[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;padding:10px 0}",".ordinary-section[_ngcontent-%COMP%]{padding:12px 0}.ordinary-row[_ngcontent-%COMP%]{padding:8px 4px}.ordinary-top-bottom[_ngcontent-%COMP%]{padding:8px 0}.left-small-space[_ngcontent-%COMP%]{padding-left:16px}.right-small-space[_ngcontent-%COMP%]{padding-right:16px}",".cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.content-wrapper[_ngcontent-%COMP%]{overflow:auto;height:100%}.content-real[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:inherit;max-width:100%}.background-container[_ngcontent-%COMP%]{position:absolute;width:100%;overflow:hidden;display:flex;flex-direction:row;justify-content:center}.background-container[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{flex-shrink:0;flex-grow:0}.background-container[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;height:100%;border:none}.task-list-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex:1;overflow:auto;max-width:inherit}.task-block-list[_ngcontent-%COMP%]{margin:0 25px 25px 0}.task-list[_ngcontent-%COMP%]{overflow:auto;max-width:300px;width:300px;min-height:50px;max-height:60vh;background-color:#f2f2f280}"]}),n})(),pathMatch:"full"}]}];let A4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[m0.forRoot(S4)],m0]}),n})();const M4=["*",[["mat-toolbar-row"]]],x4=["*","mat-toolbar-row"],k4=$f(class{constructor(n){this._elementRef=n}});let R4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),O4=(()=>{class n extends k4{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(ji),s.Y36(X))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,R4,5),2&e){let l;s.iGM(l=s.CRH())&&(i._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:x4,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(M4),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),P4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[dn],dn]}),n})();const cT=["*"],N4=["content"];function F4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){return s.CHM(e),s.oxw()._onBackdropClicked()}),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function L4(n,t){1&n&&(s.TgZ(0,"mat-drawer-content"),s.Hsn(1,2),s.qZA())}const B4=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],V4=["mat-drawer","mat-drawer-content","*"];function U4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){return s.CHM(e),s.oxw()._onBackdropClicked()}),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function H4(n,t){1&n&&(s.TgZ(0,"mat-sidenav-content"),s.Hsn(1,2),s.qZA())}const j4=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],z4=["mat-sidenav","mat-sidenav-content","*"],dU={transformDrawer:Sc("transform",[Fs("open, open-instant",fi({transform:"none",visibility:"visible"})),Fs("void",fi({"box-shadow":"none",visibility:"hidden"})),Ls("void => open-instant",Ns("0ms")),Ls("void <=> open, open-instant => void",Ns("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},G4=new s.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function $4(){return!1}}),WR=new s.OlP("MAT_DRAWER_CONTAINER");let uT=(()=>{class n extends vf{constructor(e,i,r,l,u){super(r,l,u),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>fU)),s.Y36(s.SBq),s.Y36($d),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&s.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[s._Bn([{provide:vf,useExisting:n}]),s.qOj],ngContentSelectors:cT,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),hU=(()=>{class n{constructor(e,i,r,l,u,h,m,b){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=l,this._ngZone=u,this._interactivityChecker=h,this._doc=m,this._container=b,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new $e.x,this._animationEnd=new $e.x,this._animationState="void",this.openedChange=new s.vpe(!0),this._openedStream=this.openedChange.pipe(Lt(D=>D),(0,ut.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Lt(D=>D.fromState!==D.toState&&0===D.toState.indexOf("open")),$R(void 0)),this._closedStream=this.openedChange.pipe(Lt(D=>!D),(0,ut.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Lt(D=>D.fromState!==D.toState&&"void"===D.toState),$R(void 0)),this._destroyed=new $e.x,this.onPositionChanged=new s.vpe,this._modeChanged=new $e.x,this.openedChange.subscribe(D=>{D?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Au(this._elementRef.nativeElement,"keydown").pipe(Lt(D=>27===D.keyCode&&!this.disableClose&&!Zo(D)),rn(this._destroyed)).subscribe(D=>this._ngZone.run(()=>{this.close(),D.stopPropagation(),D.preventDefault()}))}),this._animationEnd.pipe(Pg((D,A)=>D.fromState===A.fromState&&D.toState===A.toState)).subscribe(D=>{const{fromState:A,toState:P}=D;(0===P.indexOf("open")&&"void"===A||"void"===P&&0===A.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=It(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"===this.mode?"dialog":"first-tabbable":e}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=It(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(It(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var e;this._focusTrap&&this._focusTrap.destroy(),null===(e=this._anchor)||void 0===e||e.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(l=>{this.openedChange.pipe(un(1)).subscribe(u=>l(u?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(zw),s.Y36(Cl),s.Y36(ji),s.Y36(s.R0b),s.Y36($y),s.Y36(X,8),s.Y36(WR,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&s.Gf(N4,5),2&e){let r;s.iGM(r=s.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&s.WFA("@transform.start",function(l){return i._animationStarted.next(l)})("@transform.done",function(l){return i._animationEnd.next(l)}),2&e&&(s.uIk("align",null),s.d8E("@transform",i._animationState),s.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:cT,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},directives:[vf],encapsulation:2,data:{animation:[dU.transformDrawer]},changeDetection:0}),n})(),fU=(()=>{class n{constructor(e,i,r,l,u,h=!1,m){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=l,this._animationMode=m,this._drawers=new s.n_E,this.backdropClick=new s.vpe,this._destroyed=new $e.x,this._doCheckSubject=new $e.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new $e.x,e&&e.change.pipe(rn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),u.change().pipe(rn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=h}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=It(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:It(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Pn(this._allDrawers),rn(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Pn(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Ic(10),rn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Lt(i=>i.fromState!==i.toState),rn(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(rn(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(rn(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(un(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(rn((0,br.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ps,8),s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(Ou),s.Y36(G4),s.Y36(Yo,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,uT,5),s.Suo(r,hU,5)),2&e){let l;s.iGM(l=s.CRH())&&(i._content=l.first),s.iGM(l=s.CRH())&&(i._allDrawers=l)}},viewQuery:function(e,i){if(1&e&&s.Gf(uT,5),2&e){let r;s.iGM(r=s.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[s._Bn([{provide:WR,useExisting:n}])],ngContentSelectors:V4,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(s.F$t(B4),s.YNc(0,F4,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,L4,2,0,"mat-drawer-content",1)),2&e&&(s.Q6J("ngIf",i.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!i._content))},directives:[uT,Yt],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),YR=(()=>{class n extends uT{constructor(e,i,r,l,u){super(e,i,r,l,u)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>gU)),s.Y36(s.SBq),s.Y36($d),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&s.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[s._Bn([{provide:vf,useExisting:n}]),s.qOj],ngContentSelectors:cT,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),pU=(()=>{class n extends hU{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=It(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=di(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=di(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(s.uIk("align",null),s.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),s.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[s.qOj],ngContentSelectors:cT,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},directives:[vf],encapsulation:2,data:{animation:[dU.transformDrawer]},changeDetection:0}),n})(),gU=(()=>{class n extends fU{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,YR,5),s.Suo(r,pU,5)),2&e){let l;s.iGM(l=s.CRH())&&(i._content=l.first),s.iGM(l=s.CRH())&&(i._allDrawers=l)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[s._Bn([{provide:WR,useExisting:n}]),s.qOj],ngContentSelectors:z4,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(s.F$t(j4),s.YNc(0,U4,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,H4,2,0,"mat-sidenav-content",1)),2&e&&(s.Q6J("ngIf",i.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!i._content))},directives:[YR,Yt],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),Z4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[kr,dn,Pu],Pu,dn]}),n})();function W4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"shared-button",14),s.NdJ("ClickEvent",function(){const l=s.CHM(e).$implicit;return s.oxw().changeRoute(l)}),s.qZA()}if(2&n){const e=t.$implicit;s.s9C("leadingIcon",e.icon?e.icon:"lens_blur"),s.Q6J("buttonSpec",e)("selected",!1)("disabled",!1)("showSelectedIcon",!0)}}function Y4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().logout()}),s._uU(1," Log Out "),s.TgZ(2,"mat-icon"),s._uU(3,"logout"),s.qZA(),s.qZA()}}let K4=(()=>{class n{constructor(e,i){this.route=e,this.authService=i,this.title="FinNote",this.mode=new ps("push"),this.opened=!1,this.browserName="",this.buttonSpecList=[{key:"p",displayName:"Project Management",ref:"project-management",order:0,description:"Go to PM",shortcutKey:"P",icon:"today"},{key:"d",displayName:"DO & WATCH",ref:"text-editor",order:1,description:"Go to To Do List/ To Watch List",shortcutKey:"D",icon:"checklist"},{key:"t",displayName:"Budget Planner",ref:"budget-planner",order:1,description:"Go to C",shortcutKey:"C",color:"yellow",icon:"account_balance_wallet"}]}ngOnInit(){var e,i;null===(i=null===(e=this.authService)||void 0===e?void 0:e.currentAuthStatus)||void 0===i||i.subscribe(r=>{this.opened=null!==r}),this.checkBrowser()}checkBrowser(){const e=window.navigator.userAgent;if(e.match(/iPhone/i))return this.browserName="iPhone, will close",void(this.opened=!1);if(e.match(/firefox|fxios/i))this.browserName="firefox";else if(e.match(/chrome|chromium|crios/i))this.browserName="chrome";else if(e.match(/safari/i))this.browserName="safari";else if(e.match(/opr\//i))this.browserName="opera";else{if(!e.match(/edg/i))return this.browserName="No browser detection",void(this.opened=!1);this.browserName="edge"}this.opened=!0}changeRoute(e){console.log("changeRoute app"),null!=e.ref?this.authService.navigatePage(e.ref):this.logout()}logout(){this.authService.logout()}get loginStatus(){return new cn.y(r=>{const l=null!==this.authService.getUserProfile();r.next(l)}).subscribe(r=>{this.opened=r}),this.checkBrowser(),null!==this.authService.getUserProfile()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Wi),s.Y36(fm))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:21,vars:5,consts:[["id","app"],["id","top-banner",3,"click"],["color","primary"],[2,"visibility","hidden"],["id","main"],["mode","side",3,"opened","openedChange"],["sidenav",""],["id","nav"],[1,"ordinary-section"],[3,"buttonSpec","selected","disabled","leadingIcon","showSelectedIcon","ClickEvent",4,"ngFor","ngForOf"],["id","nav-control"],["mat-button","",3,"click",4,"ngIf"],["id","main-content"],["id","content"],[3,"buttonSpec","selected","disabled","leadingIcon","showSelectedIcon","ClickEvent"],["mat-button","",3,"click"]],template:function(e,i){if(1&e){const r=s.EpF();s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.NdJ("click",function(){return s.CHM(r),s.MAs(12).toggle()}),s.TgZ(2,"mat-toolbar",2),s.TgZ(3,"mat-icon"),s._uU(4,"pix"),s.qZA(),s.TgZ(5,"span"),s._uU(6,"Fin Note"),s.qZA(),s.TgZ(7,"div",3),s._uU(8),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"div",4),s.TgZ(10,"mat-sidenav-container"),s.TgZ(11,"mat-sidenav",5,6),s.NdJ("openedChange",function(u){return i.opened=u}),s.TgZ(13,"div",7),s.TgZ(14,"div",8),s.YNc(15,W4,1,5,"shared-button",9),s.qZA(),s.TgZ(16,"div",10),s.YNc(17,Y4,4,0,"button",11),s.qZA(),s.qZA(),s.qZA(),s.TgZ(18,"mat-sidenav-content",12),s.TgZ(19,"div",13),s._UZ(20,"router-outlet"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}2&e&&(s.xp6(8),s.AsE(" loginStatus: ",i.loginStatus," opened: ",i.opened," "),s.xp6(3),s.Q6J("opened",i.opened),s.xp6(4),s.Q6J("ngForOf",i.buttonSpecList),s.xp6(2),s.Q6J("ngIf",i.loginStatus))},directives:[O4,Zu,gU,pU,yn,jR,Yt,Ml,YR,Eu],styles:["mat-toolbar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:10px}#app[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%}#top-banner[_ngcontent-%COMP%]{flex:0 0 64px;flex-shrink:0;height:-moz-fit-content;height:fit-content}#main[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;overflow:auto}#nav[_ngcontent-%COMP%]{border-right:1px solid #a4a4a4;display:flex;flex-direction:column;flex:0 0 188px;flex-shrink:0;justify-content:space-between;height:100%}#nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}mat-sidenav-container[_ngcontent-%COMP%]{width:100%}#main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;overflow:auto}#content[_ngcontent-%COMP%]{height:100%}.Loading-Spinner[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;padding:10px 0}",".ordinary-section[_ngcontent-%COMP%]{padding:12px 0}.ordinary-row[_ngcontent-%COMP%]{padding:8px 4px}.ordinary-top-bottom[_ngcontent-%COMP%]{padding:8px 0}.left-small-space[_ngcontent-%COMP%]{padding-left:16px}.right-small-space[_ngcontent-%COMP%]{padding-right:16px}"]}),n})();const mU_firebase={projectId:"finnote2-70a8c",appId:"1:811871768518:web:9ab62469434dab2ff32cc7",storageBucket:"finnote2-70a8c.appspot.com",locationId:"us-central",apiKey:"AIzaSyCKXh9pjACUKNh4yQtlCj4XKMgKvvC2PqQ",authDomain:"finnote2-70a8c.firebaseapp.com",messagingSenderId:"811871768518"},bU=new s.OlP("mat-chips-default-options");let c5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[ih,{provide:bU,useValue:{separatorKeyCodes:[13]}}],imports:[[dn]]}),n})(),u5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[kr,FP,P4,a3,AW,yM,yM,e1,Sj,cI,Su,Z4,y3,KV,YW,m4,c5,Vj,L8]}),n})(),d5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[kr]]}),n})(),h5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[K4]}),n.\u0275inj=s.cJS({providers:[fm],imports:[[aa,A4,H3,u5,Sl.hO.initializeApp(mU_firebase),Y$,d5]]}),n})();(0,s.G48)(),Zl().bootstrapModule(h5).catch(n=>console.error(n))},5867:(dt,Se,O)=>{"use strict";O.d(Se,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=O(9681);(0,s.registerVersion)("firebase","9.6.6","app")},127:(dt,Se,O)=>{"use strict";O.d(Se,{Z:()=>s.Z});var s=O(3942);s.Z.registerVersion("firebase","9.6.6","app-compat")},5881:(dt,Se,O)=>{"use strict";O.r(Se);var s=O(5861),V=O(3942),R=O(3578),ae=O(2090),X=(O(9681),O(1877),O(4859));function ce(){return window}function H(){return(H=(0,s.Z)(function*(oe,Y,Z){var Te;const{BuildInfo:ze}=ce();(0,R.ap)(Y.sessionId,"AuthEvent did not contain a session ID");const ct=yield ue(Y.sessionId),xt={};return(0,R.aq)()?xt.ibi=ze.packageName:(0,R.ar)()?xt.apn=ze.packageName:(0,R.as)(oe,"operation-not-supported-in-this-environment"),ze.displayName&&(xt.appDisplayName=ze.displayName),xt.sessionId=ct,(0,R.at)(oe,Z,Y.type,void 0,null!==(Te=Y.eventId)&&void 0!==Te?Te:void 0,xt)})).apply(this,arguments)}function Be(){return(Be=(0,s.Z)(function*(oe){const{BuildInfo:Y}=ce(),Z={};(0,R.aq)()?Z.iosBundleId=Y.packageName:(0,R.ar)()?Z.androidPackageName=Y.packageName:(0,R.as)(oe,"operation-not-supported-in-this-environment"),yield(0,R.au)(oe,Z)})).apply(this,arguments)}function Ue(){return(Ue=(0,s.Z)(function*(oe,Y,Z){const{cordova:Te}=ce();let ze=()=>{};try{yield new Promise((ct,xt)=>{let $t=null;function Ut(){var Ht;ct();const Bi=null===(Ht=Te.plugins.browsertab)||void 0===Ht?void 0:Ht.close;"function"==typeof Bi&&Bi(),"function"==typeof(null==Z?void 0:Z.close)&&Z.close()}function Gn(){$t||($t=window.setTimeout(()=>{xt((0,R.av)(oe,"redirect-cancelled-by-user"))},2e3))}function nr(){"visible"===(null==document?void 0:document.visibilityState)&&Gn()}Y.addPassiveListener(Ut),document.addEventListener("resume",Gn,!1),(0,R.ar)()&&document.addEventListener("visibilitychange",nr,!1),ze=()=>{Y.removePassiveListener(Ut),document.removeEventListener("resume",Gn,!1),document.removeEventListener("visibilitychange",nr,!1),$t&&window.clearTimeout($t)}})}finally{ze()}})).apply(this,arguments)}function ue(oe){return xe.apply(this,arguments)}function xe(){return(xe=(0,s.Z)(function*(oe){const Y=Re(oe),Z=yield crypto.subtle.digest("SHA-256",Y);return Array.from(new Uint8Array(Z)).map(ze=>ze.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Re(oe){if((0,R.ap)(/[0-9a-zA-Z]+/.test(oe),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(oe);const Y=new ArrayBuffer(oe.length),Z=new Uint8Array(Y);for(let Te=0;Te<oe.length;Te++)Z[Te]=oe.charCodeAt(Te);return Z}class Ce extends R.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Y=>{this.resolveInialized=Y})}addPassiveListener(Y){this.passiveListeners.add(Y)}removePassiveListener(Y){this.passiveListeners.delete(Y)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Y){return this.resolveInialized(),this.passiveListeners.forEach(Z=>Z(Y)),super.onEvent(Y)}initialized(){var Y=this;return(0,s.Z)(function*(){yield Y.initPromise})()}}function ne(oe){return nt.apply(this,arguments)}function nt(){return(nt=(0,s.Z)(function*(oe){const Y=yield he()._get(_e(oe));return Y&&(yield he()._remove(_e(oe))),Y})).apply(this,arguments)}function pe(){const oe=[],Y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Z=0;Z<20;Z++){const Te=Math.floor(Math.random()*Y.length);oe.push(Y.charAt(Te))}return oe.join("")}function he(){return(0,R.ax)(R.b)}function _e(oe){return(0,R.ay)("authEvent",oe.config.apiKey,oe.name)}function Dt(oe){if(!(null==oe?void 0:oe.includes("?")))return{};const[Y,...Z]=oe.split("?");return(0,ae.zd)(Z.join("?"))}function ot(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,R.av)("no-auth-event")}}function Wt(){var oe;return(null===(oe=null==self?void 0:self.location)||void 0===oe?void 0:oe.protocol)||null}function xn(oe=(0,ae.z$)()){return!("file:"!==Wt()&&"ionic:"!==Wt()||!oe.toLowerCase().match(/iphone|ipad|ipod|android/))}function hr(){try{const oe=self.localStorage,Y=R.aG();if(oe)return oe.setItem(Y,"1"),oe.removeItem(Y),!function Jr(oe=(0,ae.z$)()){return function Kn(){return(0,ae.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ii(oe=(0,ae.z$)()){return/Edge\/\d+/.test(oe)}(oe)}()||(0,ae.hl)()}catch(oe){return Ar()&&(0,ae.hl)()}return!1}function Ar(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Qn(){return(function ln(){return"http:"===Wt()||"https:"===Wt()}()||(0,ae.ru)()||xn())&&!function Qr(){return(0,ae.b$)()||(0,ae.UG)()}()&&hr()&&!Ar()}function Xr(){return xn()&&"undefined"!=typeof document}function Fi(){return(Fi=(0,s.Z)(function*(){return!!Xr()&&new Promise(oe=>{const Y=setTimeout(()=>{oe(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Y),oe(!0)})})})).apply(this,arguments)}const Jt={LOCAL:"local",NONE:"none",SESSION:"session"},Li=R.aw,_t="persistence";function Mt(oe){return on.apply(this,arguments)}function on(){return(on=(0,s.Z)(function*(oe){yield oe._initializationPromise;const Y=Pt(),Z=R.ay(_t,oe.config.apiKey,oe.name);Y&&Y.setItem(Z,oe._getPersistence())})).apply(this,arguments)}function Pt(){var oe;try{return(null===(oe=function Bn(){return"undefined"!=typeof window?window:null}())||void 0===oe?void 0:oe.sessionStorage)||null}catch(Y){return null}}const at=R.aw;class Je{constructor(){this.browserResolver=R.ax(R.k),this.cordovaResolver=R.ax(class qn{constructor(){this._redirectPersistence=R.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=R.aA}_initialize(Y){var Z=this;return(0,s.Z)(function*(){const Te=Y._key();let ze=Z.eventManagers.get(Te);return ze||(ze=new Ce(Y),Z.eventManagers.set(Te,ze),Z.attachCallbackListeners(Y,ze)),ze})()}_openPopup(Y){(0,R.as)(Y,"operation-not-supported-in-this-environment")}_openRedirect(Y,Z,Te,ze){var ct=this;return(0,s.Z)(function*(){!function K(oe){var Y,Z,Te,ze,ct,xt,$t,Ut,Gn,nr;const Ht=ce();(0,R.aw)("function"==typeof(null===(Y=null==Ht?void 0:Ht.universalLinks)||void 0===Y?void 0:Y.subscribe),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,R.aw)(void 0!==(null===(Z=null==Ht?void 0:Ht.BuildInfo)||void 0===Z?void 0:Z.packageName),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,R.aw)("function"==typeof(null===(ct=null===(ze=null===(Te=null==Ht?void 0:Ht.cordova)||void 0===Te?void 0:Te.plugins)||void 0===ze?void 0:ze.browsertab)||void 0===ct?void 0:ct.openUrl),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.aw)("function"==typeof(null===(Ut=null===($t=null===(xt=null==Ht?void 0:Ht.cordova)||void 0===xt?void 0:xt.plugins)||void 0===$t?void 0:$t.browsertab)||void 0===Ut?void 0:Ut.isAvailable),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.aw)("function"==typeof(null===(nr=null===(Gn=null==Ht?void 0:Ht.cordova)||void 0===Gn?void 0:Gn.InAppBrowser)||void 0===nr?void 0:nr.open),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Y);const xt=yield ct._initialize(Y);yield xt.initialized(),xt.resetRedirect(),(0,R.aB)(),yield ct._originValidation(Y);const $t=function we(oe,Y,Z=null){return{type:Y,eventId:Z,urlResponse:null,sessionId:pe(),postBody:null,tenantId:oe.tenantId,error:(0,R.av)(oe,"no-auth-event")}}(Y,Te,ze);yield function Ge(oe,Y){return he()._set(_e(oe),Y)}(Y,$t);const Ut=yield function j(oe,Y,Z){return H.apply(this,arguments)}(Y,$t,Z),Gn=yield function Ae(oe){const{cordova:Y}=ce();return new Promise(Z=>{Y.plugins.browsertab.isAvailable(Te=>{let ze=null;Te?Y.plugins.browsertab.openUrl(oe):ze=Y.InAppBrowser.open(oe,(0,R.ao)()?"_blank":"_system","location=yes"),Z(ze)})})}(Ut);return function Fe(oe,Y,Z){return Ue.apply(this,arguments)}(Y,xt,Gn)})()}_isIframeWebStorageSupported(Y,Z){throw new Error("Method not implemented.")}_originValidation(Y){const Z=Y._key();return this.originValidationPromises[Z]||(this.originValidationPromises[Z]=function te(oe){return Be.apply(this,arguments)}(Y)),this.originValidationPromises[Z]}attachCallbackListeners(Y,Z){const{universalLinks:Te,handleOpenURL:ze,BuildInfo:ct}=ce(),xt=setTimeout((0,s.Z)(function*(){yield ne(Y),Z.onEvent(ot())}),500),$t=function(){var nr=(0,s.Z)(function*(Ht){clearTimeout(xt);const Bi=yield ne(Y);let es=null;Bi&&(null==Ht?void 0:Ht.url)&&(es=function Q(oe,Y){var Z,Te;const ze=function de(oe){const Y=Dt(oe),Z=Y.link?decodeURIComponent(Y.link):void 0,Te=Dt(Z).link,ze=Y.deep_link_id?decodeURIComponent(Y.deep_link_id):void 0;return Dt(ze).link||ze||Te||Z||oe}(Y);if(ze.includes("/__/auth/callback")){const ct=Dt(ze),xt=ct.firebaseError?function Le(oe){try{return JSON.parse(oe)}catch(Y){return null}}(decodeURIComponent(ct.firebaseError)):null,$t=null===(Te=null===(Z=null==xt?void 0:xt.code)||void 0===Z?void 0:Z.split("auth/"))||void 0===Te?void 0:Te[1],Ut=$t?(0,R.av)($t):null;return Ut?{type:oe.type,eventId:oe.eventId,tenantId:oe.tenantId,error:Ut,urlResponse:null,sessionId:null,postBody:null}:{type:oe.type,eventId:oe.eventId,tenantId:oe.tenantId,sessionId:oe.sessionId,urlResponse:ze,postBody:null}}return null}(Bi,Ht.url)),Z.onEvent(es||ot())});return function(Bi){return nr.apply(this,arguments)}}();void 0!==Te&&"function"==typeof Te.subscribe&&Te.subscribe(null,$t);const Ut=ze,Gn=`${ct.packageName.toLowerCase()}://`;ce().handleOpenURL=function(){var nr=(0,s.Z)(function*(Ht){if(Ht.toLowerCase().startsWith(Gn)&&$t({url:Ht}),"function"==typeof Ut)try{Ut(Ht)}catch(Bi){console.error(Bi)}});return function(Ht){return nr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=R.a,this._completeRedirectFn=R.aA}_initialize(Y){var Z=this;return(0,s.Z)(function*(){return yield Z.selectUnderlyingResolver(),Z.assertedUnderlyingResolver._initialize(Y)})()}_openPopup(Y,Z,Te,ze){var ct=this;return(0,s.Z)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openPopup(Y,Z,Te,ze)})()}_openRedirect(Y,Z,Te,ze){var ct=this;return(0,s.Z)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openRedirect(Y,Z,Te,ze)})()}_isIframeWebStorageSupported(Y,Z){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Y,Z)}_originValidation(Y){return this.assertedUnderlyingResolver._originValidation(Y)}get _shouldInitProactively(){return Xr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return at(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Y=this;return(0,s.Z)(function*(){if(Y.underlyingResolver)return;const Z=yield function mt(){return Fi.apply(this,arguments)}();Y.underlyingResolver=Z?Y.cordovaResolver:Y.browserResolver})()}}function to(oe){return oe.unwrap()}function Zt(oe){return Jn(oe)}function Jn(oe){const{_tokenResponse:Y}=oe instanceof ae.ZR?oe.customData:oe;if(!Y)return null;if(!(oe instanceof ae.ZR)&&"temporaryProof"in Y&&"phoneNumber"in Y)return R.P.credentialFromResult(oe);const Z=Y.providerId;if(!Z||Z===R.o.PASSWORD)return null;let Te;switch(Z){case R.o.GOOGLE:Te=R.N;break;case R.o.FACEBOOK:Te=R.M;break;case R.o.GITHUB:Te=R.Q;break;case R.o.TWITTER:Te=R.V;break;default:const{oauthIdToken:ze,oauthAccessToken:ct,oauthTokenSecret:xt,pendingToken:$t,nonce:Ut}=Y;return ct||xt||ze||$t?$t?Z.startsWith("saml.")?R.aJ._create(Z,$t):R.I._fromParams({providerId:Z,signInMethod:Z,pendingToken:$t,idToken:ze,accessToken:ct}):new R.T(Z).credential({idToken:ze,accessToken:ct,rawNonce:Ut}):null}return oe instanceof ae.ZR?Te.credentialFromError(oe):Te.credentialFromResult(oe)}function Dn(oe,Y){return Y.catch(Z=>{throw Z instanceof ae.ZR&&function no(oe,Y){var Z;const Te=null===(Z=Y.customData)||void 0===Z?void 0:Z._tokenResponse;if("auth/multi-factor-auth-required"===Y.code)Y.resolver=new W(oe,R.am(oe,Y));else if(Te){const ze=Jn(Y),ct=Y;ze&&(ct.credential=ze,ct.tenantId=Te.tenantId||void 0,ct.email=Te.email||void 0,ct.phoneNumber=Te.phoneNumber||void 0)}}(oe,Z),Z}).then(Z=>{const ze=Z.user;return{operationType:Z.operationType,credential:Zt(Z),additionalUserInfo:R.ak(Z),user:Ee.getOrCreate(ze)}})}function U(oe,Y){return $.apply(this,arguments)}function $(){return($=(0,s.Z)(function*(oe,Y){const Z=yield Y;return{verificationId:Z.verificationId,confirm:Te=>Dn(oe,Z.confirm(Te))}})).apply(this,arguments)}class W{constructor(Y,Z){this.resolver=Z,this.auth=function bs(oe){return oe.wrapped()}(Y)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Y){return Dn(to(this.auth),this.resolver.resolveSignIn(Y))}}class Ee{constructor(Y){this._delegate=Y,this.multiFactor=R.an(Y)}static getOrCreate(Y){return Ee.USER_MAP.has(Y)||Ee.USER_MAP.set(Y,new Ee(Y)),Ee.USER_MAP.get(Y)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Y){return this._delegate.getIdTokenResult(Y)}getIdToken(Y){return this._delegate.getIdToken(Y)}linkAndRetrieveDataWithCredential(Y){return this.linkWithCredential(Y)}linkWithCredential(Y){var Z=this;return(0,s.Z)(function*(){return Dn(Z.auth,R.Y(Z._delegate,Y))})()}linkWithPhoneNumber(Y,Z){var Te=this;return(0,s.Z)(function*(){return U(Te.auth,R.l(Te._delegate,Y,Z))})()}linkWithPopup(Y){var Z=this;return(0,s.Z)(function*(){return Dn(Z.auth,R.d(Z._delegate,Y,Je))})()}linkWithRedirect(Y){var Z=this;return(0,s.Z)(function*(){return yield Mt(R.aC(Z.auth)),R.g(Z._delegate,Y,Je)})()}reauthenticateAndRetrieveDataWithCredential(Y){return this.reauthenticateWithCredential(Y)}reauthenticateWithCredential(Y){var Z=this;return(0,s.Z)(function*(){return Dn(Z.auth,R.Z(Z._delegate,Y))})()}reauthenticateWithPhoneNumber(Y,Z){return U(this.auth,R.r(this._delegate,Y,Z))}reauthenticateWithPopup(Y){return Dn(this.auth,R.e(this._delegate,Y,Je))}reauthenticateWithRedirect(Y){var Z=this;return(0,s.Z)(function*(){return yield Mt(R.aC(Z.auth)),R.h(Z._delegate,Y,Je)})()}sendEmailVerification(Y){return R.aa(this._delegate,Y)}unlink(Y){var Z=this;return(0,s.Z)(function*(){return yield R.aj(Z._delegate,Y),Z})()}updateEmail(Y){return R.af(this._delegate,Y)}updatePassword(Y){return R.ag(this._delegate,Y)}updatePhoneNumber(Y){return R.u(this._delegate,Y)}updateProfile(Y){return R.ae(this._delegate,Y)}verifyBeforeUpdateEmail(Y,Z){return R.ab(this._delegate,Y,Z)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ee.USER_MAP=new WeakMap;const ie=R.aw;let Ze=(()=>{class oe{constructor(Z,Te){if(this.app=Z,Te.isInitialized())return this._delegate=Te.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ze}=Z.options;ie(ze,"invalid-api-key",{appName:Z.name}),ie(ze,"invalid-api-key",{appName:Z.name});const ct="undefined"!=typeof window?Je:void 0;this._delegate=Te.initialize({options:{persistence:Xt(ze,Z.name),popupRedirectResolver:ct}}),this._delegate._updateErrorMap(R.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ee.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Z){this._delegate.languageCode=Z}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Z){this._delegate.tenantId=Z}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Z,Te){R.E(this._delegate,Z,Te)}applyActionCode(Z){return R.a1(this._delegate,Z)}checkActionCode(Z){return R.a2(this._delegate,Z)}confirmPasswordReset(Z,Te){return R.a0(this._delegate,Z,Te)}createUserWithEmailAndPassword(Z,Te){var ze=this;return(0,s.Z)(function*(){return Dn(ze._delegate,R.a4(ze._delegate,Z,Te))})()}fetchProvidersForEmail(Z){return this.fetchSignInMethodsForEmail(Z)}fetchSignInMethodsForEmail(Z){return R.a9(this._delegate,Z)}isSignInWithEmailLink(Z){return R.a7(this._delegate,Z)}getRedirectResult(){var Z=this;return(0,s.Z)(function*(){ie(Qn(),Z._delegate,"operation-not-supported-in-this-environment");const Te=yield R.j(Z._delegate,Je);return Te?Dn(Z._delegate,Promise.resolve(Te)):{credential:null,user:null}})()}addFrameworkForLogging(Z){!function ai(oe,Y){(0,R.aC)(oe)._logFramework(Y)}(this._delegate,Z)}onAuthStateChanged(Z,Te,ze){const{next:ct,error:xt,complete:$t}=gt(Z,Te,ze);return this._delegate.onAuthStateChanged(ct,xt,$t)}onIdTokenChanged(Z,Te,ze){const{next:ct,error:xt,complete:$t}=gt(Z,Te,ze);return this._delegate.onIdTokenChanged(ct,xt,$t)}sendSignInLinkToEmail(Z,Te){return R.a6(this._delegate,Z,Te)}sendPasswordResetEmail(Z,Te){return R.$(this._delegate,Z,Te||void 0)}setPersistence(Z){var Te=this;return(0,s.Z)(function*(){let ze;switch(function ht(oe,Y){Li(Object.values(Jt).includes(Y),oe,"invalid-persistence-type"),(0,ae.b$)()?Li(Y!==Jt.SESSION,oe,"unsupported-persistence-type"):(0,ae.UG)()?Li(Y===Jt.NONE,oe,"unsupported-persistence-type"):Ar()?Li(Y===Jt.NONE||Y===Jt.LOCAL&&(0,ae.hl)(),oe,"unsupported-persistence-type"):Li(Y===Jt.NONE||hr(),oe,"unsupported-persistence-type")}(Te._delegate,Z),Z){case Jt.SESSION:ze=R.a;break;case Jt.LOCAL:ze=(yield R.ax(R.i)._isAvailable())?R.i:R.b;break;case Jt.NONE:ze=R.K;break;default:return R.as("argument-error",{appName:Te._delegate.name})}return Te._delegate.setPersistence(ze)})()}signInAndRetrieveDataWithCredential(Z){return this.signInWithCredential(Z)}signInAnonymously(){return Dn(this._delegate,R.W(this._delegate))}signInWithCredential(Z){return Dn(this._delegate,R.X(this._delegate,Z))}signInWithCustomToken(Z){return Dn(this._delegate,R._(this._delegate,Z))}signInWithEmailAndPassword(Z,Te){return Dn(this._delegate,R.a5(this._delegate,Z,Te))}signInWithEmailLink(Z,Te){return Dn(this._delegate,R.a8(this._delegate,Z,Te))}signInWithPhoneNumber(Z,Te){return U(this._delegate,R.s(this._delegate,Z,Te))}signInWithPopup(Z){var Te=this;return(0,s.Z)(function*(){return ie(Qn(),Te._delegate,"operation-not-supported-in-this-environment"),Dn(Te._delegate,R.c(Te._delegate,Z,Je))})()}signInWithRedirect(Z){var Te=this;return(0,s.Z)(function*(){return ie(Qn(),Te._delegate,"operation-not-supported-in-this-environment"),yield Mt(Te._delegate),R.f(Te._delegate,Z,Je)})()}updateCurrentUser(Z){return this._delegate.updateCurrentUser(Z)}verifyPasswordResetCode(Z){return R.a3(this._delegate,Z)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return oe.Persistence=Jt,oe})();function gt(oe,Y,Z){let Te=oe;"function"!=typeof oe&&({next:Te,error:Y,complete:Z}=oe);const ze=Te;return{next:xt=>ze(xt&&Ee.getOrCreate(xt)),error:Y,complete:Z}}function Xt(oe,Y){const Z=function yi(oe,Y){const Z=Pt();if(!Z)return[];const Te=R.ay(_t,oe,Y);switch(Z.getItem(Te)){case Jt.NONE:return[R.K];case Jt.LOCAL:return[R.i,R.a];case Jt.SESSION:return[R.a];default:return[]}}(oe,Y);if("undefined"!=typeof self&&!Z.includes(R.i)&&Z.push(R.i),"undefined"!=typeof window)for(const Te of[R.b,R.a])Z.includes(Te)||Z.push(Te);return Z.includes(R.K)||Z.push(R.K),Z}class pn{constructor(){this.providerId="phone",this._delegate=new R.P(to(V.Z.auth()))}static credential(Y,Z){return R.P.credential(Y,Z)}verifyPhoneNumber(Y,Z){return this._delegate.verifyPhoneNumber(Y,Z)}unwrap(){return this._delegate}}pn.PHONE_SIGN_IN_METHOD=R.P.PHONE_SIGN_IN_METHOD,pn.PROVIDER_ID=R.P.PROVIDER_ID;const Xn=R.aw;class li{constructor(Y,Z,Te=V.Z.app()){var ze;Xn(null===(ze=Te.options)||void 0===ze?void 0:ze.apiKey,"invalid-api-key",{appName:Te.name}),this._delegate=new R.R(Y,Z,Te.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ei(oe){oe.INTERNAL.registerComponent(new X.wA("auth-compat",Y=>{const Z=Y.getProvider("app-compat").getImmediate(),Te=Y.getProvider("auth");return new Ze(Z,Te)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:R.A.EMAIL_SIGNIN,PASSWORD_RESET:R.A.PASSWORD_RESET,RECOVER_EMAIL:R.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:R.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:R.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:R.A.VERIFY_EMAIL}},EmailAuthProvider:R.L,FacebookAuthProvider:R.M,GithubAuthProvider:R.Q,GoogleAuthProvider:R.N,OAuthProvider:R.T,SAMLAuthProvider:R.U,PhoneAuthProvider:pn,PhoneMultiFactorGenerator:R.m,RecaptchaVerifier:li,TwitterAuthProvider:R.V,Auth:Ze,AuthCredential:R.G,Error:ae.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),oe.registerVersion("@firebase/auth-compat","0.2.8")}(V.Z)},2940:function(dt,Se){!function(O){"use strict";function s(K){return Array.prototype.slice.call(K)}function V(K){return new Promise(function(ue,xe){K.onsuccess=function(){ue(K.result)},K.onerror=function(){xe(K.error)}})}function R(K,ue,xe){var Re,fe=new Promise(function(Ce,we){V(Re=K[ue].apply(K,xe)).then(Ce,we)});return fe.request=Re,fe}function ae(K,ue,xe){var Re=R(K,ue,xe);return Re.then(function(fe){if(fe)return new j(fe,Re.request)})}function se(K,ue,xe){xe.forEach(function(Re){Object.defineProperty(K.prototype,Re,{get:function(){return this[ue][Re]},set:function(fe){this[ue][Re]=fe}})})}function ge(K,ue,xe,Re){Re.forEach(function(fe){fe in xe.prototype&&(K.prototype[fe]=function(){return R(this[ue],fe,arguments)})})}function X(K,ue,xe,Re){Re.forEach(function(fe){fe in xe.prototype&&(K.prototype[fe]=function(){return this[ue][fe].apply(this[ue],arguments)})})}function ce(K,ue,xe,Re){Re.forEach(function(fe){fe in xe.prototype&&(K.prototype[fe]=function(){return ae(this[ue],fe,arguments)})})}function me(K){this._index=K}function j(K,ue){this._cursor=K,this._request=ue}function H(K){this._store=K}function te(K){this._tx=K,this.complete=new Promise(function(ue,xe){K.oncomplete=function(){ue()},K.onerror=function(){xe(K.error)},K.onabort=function(){xe(K.error)}})}function Be(K,ue,xe){this._db=K,this.oldVersion=ue,this.transaction=new te(xe)}function Ae(K){this._db=K}se(me,"_index",["name","keyPath","multiEntry","unique"]),ge(me,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ce(me,"_index",IDBIndex,["openCursor","openKeyCursor"]),se(j,"_cursor",["direction","key","primaryKey","value"]),ge(j,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(K){K in IDBCursor.prototype&&(j.prototype[K]=function(){var ue=this,xe=arguments;return Promise.resolve().then(function(){return ue._cursor[K].apply(ue._cursor,xe),V(ue._request).then(function(Re){if(Re)return new j(Re,ue._request)})})})}),H.prototype.createIndex=function(){return new me(this._store.createIndex.apply(this._store,arguments))},H.prototype.index=function(){return new me(this._store.index.apply(this._store,arguments))},se(H,"_store",["name","keyPath","indexNames","autoIncrement"]),ge(H,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ce(H,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),X(H,"_store",IDBObjectStore,["deleteIndex"]),te.prototype.objectStore=function(){return new H(this._tx.objectStore.apply(this._tx,arguments))},se(te,"_tx",["objectStoreNames","mode"]),X(te,"_tx",IDBTransaction,["abort"]),Be.prototype.createObjectStore=function(){return new H(this._db.createObjectStore.apply(this._db,arguments))},se(Be,"_db",["name","version","objectStoreNames"]),X(Be,"_db",IDBDatabase,["deleteObjectStore","close"]),Ae.prototype.transaction=function(){return new te(this._db.transaction.apply(this._db,arguments))},se(Ae,"_db",["name","version","objectStoreNames"]),X(Ae,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(K){[H,me].forEach(function(ue){K in ue.prototype&&(ue.prototype[K.replace("open","iterate")]=function(){var xe=s(arguments),Re=xe[xe.length-1],fe=this._store||this._index,Ce=fe[K].apply(fe,xe.slice(0,-1));Ce.onsuccess=function(){Re(Ce.result)}})})}),[me,H].forEach(function(K){K.prototype.getAll||(K.prototype.getAll=function(ue,xe){var Re=this,fe=[];return new Promise(function(Ce){Re.iterateCursor(ue,function(we){we?(fe.push(we.value),void 0===xe||fe.length!=xe?we.continue():Ce(fe)):Ce(fe)})})})}),O.openDb=function Fe(K,ue,xe){var Re=R(indexedDB,"open",[K,ue]),fe=Re.request;return fe&&(fe.onupgradeneeded=function(Ce){xe&&xe(new Be(fe.result,Ce.oldVersion,fe.transaction))}),Re.then(function(Ce){return new Ae(Ce)})},O.deleteDb=function Ue(K){return R(indexedDB,"deleteDatabase",[K])},Object.defineProperty(O,"__esModule",{value:!0})}(Se)},8306:(dt,Se,O)=>{"use strict";O.d(Se,{y:()=>j});var s=O(930),V=O(727),R=O(8822),ae=O(4671);var X=O(2416),ce=O(576),me=O(2806);let j=(()=>{class Ae{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const K=new Ae;return K.source=this,K.operator=Ue,K}subscribe(Ue,K,ue){const xe=function Be(Ae){return Ae&&Ae instanceof s.Lv||function te(Ae){return Ae&&(0,ce.m)(Ae.next)&&(0,ce.m)(Ae.error)&&(0,ce.m)(Ae.complete)}(Ae)&&(0,V.Nn)(Ae)}(Ue)?Ue:new s.Hp(Ue,K,ue);return(0,me.x)(()=>{const{operator:Re,source:fe}=this;xe.add(Re?Re.call(xe,fe):fe?this._subscribe(xe):this._trySubscribe(xe))}),xe}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(K){Ue.error(K)}}forEach(Ue,K){return new(K=H(K))((ue,xe)=>{const Re=new s.Hp({next:fe=>{try{Ue(fe)}catch(Ce){xe(Ce),Re.unsubscribe()}},error:xe,complete:ue});this.subscribe(Re)})}_subscribe(Ue){var K;return null===(K=this.source)||void 0===K?void 0:K.subscribe(Ue)}[R.L](){return this}pipe(...Ue){return function ge(Ae){return 0===Ae.length?ae.y:1===Ae.length?Ae[0]:function(Ue){return Ae.reduce((K,ue)=>ue(K),Ue)}}(Ue)(this)}toPromise(Ue){return new(Ue=H(Ue))((K,ue)=>{let xe;this.subscribe(Re=>xe=Re,Re=>ue(Re),()=>K(xe))})}}return Ae.create=Fe=>new Ae(Fe),Ae})();function H(Ae){var Fe;return null!==(Fe=null!=Ae?Ae:X.v.Promise)&&void 0!==Fe?Fe:Promise}},7579:(dt,Se,O)=>{"use strict";O.d(Se,{x:()=>X});var s=O(8306),V=O(727);const ae=(0,O(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=O(8737),ge=O(2806);let X=(()=>{class me extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const te=new ce(this,this);return te.operator=H,te}_throwIfClosed(){if(this.closed)throw new ae}next(H){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(H)}})}error(H){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:te}=this;for(;te.length;)te.shift().error(H)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:te,isStopped:Be,observers:Ae}=this;return te||Be?V.Lc:(this.currentObservers=null,Ae.push(H),new V.w0(()=>{this.currentObservers=null,(0,se.P)(Ae,H)}))}_checkFinalizedStatuses(H){const{hasError:te,thrownError:Be,isStopped:Ae}=this;te?H.error(Be):Ae&&H.complete()}asObservable(){const H=new s.y;return H.source=this,H}}return me.create=(j,H)=>new ce(j,H),me})();class ce extends X{constructor(j,H){super(),this.destination=j,this.source=H}next(j){var H,te;null===(te=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===te||te.call(H,j)}error(j){var H,te;null===(te=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===te||te.call(H,j)}complete(){var j,H;null===(H=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===H||H.call(j)}_subscribe(j){var H,te;return null!==(te=null===(H=this.source)||void 0===H?void 0:H.subscribe(j))&&void 0!==te?te:V.Lc}}},930:(dt,Se,O)=>{"use strict";O.d(Se,{Hp:()=>Ue,Lv:()=>te});var s=O(576),V=O(727),R=O(2416),ae=O(7849),se=O(5032);const ge=me("C",void 0,void 0);function me(fe,Ce,we){return{kind:fe,value:Ce,error:we}}var j=O(3410),H=O(2806);class te extends V.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,V.Nn)(Ce)&&Ce.add(this)):this.destination=Re}static create(Ce,we,Ge){return new Ue(Ce,we,Ge)}next(Ce){this.isStopped?xe(function ce(fe){return me("N",fe,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?xe(function X(fe){return me("E",void 0,fe)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?xe(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Be=Function.prototype.bind;function Ae(fe,Ce){return Be.call(fe,Ce)}class Fe{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:we}=this;if(we.next)try{we.next(Ce)}catch(Ge){K(Ge)}}error(Ce){const{partialObserver:we}=this;if(we.error)try{we.error(Ce)}catch(Ge){K(Ge)}else K(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(we){K(we)}}}class Ue extends te{constructor(Ce,we,Ge){let ne;if(super(),(0,s.m)(Ce)||!Ce)ne={next:null!=Ce?Ce:void 0,error:null!=we?we:void 0,complete:null!=Ge?Ge:void 0};else{let nt;this&&R.v.useDeprecatedNextContext?(nt=Object.create(Ce),nt.unsubscribe=()=>this.unsubscribe(),ne={next:Ce.next&&Ae(Ce.next,nt),error:Ce.error&&Ae(Ce.error,nt),complete:Ce.complete&&Ae(Ce.complete,nt)}):ne=Ce}this.destination=new Fe(ne)}}function K(fe){R.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(fe):(0,ae.h)(fe)}function xe(fe,Ce){const{onStoppedNotification:we}=R.v;we&&j.z.setTimeout(()=>we(fe,Ce))}const Re={closed:!0,next:se.Z,error:function ue(fe){throw fe},complete:se.Z}},727:(dt,Se,O)=>{"use strict";O.d(Se,{Lc:()=>ge,w0:()=>se,Nn:()=>X});var s=O(576);const R=(0,O(3888).d)(me=>function(H){me(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((te,Be)=>`${Be+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var ae=O(8737);class se{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Ae of H)Ae.remove(this);else H.remove(this);const{initialTeardown:te}=this;if((0,s.m)(te))try{te()}catch(Ae){j=Ae instanceof R?Ae.errors:[Ae]}const{_finalizers:Be}=this;if(Be){this._finalizers=null;for(const Ae of Be)try{ce(Ae)}catch(Fe){j=null!=j?j:[],Fe instanceof R?j=[...j,...Fe.errors]:j.push(Fe)}}if(j)throw new R(j)}}add(j){var H;if(j&&j!==this)if(this.closed)ce(j);else{if(j instanceof se){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(j)}}_hasParent(j){const{_parentage:H}=this;return H===j||Array.isArray(H)&&H.includes(j)}_addParent(j){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(j),H):H?[H,j]:j}_removeParent(j){const{_parentage:H}=this;H===j?this._parentage=null:Array.isArray(H)&&(0,ae.P)(H,j)}remove(j){const{_finalizers:H}=this;H&&(0,ae.P)(H,j),j instanceof se&&j._removeParent(this)}}se.EMPTY=(()=>{const me=new se;return me.closed=!0,me})();const ge=se.EMPTY;function X(me){return me instanceof se||me&&"closed"in me&&(0,s.m)(me.remove)&&(0,s.m)(me.add)&&(0,s.m)(me.unsubscribe)}function ce(me){(0,s.m)(me)?me():me.unsubscribe()}},2416:(dt,Se,O)=>{"use strict";O.d(Se,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(dt,Se,O)=>{"use strict";O.d(Se,{E:()=>V});const V=new(O(8306).y)(se=>se.complete())},8996:(dt,Se,O)=>{"use strict";O.d(Se,{D:()=>Ce});var s=O(8421),V=O(5363),R=O(9468),ge=O(8306),ce=O(2202),me=O(576),j=O(9672);function te(we,Ge){if(!we)throw new Error("Iterable cannot be null");return new ge.y(ne=>{(0,j.f)(ne,Ge,()=>{const nt=we[Symbol.asyncIterator]();(0,j.f)(ne,Ge,()=>{nt.next().then(Q=>{Q.done?ne.complete():ne.next(Q.value)})},0,!0)})})}var Be=O(3670),Ae=O(8239),Fe=O(1144),Ue=O(6495),K=O(2206),ue=O(4532),xe=O(3260);function Ce(we,Ge){return Ge?function fe(we,Ge){if(null!=we){if((0,Be.c)(we))return function ae(we,Ge){return(0,s.Xf)(we).pipe((0,R.R)(Ge),(0,V.Q)(Ge))}(we,Ge);if((0,Fe.z)(we))return function X(we,Ge){return new ge.y(ne=>{let nt=0;return Ge.schedule(function(){nt===we.length?ne.complete():(ne.next(we[nt++]),ne.closed||this.schedule())})})}(we,Ge);if((0,Ae.t)(we))return function se(we,Ge){return(0,s.Xf)(we).pipe((0,R.R)(Ge),(0,V.Q)(Ge))}(we,Ge);if((0,K.D)(we))return te(we,Ge);if((0,Ue.T)(we))return function H(we,Ge){return new ge.y(ne=>{let nt;return(0,j.f)(ne,Ge,()=>{nt=we[ce.h](),(0,j.f)(ne,Ge,()=>{let Q,pe;try{({value:Q,done:pe}=nt.next())}catch(he){return void ne.error(he)}pe?ne.complete():ne.next(Q)},0,!0)}),()=>(0,me.m)(null==nt?void 0:nt.return)&&nt.return()})}(we,Ge);if((0,xe.L)(we))return function Re(we,Ge){return te((0,xe.Q)(we),Ge)}(we,Ge)}throw(0,ue.z)(we)}(we,Ge):(0,s.Xf)(we)}},8421:(dt,Se,O)=>{"use strict";O.d(Se,{Xf:()=>Be});var s=O(655),V=O(1144),R=O(8239),ae=O(8306),se=O(3670),ge=O(2206),X=O(4532),ce=O(6495),me=O(3260),j=O(576),H=O(7849),te=O(8822);function Be(fe){if(fe instanceof ae.y)return fe;if(null!=fe){if((0,se.c)(fe))return function Ae(fe){return new ae.y(Ce=>{const we=fe[te.L]();if((0,j.m)(we.subscribe))return we.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(fe);if((0,V.z)(fe))return function Fe(fe){return new ae.y(Ce=>{for(let we=0;we<fe.length&&!Ce.closed;we++)Ce.next(fe[we]);Ce.complete()})}(fe);if((0,R.t)(fe))return function Ue(fe){return new ae.y(Ce=>{fe.then(we=>{Ce.closed||(Ce.next(we),Ce.complete())},we=>Ce.error(we)).then(null,H.h)})}(fe);if((0,ge.D)(fe))return ue(fe);if((0,ce.T)(fe))return function K(fe){return new ae.y(Ce=>{for(const we of fe)if(Ce.next(we),Ce.closed)return;Ce.complete()})}(fe);if((0,me.L)(fe))return function xe(fe){return ue((0,me.Q)(fe))}(fe)}throw(0,X.z)(fe)}function ue(fe){return new ae.y(Ce=>{(function Re(fe,Ce){var we,Ge,ne,nt;return(0,s.mG)(this,void 0,void 0,function*(){try{for(we=(0,s.KL)(fe);!(Ge=yield we.next()).done;)if(Ce.next(Ge.value),Ce.closed)return}catch(Q){ne={error:Q}}finally{try{Ge&&!Ge.done&&(nt=we.return)&&(yield nt.call(we))}finally{if(ne)throw ne.error}}Ce.complete()})})(fe,Ce).catch(we=>Ce.error(we))})}},6451:(dt,Se,O)=>{"use strict";O.d(Se,{T:()=>ge});var s=O(8189),V=O(8421),R=O(515),ae=O(3269),se=O(8996);function ge(...X){const ce=(0,ae.yG)(X),me=(0,ae._6)(X,1/0),j=X;return j.length?1===j.length?(0,V.Xf)(j[0]):(0,s.J)(me)((0,se.D)(j,ce)):R.E}},5403:(dt,Se,O)=>{"use strict";O.d(Se,{x:()=>V});var s=O(930);function V(ae,se,ge,X,ce){return new R(ae,se,ge,X,ce)}class R extends s.Lv{constructor(se,ge,X,ce,me,j){super(se),this.onFinalize=me,this.shouldUnsubscribe=j,this._next=ge?function(H){try{ge(H)}catch(te){se.error(te)}}:super._next,this._error=ce?function(H){try{ce(H)}catch(te){se.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=X?function(){try{X()}catch(H){se.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(dt,Se,O)=>{"use strict";O.d(Se,{U:()=>R});var s=O(4482),V=O(5403);function R(ae,se){return(0,s.e)((ge,X)=>{let ce=0;ge.subscribe((0,V.x)(X,me=>{X.next(ae.call(se,me,ce++))}))})}},8189:(dt,Se,O)=>{"use strict";O.d(Se,{J:()=>R});var s=O(5577),V=O(4671);function R(ae=1/0){return(0,s.z)(V.y,ae)}},5577:(dt,Se,O)=>{"use strict";O.d(Se,{z:()=>ce});var s=O(4004),V=O(8421),R=O(4482),ae=O(9672),se=O(5403),X=O(576);function ce(me,j,H=1/0){return(0,X.m)(j)?ce((te,Be)=>(0,s.U)((Ae,Fe)=>j(te,Ae,Be,Fe))((0,V.Xf)(me(te,Be))),H):("number"==typeof j&&(H=j),(0,R.e)((te,Be)=>function ge(me,j,H,te,Be,Ae,Fe,Ue){const K=[];let ue=0,xe=0,Re=!1;const fe=()=>{Re&&!K.length&&!ue&&j.complete()},Ce=Ge=>ue<te?we(Ge):K.push(Ge),we=Ge=>{Ae&&j.next(Ge),ue++;let ne=!1;(0,V.Xf)(H(Ge,xe++)).subscribe((0,se.x)(j,nt=>{null==Be||Be(nt),Ae?Ce(nt):j.next(nt)},()=>{ne=!0},void 0,()=>{if(ne)try{for(ue--;K.length&&ue<te;){const nt=K.shift();Fe?(0,ae.f)(j,Fe,()=>we(nt)):we(nt)}fe()}catch(nt){j.error(nt)}}))};return me.subscribe((0,se.x)(j,Ce,()=>{Re=!0,fe()})),()=>{null==Ue||Ue()}}(te,Be,me,H)))}},5363:(dt,Se,O)=>{"use strict";O.d(Se,{Q:()=>ae});var s=O(9672),V=O(4482),R=O(5403);function ae(se,ge=0){return(0,V.e)((X,ce)=>{X.subscribe((0,R.x)(ce,me=>(0,s.f)(ce,se,()=>ce.next(me),ge),()=>(0,s.f)(ce,se,()=>ce.complete(),ge),me=>(0,s.f)(ce,se,()=>ce.error(me),ge)))})}},3099:(dt,Se,O)=>{"use strict";O.d(Se,{B:()=>se});var s=O(8421),V=O(7579),R=O(930),ae=O(4482);function se(X={}){const{connector:ce=(()=>new V.x),resetOnError:me=!0,resetOnComplete:j=!0,resetOnRefCountZero:H=!0}=X;return te=>{let Be,Ae,Fe,Ue=0,K=!1,ue=!1;const xe=()=>{null==Ae||Ae.unsubscribe(),Ae=void 0},Re=()=>{xe(),Be=Fe=void 0,K=ue=!1},fe=()=>{const Ce=Be;Re(),null==Ce||Ce.unsubscribe()};return(0,ae.e)((Ce,we)=>{Ue++,!ue&&!K&&xe();const Ge=Fe=null!=Fe?Fe:ce();we.add(()=>{Ue--,0===Ue&&!ue&&!K&&(Ae=ge(fe,H))}),Ge.subscribe(we),!Be&&Ue>0&&(Be=new R.Hp({next:ne=>Ge.next(ne),error:ne=>{ue=!0,xe(),Ae=ge(Re,me,ne),Ge.error(ne)},complete:()=>{K=!0,xe(),Ae=ge(Re,j),Ge.complete()}}),(0,s.Xf)(Ce).subscribe(Be))})(te)}}function ge(X,ce,...me){if(!0===ce)return void X();if(!1===ce)return;const j=new R.Hp({next:()=>{j.unsubscribe(),X()}});return ce(...me).subscribe(j)}},9468:(dt,Se,O)=>{"use strict";O.d(Se,{R:()=>V});var s=O(4482);function V(R,ae=0){return(0,s.e)((se,ge)=>{ge.add(R.schedule(()=>se.subscribe(ge),ae))})}},8505:(dt,Se,O)=>{"use strict";O.d(Se,{b:()=>se});var s=O(576),V=O(4482),R=O(5403),ae=O(4671);function se(ge,X,ce){const me=(0,s.m)(ge)||X||ce?{next:ge,error:X,complete:ce}:ge;return me?(0,V.e)((j,H)=>{var te;null===(te=me.subscribe)||void 0===te||te.call(me);let Be=!0;j.subscribe((0,R.x)(H,Ae=>{var Fe;null===(Fe=me.next)||void 0===Fe||Fe.call(me,Ae),H.next(Ae)},()=>{var Ae;Be=!1,null===(Ae=me.complete)||void 0===Ae||Ae.call(me),H.complete()},Ae=>{var Fe;Be=!1,null===(Fe=me.error)||void 0===Fe||Fe.call(me,Ae),H.error(Ae)},()=>{var Ae,Fe;Be&&(null===(Ae=me.unsubscribe)||void 0===Ae||Ae.call(me)),null===(Fe=me.finalize)||void 0===Fe||Fe.call(me)}))}):ae.y}},4408:(dt,Se,O)=>{"use strict";O.d(Se,{o:()=>se});var s=O(727);class V extends s.w0{constructor(X,ce){super()}schedule(X,ce=0){return this}}const R={setInterval(ge,X,...ce){const{delegate:me}=R;return(null==me?void 0:me.setInterval)?me.setInterval(ge,X,...ce):setInterval(ge,X,...ce)},clearInterval(ge){const{delegate:X}=R;return((null==X?void 0:X.clearInterval)||clearInterval)(ge)},delegate:void 0};var ae=O(8737);class se extends V{constructor(X,ce){super(X,ce),this.scheduler=X,this.work=ce,this.pending=!1}schedule(X,ce=0){if(this.closed)return this;this.state=X;const me=this.id,j=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId(j,me,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(j,this.id,ce),this}requestAsyncId(X,ce,me=0){return R.setInterval(X.flush.bind(X,this),me)}recycleAsyncId(X,ce,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return ce;R.clearInterval(ce)}execute(X,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(X,ce);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(X,ce){let j,me=!1;try{this.work(X)}catch(H){me=!0,j=H||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:X,scheduler:ce}=this,{actions:me}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(me,this),null!=X&&(this.id=this.recycleAsyncId(ce,X,null)),this.delay=null,super.unsubscribe()}}}},7565:(dt,Se,O)=>{"use strict";O.d(Se,{v:()=>R});var s=O(6063);class V{constructor(se,ge=V.now){this.schedulerActionCtor=se,this.now=ge}schedule(se,ge=0,X){return new this.schedulerActionCtor(this,se).schedule(X,ge)}}V.now=s.l.now;class R extends V{constructor(se,ge=V.now){super(se,ge),this.actions=[],this._active=!1,this._scheduled=void 0}flush(se){const{actions:ge}=this;if(this._active)return void ge.push(se);let X;this._active=!0;do{if(X=se.execute(se.state,se.delay))break}while(se=ge.shift());if(this._active=!1,X){for(;se=ge.shift();)se.unsubscribe();throw X}}}},4986:(dt,Se,O)=>{"use strict";O.d(Se,{P:()=>ae,z:()=>R});var s=O(4408);const R=new(O(7565).v)(s.o),ae=R},6063:(dt,Se,O)=>{"use strict";O.d(Se,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(dt,Se,O)=>{"use strict";O.d(Se,{z:()=>s});const s={setTimeout(V,R,...ae){const{delegate:se}=s;return(null==se?void 0:se.setTimeout)?se.setTimeout(V,R,...ae):setTimeout(V,R,...ae)},clearTimeout(V){const{delegate:R}=s;return((null==R?void 0:R.clearTimeout)||clearTimeout)(V)},delegate:void 0}},2202:(dt,Se,O)=>{"use strict";O.d(Se,{h:()=>V});const V=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(dt,Se,O)=>{"use strict";O.d(Se,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(dt,Se,O)=>{"use strict";O.d(Se,{_6:()=>ge,jO:()=>ae,yG:()=>se});var s=O(576),V=O(3532);function R(X){return X[X.length-1]}function ae(X){return(0,s.m)(R(X))?X.pop():void 0}function se(X){return(0,V.K)(R(X))?X.pop():void 0}function ge(X,ce){return"number"==typeof R(X)?X.pop():ce}},8737:(dt,Se,O)=>{"use strict";function s(V,R){if(V){const ae=V.indexOf(R);0<=ae&&V.splice(ae,1)}}O.d(Se,{P:()=>s})},3888:(dt,Se,O)=>{"use strict";function s(V){const ae=V(se=>{Error.call(se),se.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}O.d(Se,{d:()=>s})},2806:(dt,Se,O)=>{"use strict";O.d(Se,{O:()=>ae,x:()=>R});var s=O(2416);let V=null;function R(se){if(s.v.useDeprecatedSynchronousErrorHandling){const ge=!V;if(ge&&(V={errorThrown:!1,error:null}),se(),ge){const{errorThrown:X,error:ce}=V;if(V=null,X)throw ce}}else se()}function ae(se){s.v.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=se)}},9672:(dt,Se,O)=>{"use strict";function s(V,R,ae,se=0,ge=!1){const X=R.schedule(function(){ae(),ge?V.add(this.schedule(null,se)):this.unsubscribe()},se);if(V.add(X),!ge)return X}O.d(Se,{f:()=>s})},4671:(dt,Se,O)=>{"use strict";function s(V){return V}O.d(Se,{y:()=>s})},1144:(dt,Se,O)=>{"use strict";O.d(Se,{z:()=>s});const s=V=>V&&"number"==typeof V.length&&"function"!=typeof V},2206:(dt,Se,O)=>{"use strict";O.d(Se,{D:()=>V});var s=O(576);function V(R){return Symbol.asyncIterator&&(0,s.m)(null==R?void 0:R[Symbol.asyncIterator])}},576:(dt,Se,O)=>{"use strict";function s(V){return"function"==typeof V}O.d(Se,{m:()=>s})},3670:(dt,Se,O)=>{"use strict";O.d(Se,{c:()=>R});var s=O(8822),V=O(576);function R(ae){return(0,V.m)(ae[s.L])}},6495:(dt,Se,O)=>{"use strict";O.d(Se,{T:()=>R});var s=O(2202),V=O(576);function R(ae){return(0,V.m)(null==ae?void 0:ae[s.h])}},8239:(dt,Se,O)=>{"use strict";O.d(Se,{t:()=>V});var s=O(576);function V(R){return(0,s.m)(null==R?void 0:R.then)}},3260:(dt,Se,O)=>{"use strict";O.d(Se,{L:()=>ae,Q:()=>R});var s=O(655),V=O(576);function R(se){return(0,s.FC)(this,arguments,function*(){const X=se.getReader();try{for(;;){const{value:ce,done:me}=yield(0,s.qq)(X.read());if(me)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(ce)}}finally{X.releaseLock()}})}function ae(se){return(0,V.m)(null==se?void 0:se.getReader)}},3532:(dt,Se,O)=>{"use strict";O.d(Se,{K:()=>V});var s=O(576);function V(R){return R&&(0,s.m)(R.schedule)}},4482:(dt,Se,O)=>{"use strict";O.d(Se,{A:()=>V,e:()=>R});var s=O(576);function V(ae){return(0,s.m)(null==ae?void 0:ae.lift)}function R(ae){return se=>{if(V(se))return se.lift(function(ge){try{return ae(ge,this)}catch(X){this.error(X)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(dt,Se,O)=>{"use strict";function s(){}O.d(Se,{Z:()=>s})},7849:(dt,Se,O)=>{"use strict";O.d(Se,{h:()=>R});var s=O(2416),V=O(3410);function R(ae){V.z.setTimeout(()=>{const{onUnhandledError:se}=s.v;if(!se)throw ae;se(ae)})}},4532:(dt,Se,O)=>{"use strict";function s(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Se,{z:()=>s})},655:(dt,Se,O)=>{"use strict";function ae(Q,pe){var he={};for(var _e in Q)Object.prototype.hasOwnProperty.call(Q,_e)&&pe.indexOf(_e)<0&&(he[_e]=Q[_e]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(_e=Object.getOwnPropertySymbols(Q);Le<_e.length;Le++)pe.indexOf(_e[Le])<0&&Object.prototype.propertyIsEnumerable.call(Q,_e[Le])&&(he[_e[Le]]=Q[_e[Le]])}return he}function ce(Q,pe,he,_e){return new(he||(he=Promise))(function(de,Dt){function tn(ot){try{ft(_e.next(ot))}catch(ai){Dt(ai)}}function qn(ot){try{ft(_e.throw(ot))}catch(ai){Dt(ai)}}function ft(ot){ot.done?de(ot.value):function Le(de){return de instanceof he?de:new he(function(Dt){Dt(de)})}(ot.value).then(tn,qn)}ft((_e=_e.apply(Q,pe||[])).next())})}function K(Q){return this instanceof K?(this.v=Q,this):new K(Q)}function ue(Q,pe,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,_e=he.apply(Q,pe||[]),de=[];return Le={},Dt("next"),Dt("throw"),Dt("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function Dt(fn){_e[fn]&&(Le[fn]=function(Ti){return new Promise(function(sn,Wt){de.push([fn,Ti,sn,Wt])>1||tn(fn,Ti)})})}function tn(fn,Ti){try{!function qn(fn){fn.value instanceof K?Promise.resolve(fn.value.v).then(ft,ot):ai(de[0][2],fn)}(_e[fn](Ti))}catch(sn){ai(de[0][3],sn)}}function ft(fn){tn("next",fn)}function ot(fn){tn("throw",fn)}function ai(fn,Ti){fn(Ti),de.shift(),de.length&&tn(de[0][0],de[0][1])}}function Re(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,pe=Q[Symbol.asyncIterator];return pe?pe.call(Q):(Q=function te(Q){var pe="function"==typeof Symbol&&Symbol.iterator,he=pe&&Q[pe],_e=0;if(he)return he.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&_e>=Q.length&&(Q=void 0),{value:Q&&Q[_e++],done:!Q}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),he={},_e("next"),_e("throw"),_e("return"),he[Symbol.asyncIterator]=function(){return this},he);function _e(de){he[de]=Q[de]&&function(Dt){return new Promise(function(tn,qn){!function Le(de,Dt,tn,qn){Promise.resolve(qn).then(function(ft){de({value:ft,done:tn})},Dt)}(tn,qn,(Dt=Q[de](Dt)).done,Dt.value)})}}}O.d(Se,{FC:()=>ue,KL:()=>Re,_T:()=>ae,mG:()=>ce,qq:()=>K})},5e3:(dt,Se,O)=>{"use strict";O.d(Se,{$8M:()=>rl,$Z:()=>Cf,AFp:()=>HC,ALo:()=>sv,AaK:()=>ce,AsE:()=>Ew,BQk:()=>dw,CHM:()=>Kc,CRH:()=>TC,CZH:()=>nh,CqO:()=>jI,EJc:()=>cm,EiD:()=>qp,EpF:()=>HI,F$t:()=>ZI,F4k:()=>hw,FYo:()=>Mc,FiY:()=>or,G48:()=>OA,Gf:()=>EC,GfV:()=>ev,Gpc:()=>H,Gre:()=>DS,Hsn:()=>WI,Ikx:()=>Vy,JOm:()=>va,JVY:()=>Ad,L6k:()=>Up,LAX:()=>Md,LFG:()=>Ie,LSH:()=>Rd,Lbi:()=>GC,MAs:()=>lw,NdJ:()=>fw,O4$:()=>o_,OlP:()=>jn,Oqu:()=>Cw,PXZ:()=>xA,Q6J:()=>Fu,QGY:()=>Ry,Qsj:()=>iC,R0b:()=>_o,RDi:()=>fd,Rgc:()=>ju,SBq:()=>Kd,Sil:()=>ZC,Suo:()=>DC,TTD:()=>Va,TgZ:()=>My,Tol:()=>cS,Udp:()=>vw,VKq:()=>Ff,VLi:()=>QC,WFA:()=>pw,WLB:()=>Lf,X6Q:()=>oE,XFs:()=>mt,Xpm:()=>pn,Y36:()=>Sg,YKP:()=>Vu,YNc:()=>kI,Yjl:()=>ze,Yz7:()=>sn,ZZ4:()=>Mv,_Bn:()=>Xw,_UZ:()=>Ef,_Vd:()=>cr,_c5:()=>$A,_uU:()=>mS,aQg:()=>Rt,c2e:()=>TA,cJS:()=>ln,cg1:()=>Uy,d8E:()=>Lu,dDg:()=>rh,deG:()=>Ph,dqk:()=>Zt,eBb:()=>Hp,eFA:()=>qu,ekj:()=>bw,evT:()=>xT,f3M:()=>tt,g9A:()=>qC,h0i:()=>Xd,hGG:()=>YA,hij:()=>Ny,iGM:()=>CC,ifc:()=>Pt,ip1:()=>wv,kL8:()=>Hy,lG2:()=>Te,lcZ:()=>mC,mCW:()=>M,n5z:()=>un,n_E:()=>Ta,oAB:()=>oe,oxw:()=>GI,pB0:()=>g_,q3G:()=>ui,q4F:()=>ZS,qLn:()=>Yh,qOj:()=>Cy,qZA:()=>xy,qzn:()=>Rs,s9C:()=>mw,sBO:()=>NA,sIi:()=>xu,s_b:()=>em,soG:()=>Cv,tBr:()=>xs,tb:()=>dn,tp0:()=>Hi,uIk:()=>yl,vHH:()=>Fe,vpe:()=>Vs,wAp:()=>yt,xi3:()=>Qg,xp6:()=>F_,yhl:()=>Sd,ynx:()=>Wd,z2F:()=>sh,z3N:()=>hs,zSh:()=>hy,zs3:()=>di});var s=O(7579),V=O(727),R=O(8306),ae=O(6451),se=O(3099);function ge(o){for(let a in o)if(o[a]===ge)return a;throw Error("Could not find renamed property on target object.")}function X(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function ce(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ce).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function me(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const j=ge({__forward_ref__:ge});function H(o){return o.__forward_ref__=H,o.toString=function(){return ce(this())},o}function te(o){return Be(o)?o():o}function Be(o){return"function"==typeof o&&o.hasOwnProperty(j)&&o.__forward_ref__===H}class Fe extends Error{constructor(a,c){super(function Ue(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,c)),this.code=a}}function K(o){return"string"==typeof o?o:null==o?"":String(o)}function ue(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():K(o)}function Ce(o,a){const c=a?` in ${a}`:"";throw new Fe(-201,`No provider for ${ue(o)} found${c}`)}function ft(o,a){null==o&&function ot(o,a,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}(a,o,null,"!=")}function sn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function ln(o){return{providers:o.providers||[],imports:o.imports||[]}}function xn(o){return Qr(o,hr)||Qr(o,Qn)}function Qr(o,a){return o.hasOwnProperty(a)?o[a]:null}function Jr(o){return o&&(o.hasOwnProperty(Ar)||o.hasOwnProperty(Xr))?o[Ar]:null}const hr=ge({\u0275prov:ge}),Ar=ge({\u0275inj:ge}),Qn=ge({ngInjectableDef:ge}),Xr=ge({ngInjectorDef:ge});var mt=(()=>((mt=mt||{})[mt.Default=0]="Default",mt[mt.Host=1]="Host",mt[mt.Self=2]="Self",mt[mt.SkipSelf=4]="SkipSelf",mt[mt.Optional=8]="Optional",mt))();let Fi;function Jt(o){const a=Fi;return Fi=o,a}function Li(o,a,c){const d=xn(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&mt.Optional?null:void 0!==a?a:void Ce(ce(o),"Injector")}function ht(o){return{toString:o}.toString()}var Mt=(()=>((Mt=Mt||{})[Mt.OnPush=0]="OnPush",Mt[Mt.Default=1]="Default",Mt))(),Pt=(()=>{return(o=Pt||(Pt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Pt;var o})();const at="undefined"!=typeof globalThis&&globalThis,Je="undefined"!=typeof window&&window,to="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Zt=at||"undefined"!=typeof global&&global||Je||to,Dn={},U=[],$=ge({\u0275cmp:ge}),W=ge({\u0275dir:ge}),Ee=ge({\u0275pipe:ge}),ie=ge({\u0275mod:ge}),Ze=ge({\u0275fac:ge}),gt=ge({__NG_ELEMENT_ID__:ge});let Xt=0;function pn(o){return ht(()=>{const c={},d={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Mt.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||U,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Pt.Emulated,id:"c",styles:o.styles||U,_:null,setInput:null,schemas:o.schemas||null,tView:null},f=o.directives,p=o.features,y=o.pipes;return d.id+=Xt++,d.inputs=Z(o.inputs,c),d.outputs=Z(o.outputs),p&&p.forEach(w=>w(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(li):null,d.pipeDefs=y?()=>("function"==typeof y?y():y).map(Ft):null,d})}function li(o){return ct(o)||function xt(o){return o[W]||null}(o)}function Ft(o){return function $t(o){return o[Ee]||null}(o)}const ei={};function oe(o){return ht(()=>{const a={type:o.type,bootstrap:o.bootstrap||U,declarations:o.declarations||U,imports:o.imports||U,exports:o.exports||U,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(ei[o.id]=o.type),a})}function Z(o,a){if(null==o)return Dn;const c={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],p=f;Array.isArray(f)&&(p=f[1],f=f[0]),c[f]=d,a&&(a[f]=p)}return c}const Te=pn;function ze(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function ct(o){return o[$]||null}function Ut(o,a){const c=o[ie]||null;if(!c&&!0===a)throw new Error(`Type ${ce(o)} does not have '\u0275mod' property.`);return c}function bi(o){return Array.isArray(o)&&"object"==typeof o[1]}function qi(o){return Array.isArray(o)&&!0===o[1]}function Pa(o){return 0!=(8&o.flags)}function ad(o){return 2==(2&o.flags)}function is(o){return 1==(1&o.flags)}function rs(o){return null!==o.template}function jc(o){return 0!=(512&o[2])}function xr(o,a){return o.hasOwnProperty(Ze)?o[Ze]:null}class dd{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Va(){return Ua}function Ua(o){return o.type.prototype.ngOnChanges&&(o.setInput=Ha),Sh}function Sh(){const o=ja(this),a=null==o?void 0:o.current;if(a){const c=o.previous;if(c===Dn)o.previous=a;else for(let d in a)c[d]=a[d];o.current=null,this.ngOnChanges(a)}}function Ha(o,a,c,d){const f=ja(o)||function ia(o,a){return o[kr]=a}(o,{previous:Dn,current:null}),p=f.current||(f.current={}),y=f.previous,w=this.declaredInputs[c],E=y[w];p[w]=new dd(E&&E.currentValue,a,y===Dn),o[d]=a}Va.ngInherit=!0;const kr="__ngSimpleChanges__";function ja(o){return o[kr]||null}let jl;function fd(o){jl=o}function En(o){return!!o.listen}const ra={createRenderer:(o,a)=>function Rr(){return void 0!==jl?jl:"undefined"!=typeof document?document:void 0}()};function vn(o){for(;Array.isArray(o);)o=o[0];return o}function ao(o,a){return vn(a[o])}function ci(o,a){return vn(a[o.index])}function Zn(o,a){return o.data[a]}function ss(o,a){return o[a]}function Si(o,a){const c=a[o];return bi(c)?c:c[0]}function To(o){return 4==(4&o[2])}function lo(o){return 128==(128&o[2])}function Or(o,a){return null==a?null:o[a]}function os(o){o[18]=0}function Cs(o,a){o[5]+=a;let c=o,d=o[3];for(;null!==d&&(1===a&&1===c[5]||-1===a&&0===c[5]);)d[5]+=a,c=d,d=d[3]}const bt={lFrame:nu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Za(){return bt.bindingsEnabled}function Me(){return bt.lFrame.lView}function zt(){return bt.lFrame.tView}function Kc(o){return bt.lFrame.contextLView=o,o[8]}function kn(){let o=oa();for(;null!==o&&64===o.type;)o=o.parent;return o}function oa(){return bt.lFrame.currentTNode}function pr(o,a){const c=bt.lFrame;c.currentTNode=o,c.isParent=a}function Qc(){return bt.lFrame.isParent}function Wa(){bt.lFrame.isParent=!1}function So(){return bt.isInCheckNoChangesMode}function Gl(o){bt.isInCheckNoChangesMode=o}function Wn(){const o=bt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function co(){return bt.lFrame.bindingIndex++}function Pr(o){const a=bt.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function Xc(o,a){const c=bt.lFrame;c.bindingIndex=c.bindingRootIndex=o,Ka(a)}function Ka(o){bt.lFrame.currentDirectiveIndex=o}function aa(o){const a=bt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function eu(){return bt.lFrame.currentQueryIndex}function tu(o){bt.lFrame.currentQueryIndex=o}function Mh(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function Qa(o,a,c){if(c&mt.SkipSelf){let f=a,p=o;for(;!(f=f.parent,null!==f||c&mt.Host||(f=Mh(p),null===f||(p=p[15],10&f.type))););if(null===f)return!1;a=f,o=p}const d=bt.lFrame=uo();return d.currentTNode=a,d.lView=o,!0}function Ja(o){const a=uo(),c=o[1];bt.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function uo(){const o=bt.lFrame,a=null===o?null:o.child;return null===a?nu(o):a}function nu(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function xh(){const o=bt.lFrame;return bt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const kh=xh;function la(){const o=xh();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Ai(){return bt.lFrame.selectedIndex}function Ds(o){bt.lFrame.selectedIndex=o}function Vn(){const o=bt.lFrame;return Zn(o.tView,o.selectedIndex)}function o_(){bt.lFrame.currentNamespace="svg"}function el(o,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const p=o.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:S,ngOnDestroy:x}=p;y&&(o.contentHooks||(o.contentHooks=[])).push(-c,y),w&&((o.contentHooks||(o.contentHooks=[])).push(c,w),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,w)),E&&(o.viewHooks||(o.viewHooks=[])).push(-c,E),S&&((o.viewHooks||(o.viewHooks=[])).push(c,S),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,S)),null!=x&&(o.destroyHooks||(o.destroyHooks=[])).push(c,x)}}function iu(o,a,c){wi(o,a,3,c)}function ru(o,a,c,d){(3&o[2])===c&&wi(o,a,c,d)}function Wl(o,a){let c=o[2];(3&c)===a&&(c&=2047,c+=1,o[2]=c)}function wi(o,a,c,d){const p=null!=d?d:-1,y=a.length-1;let w=0;for(let E=void 0!==d?65535&o[18]:0;E<y;E++)if("number"==typeof a[E+1]){if(w=a[E],null!=d&&w>=d)break}else a[E]<0&&(o[18]+=65536),(w<p||-1==p)&&(su(o,c,a,E),o[18]=(4294901760&o[18])+E+2),E++}function su(o,a,c,d){const f=c[d]<0,p=c[d+1],w=o[f?-c[d]:c[d]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class Yl{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function We(o,a,c){const d=En(o);let f=0;for(;f<c.length;){const p=c[f];if("number"==typeof p){if(0!==p)break;f++;const y=c[f++],w=c[f++],E=c[f++];d?o.setAttribute(a,w,E,y):a.setAttributeNS(y,w,E)}else{const y=p,w=c[++f];Mi(y)?d&&o.setProperty(a,y,w):d?o.setAttribute(a,y,w):a.setAttribute(y,w),f++}}return f}function $e(o){return 3===o||4===o||6===o}function Mi(o){return 64===o.charCodeAt(0)}function cn(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?c=f:0===c||lu(o,c,f,null,-1===c||2===c?a[++d]:null)}}return o}function lu(o,a,c,d,f){let p=0,y=o.length;if(-1===a)y=-1;else for(;p<o.length;){const w=o[p++];if("number"==typeof w){if(w===a){y=-1;break}if(w>a){y=p-1;break}}}for(;p<o.length;){const w=o[p];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==f&&(o[p+1]=f));if(d===o[p+1])return void(o[p+2]=f)}p++,null!==d&&p++,null!==f&&p++}-1!==y&&(o.splice(y,0,a),p=y+1),o.splice(p++,0,c),null!==d&&o.splice(p++,0,d),null!==f&&o.splice(p++,0,f)}function Yn(o){return-1!==o}function ca(o){return 32767&o}function xo(o,a){let c=function nl(o){return o>>16}(o),d=a;for(;c>0;)d=d[15],c--;return d}let ko=!0;function Is(o){const a=ko;return ko=o,a}let ua=0;function nn(o,a){const c=ha(o,a);if(-1!==c)return c;const d=a[1];d.firstCreatePass&&(o.injectorIndex=a.length,da(d.data,o),da(a,null),da(d.blueprint,null));const f=fa(o,a),p=o.injectorIndex;if(Yn(f)){const y=ca(f),w=xo(f,a),E=w[1].data;for(let S=0;S<8;S++)a[p+S]=w[y+S]|E[y+S]}return a[p+8]=f,p}function da(o,a){o.push(0,0,0,0,0,0,0,0,a)}function ha(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function fa(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,f=a;for(;null!==f;){const p=f[1],y=p.type;if(d=2===y?p.declTNode:1===y?f[6]:null,null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Gi(o,a,c){!function uu(o,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(gt)&&(d=c[gt]),null==d&&(d=c[gt]=ua++);const f=255&d;a.data[o+(f>>5)]|=1<<f}(o,a,c)}function pa(o,a,c){if(c&mt.Optional)return o;Ce(a,"NodeInjector")}function ls(o,a,c,d){if(c&mt.Optional&&void 0===d&&(d=null),0==(c&(mt.Self|mt.Host))){const f=o[9],p=Jt(void 0);try{return f?f.get(a,d,c&mt.Optional):Li(a,d,c&mt.Optional)}finally{Jt(p)}}return pa(d,a,c)}function Jl(o,a,c,d=mt.Default,f){if(null!==o){const p=function ni(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(gt)?o[gt]:void 0;return"number"==typeof a?a>=0?255&a:Nr:a}(c);if("function"==typeof p){if(!Qa(a,o,d))return d&mt.Host?pa(f,c,d):ls(a,c,d,f);try{const y=p(d);if(null!=y||d&mt.Optional)return y;Ce(c)}finally{kh()}}else if("number"==typeof p){let y=null,w=ha(o,a),E=-1,S=d&mt.Host?a[16][6]:null;for((-1===w||d&mt.SkipSelf)&&(E=-1===w?fa(o,a):a[w+8],-1!==E&&ga(d,!1)?(y=a[1],w=ca(E),a=xo(E,a)):w=-1);-1!==w;){const x=a[1];if(du(p,w,x.data)){const F=il(w,a,c,y,d,S);if(F!==Ro)return F}E=a[w+8],-1!==E&&ga(d,a[1].data[w+8]===S)&&du(p,w,a)?(y=x,w=ca(E),a=xo(E,a)):w=-1}}}return ls(a,c,d,f)}const Ro={};function Nr(){return new Sn(kn(),Me())}function il(o,a,c,d,f,p){const y=a[1],w=y.data[o+8],x=Fr(w,y,c,null==d?ad(w)&&ko:d!=y&&0!=(3&w.type),f&mt.Host&&p===w);return null!==x?In(a,y,x,w):Ro}function Fr(o,a,c,d,f){const p=o.providerIndexes,y=a.data,w=1048575&p,E=o.directiveStart,x=p>>20,q=f?w+x:o.directiveEnd;for(let J=d?w:w+x;J<q;J++){const De=y[J];if(J<E&&c===De||J>=E&&De.type===c)return J}if(f){const J=y[E];if(J&&rs(J)&&J.type===c)return E}return null}function In(o,a,c,d){let f=o[c];const p=a.data;if(function ou(o){return o instanceof Yl}(f)){const y=f;y.resolving&&function xe(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new Fe(-200,`Circular dependency in DI detected for ${o}${c}`)}(ue(p[c]));const w=Is(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?Jt(y.injectImpl):null;Qa(o,d,mt.Default);try{f=o[c]=y.factory(void 0,p,o,d),a.firstCreatePass&&c>=d.directiveStart&&function Ao(o,a,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:p}=a.type.prototype;if(d){const y=Ua(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,y),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,y)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,f),p&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,p),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,p))}(c,p[c],a)}finally{null!==E&&Jt(E),Is(w),y.resolving=!1,kh()}}return f}function du(o,a,c){return!!(c[a+(o>>5)]&1<<o)}function ga(o,a){return!(o&mt.Self||o&mt.Host&&a)}class Sn{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return Jl(this._tNode,this._lView,a,d,c)}}function un(o){return ht(()=>{const a=o.prototype.constructor,c=a[Ze]||Pn(a),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const p=f[Ze]||Pn(f);if(p&&p!==c)return p;f=Object.getPrototypeOf(f)}return p=>new p})}function Pn(o){return Be(o)?()=>{const a=Pn(te(o));return a&&a()}:xr(o)}function rl(o){return function Ql(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const p=c[f];if($e(p))break;if(0===p)f+=2;else if("number"==typeof p)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(p===a)return c[f+1];f+=2}}}return null}(kn(),o)}const Lt="__parameters__";function sr(o,a,c){return ht(()=>{const d=function Lr(o){return function(...c){if(o){const d=o(...c);for(const f in d)this[f]=d[f]}}}(a);function f(...p){if(this instanceof f)return d.apply(this,p),this;const y=new f(...p);return w.annotation=y,w;function w(E,S,x){const F=E.hasOwnProperty(Lt)?E[Lt]:Object.defineProperty(E,Lt,{value:[]})[Lt];for(;F.length<=x;)F.push(null);return(F[x]=F[x]||[]).push(y),E}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class jn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=sn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ph=new jn("AnalyzeForEntryComponents");function Vi(o,a){void 0===a&&(a=o);for(let c=0;c<o.length;c++){let d=o[c];Array.isArray(d)?(a===o&&(a=o.slice(0,c)),Vi(d,a)):a!==o&&a.push(d)}return a}function Br(o,a){o.forEach(c=>Array.isArray(c)?Br(c,a):a(c))}function _a(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function al(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Vr(o,a){const c=[];for(let d=0;d<o;d++)c.push(a);return c}function xi(o,a,c){let d=Oo(o,a);return d>=0?o[1|d]=c:(d=~d,function nc(o,a,c,d){let f=o.length;if(f==a)o.push(c,d);else if(1===f)o.push(d,o[0]),o[0]=c;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=c,o[a+1]=d}}(o,d,a,c)),d}function rc(o,a){const c=Oo(o,a);if(c>=0)return o[1|c]}function Oo(o,a){return function sc(o,a,c){let d=0,f=o.length>>c;for(;f!==d;){const p=d+(f-d>>1),y=o[p<<c];if(a===y)return p<<c;y>a?f=p:d=p+1}return~(f<<c)}(o,a,1)}const Po={},cl="__NG_DI_FLAG__",ul="ngTempTokenPath",Lh=/\n/gm,I="__source",k=ge({provide:String,useValue:ge});let L;function z(o){const a=L;return L=o,a}function le(o,a=mt.Default){if(void 0===L)throw new Fe(203,"");return null===L?Li(o,void 0,a):L.get(o,a&mt.Optional?null:void 0,a)}function Ie(o,a=mt.Default){return(function Bn(){return Fi}()||le)(te(o),a)}const tt=Ie;function Gt(o){const a=[];for(let c=0;c<o.length;c++){const d=te(o[c]);if(Array.isArray(d)){if(0===d.length)throw new Fe(900,"");let f,p=mt.Default;for(let y=0;y<d.length;y++){const w=d[y],E=Ui(w);"number"==typeof E?-1===E?f=w.token:p|=E:f=w}a.push(Ie(f,p))}else a.push(Ie(d))}return a}function Kt(o,a){return o[cl]=a,o.prototype[cl]=a,o}function Ui(o){return o[cl]}const xs=Kt(sr("Inject",o=>({token:o})),-1),or=Kt(sr("Optional"),8),Hi=Kt(sr("SkipSelf"),4);let yu;function uc(o){var a;return(null===(a=function Cd(){if(void 0===yu&&(yu=null,Zt.trustedTypes))try{yu=Zt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return yu}())||void 0===a?void 0:a.createHTML(o))||o}class Lo{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class f_ extends Lo{getTypeName(){return"HTML"}}class vu extends Lo{getTypeName(){return"Style"}}class Vh extends Lo{getTypeName(){return"Script"}}class p_ extends Lo{getTypeName(){return"URL"}}class Uh extends Lo{getTypeName(){return"ResourceURL"}}function hs(o){return o instanceof Lo?o.changingThisBreaksApplicationSecurity:o}function Rs(o,a){const c=Sd(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===a}function Sd(o){return o instanceof Lo&&o.getTypeName()||null}function Ad(o){return new f_(o)}function Up(o){return new vu(o)}function Hp(o){return new Vh(o)}function Md(o){return new p_(o)}function g_(o){return new Uh(o)}class m_{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(uc(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class zp{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(a){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=uc(a),c;const d=this.inertDocument.createElement("body");return d.innerHTML=uc(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const c=a.attributes;for(let f=c.length-1;0<f;f--){const y=c.item(f).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&a.removeAttribute(y)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const g=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,C=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function M(o){return(o=String(o)).match(g)||o.match(C)?o:"unsafe:"+o}function ee(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function Oe(...o){const a={};for(const c of o)for(const d in c)c.hasOwnProperty(d)&&(a[d]=!0);return a}const rt=ee("area,br,col,hr,img,wbr"),Ct=ee("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),At=ee("rp,rt"),dc=Oe(rt,Oe(Ct,ee("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Oe(At,ee("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Oe(At,Ct)),xd=ee("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bu=ee("srcset"),kd=Oe(xd,bu,ee("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ee("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hc=ee("script,style,template");class Eu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!dc.hasOwnProperty(c))return this.sanitizedSomething=!0,!hc.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=a.attributes;for(let f=0;f<d.length;f++){const p=d.item(f),y=p.name,w=y.toLowerCase();if(!kd.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let E=p.value;xd[w]&&(E=M(E)),bu[w]&&(o=E,E=(o=String(o)).split(",").map(a=>M(a.trim())).join(", ")),this.buf.push(" ",y,'="',zh(E),'"')}var o;return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();dc.hasOwnProperty(c)&&!rt.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(zh(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const Hh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jh=/([^\#-~ |!])/g;function zh(o){return o.replace(/&/g,"&amp;").replace(Hh,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(jh,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fc;function qp(o,a){let c=null;try{fc=fc||function jp(o){const a=new zp(o);return function v(){try{return!!(new window.DOMParser).parseFromString(uc(""),"text/html")}catch(o){return!1}}()?new m_(a):a}(o);let d=a?String(a):"";c=fc.getInertBodyElement(d);let f=5,p=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=p,p=c.innerHTML,c=fc.getInertBodyElement(d)}while(d!==p);return uc((new Eu).sanitizeChildren(qh(c)||c))}finally{if(c){const d=qh(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function qh(o){return"content"in o&&function fo(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var ui=(()=>((ui=ui||{})[ui.NONE=0]="NONE",ui[ui.HTML=1]="HTML",ui[ui.STYLE=2]="STYLE",ui[ui.SCRIPT=3]="SCRIPT",ui[ui.URL=4]="URL",ui[ui.RESOURCE_URL=5]="RESOURCE_URL",ui))();function Rd(o){const a=function Od(){const o=Me();return o&&o[12]}();return a?a.sanitize(ui.URL,o)||"":Rs(o,"URL")?hs(o):M(K(o))}const e0="__ngContext__";function _r(o,a){o[e0]=a}function __(o){const a=function Gh(o){return o[e0]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function w_(o){return o.ngOriginalError}function bT(o,...a){o.error(...a)}class Yh{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a),d=function vT(o){return o&&o.ngErrorLogger||bT}(a);d(this._console,"ERROR",a),c&&d(this._console,"ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&w_(a);for(;c&&w_(c);)c=w_(c);return c||null}}const n0=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Zt))();function xT(o){return o.ownerDocument}function Bo(o){return o instanceof Function?o():o}var va=(()=>((va=va||{})[va.Important=1]="Important",va[va.DashCase=2]="DashCase",va))();function E_(o,a){return undefined(o,a)}function Kh(o){const a=o[3];return qi(a)?a[3]:a}function Jp(o){return c0(o[13])}function T_(o){return c0(o[4])}function c0(o){for(;null!==o&&!qi(o);)o=o[4];return o}function Pd(o,a,c,d,f){if(null!=d){let p,y=!1;qi(d)?p=d:bi(d)&&(y=!0,d=d[0]);const w=vn(d);0===o&&null!==c?null==f?p0(a,c,w):gc(a,c,w,f||null,!0):1===o&&null!==c?gc(a,c,w,f||null,!0):2===o?function w0(o,a,c){const d=ig(o,a);d&&function m0(o,a,c,d){En(o)?o.removeChild(a,c,d):a.removeChild(c)}(o,d,a,c)}(a,w,y):3===o&&a.destroyNode(w),null!=p&&function po(o,a,c,d,f){const p=c[7];p!==vn(c)&&Pd(a,o,d,p,f);for(let w=10;w<c.length;w++){const E=c[w];Ld(E[1],E,o,a,d,p)}}(a,o,p,c,f)}}function Wi(o,a,c){if(En(o))return o.createElement(a,c);{const d=null!==c?function hd(o){const a=o.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(c):null;return null===d?o.createElement(a):o.createElementNS(d,a)}}function d0(o,a){const c=o[9],d=c.indexOf(a),f=a[3];1024&a[2]&&(a[2]&=-1025,Cs(f,-1)),c.splice(d,1)}function tg(o,a){if(o.length<=10)return;const c=10+a,d=o[c];if(d){const f=d[17];null!==f&&f!==o&&d0(f,d),a>0&&(o[c-1][4]=d[4]);const p=al(o,10+a);!function OT(o,a){Ld(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function h0(o,a){if(!(256&a[2])){const c=a[11];En(c)&&c.destroyNode&&Ld(o,a,c,3,null,null),function S_(o){let a=o[13];if(!a)return ng(o[1],o);for(;a;){let c=null;if(bi(a))c=a[13];else{const d=a[10];d&&(c=d)}if(!c){for(;a&&!a[4]&&a!==o;)bi(a)&&ng(a[1],a),a=a[3];null===a&&(a=o),bi(a)&&ng(a[1],a),c=a&&a[4]}a=c}}(a)}}function ng(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function A_(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const f=a[c[d]];if(!(f instanceof Yl)){const p=c[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=f[p[y]],E=p[y+1];try{E.call(w)}finally{}}else try{p.call(f)}finally{}}}}(o,a),function f0(o,a){const c=o.cleanup,d=a[7];let f=-1;if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const y=c[p+1],w="function"==typeof y?y(a):vn(a[y]),E=d[f=c[p+2]],S=c[p+3];"boolean"==typeof S?w.removeEventListener(c[p],E,S):S>=0?d[f=S]():d[f=-S].unsubscribe(),p+=2}else{const y=d[f=c[p+1]];c[p].call(y)}if(null!==d){for(let p=f+1;p<d.length;p++)d[p]();a[7]=null}}(o,a),1===a[1].type&&En(a[11])&&a[11].destroy();const c=a[17];if(null!==c&&qi(a[3])){c!==a[3]&&d0(c,a);const d=a[19];null!==d&&d.detachView(o)}}}function NT(o,a,c){return function pc(o,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[0];if(2&d.flags){const f=o.data[d.directiveStart].encapsulation;if(f===Pt.None||f===Pt.Emulated)return null}return ci(d,c)}(o,a.parent,c)}function gc(o,a,c,d,f){En(o)?o.insertBefore(a,c,d,f):a.insertBefore(c,d,f)}function p0(o,a,c){En(o)?o.appendChild(a,c):a.appendChild(c)}function g0(o,a,c,d,f){null!==d?gc(o,a,c,d,f):p0(o,a,c)}function ig(o,a){return En(o)?o.parentNode(a):a.parentNode}function _0(o,a,c){return y0(o,a,c)}let y0=function M_(o,a,c){return 40&o.type?ci(o,c):null};function Fd(o,a,c,d){const f=NT(o,d,a),p=a[11],w=_0(d.parent||a[6],d,a);if(null!=f)if(Array.isArray(c))for(let E=0;E<c.length;E++)g0(p,f,c[E],w,!1);else g0(p,f,c,w,!1)}function rg(o,a){if(null!==a){const c=a.type;if(3&c)return ci(a,o);if(4&c)return sg(-1,o[a.index]);if(8&c){const d=a.child;if(null!==d)return rg(o,d);{const f=o[a.index];return qi(f)?sg(-1,f):vn(f)}}if(32&c)return E_(a,o)()||vn(o[a.index]);{const d=b0(o,a);return null!==d?Array.isArray(d)?d[0]:rg(Kh(o[16]),d):rg(o,a.next)}}return null}function b0(o,a){return null!==a?o[16][6].projection[a.projection]:null}function sg(o,a){const c=10+o+1;if(c<a.length){const d=a[c],f=d[1].firstChild;if(null!==f)return rg(d,f)}return a[7]}function C0(o,a,c,d,f,p,y){for(;null!=c;){const w=d[c.index],E=c.type;if(y&&0===a&&(w&&_r(vn(w),d),c.flags|=4),64!=(64&c.flags))if(8&E)C0(o,a,c.child,d,f,p,!1),Pd(a,o,f,w,p);else if(32&E){const S=E_(c,d);let x;for(;x=S();)Pd(a,o,f,x,p);Pd(a,o,f,w,p)}else 16&E?mc(o,a,d,c,f,p):Pd(a,o,f,w,p);c=y?c.projectionNext:c.next}}function Ld(o,a,c,d,f,p){C0(c,d,o.firstChild,a,f,p,!1)}function mc(o,a,c,d,f,p){const y=c[16],E=y[6].projection[d.projection];if(Array.isArray(E))for(let S=0;S<E.length;S++)Pd(a,o,f,E[S],p);else C0(o,a,E,y[3],f,p,!0)}function k_(o,a,c){En(o)?o.setAttribute(a,"style",c):a.style.cssText=c}function R_(o,a,c){En(o)?""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c):a.className=c}function D0(o,a,c){let d=o.length;for(;;){const f=o.indexOf(a,c);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const p=a.length;if(f+p===d||o.charCodeAt(f+p)<=32)return f}c=f+1}}const pl="ng-template";function _c(o,a,c){let d=0;for(;d<o.length;){let f=o[d++];if(c&&"class"===f){if(f=o[d],-1!==D0(f.toLowerCase(),a,0))return!0}else if(1===f){for(;d<o.length&&"string"==typeof(f=o[d++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function O_(o){return 4===o.type&&o.value!==pl}function yr(o,a,c){return a===(4!==o.type||c?o.value:pl)}function yc(o,a,c){let d=4;const f=o.attrs||[],p=function I0(o){for(let a=0;a<o.length;a++)if($e(o[a]))return a;return o.length}(f);let y=!1;for(let w=0;w<a.length;w++){const E=a[w];if("number"!=typeof E){if(!y)if(4&d){if(d=2|1&d,""!==E&&!yr(o,E,c)||""===E&&1===a.length){if(Vo(d))return!1;y=!0}}else{const S=8&d?E:a[++w];if(8&d&&null!==o.attrs){if(!_c(o.attrs,S,c)){if(Vo(d))return!1;y=!0}continue}const F=fs(8&d?"class":E,f,O_(o),c);if(-1===F){if(Vo(d))return!1;y=!0;continue}if(""!==S){let q;q=F>p?"":f[F+1].toLowerCase();const J=8&d?q:null;if(J&&-1!==D0(J,S,0)||2&d&&S!==q){if(Vo(d))return!1;y=!0}}}}else{if(!y&&!Vo(d)&&!Vo(E))return!1;if(y&&Vo(E))continue;y=!1,d=E|1&d}}return Vo(d)||y}function Vo(o){return 0==(1&o)}function fs(o,a,c,d){if(null===a)return-1;let f=0;if(d||!c){let p=!1;for(;f<a.length;){const y=a[f];if(y===o)return f;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=a[++f];for(;"string"==typeof w;)w=a[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=p?1:2}return-1}return function S0(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,o)}function P_(o,a,c=!1){for(let d=0;d<a.length;d++)if(yc(o,a[d],c))return!0;return!1}function A0(o,a){e:for(let c=0;c<a.length;c++){const d=a[c];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function N_(o,a){return o?":not("+a.trim()+")":a}function M0(o){let a=o[0],c=1,d=2,f="",p=!1;for(;c<o.length;){let y=o[c];if("string"==typeof y)if(2&d){const w=o[++c];f+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?f+="."+y:4&d&&(f+=" "+y);else""!==f&&!Vo(y)&&(a+=N_(p,f),f=""),d=y,p=p||!Vo(d);c++}return""!==f&&(a+=N_(p,f)),a}const Nt={};function F_(o){L_(zt(),Me(),Ai()+o,So())}function L_(o,a,c,d){if(!d)if(3==(3&a[2])){const p=o.preOrderCheckHooks;null!==p&&iu(a,p,c)}else{const p=o.preOrderHooks;null!==p&&ru(a,p,0,c)}Ds(c)}function og(o,a){return o<<17|a<<2}function go(o){return o>>17&32767}function ag(o){return 2|o}function Uo(o){return(131068&o)>>2}function lg(o,a){return-131069&o|a<<2}function cg(o){return 1|o}function N0(o,a){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],p=c[d+1];if(-1!==p){const y=o.data[p];tu(f),y.contentQueries(2,a[p],p)}}}function vc(o,a,c,d,f,p,y,w,E,S){const x=a.blueprint.slice();return x[0]=f,x[2]=140|d,os(x),x[3]=x[15]=o,x[8]=c,x[10]=y||o&&o[10],x[11]=w||o&&o[11],x[12]=E||o&&o[12]||null,x[9]=S||o&&o[9]||null,x[6]=p,x[16]=2==a.type?o[16]:x,x}function sf(o,a,c,d,f){let p=o.data[a];if(null===p)p=function af(o,a,c,d,f){const p=oa(),y=Qc(),E=o.data[a]=function B0(o,a,c,d,f,p){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,c,a,d,f);return null===o.firstChild&&(o.firstChild=E),null!==p&&(y?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}(o,a,c,d,f),function Jc(){return bt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=c,p.value=d,p.attrs=f;const y=function Io(){const o=bt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return pr(p,!0),p}function ba(o,a,c,d){if(0===c)return-1;const f=a.length;for(let p=0;p<c;p++)a.push(d),o.blueprint.push(d),o.data.push(null);return f}function bc(o,a,c){Ja(a);try{const d=o.viewQuery;null!==d&&uy(1,d,c);const f=o.template;null!==f&&L0(o,a,f,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&N0(o,a),o.staticViewQueries&&uy(2,o.viewQuery,c);const p=o.components;null!==p&&function Q_(o,a){for(let c=0;c<a.length;c++)XT(o,a[c])}(a,p)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[2]&=-5,la()}}function jo(o,a,c,d){const f=a[2];if(256==(256&f))return;Ja(a);const p=So();try{os(a),function Ya(o){return bt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&L0(o,a,c,2,d);const y=3==(3&f);if(!p)if(y){const S=o.preOrderCheckHooks;null!==S&&iu(a,S,null)}else{const S=o.preOrderHooks;null!==S&&ru(a,S,0,null),Wl(a,0)}if(function Iu(o){for(let a=Jp(o);null!==a;a=T_(a)){if(!a[2])continue;const c=a[9];for(let d=0;d<c.length;d++){const f=c[d],p=f[3];0==(1024&f[2])&&Cs(p,1),f[2]|=1024}}}(a),function QT(o){for(let a=Jp(o);null!==a;a=T_(a))for(let c=10;c<a.length;c++){const d=a[c],f=d[1];lo(d)&&jo(f,d,f.template,d[8])}}(a),null!==o.contentQueries&&N0(o,a),!p)if(y){const S=o.contentCheckHooks;null!==S&&iu(a,S)}else{const S=o.contentHooks;null!==S&&ru(a,S,1),Wl(a,1)}!function K_(o,a){const c=o.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)Ds(~f);else{const p=f,y=c[++d],w=c[++d];Xc(y,p),w(2,a[p])}}}finally{Ds(-1)}}(o,a);const w=o.components;null!==w&&function F0(o,a){for(let c=0;c<a.length;c++)JT(o,a[c])}(a,w);const E=o.viewQuery;if(null!==E&&uy(2,E,d),!p)if(y){const S=o.viewCheckHooks;null!==S&&iu(a,S)}else{const S=o.viewHooks;null!==S&&ru(a,S,2),Wl(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),p||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,Cs(a[3],-1))}finally{la()}}function lf(o,a,c,d){const f=a[10],p=!So(),y=To(a);try{p&&!y&&f.begin&&f.begin(),y&&bc(o,a,d),jo(o,a,c,d)}finally{p&&!y&&f.end&&f.end()}}function L0(o,a,c,d,f){const p=Ai(),y=2&d;try{Ds(-1),y&&a.length>20&&L_(o,a,20,So()),c(d,f)}finally{Ds(p)}}function fg(o,a,c){if(Pa(a)){const f=a.directiveEnd;for(let p=a.directiveStart;p<f;p++){const y=o.data[p];y.contentQueries&&y.contentQueries(1,c[p],p)}}}function pg(o,a,c){!Za()||(function ZT(o,a,c,d){const f=c.directiveStart,p=c.directiveEnd;o.firstCreatePass||nn(c,a),_r(d,a);const y=c.initialInputs;for(let w=f;w<p;w++){const E=o.data[w],S=rs(E);S&&KT(a,c,E);const x=In(a,o,w,c);_r(x,a),null!==y&&G0(0,w-f,x,E,0,y),S&&(Si(c.index,a)[8]=x)}}(o,a,c,ci(c,a)),128==(128&c.flags)&&function j0(o,a,c){const d=c.directiveStart,f=c.directiveEnd,y=c.index,w=function Zl(){return bt.lFrame.currentDirectiveIndex}();try{Ds(y);for(let E=d;E<f;E++){const S=o.data[E],x=a[E];Ka(E),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&_g(S,x)}}finally{Ds(-1),Ka(w)}}(o,a,c))}function cf(o,a,c=ci){const d=a.localNames;if(null!==d){let f=a.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],w=-1===y?c(a,o):o[y];o[f++]=w}}}function J_(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Tu(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function Tu(o,a,c,d,f,p,y,w,E,S){const x=20+d,F=x+f,q=function X_(o,a){const c=[];for(let d=0;d<a;d++)c.push(d<o?null:Nt);return c}(x,F),J="function"==typeof S?S():S;return q[1]={type:o,blueprint:q,template:c,queries:null,viewQuery:w,declTNode:a,data:q.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:J,incompleteFirstPass:!1}}function ty(o,a,c,d){const f=iI(a);null===c?f.push(d):(f.push(c),o.firstCreatePass&&vg(o).push(d,f.length-1))}function gg(o,a,c){for(let d in o)if(o.hasOwnProperty(d)){const f=o[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(a,f):c[d]=[a,f]}return c}function gs(o,a,c,d,f,p,y,w){const E=ci(a,c);let x,S=a.inputs;!w&&null!=S&&(x=S[d])?(W0(o,c,x,d,f),ad(a)&&function qT(o,a){const c=Si(a,o);16&c[2]||(c[2]|=64)}(c,a.index)):3&a.type&&(d=function mg(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=y?y(f,a.value||"",d):f,En(p)?p.setProperty(E,d,f):Mi(d)||(E.setProperty?E.setProperty(d,f):E[d]=f))}function V0(o,a,c,d){let f=!1;if(Za()){const p=function hf(o,a,c){const d=o.directiveRegistry;let f=null;if(d)for(let p=0;p<d.length;p++){const y=d[p];P_(c,y.selectors,!1)&&(f||(f=[]),Gi(nn(c,a),o,y.type),rs(y)?(z0(o,c),f.unshift(y)):f.push(y))}return f}(o,a,c),y=null===d?null:{"":-1};if(null!==p){f=!0,YT(c,o.data.length,p.length);for(let x=0;x<p.length;x++){const F=p[x];F.providersResolver&&F.providersResolver(F)}let w=!1,E=!1,S=ba(o,a,p.length,null);for(let x=0;x<p.length;x++){const F=p[x];c.mergedAttrs=cn(c.mergedAttrs,F.hostAttrs),ny(o,c,a,S,F),WT(S,F,y),null!==F.contentQueries&&(c.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(c.flags|=128);const q=F.type.prototype;!w&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),w=!0),!E&&(q.ngOnChanges||q.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),E=!0),S++}!function ps(o,a){const d=a.directiveEnd,f=o.data,p=a.attrs,y=[];let w=null,E=null;for(let S=a.directiveStart;S<d;S++){const x=f[S],F=x.inputs,q=null===p||O_(a)?null:ry(F,p);y.push(q),w=gg(F,S,w),E=gg(x.outputs,S,E)}null!==w&&(w.hasOwnProperty("class")&&(a.flags|=16),w.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=y,a.inputs=w,a.outputs=E}(o,c)}y&&function q0(o,a,c){if(a){const d=o.localNames=[];for(let f=0;f<a.length;f+=2){const p=c[a[f+1]];if(null==p)throw new Fe(-301,!1);d.push(a[f],p)}}}(c,d,y)}return c.mergedAttrs=cn(c.mergedAttrs,c.attrs),f}function U0(o,a,c,d,f,p){const y=p.hostBindings;if(y){let w=o.hostBindingOpCodes;null===w&&(w=o.hostBindingOpCodes=[]);const E=~a.index;(function H0(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(w)!=E&&w.push(E),w.push(d,f,y)}}function _g(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function z0(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function WT(o,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=o;rs(a)&&(c[""]=o)}}function YT(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}function ny(o,a,c,d,f){o.data[d]=f;const p=f.factory||(f.factory=xr(f.type)),y=new Yl(p,rs(f),null);o.blueprint[d]=y,c[d]=y,U0(o,a,0,d,ba(o,c,f.hostVars,Nt),f)}function KT(o,a,c){const d=ci(a,o),f=J_(c),p=o[10],y=pf(o,vc(o,f,null,c.onPush?64:16,d,a,p,p.createRenderer(d,c),null,null));o[a.index]=y}function zo(o,a,c,d,f,p){const y=ci(o,a);!function iy(o,a,c,d,f,p,y){if(null==p)En(o)?o.removeAttribute(a,f,c):a.removeAttribute(f);else{const w=null==y?K(p):y(p,d||"",f);En(o)?o.setAttribute(a,f,w,c):c?a.setAttributeNS(c,f,w):a.setAttribute(f,w)}}(a[11],y,p,o.value,c,d,f)}function G0(o,a,c,d,f,p){const y=p[a];if(null!==y){const w=d.setInput;for(let E=0;E<y.length;){const S=y[E++],x=y[E++],F=y[E++];null!==w?d.setInput(c,F,S,x):c[x]=F}}}function ry(o,a){let c=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,o[f],a[d+1])),d+=2}else d+=2;else d+=4}return c}function Vd(o,a,c,d){return new Array(o,!0,!1,a,null,0,d,c,null,null)}function JT(o,a){const c=Si(a,o);if(lo(c)){const d=c[1];80&c[2]?jo(d,c,d.template,c[8]):c[5]>0&&ff(c)}}function ff(o){for(let d=Jp(o);null!==d;d=T_(d))for(let f=10;f<d.length;f++){const p=d[f];if(1024&p[2]){const y=p[1];jo(y,p,y.template,p[8])}else p[5]>0&&ff(p)}const c=o[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=Si(c[d],o);lo(f)&&f[5]>0&&ff(f)}}function XT(o,a){const c=Si(a,o),d=c[1];(function sy(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])})(d,c),bc(d,c,c[8])}function pf(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function oy(o){for(;o;){o[2]|=64;const a=Kh(o);if(jc(o)&&!a)return o;o=a}return null}function yg(o,a,c){const d=a[10];d.begin&&d.begin();try{jo(o,a,o.template,c)}catch(f){throw dy(a,f),f}finally{d.end&&d.end()}}function $0(o){!function ly(o){for(let a=0;a<o.components.length;a++){const c=o.components[a],d=__(c),f=d[1];lf(f,d,f.template,c)}}(o[8])}function uy(o,a,c){tu(0),a(o,c)}const nI=(()=>Promise.resolve(null))();function iI(o){return o[7]||(o[7]=[])}function vg(o){return o.cleanup||(o.cleanup=[])}function Z0(o,a,c){return(null===o||rs(o))&&(c=function Ga(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(c[a.index])),c[11]}function dy(o,a){const c=o[9],d=c?c.get(Yh,null):null;d&&d.handleError(a)}function W0(o,a,c,d,f){for(let p=0;p<c.length;){const y=c[p++],w=c[p++],E=a[y],S=o.data[y];null!==S.setInput?S.setInput(E,f,d,w):E[w]=f}}function wa(o,a,c){const d=ao(a,o);!function u0(o,a,c){En(o)?o.setValue(a,c):a.textContent=c}(o[11],d,c)}function ml(o,a,c){let d=c?o.styles:null,f=c?o.classes:null,p=0;if(null!==a)for(let y=0;y<a.length;y++){const w=a[y];"number"==typeof w?p=w:1==p?f=me(f,w):2==p&&(d=me(d,w+": "+a[++y]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=f:o.classesWithoutHost=f}const bg=new jn("INJECTOR",-1);class K0{get(a,c=Po){if(c===Po){const d=new Error(`NullInjectorError: No provider for ${ce(a)}!`);throw d.name="NullInjectorError",d}return c}}const hy=new jn("Set Injector scope."),_l={},Q0={};let fy;function py(){return void 0===fy&&(fy=new K0),fy}function J0(o,a=null,c=null,d){const f=gy(o,a,c,d);return f._resolveInjectorDefTypes(),f}function gy(o,a=null,c=null,d){return new sI(o,c,a||py(),d)}class sI{constructor(a,c,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];c&&Br(c,w=>this.processProvider(w,a,c)),Br([a],w=>this.processInjectorType(w,[],p)),this.records.set(bg,gf(void 0,this));const y=this.records.get(hy);this.scope=null!=y?y.value:null,this.source=f||("object"==typeof a?null:ce(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,c=Po,d=mt.Default){this.assertNotDestroyed();const f=z(this),p=Jt(void 0);try{if(!(d&mt.SkipSelf)){let w=this.records.get(a);if(void 0===w){const E=function It(o){return"function"==typeof o||"object"==typeof o&&o instanceof jn}(a)&&xn(a);w=E&&this.injectableDefInScope(E)?gf(wg(a),_l):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(d&mt.Self?py():this.parent).get(a,c=d&mt.Optional&&c===Po?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[ul]=y[ul]||[]).unshift(ce(a)),f)throw y;return function ki(o,a,c,d){const f=o[ul];throw a[I]&&f.unshift(a[I]),o.message=function Nn(o,a,c,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let f=ce(a);if(Array.isArray(a))f=a.map(ce).join(" -> ");else if("object"==typeof a){let p=[];for(let y in a)if(a.hasOwnProperty(y)){let w=a[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):ce(w)))}f=`{${p.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${o.replace(Lh,"\n  ")}`}("\n"+o.message,f,c,d),o.ngTokenPath=f,o[ul]=null,o}(y,a,"R3InjectorError",this.source)}throw y}finally{Jt(p),z(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((d,f)=>a.push(ce(f))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Fe(205,!1)}processInjectorType(a,c,d){if(!(a=te(a)))return!1;let f=Jr(a);const p=null==f&&a.ngModule||void 0,y=void 0===p?a:p,w=-1!==d.indexOf(y);if(void 0!==p&&(f=Jr(p)),null==f)return!1;if(null!=f.imports&&!w){let x;d.push(y);try{Br(f.imports,F=>{this.processInjectorType(F,c,d)&&(void 0===x&&(x=[]),x.push(F))})}finally{}if(void 0!==x)for(let F=0;F<x.length;F++){const{ngModule:q,providers:J}=x[F];Br(J,De=>this.processProvider(De,q,J||U))}}this.injectorDefTypes.add(y);const E=xr(y)||(()=>new y);this.records.set(y,gf(E,_l));const S=f.providers;if(null!=S&&!w){const x=a;Br(S,F=>this.processProvider(F,x,S))}return void 0!==p&&void 0!==a.providers}processProvider(a,c,d){let f=Su(a=te(a))?a:te(a&&a.provide);const p=function my(o,a,c){return lI(o)?gf(void 0,o.useValue):gf(aI(o),_l)}(a);if(Su(a)||!0!==a.multi)this.records.get(f);else{let y=this.records.get(f);y||(y=gf(void 0,_l,!0),y.factory=()=>Gt(y.multi),this.records.set(f,y)),f=a,y.multi.push(a)}this.records.set(f,p)}hydrate(a,c){return c.value===_l&&(c.value=Q0,c.value=c.factory()),"object"==typeof c.value&&c.value&&function pO(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this.onDestroy.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=te(a.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function wg(o){const a=xn(o),c=null!==a?a.factory:xr(o);if(null!==c)return c;if(o instanceof jn)throw new Fe(204,!1);if(o instanceof Function)return function oI(o){const a=o.length;if(a>0)throw Vr(a,"?"),new Fe(204,!1);const c=function Kn(o){const a=o&&(o[hr]||o[Qn]);if(a){const c=function Ii(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Fe(204,!1)}function aI(o,a,c){let d;if(Su(o)){const f=te(o);return xr(f)||wg(f)}if(lI(o))d=()=>te(o.useValue);else if(function cI(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...Gt(o.deps||[]));else if(function X0(o){return!(!o||!o.useExisting)}(o))d=()=>Ie(te(o.useExisting));else{const f=te(o&&(o.useClass||o.provide));if(!function dI(o){return!!o.deps}(o))return xr(f)||wg(f);d=()=>new f(...Gt(o.deps))}return d}function gf(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function lI(o){return null!==o&&"object"==typeof o&&k in o}function Su(o){return"function"==typeof o}let di=(()=>{class o{static create(c,d){var f;if(Array.isArray(c))return J0({name:""},d,c,"");{const p=null!==(f=c.name)&&void 0!==f?f:"";return J0({name:p},c.parent,c.providers,p)}}}return o.THROW_IF_NOT_FOUND=Po,o.NULL=new K0,o.\u0275prov=sn({token:o,providedIn:"any",factory:()=>Ie(bg)}),o.__NG_ELEMENT_ID__=-1,o})();function CI(o,a){el(__(o)[1],kn())}function Cy(o){let a=function mf(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;a;){let f;if(rs(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Fe(903,"");f=a.\u0275dir}if(f){if(c){d.push(f);const y=o;y.inputs=_f(o.inputs),y.declaredInputs=_f(o.declaredInputs),y.outputs=_f(o.outputs);const w=f.hostBindings;w&&DI(o,w);const E=f.viewQuery,S=f.contentQueries;if(E&&mO(o,E),S&&Hd(o,S),X(o.inputs,f.inputs),X(o.declaredInputs,f.declaredInputs),X(o.outputs,f.outputs),rs(f)&&f.data.animation){const x=o.data;x.animation=(x.animation||[]).concat(f.data.animation)}}const p=f.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(o),w===Cy&&(c=!1)}}a=Object.getPrototypeOf(a)}!function EI(o){let a=0,c=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=a+=f.hostVars,f.hostAttrs=cn(f.hostAttrs,c=cn(c,f.hostAttrs))}}(d)}function _f(o){return o===Dn?{}:o===U?[]:o}function mO(o,a){const c=o.viewQuery;o.viewQuery=c?(d,f)=>{a(d,f),c(d,f)}:a}function Hd(o,a){const c=o.contentQueries;o.contentQueries=c?(d,f,p)=>{a(d,f,p),c(d,f,p)}:a}function DI(o,a){const c=o.hostBindings;o.hostBindings=c?(d,f)=>{a(d,f),c(d,f)}:a}let yf=null;function Mu(){if(!yf){const o=Zt.Symbol;if(o&&o.iterator)yf=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const d=a[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(yf=d)}}}return yf}function xu(o){return!!Cc(o)&&(Array.isArray(o)||!(o instanceof Map)&&Mu()in o)}function Cc(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Go(o,a,c){return o[a]=c}function Ri(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function ku(o,a,c,d){const f=Ri(o,a,c);return Ri(o,a+1,d)||f}function yl(o,a,c,d){const f=Me();return Ri(f,co(),a)&&(zt(),zo(Vn(),f,o,a,c,d)),yl}function Ca(o,a,c,d){return Ri(o,co(),c)?a+K(c)+d:Nt}function Ec(o,a,c,d,f,p){const w=ku(o,function Es(){return bt.lFrame.bindingIndex}(),c,f);return Pr(2),w?a+K(c)+d+K(f)+p:Nt}function kI(o,a,c,d,f,p,y,w){const E=Me(),S=zt(),x=o+20,F=S.firstCreatePass?function yO(o,a,c,d,f,p,y,w,E){const S=a.consts,x=sf(a,o,4,y||null,Or(S,w));V0(a,c,x,Or(S,E)),el(a,x);const F=x.tViews=Tu(2,x,d,f,p,a.directiveRegistry,a.pipeRegistry,null,a.schemas,S);return null!==a.queries&&(a.queries.template(a,x),F.queries=a.queries.embeddedTView(x)),x}(x,S,E,a,c,d,f,p,y):S.data[x];pr(F,!1);const q=E[11].createComment("");Fd(S,E,q,F),_r(q,E),pf(E,E[x]=Vd(q,E,q,F)),is(F)&&pg(S,E,F),null!=y&&cf(E,F,w)}function lw(o){return ss(function gd(){return bt.lFrame.contextLView}(),20+o)}function Sg(o,a=mt.Default){const c=Me();return null===c?Ie(o,a):Jl(kn(),c,te(o),a)}function Cf(){throw new Error("invalid")}function Fu(o,a,c){const d=Me();return Ri(d,co(),a)&&gs(zt(),Vn(),d,o,a,d[11],c,!1),Fu}function uw(o,a,c,d,f){const y=f?"class":"style";W0(o,c,a.inputs[y],y,d)}function My(o,a,c,d){const f=Me(),p=zt(),y=20+o,w=f[11],E=f[y]=Wi(w,a,function Xa(){return bt.lFrame.currentNamespace}()),S=p.firstCreatePass?function MO(o,a,c,d,f,p,y){const w=a.consts,S=sf(a,o,2,f,Or(w,p));return V0(a,c,S,Or(w,y)),null!==S.attrs&&ml(S,S.attrs,!1),null!==S.mergedAttrs&&ml(S,S.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,S),S}(y,p,f,0,a,c,d):p.data[y];pr(S,!0);const x=S.mergedAttrs;null!==x&&We(w,E,x);const F=S.classes;null!==F&&R_(w,E,F);const q=S.styles;null!==q&&k_(w,E,q),64!=(64&S.flags)&&Fd(p,f,E,S),0===function pd(){return bt.lFrame.elementDepthCount}()&&_r(E,f),function ql(){bt.lFrame.elementDepthCount++}(),is(S)&&(pg(p,f,S),fg(p,S,f)),null!==d&&cf(f,S)}function xy(){let o=kn();Qc()?Wa():(o=o.parent,pr(o,!1));const a=o;!function Zc(){bt.lFrame.elementDepthCount--}();const c=zt();c.firstCreatePass&&(el(c,o),Pa(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function md(o){return 0!=(16&o.flags)}(a)&&uw(c,a,Me(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function c_(o){return 0!=(32&o.flags)}(a)&&uw(c,a,Me(),a.stylesWithoutHost,!1)}function Ef(o,a,c,d){My(o,a,c,d),xy()}function Wd(o,a,c){const d=Me(),f=zt(),p=o+20,y=f.firstCreatePass?function Ag(o,a,c,d,f){const p=a.consts,y=Or(p,d),w=sf(a,o,8,"ng-container",y);return null!==y&&ml(w,y,!0),V0(a,c,w,Or(p,f)),null!==a.queries&&a.queries.elementStart(a,w),w}(p,f,d,a,c):f.data[p];pr(y,!0);const w=d[p]=d[11].createComment("");Fd(f,d,w,y),_r(w,d),is(y)&&(pg(f,d,y),fg(f,y,d)),null!=c&&cf(d,y)}function dw(){let o=kn();const a=zt();Qc()?Wa():(o=o.parent,pr(o,!1)),a.firstCreatePass&&(el(a,o),Pa(o)&&a.queries.elementEnd(o))}function HI(){return Me()}function Ry(o){return!!o&&"function"==typeof o.then}function hw(o){return!!o&&"function"==typeof o.subscribe}const jI=hw;function fw(o,a,c,d){const f=Me(),p=zt(),y=kn();return zI(p,f,f[11],y,o,a,!!c,d),fw}function pw(o,a){const c=kn(),d=Me(),f=zt();return zI(f,d,Z0(aa(f.data),c,d),c,o,a,!1),pw}function zI(o,a,c,d,f,p,y,w){const E=is(d),x=o.firstCreatePass&&vg(o),F=a[8],q=iI(a);let J=!0;if(3&d.type||w){const Ye=ci(d,a),st=w?w(Ye):Ye,ke=q.length,Et=w?en=>w(vn(en[d.index])):d.index;if(En(c)){let en=null;if(!w&&E&&(en=function kO(o,a,c,d){const f=o.cleanup;if(null!=f)for(let p=0;p<f.length-1;p+=2){const y=f[p];if(y===c&&f[p+1]===d){const w=a[7],E=f[p+2];return w.length>E?w[E]:null}"string"==typeof y&&(p+=2)}return null}(o,a,f,d.index)),null!==en)(en.__ngLastListenerFn__||en).__ngNextListenerFn__=p,en.__ngLastListenerFn__=p,J=!1;else{p=gw(d,a,F,p,!1);const An=c.listen(st,f,p);q.push(p,An),x&&x.push(f,Et,ke,ke+1)}}else p=gw(d,a,F,p,!0),st.addEventListener(f,p,y),q.push(p),x&&x.push(f,Et,ke,y)}else p=gw(d,a,F,p,!1);const De=d.outputs;let Ve;if(J&&null!==De&&(Ve=De[f])){const Ye=Ve.length;if(Ye)for(let st=0;st<Ye;st+=2){const yo=a[Ve[st]][Ve[st+1]].subscribe(p),oh=q.length;q.push(p,yo),x&&x.push(f,d.index,oh,-(oh+1))}}}function qI(o,a,c,d){try{return!1!==c(d)}catch(f){return dy(o,f),!1}}function gw(o,a,c,d,f){return function p(y){if(y===Function)return d;const w=2&o.flags?Si(o.index,a):a;0==(32&a[2])&&oy(w);let E=qI(a,0,d,y),S=p.__ngNextListenerFn__;for(;S;)E=qI(a,0,S,y)&&E,S=S.__ngNextListenerFn__;return f&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function GI(o=1){return function as(o){return(bt.lFrame.contextLView=function Rh(o,a){for(;o>0;)a=a[15],o--;return a}(o,bt.lFrame.contextLView))[8]}(o)}function $I(o,a){let c=null;const d=function T0(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(0==(1&c))return a[c+1]}return null}(o);for(let f=0;f<a.length;f++){const p=a[f];if("*"!==p){if(null===d?P_(o,p,!0):A0(d,p))return f}else c=f}return c}function ZI(o){const a=Me()[16][6];if(!a.projection){const d=a.projection=Vr(o?o.length:1,null),f=d.slice();let p=a.child;for(;null!==p;){const y=o?$I(p,o):0;null!==y&&(f[y]?f[y].projectionNext=p:d[y]=p,f[y]=p),p=p.next}}}function WI(o,a=0,c){const d=Me(),f=zt(),p=sf(f,20+o,16,null,c||null);null===p.projection&&(p.projection=a),Wa(),64!=(64&p.flags)&&function E0(o,a,c){mc(a[11],0,a,c,NT(o,c,a),_0(c.parent||a[6],c,a))}(f,d,p)}function mw(o,a,c){return _w(o,"",a,"",c),mw}function _w(o,a,c,d,f){const p=Me(),y=Ca(p,a,c,d);return y!==Nt&&gs(zt(),Vn(),p,o,y,p[11],f,!1),_w}function nS(o,a,c,d,f){const p=o[c+1],y=null===a;let w=d?go(p):Uo(p),E=!1;for(;0!==w&&(!1===E||y);){const x=o[w+1];PO(o[w],a)&&(E=!0,o[w+1]=d?cg(x):ag(x)),w=d?go(x):Uo(x)}E&&(o[c+1]=d?ag(p):cg(p))}function PO(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Oo(o,a)>=0}const Yi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function iS(o){return o.substring(Yi.key,Yi.keyEnd)}function rS(o,a){const c=Yi.textEnd;return c===a?-1:(a=Yi.keyEnd=function BO(o,a,c){for(;a<c&&o.charCodeAt(a)>32;)a++;return a}(o,Yi.key=a,c),Df(o,a,c))}function Df(o,a,c){for(;a<c&&o.charCodeAt(a)<=32;)a++;return a}function vw(o,a,c){return Ea(o,a,c,!1),vw}function bw(o,a){return Ea(o,a,null,!0),bw}function cS(o){Da(xi,wl,o,!0)}function wl(o,a){for(let c=function FO(o){return function oS(o){Yi.key=0,Yi.keyEnd=0,Yi.value=0,Yi.valueEnd=0,Yi.textEnd=o.length}(o),rS(o,Df(o,0,Yi.textEnd))}(a);c>=0;c=rS(a,c))xi(o,iS(a),!0)}function Ea(o,a,c,d){const f=Me(),p=zt(),y=Pr(2);p.firstUpdatePass&&dS(p,o,y,d),a!==Nt&&Ri(f,y,a)&&fS(p,p.data[Ai()],f,f[11],o,f[y+1]=function ZO(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=ce(hs(o)))),o}(a,c),d,y)}function Da(o,a,c,d){const f=zt(),p=Pr(2);f.firstUpdatePass&&dS(f,null,p,d);const y=Me();if(c!==Nt&&Ri(y,p,c)){const w=f.data[Ai()];if(gS(w,d)&&!uS(f,p)){let E=d?w.classesWithoutHost:w.stylesWithoutHost;null!==E&&(c=me(E,c||"")),uw(f,w,y,c,d)}else!function $O(o,a,c,d,f,p,y,w){f===Nt&&(f=U);let E=0,S=0,x=0<f.length?f[0]:null,F=0<p.length?p[0]:null;for(;null!==x||null!==F;){const q=E<f.length?f[E+1]:void 0,J=S<p.length?p[S+1]:void 0;let Ve,De=null;x===F?(E+=2,S+=2,q!==J&&(De=F,Ve=J)):null===F||null!==x&&x<F?(E+=2,De=x):(S+=2,De=F,Ve=J),null!==De&&fS(o,a,c,d,De,Ve,y,w),x=E<f.length?f[E]:null,F=S<p.length?p[S]:null}}(f,w,y,y[11],y[p+1],y[p+1]=function GO(o,a,c){if(null==c||""===c)return U;const d=[],f=hs(c);if(Array.isArray(f))for(let p=0;p<f.length;p++)o(d,f[p],!0);else if("object"==typeof f)for(const p in f)f.hasOwnProperty(p)&&o(d,p,f[p]);else"string"==typeof f&&a(d,f);return d}(o,a,c),d,p)}}function uS(o,a){return a>=o.expandoStartIndex}function dS(o,a,c,d){const f=o.data;if(null===f[c+1]){const p=f[Ai()],y=uS(o,c);gS(p,d)&&null===a&&!y&&(a=!1),a=function HO(o,a,c,d){const f=aa(o);let p=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(c=Mg(c=ww(null,o,a,c,d),a.attrs,d),p=null);else{const y=a.directiveStylingLast;if(-1===y||o[y]!==f)if(c=ww(f,o,a,c,d),null===p){let E=function jO(o,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==Uo(d))return o[go(d)]}(o,a,d);void 0!==E&&Array.isArray(E)&&(E=ww(null,o,a,E[1],d),E=Mg(E,a.attrs,d),function zO(o,a,c,d){o[go(c?a.classBindings:a.styleBindings)]=d}(o,a,d,E))}else p=function qO(o,a,c){let d;const f=a.directiveEnd;for(let p=1+a.directiveStylingLast;p<f;p++)d=Mg(d,o[p].hostAttrs,c);return Mg(d,a.attrs,c)}(o,a,d)}return void 0!==p&&(d?a.residualClasses=p:a.residualStyles=p),c}(f,p,a,d),function RO(o,a,c,d,f,p){let y=p?a.classBindings:a.styleBindings,w=go(y),E=Uo(y);o[d]=c;let x,S=!1;if(Array.isArray(c)){const F=c;x=F[1],(null===x||Oo(F,x)>0)&&(S=!0)}else x=c;if(f)if(0!==E){const q=go(o[w+1]);o[d+1]=og(q,w),0!==q&&(o[q+1]=lg(o[q+1],d)),o[w+1]=function U_(o,a){return 131071&o|a<<17}(o[w+1],d)}else o[d+1]=og(w,0),0!==w&&(o[w+1]=lg(o[w+1],d)),w=d;else o[d+1]=og(E,0),0===w?w=d:o[E+1]=lg(o[E+1],d),E=d;S&&(o[d+1]=ag(o[d+1])),nS(o,x,d,!0),nS(o,x,d,!1),function OO(o,a,c,d,f){const p=f?o.residualClasses:o.residualStyles;null!=p&&"string"==typeof a&&Oo(p,a)>=0&&(c[d+1]=cg(c[d+1]))}(a,x,o,d,p),y=og(w,E),p?a.classBindings=y:a.styleBindings=y}(f,p,a,c,y,d)}}function ww(o,a,c,d,f){let p=null;const y=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<y&&(p=a[w],d=Mg(d,p.hostAttrs,f),p!==o);)w++;return null!==o&&(c.directiveStylingLast=w),d}function Mg(o,a,c){const d=c?1:2;let f=-1;if(null!==a)for(let p=0;p<a.length;p++){const y=a[p];"number"==typeof y?f=y:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),xi(o,y,!!c||a[++p]))}return void 0===o?null:o}function fS(o,a,c,d,f,p,y,w){if(!(3&a.type))return;const E=o.data,S=E[w+1];Py(function H_(o){return 1==(1&o)}(S)?pS(E,a,c,f,Uo(S),y):void 0)||(Py(p)||function V_(o){return 2==(2&o)}(S)&&(p=pS(E,null,c,f,w,y)),function LT(o,a,c,d,f){const p=En(o);if(a)f?p?o.addClass(c,d):c.classList.add(d):p?o.removeClass(c,d):c.classList.remove(d);else{let y=-1===d.indexOf("-")?void 0:va.DashCase;if(null==f)p?o.removeStyle(c,d,y):c.style.removeProperty(d);else{const w="string"==typeof f&&f.endsWith("!important");w&&(f=f.slice(0,-10),y|=va.Important),p?o.setStyle(c,d,f,y):c.style.setProperty(d,f,w?"important":"")}}}(d,y,ao(Ai(),c),f,p))}function pS(o,a,c,d,f,p){const y=null===a;let w;for(;f>0;){const E=o[f],S=Array.isArray(E),x=S?E[1]:E,F=null===x;let q=c[f+1];q===Nt&&(q=F?U:void 0);let J=F?rc(q,d):x===d?q:void 0;if(S&&!Py(J)&&(J=rc(E,d)),Py(J)&&(w=J,y))return w;const De=o[f+1];f=y?go(De):Uo(De)}if(null!==a){let E=p?a.residualClasses:a.residualStyles;null!=E&&(w=rc(E,d))}return w}function Py(o){return void 0!==o}function gS(o,a){return 0!=(o.flags&(a?16:32))}function mS(o,a=""){const c=Me(),d=zt(),f=o+20,p=d.firstCreatePass?sf(d,f,1,a,null):d.data[f],y=c[f]=function Xp(o,a){return En(o)?o.createText(a):o.createTextNode(a)}(c[11],a);Fd(d,c,y,p),pr(p,!1)}function Cw(o){return Ny("",o,""),Cw}function Ny(o,a,c){const d=Me(),f=Ca(d,o,a,c);return f!==Nt&&wa(d,Ai(),f),Ny}function Ew(o,a,c,d,f){const p=Me(),y=Ec(p,o,a,c,d,f);return y!==Nt&&wa(p,Ai(),y),Ew}function DS(o,a,c){Da(xi,wl,Ca(Me(),o,a,c),!0)}function Vy(o,a,c){const d=Me();return Ri(d,co(),a)&&gs(zt(),Vn(),d,o,a,d[11],c,!0),Vy}function Lu(o,a,c){const d=Me();if(Ri(d,co(),a)){const p=zt(),y=Vn();gs(p,y,d,o,a,Z0(aa(p.data),y,d),c,!0)}return Lu}const Yd=void 0;var SS=["en",[["a","p"],["AM","PM"],Yd],[["AM","PM"],Yd,Yd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yd,"{1} 'at' {0}",Yd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function uP(o){const c=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Tf={};function Uy(o){const a=function Mw(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=Aw(a);if(c)return c;const d=a.split("-")[0];if(c=Aw(d),c)return c;if("en"===d)return SS;throw new Error(`Missing locale data for the locale "${o}".`)}function Hy(o){return Uy(o)[yt.PluralCase]}function Aw(o){return o in Tf||(Tf[o]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[o]),Tf[o]}var yt=(()=>((yt=yt||{})[yt.LocaleId=0]="LocaleId",yt[yt.DayPeriodsFormat=1]="DayPeriodsFormat",yt[yt.DayPeriodsStandalone=2]="DayPeriodsStandalone",yt[yt.DaysFormat=3]="DaysFormat",yt[yt.DaysStandalone=4]="DaysStandalone",yt[yt.MonthsFormat=5]="MonthsFormat",yt[yt.MonthsStandalone=6]="MonthsStandalone",yt[yt.Eras=7]="Eras",yt[yt.FirstDayOfWeek=8]="FirstDayOfWeek",yt[yt.WeekendRange=9]="WeekendRange",yt[yt.DateFormat=10]="DateFormat",yt[yt.TimeFormat=11]="TimeFormat",yt[yt.DateTimeFormat=12]="DateTimeFormat",yt[yt.NumberSymbols=13]="NumberSymbols",yt[yt.NumberFormats=14]="NumberFormats",yt[yt.CurrencyCode=15]="CurrencyCode",yt[yt.CurrencySymbol=16]="CurrencySymbol",yt[yt.CurrencyName=17]="CurrencyName",yt[yt.Currencies=18]="Currencies",yt[yt.Directionality=19]="Directionality",yt[yt.PluralCase=20]="PluralCase",yt[yt.ExtraData=21]="ExtraData",yt))();const kg="en-US";let Wo=kg;function Rf(o,a,c,d,f){if(o=te(o),Array.isArray(o))for(let p=0;p<o.length;p++)Rf(o[p],a,c,d,f);else{const p=zt(),y=Me();let w=Su(o)?o:te(o.provide),E=aI(o);const S=kn(),x=1048575&S.providerIndexes,F=S.directiveStart,q=S.providerIndexes>>20;if(Su(o)||!o.multi){const J=new Yl(E,f,Sg),De=Qw(w,a,f?x:x+q,F);-1===De?(Gi(nn(S,y),p,w),Kw(p,o,a.length),a.push(w),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),c.push(J),y.push(J)):(c[De]=J,y[De]=J)}else{const J=Qw(w,a,x+q,F),De=Qw(w,a,x,x+q),Ve=J>=0&&c[J],Ye=De>=0&&c[De];if(f&&!Ye||!f&&!Ve){Gi(nn(S,y),p,w);const st=function Qy(o,a,c,d,f){const p=new Yl(o,c,Sg);return p.multi=[],p.index=a,p.componentProviders=0,Ug(p,f,d&&!c),p}(f?Of:Jw,c.length,f,d,E);!f&&Ye&&(c[De].providerFactory=st),Kw(p,o,a.length,0),a.push(w),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),c.push(st),y.push(st)}else Kw(p,o,J>-1?J:De,Ug(c[f?De:J],E,!f&&d));!f&&d&&Ye&&c[De].componentProviders++}}}function Kw(o,a,c,d){const f=Su(a),p=function uI(o){return!!o.useClass}(a);if(f||p){const E=(p?te(a.useClass):a).prototype.ngOnDestroy;if(E){const S=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const x=S.indexOf(c);-1===x?S.push(c,[d,E]):S[x+1].push(d,E)}else S.push(c,E)}}}function Ug(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function Qw(o,a,c,d){for(let f=c;f<d;f++)if(a[f]===o)return f;return-1}function Jw(o,a,c,d){return Hg(this.multi,[])}function Of(o,a,c,d){const f=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=In(c,c[1],this.providerFactory.index,d);p=w.slice(0,y),Hg(f,p);for(let E=y;E<w.length;E++)p.push(w[E])}else p=[],Hg(f,p);return p}function Hg(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function Xw(o,a=[]){return c=>{c.providersResolver=(d,f)=>function MP(o,a,c){const d=zt();if(d.firstCreatePass){const f=rs(o);Rf(c,d.data,d.blueprint,f,!0),Rf(a,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,a)}}class Dl{}class Xy{resolveComponentFactory(a){throw function eC(o){const a=Error(`No component factory found for ${ce(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let cr=(()=>{class o{}return o.NULL=new Xy,o})();function nC(){return Ac(kn(),Me())}function Ac(o,a){return new Kd(ci(o,a))}let Kd=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=nC,o})();function xP(o){return o instanceof Kd?o.nativeElement:o}class Mc{}let iC=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function $S(){const o=Me(),c=Si(kn().index,o);return function rC(o){return o[11]}(bi(c)?c:o)}(),o})(),sC=(()=>{class o{}return o.\u0275prov=sn({token:o,providedIn:"root",factory:()=>null}),o})();class ev{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const ZS=new ev("13.2.1"),zg={};function Qd(o,a,c,d,f=!1){for(;null!==c;){const p=a[c.index];if(null!==p&&d.push(vn(p)),qi(p))for(let w=10;w<p.length;w++){const E=p[w],S=E[1].firstChild;null!==S&&Qd(E[1],E,S,d)}const y=c.type;if(8&y)Qd(o,a,c.child,d);else if(32&y){const w=E_(c,a);let E;for(;E=w();)d.push(E)}else if(16&y){const w=b0(a,c);if(Array.isArray(w))d.push(...w);else{const E=Kh(a[16]);Qd(E[1],E,w,d,!0)}}c=f?c.projectionNext:c.next}return d}class Pf{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return Qd(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(qi(a)){const c=a[8],d=c?c.indexOf(this):-1;d>-1&&(tg(a,d),al(c,d))}this._attachedToViewContainer=!1}h0(this._lView[1],this._lView)}onDestroy(a){ty(this._lView[1],this._lView,null,a)}markForCheck(){oy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){yg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function cy(o,a,c){Gl(!0);try{yg(o,a,c)}finally{Gl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function I_(o,a){Ld(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Fe(902,"");this._appRef=a}}class oC extends Pf{constructor(a){super(a),this._view=a}detectChanges(){$0(this._view)}checkNoChanges(){!function eI(o){Gl(!0);try{$0(o)}finally{Gl(!1)}}(this._view)}get context(){return null}}class aC extends cr{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=ct(a);return new Wg(c,this.ngModule)}}function qg(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}const $g=new jn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>n0});class Wg extends Dl{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function x0(o){return o.map(M0).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return qg(this.componentDef.inputs)}get outputs(){return qg(this.componentDef.outputs)}create(a,c,d,f){const p=(f=f||this.ngModule)?function Zg(o,a){return{get:(c,d,f)=>{const p=o.get(c,zg,f);return p!==zg||d===zg?p:a.get(c,d,f)}}}(a,f.injector):a,y=p.get(Mc,ra),w=p.get(sC,null),E=y.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",x=d?function ey(o,a,c){if(En(o))return o.selectRootElement(a,c===Pt.ShadowDom);let d="string"==typeof a?o.querySelector(a):a;return d.textContent="",d}(E,d,this.componentDef.encapsulation):Wi(y.createRenderer(null,this.componentDef),S,function Gg(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(S)),F=this.componentDef.onPush?576:528,q=function wI(o,a){return{components:[],scheduler:o||n0,clean:nI,playerHandler:a||null,flags:0}}(),J=Tu(0,null,null,1,0,null,null,null,null,null),De=vc(null,J,q,F,null,null,y,E,w,p);let Ve,Ye;Ja(De);try{const st=function wy(o,a,c,d,f,p){const y=c[1];c[20]=o;const E=sf(y,20,2,"#host",null),S=E.mergedAttrs=a.hostAttrs;null!==S&&(ml(E,S,!0),null!==o&&(We(f,o,S),null!==E.classes&&R_(f,o,E.classes),null!==E.styles&&k_(f,o,E.styles)));const x=d.createRenderer(o,a),F=vc(c,J_(a),null,a.onPush?64:16,c[20],E,d,x,p||null,null);return y.firstCreatePass&&(Gi(nn(E,c),y,a.type),z0(y,E),YT(E,c.length,1)),pf(c,F),c[20]=F}(x,this.componentDef,De,y,E);if(x)if(d)We(E,x,["ng-version",ZS.full]);else{const{attrs:ke,classes:Et}=function Qh(o){const a=[],c=[];let d=1,f=2;for(;d<o.length;){let p=o[d];if("string"==typeof p)2===f?""!==p&&a.push(p,o[++d]):8===f&&c.push(p);else{if(!Vo(f))break;f=p}d++}return{attrs:a,classes:c}}(this.componentDef.selectors[0]);ke&&We(E,x,ke),Et&&Et.length>0&&R_(E,x,Et.join(" "))}if(Ye=Zn(J,20),void 0!==c){const ke=Ye.projection=[];for(let Et=0;Et<this.ngContentSelectors.length;Et++){const en=c[Et];ke.push(null!=en?Array.from(en):null)}}Ve=function rw(o,a,c,d,f){const p=c[1],y=function dO(o,a,c){const d=kn();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),ny(o,d,a,ba(o,a,1,null),c));const f=In(a,o,d.directiveStart,d);_r(f,a);const p=ci(d,a);return p&&_r(p,a),f}(p,c,a);if(d.components.push(y),o[8]=y,f&&f.forEach(E=>E(y,a)),a.contentQueries){const E=kn();a.contentQueries(1,y,E.directiveStart)}const w=kn();return!p.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Ds(w.index),U0(c[1],w,0,w.directiveStart,w.directiveEnd,a),_g(a,y)),y}(st,this.componentDef,De,q,[CI]),bc(J,De,null)}finally{la()}return new nv(this.componentType,Ve,Ac(Ye,De),De,Ye)}}class nv extends class Jy{}{constructor(a,c,d,f,p){super(),this.location=d,this._rootLView=f,this._tNode=p,this.instance=c,this.hostView=this.changeDetectorRef=new oC(f),this.componentType=a}get injector(){return new Sn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class Xd{}class Vu{}const Uu=new Map;class cC extends Xd{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new aC(this);const d=Ut(a);this._bootstrapComponents=Bo(d.bootstrap),this._r3Injector=gy(a,c,[{provide:Xd,useValue:this},{provide:cr,useValue:this.componentFactoryResolver}],ce(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,c=di.THROW_IF_NOT_FOUND,d=mt.Default){return a===di||a===Xd||a===bg?this:this._r3Injector.get(a,c,d)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Nf extends Vu{constructor(a){super(),this.moduleType=a,null!==Ut(a)&&function lC(o){const a=new Set;!function c(d){const f=Ut(d,!0),p=f.id;null!==p&&(function iv(o,a,c){if(a&&a!==c)throw new Error(`Duplicate module registered for ${o} - ${ce(a)} vs ${ce(a.name)}`)}(p,Uu.get(p),d),Uu.set(p,d));const y=Bo(f.imports);for(const w of y)a.has(w)||(a.add(w),c(w))}(o)}(a)}create(a){return new cC(this.moduleType,a)}}function Ff(o,a,c,d){return hC(Me(),Wn(),o,a,c,d)}function Lf(o,a,c,d,f){return fC(Me(),Wn(),o,a,c,d,f)}function kc(o,a){const c=o[a];return c===Nt?void 0:c}function hC(o,a,c,d,f,p){const y=a+c;return Ri(o,y,f)?Go(o,y+1,p?d.call(p,f):d(f)):kc(o,y+1)}function fC(o,a,c,d,f,p,y){const w=a+c;return ku(o,w,f,p)?Go(o,w+2,y?d.call(y,f,p):d(f,p)):kc(o,w+2)}function sv(o,a){const c=zt();let d;const f=o+20;c.firstCreatePass?(d=function gC(o,a){if(a)for(let c=a.length-1;c>=0;c--){const d=a[c];if(o===d.name)return d}}(a,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const p=d.factory||(d.factory=xr(d.type)),y=Jt(Sg);try{const w=Is(!1),E=p();return Is(w),function vO(o,a,c,d){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),a[c]=d}(c,Me(),f,E),E}finally{Jt(y)}}function mC(o,a,c){const d=o+20,f=Me(),p=ss(f,d);return Uf(f,d)?hC(f,Wn(),a,p.transform,c,p):p.transform(c)}function Qg(o,a,c,d){const f=o+20,p=Me(),y=ss(p,f);return Uf(p,f)?fC(p,Wn(),a,y.transform,c,d,y):y.transform(c,d)}function Uf(o,a){return o[1].data[a].pure}function ov(o){return a=>{setTimeout(o,void 0,a)}}const Vs=class eA extends s.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){var f,p,y;let w=a,E=c||(()=>null),S=d;if(a&&"object"==typeof a){const F=a;w=null===(f=F.next)||void 0===f?void 0:f.bind(F),E=null===(p=F.error)||void 0===p?void 0:p.bind(F),S=null===(y=F.complete)||void 0===y?void 0:y.bind(F)}this.__isAsync&&(E=ov(E),w&&(w=ov(w)),S&&(S=ov(S)));const x=super.subscribe({next:w,error:E,complete:S});return a instanceof V.w0&&a.add(x),x}};function tA(){return this._results[Mu()]()}class Ta{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Mu(),d=Ta.prototype;d[c]||(d[c]=tA)}get changes(){return this._changes||(this._changes=new Vs)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const f=Vi(a);(this._changesDetected=!function tc(o,a,c){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],p=a[d];if(c&&(f=c(f),p=c(p)),p!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ju=(()=>{class o{}return o.__NG_ELEMENT_ID__=nA,o})();const av=ju,Jg=class extends av{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(a){const c=this._declarationTContainer.tViews,d=vc(this._declarationLView,c,a,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(d[19]=p.createEmbeddedView(c)),bc(c,d,a),new Pf(d)}};function nA(){return Xg(kn(),Me())}function Xg(o,a){return 4&o.type?new Jg(a,o,Ac(o,a)):null}let em=(()=>{class o{}return o.__NG_ELEMENT_ID__=iA,o})();function iA(){return nm(kn(),Me())}const rA=em,tm=class extends rA{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return Ac(this._hostTNode,this._hostLView)}get injector(){return new Sn(this._hostTNode,this._hostLView)}get parentInjector(){const a=fa(this._hostTNode,this._hostLView);if(Yn(a)){const c=xo(a,this._hostLView),d=ca(a);return new Sn(c[1].data[d+8],c)}return new Sn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=yC(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,d){const f=a.createEmbeddedView(c||{});return this.insert(f,d),f}createComponent(a,c,d,f,p){const y=a&&!function ol(o){return"function"==typeof o}(a);let w;if(y)w=c;else{const F=c||{};w=F.index,d=F.injector,f=F.projectableNodes,p=F.ngModuleRef}const E=y?a:new Wg(ct(a)),S=d||this.parentInjector;if(!p&&null==E.ngModule&&S){const F=S.get(Xd,null);F&&(p=F)}const x=E.create(S,f,void 0,p);return this.insert(x.hostView,w),x}insert(a,c){const d=a._lView,f=d[1];if(function $a(o){return qi(o[3])}(d)){const x=this.indexOf(a);if(-1!==x)this.detach(x);else{const F=d[3],q=new tm(F,F[6],F[3]);q.detach(q.indexOf(a))}}const p=this._adjustIndex(c),y=this._lContainer;!function Nd(o,a,c,d){const f=10+d,p=c.length;d>0&&(c[f-1][4]=a),d<p-10?(a[4]=c[f],_a(c,10+d,a)):(c.push(a),a[4]=null),a[3]=c;const y=a[17];null!==y&&c!==y&&function PT(o,a){const c=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===c?o[9]=[a]:c.push(a)}(y,a);const w=a[19];null!==w&&w.insertView(o),a[2]|=128}(f,d,y,p);const w=sg(p,y),E=d[11],S=ig(E,y[7]);return null!==S&&function eg(o,a,c,d,f,p){d[0]=f,d[6]=a,Ld(o,d,c,1,f,p)}(f,y[6],E,d,S,w),a.attachToViewContainerRef(),_a(eh(y),p,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=yC(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=tg(this._lContainer,c);d&&(al(eh(this._lContainer),c),h0(d[1],d))}detach(a){const c=this._adjustIndex(a,-1),d=tg(this._lContainer,c);return d&&null!=al(eh(this._lContainer),c)?new Pf(d):null}_adjustIndex(a,c=0){return null==a?this.length+c:a}};function yC(o){return o[8]}function eh(o){return o[8]||(o[8]=[])}function nm(o,a){let c;const d=a[o.index];if(qi(d))c=d;else{let f;if(8&o.type)f=vn(d);else{const p=a[11];f=p.createComment("");const y=ci(o,a);gc(p,ig(p,y),f,function FT(o,a){return En(o)?o.nextSibling(a):a.nextSibling}(p,y),!1)}a[o.index]=c=Vd(d,a,f,o),pf(a,c)}return new tm(c,o,a)}class lv{constructor(a){this.queryList=a,this.matches=null}clone(){return new lv(this.queryList)}setDirty(){this.queryList.setDirty()}}class vC{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,f=[];for(let p=0;p<d;p++){const y=c.getByIndex(p);f.push(this.queries[y.indexInDeclarationView].clone())}return new vC(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==xC(a,c).matches&&this.queries[c].setDirty()}}class rm{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class bC{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,p=this.getByIndex(d).embeddedTView(a,f);p&&(p.indexInDeclarationView=d,null!==c?c.push(p):c=[p])}return null!==c?new bC(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class cv{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new cv(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const p=d[f];this.matchTNodeWithReadOption(a,c,aA(c,p)),this.matchTNodeWithReadOption(a,c,Fr(c,a,p,!1,!1))}else d===ju?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Fr(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Kd||f===em||f===ju&&4&c.type)this.addMatch(c.index,-2);else{const p=Fr(c,a,f,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function aA(o,a){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function wC(o,a,c,d){return-1===c?function lA(o,a){return 11&o.type?Ac(o,a):4&o.type?Xg(o,a):null}(a,o):-2===c?function uv(o,a,c){return c===Kd?Ac(a,o):c===ju?Xg(a,o):c===em?nm(a,o):void 0}(o,a,d):In(o,o[1],c,a)}function dv(o,a,c,d){const f=a[19].queries[d];if(null===f.matches){const p=o.data,y=c.matches,w=[];for(let E=0;E<y.length;E+=2){const S=y[E];w.push(S<0?null:wC(a,p[S],y[E+1],c.metadata.read))}f.matches=w}return f.matches}function hv(o,a,c,d){const f=o.queries.getByIndex(c),p=f.matches;if(null!==p){const y=dv(o,a,f,c);for(let w=0;w<p.length;w+=2){const E=p[w];if(E>0)d.push(y[w/2]);else{const S=p[w+1],x=a[-E];for(let F=10;F<x.length;F++){const q=x[F];q[17]===q[3]&&hv(q[1],q,S,d)}if(null!==x[9]){const F=x[9];for(let q=0;q<F.length;q++){const J=F[q];hv(J[1],J,S,d)}}}}}return d}function CC(o){const a=Me(),c=zt(),d=eu();tu(d+1);const f=xC(c,d);if(o.dirty&&To(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const p=f.crossesNgTemplate?hv(c,a,d,[]):dv(c,a,f,d);o.reset(p,xP),o.notifyOnChanges()}return!0}return!1}function EC(o,a,c){const d=zt();d.firstCreatePass&&(AC(d,new rm(o,a,c),-1),2==(2&a)&&(d.staticViewQueries=!0)),SC(d,Me(),a)}function DC(o,a,c,d){const f=zt();if(f.firstCreatePass){const p=kn();AC(f,new rm(a,c,d),p.index),function MC(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(f,o),2==(2&c)&&(f.staticContentQueries=!0)}SC(f,Me(),c)}function TC(){return function IC(o,a){return o[19].queries[a].queryList}(Me(),eu())}function SC(o,a,c){const d=new Ta(4==(4&c));ty(o,a,d,d.destroy),null===a[19]&&(a[19]=new vC),a[19].queries.push(new lv(d))}function AC(o,a,c){null===o.queries&&(o.queries=new bC),o.queries.track(new cv(a,c))}function xC(o,a){return o.queries.getByIndex(a)}function bv(...o){}const wv=new jn("Application Initializer");let nh=(()=>{class o{constructor(c){this.appInits=c,this.resolve=bv,this.reject=bv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const p=this.appInits[f]();if(Ry(p))c.push(p);else if(jI(p)){const y=new Promise((w,E)=>{p.subscribe({complete:w,error:E})});c.push(y)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(Ie(wv,8))},o.\u0275prov=sn({token:o,factory:o.\u0275fac}),o})();const HC=new jn("AppId"),LP={provide:HC,useFactory:function jC(){return`${zC()}${zC()}${zC()}`},deps:[]};function zC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qC=new jn("Platform Initializer"),GC=new jn("Platform ID"),dn=new jn("appBootstrapListener");let TA=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=sn({token:o,factory:o.\u0275fac}),o})();const Cv=new jn("LocaleId"),cm=new jn("DefaultCurrencyCode");class Ev{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let ZC=(()=>{class o{compileModuleSync(c){return new Nf(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),p=Bo(Ut(c).declarations).reduce((y,w)=>{const E=ct(w);return E&&y.push(new Wg(E)),y},[]);return new Ev(d,p)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=sn({token:o,factory:o.\u0275fac}),o})();const UP=(()=>Promise.resolve(0))();function WC(o){"undefined"==typeof Zone?UP.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class _o{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vs(!1),this.onMicrotaskEmpty=new Vs(!1),this.onStable=new Vs(!1),this.onError=new Vs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function HP(){let o=Zt.requestAnimationFrame,a=Zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function qP(o){const a=()=>{!function zP(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Zt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,KC(o),o.isCheckStableRunning=!0,YC(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),KC(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,p,y,w)=>{try{return ih(o),c.invokeTask(f,p,y,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||o.shouldCoalesceRunChangeDetection)&&a(),IA(o)}},onInvoke:(c,d,f,p,y,w,E)=>{try{return ih(o),c.invoke(f,p,y,w,E)}finally{o.shouldCoalesceRunChangeDetection&&a(),IA(o)}},onHasTask:(c,d,f,p)=>{c.hasTask(f,p),d===f&&("microTask"==p.change?(o._hasPendingMicrotasks=p.microTask,KC(o),YC(o)):"macroTask"==p.change&&(o.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,d,f,p)=>(c.handleError(f,p),o.runOutsideAngular(()=>o.onError.emit(p)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_o.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_o.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,f){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+f,a,jP,bv,bv);try{return p.runTask(y,c,d)}finally{p.cancelTask(y)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const jP={};function YC(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function KC(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function ih(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function IA(o){o._nesting--,YC(o)}class GP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vs,this.onMicrotaskEmpty=new Vs,this.onStable=new Vs,this.onError=new Vs}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,f){return a.apply(c,d)}}let rh=(()=>{class o{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_o.assertNotInAngularZone(),WC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())WC(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,f){return[]}}return o.\u0275fac=function(c){return new(c||o)(Ie(_o))},o.\u0275prov=sn({token:o,factory:o.\u0275fac}),o})(),SA=(()=>{class o{constructor(){this._applications=new Map,Dv.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Dv.findTestabilityInTree(this,c,d)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=sn({token:o,factory:o.\u0275fac}),o})();class AA{addToWindow(a){}findTestabilityInTree(a,c,d){return null}}function QC(o){Dv=o}let Hs,Dv=new AA;const eE=new jn("AllowMultipleToken");class xA{constructor(a,c){this.name=a,this.token=c}}function qu(o,a,c=[]){const d=`Platform: ${a}`,f=new jn(d);return(p=[])=>{let y=nE();if(!y||y.injector.get(eE,!1))if(o)o(c.concat(p).concat({provide:f,useValue:!0}));else{const w=c.concat(p).concat({provide:f,useValue:!0},{provide:hy,useValue:"platform"});!function tE(o){if(Hs&&!Hs.destroyed&&!Hs.injector.get(eE,!1))throw new Fe(400,"");Hs=o.get(Tv);const a=o.get(qC,null);a&&a.forEach(c=>c())}(di.create({providers:w,name:d}))}return function Wf(o){const a=nE();if(!a)throw new Fe(401,"");return a}()}}function nE(){return Hs&&!Hs.destroyed?Hs:null}let Tv=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const w=function ZP(o,a){let c;return c="noop"===o?new GP:("zone.js"===o?void 0:o)||new _o({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),E=[{provide:_o,useValue:w}];return w.run(()=>{const S=di.create({providers:E,parent:this.injector,name:c.moduleType.name}),x=c.create(S),F=x.injector.get(Yh,null);if(!F)throw new Fe(402,"");return w.runOutsideAngular(()=>{const q=w.onError.subscribe({next:J=>{F.handleError(J)}});x.onDestroy(()=>{iE(this._modules,x),q.unsubscribe()})}),function WP(o,a,c){try{const d=c();return Ry(d)?d.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(F,w,()=>{const q=x.injector.get(nh);return q.runInitializers(),q.donePromise.then(()=>(function MS(o){ft(o,"Expected localeId to be defined"),"string"==typeof o&&(Wo=o.toLowerCase().replace(/_/g,"-"))}(x.injector.get(Cv,kg)||kg),this._moduleDoBootstrap(x),x))})})}bootstrapModule(c,d=[]){const f=kA({},d);return function JC(o,a,c){const d=new Nf(c);return Promise.resolve(d)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,f))}_moduleDoBootstrap(c){const d=c.injector.get(sh);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Fe(403,"");c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(Ie(di))},o.\u0275prov=sn({token:o,factory:o.\u0275fac}),o})();function kA(o,a){return Array.isArray(a)?a.reduce(kA,o):Object.assign(Object.assign({},o),a)}let sh=(()=>{class o{constructor(c,d,f,p,y){this._zone=c,this._injector=d,this._exceptionHandler=f,this._componentFactoryResolver=p,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new R.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),E=new R.y(S=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{_o.assertNotInAngularZone(),WC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const F=this._zone.onUnstable.subscribe(()=>{_o.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{x.unsubscribe(),F.unsubscribe()}});this.isStable=(0,ae.T)(w,E.pipe((0,se.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Fe(405,"");let f;f=c instanceof Dl?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(f.componentType);const p=function XC(o){return o.isBoundToModule}(f)?void 0:this._injector.get(Xd),w=f.create(di.NULL,[],d||f.selector,p),E=w.location.nativeElement,S=w.injector.get(rh,null),x=S&&w.injector.get(SA);return S&&x&&x.registerApplication(E,S),w.onDestroy(()=>{this.detachView(w.hostView),iE(this.components,w),x&&x.unregisterApplication(E)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Fe(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;iE(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(dn,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(c){return new(c||o)(Ie(_o),Ie(di),Ie(Yh),Ie(cr),Ie(nh))},o.\u0275prov=sn({token:o,factory:o.\u0275fac}),o})();function iE(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}let sE=!0,Iv=!1;function oE(){return Iv=!0,sE}function OA(){if(Iv)throw new Error("Cannot enable prod mode after platform setup.");sE=!1}let NA=(()=>{class o{}return o.__NG_ELEMENT_ID__=KP,o})();function KP(o){return function FA(o,a,c){if(ad(o)&&!c){const d=Si(o.index,a);return new Pf(d,d)}return 47&o.type?new Pf(a[16],a):null}(kn(),Me(),16==(16&o))}class hm{constructor(){}supports(a){return xu(a)}create(a){return new s1(a)}}const r1=(o,a)=>a;class s1{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||r1}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,f=0,p=null;for(;c||d;){const y=!d||c&&c.currentIndex<zA(d,f,p)?c:d,w=zA(y,f,p),E=y.currentIndex;if(y===d)f--,d=d._nextRemoved;else if(c=c._next,null==y.previousIndex)f++;else{p||(p=[]);const S=w-f,x=E-f;if(S!=x){for(let q=0;q<S;q++){const J=q<p.length?p[q]:p[q]=0,De=J+q;x<=De&&De<S&&(p[q]=J+1)}p[y.previousIndex]=x-S}}w!==E&&a(y,w,E)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!xu(a))throw new Fe(900,"");return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,p,y,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)p=a[w],y=this._trackByFn(w,p),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,p,y,w)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,y,w),d=!0),c=c._next}else f=0,function _O(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[Mu()]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,w=>{y=this._trackByFn(f,w),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,w,y,f)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,y,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,f){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,p,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,p,f)):a=this._addAfter(new UA(c,d),p,f),a}_verifyReinsertion(a,c,d,f){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?a=this._reinsertAfter(p,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,p=a._nextRemoved;return null===f?this._removalsHead=p:f._nextRemoved=p,null===p?this._removalsTail=f:p._prevRemoved=f,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const f=null===c?this._itHead:c._next;return a._next=f,a._prev=c,null===f?this._itTail=a:f._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new jA),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jA),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class UA{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class HA{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class jA{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new HA,this.map.set(c,d)),d.add(a)}get(a,c){const f=this.map.get(a);return f?f.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zA(o,a,c){const d=o.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+a+f}class qA{constructor(){}supports(a){return a instanceof Map||Cc(a)}create(){return new o1}}class o1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||Cc(a)))throw new Fe(900,"")}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,c);const p=f._prev,y=f._next;return p&&(p._next=y),y&&(y._prev=p),f._next=null,f._prev=null,f}const d=new a1(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class a1{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function GA(){return new Mv([new hm])}let Mv=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||GA()),deps:[[o,new Hi,new or]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Fe(901,"")}}return o.\u0275prov=sn({token:o,providedIn:"root",factory:GA}),o})();function Ia(){return new Rt([new qA])}let Rt=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||Ia()),deps:[[o,new Hi,new or]]}}find(c){const d=this.factories.find(p=>p.supports(c));if(d)return d;throw new Fe(901,"")}}return o.\u0275prov=sn({token:o,providedIn:"root",factory:Ia}),o})();const js=[new qA],Jf=new Mv([new hm]),pE=new Rt(js),$A=qu(null,"core",[{provide:GC,useValue:"unknown"},{provide:Tv,deps:[di]},{provide:SA,deps:[]},{provide:TA,deps:[]}]),c1=[{provide:sh,useClass:sh,deps:[_o,di,Yh,cr,nh]},{provide:$g,deps:[_o],useFactory:function u1(o){let a=[];return o.onStable.subscribe(()=>{for(;a.length;)a.pop()()}),function(c){a.push(c)}}},{provide:nh,useClass:nh,deps:[[new or,wv]]},{provide:ZC,useClass:ZC,deps:[]},LP,{provide:Mv,useFactory:function l1(){return Jf},deps:[]},{provide:Rt,useFactory:function xv(){return pE},deps:[]},{provide:Cv,useFactory:function ZA(o){return o||function WA(){return"undefined"!=typeof $localize&&$localize.locale||kg}()},deps:[[new xs(Cv),new or,new Hi]]},{provide:cm,useValue:"USD"}];let YA=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(Ie(sh))},o.\u0275mod=oe({type:o}),o.\u0275inj=ln({providers:c1}),o})()},3942:(dt,Se,O)=>{"use strict";O.d(Se,{Z:()=>Fe});var s=O(2090),V=O(4859),R=O(9681),ae=O(1877);class se{constructor(K,ue){this._delegate=K,this.firebase=ue,(0,R._addComponent)(K,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=K.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this._delegate.automaticDataCollectionEnabled=K}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(K=>{this._delegate.checkDestroyed(),K()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(K,ue=R._DEFAULT_ENTRY_NAME){var xe;this._delegate.checkDestroyed();const Re=this._delegate.container.getProvider(K);return!Re.isInitialized()&&"EXPLICIT"===(null===(xe=Re.getComponent())||void 0===xe?void 0:xe.instantiationMode)&&Re.initialize(),Re.getImmediate({identifier:ue})}_removeServiceInstance(K,ue=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(K).clearInstance(ue)}_addComponent(K){(0,R._addComponent)(this._delegate,K)}_addOrOverwriteComponent(K){(0,R._addOrOverwriteComponent)(this._delegate,K)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const X=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function me(){const Ue=function ce(Ue){const K={},ue={__esModule:!0,initializeApp:function fe(ne,nt={}){const Q=R.initializeApp(ne,nt);if((0,s.r3)(K,Q.name))return K[Q.name];const pe=new Ue(Q,ue);return K[Q.name]=pe,pe},app:Re,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function we(ne){const nt=ne.name,Q=nt.replace("-compat","");if(R._registerComponent(ne)&&"PUBLIC"===ne.type){const pe=(he=Re())=>{if("function"!=typeof he[Q])throw X.create("invalid-app-argument",{appName:nt});return he[Q]()};void 0!==ne.serviceProps&&(0,s.ZB)(pe,ne.serviceProps),ue[Q]=pe,Ue.prototype[Q]=function(...he){return this._getService.bind(this,nt).apply(this,ne.multipleInstances?he:[])}}return"PUBLIC"===ne.type?ue[Q]:null},removeApp:function xe(ne){delete K[ne]},useAsService:function Ge(ne,nt){return"serverAuth"===nt?null:nt},modularAPIs:R}};function Re(ne){if(!(0,s.r3)(K,ne=ne||R._DEFAULT_ENTRY_NAME))throw X.create("no-app",{appName:ne});return K[ne]}return ue.default=ue,Object.defineProperty(ue,"apps",{get:function Ce(){return Object.keys(K).map(ne=>K[ne])}}),Re.App=Ue,ue}(se);return Ue.INTERNAL=Object.assign(Object.assign({},Ue.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function K(ue){(0,s.ZB)(Ue,ue)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),Ue}(),H=new ae.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ue=self.firebase.SDK_VERSION;Ue&&Ue.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Fe=j;!function Ae(Ue){(0,R.registerVersion)("@firebase/app-compat","0.1.17",Ue)}()},9681:(dt,Se,O)=>{"use strict";O.r(Se),O.d(Se,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Jr,_DEFAULT_ENTRY_NAME:()=>qn,_addComponent:()=>fn,_addOrOverwriteComponent:()=>Ti,_apps:()=>ot,_clearComponents:()=>xn,_components:()=>ai,_getProvider:()=>Wt,_registerComponent:()=>sn,_removeServiceInstance:()=>ln,deleteApp:()=>Xr,getApp:()=>Ar,getApps:()=>Qn,initializeApp:()=>hr,onLog:()=>Bn,registerVersion:()=>Fi,setLogLevel:()=>Jt});var s=O(5861),V=O(4859),R=O(1877),ae=O(2090);class se{constructor(ht){this.container=ht}getPlatformInfoString(){return this.container.getProviders().map(Mt=>{if(function ge(_t){const ht=_t.getComponent();return"VERSION"===(null==ht?void 0:ht.type)}(Mt)){const on=Mt.getImmediate();return`${on.library}/${on.version}`}return null}).filter(Mt=>Mt).join(" ")}}const X="@firebase/app",me=new R.Yd("@firebase/app"),qn="[DEFAULT]",ft={[X]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ot=new Map,ai=new Map;function fn(_t,ht){try{_t.container.addComponent(ht)}catch(Mt){me.debug(`Component ${ht.name} failed to register with FirebaseApp ${_t.name}`,Mt)}}function Ti(_t,ht){_t.container.addOrOverwriteComponent(ht)}function sn(_t){const ht=_t.name;if(ai.has(ht))return me.debug(`There were multiple attempts to register component ${ht}.`),!1;ai.set(ht,_t);for(const Mt of ot.values())fn(Mt,_t);return!0}function Wt(_t,ht){return _t.container.getProvider(ht)}function ln(_t,ht,Mt=qn){Wt(_t,ht).clearInstance(Mt)}function xn(){ai.clear()}const Kn=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Ii{constructor(ht,Mt,on){this._isDeleted=!1,this._options=Object.assign({},ht),this._config=Object.assign({},Mt),this._name=Mt.name,this._automaticDataCollectionEnabled=Mt.automaticDataCollectionEnabled,this._container=on,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ht){this.checkDestroyed(),this._automaticDataCollectionEnabled=ht}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ht){this._isDeleted=ht}checkDestroyed(){if(this.isDeleted)throw Kn.create("app-deleted",{appName:this._name})}}const Jr="9.6.6";function hr(_t,ht={}){"object"!=typeof ht&&(ht={name:ht});const Mt=Object.assign({name:qn,automaticDataCollectionEnabled:!1},ht),on=Mt.name;if("string"!=typeof on||!on)throw Kn.create("bad-app-name",{appName:String(on)});const yi=ot.get(on);if(yi){if((0,ae.vZ)(_t,yi.options)&&(0,ae.vZ)(Mt,yi.config))return yi;throw Kn.create("duplicate-app",{appName:on})}const Pt=new V.H0(on);for(const Je of ai.values())Pt.addComponent(Je);const at=new Ii(_t,Mt,Pt);return ot.set(on,at),at}function Ar(_t=qn){const ht=ot.get(_t);if(!ht)throw Kn.create("no-app",{appName:_t});return ht}function Qn(){return Array.from(ot.values())}function Xr(_t){return mt.apply(this,arguments)}function mt(){return(mt=(0,s.Z)(function*(_t){const ht=_t.name;ot.has(ht)&&(ot.delete(ht),yield Promise.all(_t.container.getProviders().map(Mt=>Mt.delete())),_t.isDeleted=!0)})).apply(this,arguments)}function Fi(_t,ht,Mt){var on;let yi=null!==(on=ft[_t])&&void 0!==on?on:_t;Mt&&(yi+=`-${Mt}`);const Pt=yi.match(/\s|\//),at=ht.match(/\s|\//);if(Pt||at){const Je=[`Unable to register library "${yi}" with version "${ht}":`];return Pt&&Je.push(`library name "${yi}" contains illegal characters (whitespace or "/")`),Pt&&at&&Je.push("and"),at&&Je.push(`version name "${ht}" contains illegal characters (whitespace or "/")`),void me.warn(Je.join(" "))}sn(new V.wA(`${yi}-version`,()=>({library:yi,version:ht}),"VERSION"))}function Bn(_t,ht){if(null!==_t&&"function"!=typeof _t)throw Kn.create("invalid-log-argument");(0,R.Am)(_t,ht)}function Jt(_t){(0,R.Ub)(_t)}!function Li(_t){sn(new V.wA("platform-logger",ht=>new se(ht),"PRIVATE")),Fi(X,"0.7.16",_t),Fi(X,"0.7.16","esm2017"),Fi("fire-js","")}("")},4859:(dt,Se,O)=>{"use strict";O.d(Se,{H0:()=>ce,wA:()=>R});var s=O(5861),V=O(2090);class R{constructor(j,H,te){this.name=j,this.instanceFactory=H,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const ae="[DEFAULT]";class se{constructor(j,H){this.name=j,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const H=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(H)){const te=new V.BH;if(this.instancesDeferred.set(H,te),this.isInitialized(H)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:H});Be&&te.resolve(Be)}catch(Be){}}return this.instancesDeferred.get(H).promise}getImmediate(j){var H;const te=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),Be=null!==(H=null==j?void 0:j.optional)&&void 0!==H&&H;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Ae){if(Be)return null;throw Ae}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function X(me){return"EAGER"===me.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(H){}for(const[H,te]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier(H);try{const Ae=this.getOrInitializeService({instanceIdentifier:Be});te.resolve(Ae)}catch(Ae){}}}}clearInstance(j=ae){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,s.Z)(function*(){const H=Array.from(j.instances.values());yield Promise.all([...H.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...H.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=ae){return this.instances.has(j)}getOptions(j=ae){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:H={}}=j,te=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:te,options:H});for(const[Ae,Fe]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Ae)&&Fe.resolve(Be);return Be}onInit(j,H){var te;const Be=this.normalizeInstanceIdentifier(H),Ae=null!==(te=this.onInitCallbacks.get(Be))&&void 0!==te?te:new Set;Ae.add(j),this.onInitCallbacks.set(Be,Ae);const Fe=this.instances.get(Be);return Fe&&j(Fe,Be),()=>{Ae.delete(j)}}invokeOnInitCallbacks(j,H){const te=this.onInitCallbacks.get(H);if(te)for(const Be of te)try{Be(j,H)}catch(Ae){}}getOrInitializeService({instanceIdentifier:j,options:H={}}){let te=this.instances.get(j);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(me=j,me===ae?void 0:me),options:H}),this.instances.set(j,te),this.instancesOptions.set(j,H),this.invokeOnInitCallbacks(te,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,te)}catch(Be){}var me;return te||null}normalizeInstanceIdentifier(j=ae){return this.component?this.component.multipleInstances?j:ae:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const H=this.getProvider(j.name);if(H.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);H.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const H=new se(j,this);return this.providers.set(j,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(dt,Se,O)=>{"use strict";O.d(Se,{Am:()=>me,Ub:()=>ce,Yd:()=>X,in:()=>V});const s=[];var V=(()=>{return(j=V||(V={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",V;var j})();const R={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},ae=V.INFO,se={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},ge=(j,H,...te)=>{if(H<j.logLevel)return;const Be=(new Date).toISOString(),Ae=se[H];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Ae](`[${Be}]  ${j.name}:`,...te)};class X{constructor(H){this.name=H,this._logLevel=ae,this._logHandler=ge,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in V))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?R[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...H),this._logHandler(this,V.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...H),this._logHandler(this,V.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,V.INFO,...H),this._logHandler(this,V.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,V.WARN,...H),this._logHandler(this,V.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...H),this._logHandler(this,V.ERROR,...H)}}function ce(j){s.forEach(H=>{H.setLogLevel(j)})}function me(j,H){for(const te of s){let Be=null;H&&H.level&&(Be=R[H.level]),te.userLogHandler=null===j?null:(Ae,Fe,...Ue)=>{const K=Ue.map(ue=>{if(null==ue)return null;if("string"==typeof ue)return ue;if("number"==typeof ue||"boolean"==typeof ue)return ue.toString();if(ue instanceof Error)return ue.message;try{return JSON.stringify(ue)}catch(xe){return null}}).filter(ue=>ue).join(" ");Fe>=(null!=Be?Be:Ae.logLevel)&&j({level:V[Fe].toLowerCase(),message:K,args:Ue,type:Ae.name})}}}},5861:(dt,Se,O)=>{"use strict";function s(R,ae,se,ge,X,ce,me){try{var j=R[ce](me),H=j.value}catch(te){return void se(te)}j.done?ae(H):Promise.resolve(H).then(ge,X)}function V(R){return function(){var ae=this,se=arguments;return new Promise(function(ge,X){var ce=R.apply(ae,se);function me(H){s(ce,ge,X,me,j,"next",H)}function j(H){s(ce,ge,X,me,j,"throw",H)}me(void 0)})}}O.d(Se,{Z:()=>V})}},dt=>{dt(dt.s=9412)}]);